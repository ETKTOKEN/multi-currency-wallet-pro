{"version":3,"sources":["webpack:///webpack/runtime/chunk loaded","webpack:///webpack/runtime/load script","webpack:///./src/common/utils/mnemonic.ts","webpack:///./src/core/swap.app/constants/COINS.ts","webpack:///./src/core/swap.app/constants/ENV.ts","webpack:///./src/core/swap.app/constants/index.ts","webpack:///./src/core/swap.app/constants/SERVICES.ts","webpack:///./src/core/swap.app/constants/NETWORKS.ts","webpack:///./src/core/swap.app/StorageFactory.ts","webpack:///./src/core/swap.app/Collection.ts","webpack:///./src/core/swap.app/SwapApp.ts","webpack:///./src/core/swap.app/ServiceInterface.ts","webpack:///./src/core/swap.app/SwapInterface.ts","webpack:///./src/core/swap.app/Events.ts","webpack:///./src/core/swap.app/util/pullProps.ts","webpack:///./src/core/swap.app/util/helpers.ts","webpack:///./src/core/swap.app/util/erc20.ts","webpack:///./src/core/swap.app/util/bep20.ts","webpack:///./src/core/swap.app/util/erc20matic.ts","webpack:///./src/core/swap.app/index.ts","webpack:///./src/core/swap.app/util/typeforce.ts","webpack:///./src/core/swap.auth/SwapAuth.ts","webpack:///./src/core/swap.auth/arbeth.ts","webpack:///./src/core/swap.auth/bnb.ts","webpack:///./src/core/swap.auth/btc.ts","webpack:///./src/core/swap.auth/eth.ts","webpack:///./src/core/swap.auth/ghost.ts","webpack:///./src/core/swap.auth/index.ts","webpack:///./src/core/swap.auth/matic.ts","webpack:///./src/core/swap.auth/next.ts","webpack:///./src/front/shared/redux/reducers/notifications.ts","webpack:///./src/front/shared/redux/reducers/modals.ts","webpack:///./src/front/shared/redux/reducers/history.ts","webpack:///./src/front/shared/redux/reducers/loader.ts","webpack:///./src/front/shared/redux/reducers/user.ts","webpack:///./src/front/shared/redux/reducers/feeds.ts","webpack:///./src/front/local_modules/app-config/client.js","webpack:///./src/front/shared/redux/reducers/core.ts","webpack:///./src/front/shared/redux/reducers/pubsubRoom.ts","webpack:///./src/front/shared/redux/reducers/api.ts","webpack:///./src/front/shared/helpers/constants/TOKEN_STANDARDS.ts","webpack:///./src/front/shared/redux/reducers/currencies.ts","webpack:///./src/front/shared/redux/reducers/inputActive.ts","webpack:///./src/front/shared/redux/reducers/rememberedOrders.ts","webpack:///./src/front/shared/redux/reducers/createWallet.ts","webpack:///./src/front/shared/redux/reducers/ui.ts","webpack:///./src/front/shared/redux/reducers/index.ts","webpack:///./src/front/shared/redux/middleware/selectiveSaver.ts","webpack:///./src/front/shared/redux/store/index.ts","webpack:///./src/front/shared/redux/core/reducers.ts","webpack:///./src/front/shared/redux/core/index.ts","webpack:///./src/front/shared/helpers/externalConfig.ts","webpack:///./src/common/utils/request.ts","webpack:///./src/common/utils/getUnixTimeStamp.ts","webpack:///./src/common/utils/apiLooper.ts","webpack:///./src/common/helpers/constants/TRANSACTION.ts","webpack:///./src/common/helpers/constants/DEFAULT_CURRENCY_PARAMETERS.ts","webpack:///./src/common/helpers/constants/MIN_AMOUNT.ts","webpack:///./src/common/helpers/constants/COINS_WITH_DYNAMIC_FEE.ts","webpack:///./src/common/helpers/constants/index.ts","webpack:///./src/common/helpers/constants/MIN_AMOUNT_OFFER.ts","webpack:///./src/front/config/testnet/api.js","webpack:///./src/front/config/mainnet/api.js","webpack:///./src/common/utils/coin/btc.ts","webpack:///./src/front/shared/helpers/btc.ts","webpack:///./src/front/shared/redux/actions/types.ts","webpack:///./src/front/shared/redux/actions/modals.ts","webpack:///./src/front/shared/redux/actions/loader.ts","webpack:///./src/front/shared/redux/actions/notifications.ts","webpack:///./src/common/helpers/ethLikeHelper.ts","webpack:///./src/common/erc20Like/index.ts","webpack:///./src/front/shared/helpers/apiLooper.ts","webpack:///./src/front/shared/helpers/transactions.ts","webpack:///./src/front/shared/helpers/user.ts","webpack:///./src/front/shared/helpers/getCurrencyKey.ts","webpack:///./src/front/shared/helpers/getReduxState.ts","webpack:///./src/front/shared/helpers/web3.ts","webpack:///./src/common/web3connect/providers/supported.ts","webpack:///./src/common/web3connect/providers/InjectedType.ts","webpack:///./src/common/web3connect/providers/InjectedProvider.ts","webpack:///./src/common/web3connect/providers/WalletConnectProvider.ts","webpack:///./src/common/web3connect/providers/index.ts","webpack:///./src/common/web3connect/index.ts","webpack:///./src/common/coins/getCoinInfo.ts","webpack:///./src/front/shared/helpers/metamask.ts","webpack:///./src/front/shared/redux/actions/user.ts","webpack:///./src/front/shared/redux/actions/history.ts","webpack:///./src/front/shared/redux/actions/feed.ts","webpack:///./src/core/swap.swap/Room.ts","webpack:///./src/core/swap.swap/Swap.ts","webpack:///./src/core/swap.swap/Flow.ts","webpack:///./src/core/swap.swap/AtomicAB2UTXO.ts","webpack:///./src/core/swap.swap/index.ts","webpack:///./src/front/shared/helpers/constants/TOKEN_DECIMALS.ts","webpack:///./src/front/shared/helpers/constants/TRADE_TICKERS.ts","webpack:///./src/front/shared/helpers/constants/PAIR_TYPES.ts","webpack:///./src/front/shared/pages/Exchange/Orders/Pair.ts","webpack:///./src/common/domain/address.ts","webpack:///./src/front/shared/redux/actions/core.ts","webpack:///./src/front/shared/redux/actions/ui.ts","webpack:///./src/front/shared/redux/actions/filter.ts","webpack:///./src/front/shared/redux/actions/btc.ts","webpack:///./src/front/shared/redux/actions/ghost.ts","webpack:///./src/common/utils/coin/next.ts","webpack:///./src/front/shared/redux/actions/next.ts","webpack:///./src/front/shared/redux/actions/btcmultisig.ts","webpack:///./src/common/helpers/constants/EVM_CONTRACTS_ABI.ts","webpack:///./src/front/shared/redux/actions/ethLikeAction.ts","webpack:///./src/front/shared/redux/actions/erc20LikeAction.ts","webpack:///./src/front/shared/redux/actions/api.ts","webpack:///./src/front/shared/redux/actions/pairs.ts","webpack:///./src/front/shared/redux/actions/analytics.ts","webpack:///./src/front/shared/redux/actions/pubsubRoom.ts","webpack:///./src/front/shared/redux/actions/invoices.ts","webpack:///./src/front/shared/redux/actions/comments.ts","webpack:///./src/front/shared/helpers/constants/localStorage.ts","webpack:///./src/front/shared/helpers/constants/privateKeyNames.ts","webpack:///./src/front/shared/helpers/constants/index.ts","webpack:///./src/front/shared/helpers/constants/notifications.ts","webpack:///./src/front/shared/helpers/constants/modals.ts","webpack:///./src/front/shared/plugins/backupUserData.ts","webpack:///./src/front/shared/redux/actions/backupManager.ts","webpack:///./src/front/shared/redux/actions/multisigTx.ts","webpack:///./src/front/shared/redux/actions/index.ts","webpack:///./src/front/shared/helpers/ghost.ts","webpack:///./src/front/shared/helpers/next.ts","webpack:///./src/front/shared/helpers/eth.ts","webpack:///./src/front/shared/helpers/bnb.ts","webpack:///./src/front/shared/helpers/matic.ts","webpack:///./src/front/shared/helpers/arbeth.ts","webpack:///./src/front/shared/helpers/ethToken.ts","webpack:///./src/front/shared/helpers/links.ts","webpack:///./src/front/shared/plugins/saveUserData.ts","webpack:///./src/front/shared/plugins/index.ts","webpack:///./src/front/shared/helpers/localStorage.ts","webpack:///./src/front/shared/helpers/utils.ts","webpack:///./src/front/shared/helpers/handleGoTrade.ts","webpack:///./src/front/shared/helpers/getTopLocation.ts","webpack:///./src/front/shared/helpers/feedback.ts","webpack:///./src/front/shared/helpers/migrations/001_initMigration.ts","webpack:///./src/front/shared/helpers/migrations/002_updateHiddenCoinsList.ts","webpack:///./src/front/shared/helpers/migrations/index.ts","webpack:///./src/front/shared/helpers/cache.ts","webpack:///./src/front/shared/helpers/wpLogoutModal.ts","webpack:///./src/front/shared/helpers/redirectTo.ts","webpack:///./src/front/shared/helpers/adminFee.ts","webpack:///./src/front/shared/helpers/swaps.ts","webpack:///./src/front/shared/helpers/stats.swaponline.ts","webpack:///./src/front/shared/helpers/getPairFees.ts","webpack:///./src/front/shared/helpers/getItezUrl.ts","webpack:///./src/front/shared/helpers/index.ts","webpack:///./src/front/shared/pages/LocalStorage/LocalStorage.tsx","webpack:///./src/front/shared/pages/LocalStorage/LocalStorage.scss","webpack:///./src/front/shared/pages/Swap/Swap.scss","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapProgress/SwapProgress.scss","webpack:///./src/front/shared/pages/Swap/Timer/Timer.tsx","webpack:///./src/front/shared/pages/Swap/Timer/Timer.scss","webpack:///./src/front/shared/components/controls/Toggle/Toggle.tsx","webpack:///./src/front/shared/components/controls/Toggle/Toggle.scss","webpack:///./src/front/shared/components/controls/Button/Button.tsx","webpack:///./src/front/shared/components/controls/Button/Button.scss","webpack:///./src/front/shared/components/Timer/Timer.ts","webpack:///./src/front/shared/components/controls/TimerButton/TimerButton.tsx","webpack:///./src/front/shared/components/controls/ShareLink/ShareLink.scss","webpack:///./src/front/shared/components/controls/ShareButton/images/icon.svg","webpack:///./src/front/shared/components/controls/ShareButton/ShareButton.tsx","webpack:///./src/front/shared/components/controls/ShareButton/ShareButton.scss","webpack:///./src/front/shared/components/loaders/InlineLoader/InlineLoader.tsx","webpack:///./src/front/shared/components/loaders/InlineLoader/InlineLoader.scss","webpack:///./src/front/shared/components/controls/ShareLink/ShareLink.tsx","webpack:///./src/front/shared/components/controls/Switching/Switching.tsx","webpack:///./src/front/shared/components/controls/Switching/Switching.scss","webpack:///./src/front/shared/components/controls/Flip/Flip.tsx","webpack:///./src/front/shared/components/controls/Flip/Flip.scss","webpack:///./src/front/shared/components/controls/RemoveButton/index.tsx","webpack:///./src/front/shared/components/controls/RemoveButton/index.scss","webpack:///./src/front/shared/components/controls/WithdrawButton/WithdrawButton.tsx","webpack:///./src/front/shared/components/controls/WithdrawButton/WithdrawButton.scss","webpack:///./src/front/shared/components/ui/Copy/Copy.tsx","webpack:///./src/front/shared/components/ui/Copy/Copy.scss","webpack:///./src/front/shared/components/ui/Tooltip/ThemeTooltip.tsx","webpack:///./src/front/shared/components/ui/Tooltip/Tooltip.tsx","webpack:///./src/front/shared/components/ui/Tooltip/Tooltip.scss","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapProgress/PleaseDontLeaveWrapper.tsx","webpack:///./src/front/shared/helpers/locale.ts","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapProgress/SwapProgress.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapList/SwapList.scss","webpack:///./src/front/shared/components/loaders/ContentLoader/ElementLoading.scss","webpack:///./src/front/shared/components/QR/QR.scss","webpack:///./src/front/shared/components/QR/QR.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/DepositWindow/DepositWindow.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapList/SwapSteps/FirstStep.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapList/SwapSteps/FourthStep.tsx","webpack:///./src/front/shared/images/unknown.svg","webpack:///./src/front/shared/images/opera.svg","webpack:///./src/front/shared/images/walletconnect.svg","webpack:///./src/front/shared/images/liquality.png","webpack:///./src/front/shared/images/metamask.svg","webpack:///./src/front/shared/images/trust.svg","webpack:///./src/front/shared/images/close.svg","webpack:///./src/front/shared/images/ok.svg","webpack:///./src/front/shared/images/checked.svg","webpack:///./src/front/shared/images/index.ts","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapList/SwapSteps/UTXOSteps/SecondStep.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapList/SwapSteps/UTXOSteps/ThirdStep.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapList/SwapSteps/ABSteps/SecondStep.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapList/SwapSteps/ABSteps/ThirdStep.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapList/SwapProgressTexts/MakerUtxoToAb.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapList/SwapProgressTexts/TakerUtxoToAb.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapList/SwapProgressTexts/MakerAbToUtxo.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapList/SwapProgressTexts/TakerAbToUtxo.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapList/SwapList.tsx","webpack:///./src/common/helpers/constants/SWAP_STEPS.ts","webpack:///./src/front/shared/pages/Swap/FeeControler/FeeControler.tsx","webpack:///./src/front/shared/pages/Swap/FeeControler/FeeControler.scss","webpack:///./src/front/shared/pages/Swap/SwapController.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapPairInfo.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/UTXOToEthToken.tsx","webpack:///./src/front/shared/pages/Swap/FailControler/FailControler.tsx","webpack:///./src/front/shared/pages/Swap/FailControler/FailControler.scss","webpack:///./src/front/shared/pages/Swap/UTXOSwap/EthTokenToUTXO.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/UTXOToEthLike.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/EthLikeToUTXO.tsx","webpack:///./src/front/shared/pages/Swap/swaps/build.ts","webpack:///./src/front/shared/pages/Swap/swaps/index.ts","webpack:///./src/common/messaging/pubsubRoom/protocol.ts","webpack:///./src/common/messaging/pubsubRoom/encoding.ts","webpack:///./src/common/messaging/pubsubRoom/connection.ts","webpack:///./src/common/messaging/pubsubRoom/direct-connection-handler.ts","webpack:///./src/common/utils/namedQuery.ts","webpack:///./src/common/messaging/pubsubRoom/index.ts","webpack:///./src/core/swap.room/SwapRoom.ts","webpack:///./src/core/swap.room/index.ts","webpack:///./src/common/messaging/pubsubRoom/createP2PNode.ts","webpack:///./src/core/swap.orders/aggregation.ts","webpack:///./src/core/swap.orders/events.ts","webpack:///./src/core/swap.orders/Order.ts","webpack:///./src/common/whitelists/visibleMakers.ts","webpack:///./src/core/swap.orders/SwapOrders.ts","webpack:///./src/core/swap.orders/index.ts","webpack:///./src/core/swap.flows/turbo/Maker.ts","webpack:///./src/core/swap.flows/turbo/Taker.ts","webpack:///./src/core/swap.flows/atomic/EthLikeToBtc.ts","webpack:///./src/core/swap.flows/ETH2BTC.ts","webpack:///./src/core/swap.flows/atomic/BtcToEthLike.ts","webpack:///./src/core/swap.flows/BTC2ETH.ts","webpack:///./src/core/swap.flows/atomic/EthLikeTokenToBtc.ts","webpack:///./src/core/swap.flows/ETHTOKEN2BTC.ts","webpack:///./src/core/swap.flows/atomic/BtcToEthLikeToken.ts","webpack:///./src/core/swap.flows/BTC2ETHTOKEN.ts","webpack:///./src/core/swap.flows/GHOST2ETH.ts","webpack:///./src/core/swap.flows/ETH2GHOST.ts","webpack:///./src/core/swap.flows/GHOST2ETHTOKEN.ts","webpack:///./src/core/swap.flows/ETHTOKEN2GHOST.ts","webpack:///./src/core/swap.flows/NEXT2BTC.ts","webpack:///./src/core/swap.flows/NEXT2ETH.ts","webpack:///./src/core/swap.flows/atomic/NextToEvm.ts","webpack:///./src/core/swap.flows/ETH2NEXT.ts","webpack:///./src/core/swap.flows/atomic/EvmToNext.ts","webpack:///./src/core/swap.flows/atomic/NextToEvmToken.ts","webpack:///./src/core/swap.flows/NEXT2ETHTOKEN.ts","webpack:///./src/core/swap.flows/atomic/EvmTokenToNext.ts","webpack:///./src/core/swap.flows/ETHTOKEN2NEXT.ts","webpack:///./src/core/swap.flows/BNB2BTC.ts","webpack:///./src/core/swap.flows/BTC2BNB.ts","webpack:///./src/core/swap.flows/BSCTOKEN2BTC.ts","webpack:///./src/core/swap.flows/BTC2BSCTOKEN.ts","webpack:///./src/core/swap.flows/MATIC2BTC.ts","webpack:///./src/core/swap.flows/BTC2MATIC.ts","webpack:///./src/core/swap.flows/MATICTOKEN2BTC.ts","webpack:///./src/core/swap.flows/BTC2MATICTOKEN.ts","webpack:///./src/core/swap.flows/ARBITRUM2BTC.ts","webpack:///./src/core/swap.flows/BTC2ARBITRUM.ts","webpack:///./src/core/swap.swaps/UTXOBlockchain.ts","webpack:///./src/core/swap.swaps/BtcSwap.ts","webpack:///./src/core/swap.swaps/EthLikeSwap.ts","webpack:///./src/core/swap.swaps/EthSwap.ts","webpack:///./src/core/swap.swaps/BnbSwap.ts","webpack:///./src/core/swap.swaps/MaticSwap.ts","webpack:///./src/core/swap.swaps/ArbitrumSwap.ts","webpack:///./src/core/swap.swaps/GhostSwap.ts","webpack:///./src/core/swap.swaps/NextSwap.ts","webpack:///./src/core/swap.swaps/EthLikeTokenSwap.ts","webpack:///./src/core/swap.swaps/EthTokenSwap.ts","webpack:///./src/core/swap.swaps/BscTokenSwap.ts","webpack:///./src/core/swap.swaps/MaticTokenSwap.ts","webpack:///./src/front/shared/instances/newSwap.ts","webpack:///./src/front/shared/pages/Swap/Debug/BtcScript.tsx","webpack:///./src/front/shared/pages/Swap/Debug/ShowBtcScript.tsx","webpack:///./src/front/shared/pages/Swap/Debug/Debug.tsx","webpack:///./src/front/shared/pages/Swap/Debug/Debug.scss","webpack:///./src/front/shared/pages/Swap/DeleteSwapAfterEnd.tsx","webpack:///./src/front/shared/pages/Swap/Swap.tsx","webpack:///./src/common/domain/swap.ts","webpack:///./src/front/shared/components/ui/Address/Address.tsx","webpack:///./src/front/shared/components/ui/Address/Address.scss","webpack:///./src/front/shared/pages/TurboSwap/TxSide.tsx","webpack:///./src/front/shared/pages/TurboSwap/TxSide.scss","webpack:///./src/front/shared/pages/TurboSwap/Tx.scss","webpack:///./src/front/shared/images/tx-status/pending.svg","webpack:///./src/front/shared/images/tx-status/done.svg","webpack:///./src/front/shared/pages/TurboSwap/Tx.tsx","webpack:///./src/front/shared/pages/TurboSwap/TurboSwap.tsx","webpack:///./src/front/shared/pages/TurboSwap/TurboSwap.scss","webpack:///./src/front/shared/components/Comment/Comment.tsx","webpack:///./src/front/shared/components/Comment/Comment.scss","webpack:///./src/front/shared/pages/History/Row/Row.tsx","webpack:///./src/front/shared/pages/History/Row/Row.scss","webpack:///./src/front/shared/components/tables/Table/Table.scss","webpack:///./src/front/shared/pages/History/History.scss","webpack:///./src/front/shared/components/tables/Table/Table.tsx","webpack:///./src/front/shared/decorators/withInfiniteScroll.tsx","webpack:///./src/front/shared/components/tables/InfiniteScrollTable/InfiniteScrollTable.tsx","webpack:///./src/front/shared/components/loaders/ContentLoader/ContentLoader.scss","webpack:///./src/front/shared/components/loaders/ContentLoader/components/ContentSection/ContentSection.tsx","webpack:///./src/front/shared/components/loaders/ContentLoader/components/DescrSection/DescrSection.tsx","webpack:///./src/front/shared/components/loaders/ContentLoader/components/BalanceSection/BalanceSection.tsx","webpack:///./src/front/shared/components/loaders/ContentLoader/components/BannersSection/BannersSection.tsx","webpack:///./src/front/shared/components/loaders/ContentLoader/ContentLoader.tsx","webpack:///./src/front/shared/components/FilterForm/FilterForm.tsx","webpack:///./src/front/shared/components/FilterForm/styles.scss","webpack:///./src/front/shared/pages/CurrencyWallet/CurrencyWallet.scss","webpack:///./src/front/shared/helpers/lsDataCache.ts","webpack:///./src/front/shared/pages/Invoices/InvoicesList/index.tsx","webpack:///./src/front/shared/pages/History/SwapsHistory/RowHistory/RowHistory.scss","webpack:///./src/front/shared/pages/History/SwapsHistory/RowHistory/RowHistory.tsx","webpack:///./src/front/shared/pages/History/SwapsHistory/SwapsHistory.tsx","webpack:///./src/front/shared/pages/History/SwapsHistory/SwapsHistory.scss","webpack:///./src/front/shared/pages/History/History.tsx","webpack:///./src/front/shared/pages/CreateWallet/CreateWallet.scss","webpack:///./src/front/shared/pages/CreateWallet/Steps/startPacks.ts","webpack:///./src/front/shared/components/Coin/Coin.scss","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/btc.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/eth.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/bnb.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/matic.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/arbeth.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/wbtc.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/icx.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/waves.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/xrp.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/swap.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/usdt.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/syc2.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/drt.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/omg.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/yup.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/kn.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/arn.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/lev.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/bxb.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/index.ts","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/dcn.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/pay.png","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/eurs.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/ghost.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/next.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/CurrencyIcon.tsx","webpack:///./src/front/shared/components/ui/CurrencyIcon/CurrencyIcon.scss","webpack:///./src/front/shared/components/Coin/Coin.tsx","webpack:///./src/front/shared/pages/CreateWallet/chooseColor.ts","webpack:///./src/front/shared/pages/CreateWallet/Explanation.tsx","webpack:///./src/front/shared/pages/CreateWallet/images/check.tsx","webpack:///./src/front/shared/pages/CreateWallet/Steps/texts.tsx","webpack:///./src/front/shared/pages/CreateWallet/Steps/FirstStep.tsx","webpack:///./src/front/shared/pages/CreateWallet/images/index.ts","webpack:///./src/front/shared/pages/CreateWallet/images/withoutSecure.svg","webpack:///./src/front/shared/pages/CreateWallet/images/sms.svg","webpack:///./src/front/shared/pages/CreateWallet/images/pin.svg","webpack:///./src/front/shared/pages/CreateWallet/images/google2FA.svg","webpack:///./src/front/shared/pages/CreateWallet/images/multisignature.svg","webpack:///./src/front/shared/pages/CreateWallet/images/fingerprint.svg","webpack:///./src/front/shared/pages/CreateWallet/Steps/SecondStep.tsx","webpack:///./src/front/shared/pages/CreateWallet/Steps/StepsWrapper.tsx","webpack:///./src/front/shared/components/ui/CloseIcon/CloseIcon.tsx","webpack:///./src/front/shared/components/ui/CloseIcon/CloseIcon.scss","webpack:///./src/front/shared/pages/CreateWallet/CreateWallet.tsx","webpack:///./src/front/shared/pages/NotFound/NotFound.tsx","webpack:///./src/front/shared/pages/NotFound/NotFound.scss","webpack:///./src/front/shared/pages/Wallet/Wallet.scss","webpack:///./src/front/shared/pages/Wallet/Row/Row.scss","webpack:///./src/front/shared/components/ui/DropdownMenu/DropdownMenu.tsx","webpack:///./src/front/shared/components/ui/DropdownMenu/DropdownMenu.scss","webpack:///./src/front/shared/components/Href/Href.tsx","webpack:///./src/front/shared/components/Href/Href.scss","webpack:///./src/front/shared/pages/Wallet/Endpoints/index.tsx","webpack:///./src/front/shared/pages/Wallet/PartOfAddress/index.tsx","webpack:///./src/front/shared/pages/Wallet/Row/Row.tsx","webpack:///./src/front/shared/pages/Wallet/images/security.svg","webpack:///./src/front/shared/pages/Wallet/NotityBlock/NotifyBlock.scss","webpack:///./src/front/shared/pages/Wallet/NotityBlock/NotifyBlock.tsx","webpack:///./src/front/shared/pages/Wallet/WallerSlider/index.tsx","webpack:///./src/front/shared/pages/Wallet/CurrenciesList.tsx","webpack:///./src/front/shared/components/FAQ/styles.scss","webpack:///./src/front/shared/components/FAQ/FAQ.tsx","webpack:///./src/front/shared/components/layout/WidthContainer/WidthContainer.tsx","webpack:///./src/front/shared/components/layout/WidthContainer/WidthContainer.scss","webpack:///./src/front/shared/components/layout/Overlay/Overlay.tsx","webpack:///./src/front/shared/components/layout/Overlay/Overlay.scss","webpack:///./src/front/shared/components/layout/Center/Center.tsx","webpack:///./src/front/shared/components/layout/Center/Center.scss","webpack:///./src/front/shared/components/modal/Modal/Modal.tsx","webpack:///./src/front/shared/components/modal/Modal/Modal.scss","webpack:///./src/front/shared/components/Row/Row.tsx","webpack:///./src/front/shared/components/Row/Row.scss","webpack:///./src/front/shared/components/Coins/Coins.tsx","webpack:///./src/front/shared/components/Coins/Coins.scss","webpack:///./src/front/shared/components/modals/OfferModal/ConfirmOffer/Row/Row.tsx","webpack:///./src/front/shared/components/modals/OfferModal/ConfirmOffer/Row/Row.scss","webpack:///./src/front/shared/components/modals/OfferModal/ConfirmOffer/Value/Value.tsx","webpack:///./src/front/shared/components/modals/OfferModal/ConfirmOffer/Value/Value.scss","webpack:///./src/front/shared/components/modals/OfferModal/ConfirmOffer/Amounts/Amounts.tsx","webpack:///./src/front/shared/components/modals/OfferModal/ConfirmOffer/Amounts/Amounts.scss","webpack:///./src/front/shared/components/modals/OfferModal/ConfirmOffer/ExchangeRate/ExchangeRate.tsx","webpack:///./src/front/shared/components/modals/OfferModal/ConfirmOffer/ExchangeRate/ExchangeRate.scss","webpack:///./src/front/shared/components/modals/OfferModal/ConfirmOffer/ConfirmOffer.tsx","webpack:///./src/front/shared/components/modals/OfferModal/ConfirmOffer/ConfirmOffer.scss","webpack:///./src/front/local_modules/sw-valuelink/tags.tsx","webpack:///./src/front/local_modules/sw-valuelink/index.ts","webpack:///./src/front/shared/components/modals/OfferModal/AddOffer/Select/Select.tsx","webpack:///./src/front/shared/components/modals/OfferModal/AddOffer/Select/Select.scss","webpack:///./src/front/shared/components/forms/TextArea/TextArea.tsx","webpack:///./src/front/shared/components/forms/Input/Input.tsx","webpack:///./src/front/shared/components/forms/Input/Input.scss","webpack:///./src/front/shared/helpers/ignoreProps.ts","webpack:///./src/front/shared/components/modals/OfferModal/AddOffer/Group/Group.tsx","webpack:///./src/front/shared/components/modals/OfferModal/AddOffer/Group/Group.scss","webpack:///./src/front/shared/components/modals/OfferModal/AddOffer/ExchangeRateGroup/ExchangeRateGroup.tsx","webpack:///./src/front/shared/components/modals/OfferModal/AddOffer/ExchangeRateGroup/ExchangeRateGroup.scss","webpack:///./src/front/shared/components/ui/CurrencySelect/Option/Option.tsx","webpack:///./src/front/shared/components/ui/CurrencySelect/Option/Option.scss","webpack:///./src/front/shared/components/ui/DropDown/index.scss","webpack:///./src/front/shared/components/OutsideClick/index.tsx","webpack:///./src/front/shared/components/ui/DropDown/index.tsx","webpack:///./src/front/shared/components/ui/CurrencySelect/CurrencySelect.tsx","webpack:///./src/front/shared/helpers/domUtils.ts","webpack:///./src/front/shared/components/modals/OfferModal/AddOffer/SelectGroup/SelectGroup.tsx","webpack:///./src/front/shared/components/modals/OfferModal/AddOffer/SelectGroup/SelectGroup.scss","webpack:///./src/front/shared/images/turbo.svg","webpack:///./src/front/shared/components/ui/TurboIcon/TurboIcon.tsx","webpack:///./src/front/shared/components/ui/TurboIcon/TurboIcon.scss","webpack:///./src/common/helpers/turboSwap.ts","webpack:///./src/front/shared/components/modals/OfferModal/AddOffer/AddOffer.tsx","webpack:///./src/front/shared/components/modals/OfferModal/AddOffer/AddOffer.scss","webpack:///./src/front/shared/components/modals/OfferModal/OfferModal.tsx","webpack:///./src/front/shared/components/modals/OfferModal/OfferModal.scss","webpack:///./src/front/shared/components/modals/WithdrawModal/WithdrawModal.scss","webpack:///./src/front/shared/components/forms/FieldLabel/FieldLabel.tsx","webpack:///./src/front/shared/components/forms/FieldLabel/FieldLabel.scss","webpack:///./src/front/shared/components/QrReader/index.tsx","webpack:///./src/front/shared/components/QrReader/styles.scss","webpack:///./src/front/shared/components/InvoiceInfoBlock/InvoiceInfoBlock.tsx","webpack:///./src/front/shared/components/InvoiceInfoBlock/InvoiceInfoBlock.scss","webpack:///./src/front/shared/components/AdminFeeInfoBlock/AdminFeeInfoBlock.tsx","webpack:///./src/front/shared/components/AdminFeeInfoBlock/AdminFeeInfoBlock.scss","webpack:///./src/front/shared/components/modals/WithdrawModal/components/CurrencyList/index.tsx","webpack:///./src/front/shared/components/modals/WithdrawModal/components/CurrencyList/index.scss","webpack:///./src/front/shared/components/modals/WithdrawModal/components/FeeInfoBlock/FeeRadios/index.tsx","webpack:///./src/front/shared/components/modals/WithdrawModal/components/FeeInfoBlock/FeeRadios/index.scss","webpack:///./src/front/shared/components/modals/WithdrawModal/components/FeeInfoBlock/index.tsx","webpack:///./src/front/shared/components/modals/WithdrawModal/components/FeeInfoBlock/index.scss","webpack:///./src/front/shared/components/modals/WithdrawModal/WithdrawModal.tsx","webpack:///./src/front/shared/components/modals/WithdrawModalMultisig/WithdrawModalMultisig.tsx","webpack:///./src/front/shared/components/modals/WithdrawModalMultisig/WithdrawModalMultisig.scss","webpack:///./src/front/shared/components/modals/WithdrawModalMultisig/WithdrawModalMultisigUser.tsx","webpack:///./src/front/shared/components/modals/WithdrawModalMultisig/WithdrawModalMultisigUser.scss","webpack:///./src/front/shared/components/modals/PrivateKeysModal/PrivateKeysModal.tsx","webpack:///./src/front/shared/components/modals/PrivateKeysModal/PrivateKeysModal.scss","webpack:///./src/front/shared/components/modals/Styles/default.scss","webpack:///./src/front/shared/components/modals/ReceiveModal/ReceiveModal.tsx","webpack:///./src/front/shared/components/modals/ReceiveModal/ReceiveModal.scss","webpack:///./src/front/shared/components/modals/DownloadModal/DownloadModal.tsx","webpack:///./src/front/shared/components/modals/DownloadModal/DownloadModal.scss","webpack:///./src/front/shared/components/modals/DeclineOrdersModal/DeclineOrdersModal.tsx","webpack:///./src/front/shared/components/modals/DeclineOrdersModal/DeclineOrdersModal.scss","webpack:///./src/front/shared/components/PageHeadline/SubTitle/SubTitle.tsx","webpack:///./src/front/shared/components/PageHeadline/SubTitle/SubTitle.scss","webpack:///./src/front/shared/components/modals/IncompletedSwaps/IncompletedSwaps.tsx","webpack:///./src/front/shared/components/modals/IncompletedSwaps/IncompletedSwaps.scss","webpack:///./src/front/shared/components/modals/CurrencyAction/CurrencyAction.tsx","webpack:///./src/front/shared/components/modals/CurrencyAction/CurrencyAction.scss","webpack:///./src/front/shared/components/modals/Confirm/Confirm.tsx","webpack:///./src/front/shared/components/modals/Confirm/Confirm.scss","webpack:///./src/front/shared/components/forms/MnemonicInput/MnemonicInput.tsx","webpack:///./src/front/shared/components/modals/ConfirmBeginSwap/ConfirmBeginSwap.tsx","webpack:///./src/front/shared/components/modals/ConfirmBeginSwap/ConfirmBeginSwap.scss","webpack:///./src/front/shared/components/forms/PhoneInput/index.tsx","webpack:///./src/front/shared/components/forms/PhoneInput/styles.scss","webpack:///./src/front/shared/components/modals/RegisterSMSProtected/RegisterSMSProtected.tsx","webpack:///./src/front/shared/components/modals/RegisterSMSProtected/RegisterSMSProtected.scss","webpack:///./src/front/shared/components/modals/MultisignJoinLink/MultisignJoinLink.tsx","webpack:///./src/front/shared/components/modals/MultisignJoinLink/MultisignJoinLink.scss","webpack:///./src/front/shared/components/modals/InvoiceModal/InvoiceModal.scss","webpack:///./src/front/shared/components/modals/InvoiceModal/InvoiceModal.tsx","webpack:///./src/front/shared/components/modals/InvoiceLinkModal/InvoiceLinkModal.tsx","webpack:///./src/front/shared/components/modals/InvoiceLinkModal/InvoiceLinkModal.scss","webpack:///./src/front/shared/components/modals/Alert/AlertModal.scss","webpack:///./src/front/shared/components/modals/Alert/AlertModal.tsx","webpack:///./src/front/shared/components/modals/AddCustomToken/index.tsx","webpack:///./src/front/shared/components/modals/AddCustomToken/index.scss","webpack:///./src/front/shared/components/modals/BtcMultisignSwitch/WalletRow.scss","webpack:///./src/front/shared/components/modals/BtcMultisignSwitch/WalletRow.tsx","webpack:///./src/front/shared/components/modals/BtcMultisignSwitch/BtcMultisignSwitch.tsx","webpack:///./src/front/shared/components/modals/BtcMultisignSwitch/BtcMultisignSwitch.scss","webpack:///./src/front/shared/components/modals/Share/Share.tsx","webpack:///./src/front/shared/components/modals/Share/Share.scss","webpack:///./src/front/shared/components/modals/BtcMultisignConfirmTx/BtcMultisignConfirmTx.tsx","webpack:///./src/front/shared/components/modals/BtcMultisignConfirmTx/BtcMultisignConfirmTx.scss","webpack:///./src/front/shared/components/modals/SaveMnemonicModal/SaveMnemonicModal.tsx","webpack:///./src/front/shared/components/modals/SaveMnemonicModal/SaveMnemonicModal.scss","webpack:///./src/front/shared/components/modals/RestoryMnemonicWallet/RestoryMnemonicWallet.tsx","webpack:///./src/front/shared/components/modals/RestoryMnemonicWallet/RestoryMnemonicWallet.scss","webpack:///./src/front/shared/components/modals/HowToWithdrawModal/HowToWithdrawModal.tsx","webpack:///./src/front/shared/components/modals/HowToWithdrawModal/HowToWithdrawModal.scss","webpack:///./src/front/shared/components/modals/InfoInvoice/images/ready.svg","webpack:///./src/front/shared/components/modals/InfoInvoice/images/pending.svg","webpack:///./src/front/shared/components/modals/InfoInvoice/images/cancel.svg","webpack:///./src/front/shared/components/modals/InfoInvoice/InfoInvoice.tsx","webpack:///./src/front/shared/components/modals/InfoInvoice/InfoInvoice.scss","webpack:///./src/front/shared/components/modals/RegisterPINProtected/RegisterPINProtected.tsx","webpack:///./src/front/shared/components/modals/RegisterPINProtected/RegisterPINProtected.scss","webpack:///./src/front/shared/components/modals/WithdrawBtcPin/WithdrawBtcPin.tsx","webpack:///./src/front/shared/components/modals/WithdrawBtcPin/WithdrawBtcPin.scss","webpack:///./src/front/shared/components/modals/WithdrawBtcSms/WithdrawBtcSms.tsx","webpack:///./src/front/shared/components/modals/WithdrawBtcSms/WithdrawBtcSms.scss","webpack:///./src/front/shared/components/modals/WithdrawBtcMultisig/WithdrawBtcMultisig.tsx","webpack:///./src/front/shared/components/modals/WithdrawBtcMultisig/WithdrawBtcMultisig.scss","webpack:///./src/front/shared/components/modals/WalletAddressModal/WalletAddressModal.tsx","webpack:///./src/front/shared/components/modals/WalletAddressModal/WalletAddressModal.scss","webpack:///./src/front/shared/components/modals/AlertWindow/index.tsx","webpack:///./src/front/shared/components/modals/AlertWindow/styles.scss","webpack:///./src/front/shared/components/modals/ConnectWalletModal/ConnectWalletModal.scss","webpack:///./src/front/shared/components/modals/ConnectWalletModal/ConnectWalletModal.tsx","webpack:///./src/front/shared/components/modals/index.ts","webpack:///./src/front/shared/components/modal/ModalConductor/ModalConductor.tsx","webpack:///./src/front/shared/components/modal/ModalConductor/ModalConductor.scss","webpack:///./src/front/shared/helpers/getPageOffset.ts","webpack:///./src/front/shared/components/modal/ModalConductorProvider/styles.scss","webpack:///./src/front/shared/components/modal/ModalConductorProvider/ModalConductorProvider.tsx","webpack:///./src/front/shared/components/modal/ModalContainer/ModalContainer.scss","webpack:///./src/front/shared/components/modal/ModalContainer/ModalContainer.tsx","webpack:///./src/front/shared/components/modal/ModalBox/ModalBox.tsx","webpack:///./src/front/shared/components/modal/ModalBox/ModalBox.scss","webpack:///./src/front/shared/components/layout/DashboardLayout/styles.scss","webpack:///./src/front/shared/components/layout/DashboardLayout/DashboardLayout.tsx","webpack:///./src/front/shared/components/BalanceForm/images/dollar.svg","webpack:///./src/front/shared/components/BalanceForm/images/btcIcon.svg","webpack:///./src/front/shared/components/BalanceForm/BalanceForm.tsx","webpack:///./src/front/shared/pages/Wallet/Wallet.tsx","webpack:///./src/front/shared/pages/Exchange/Exchange.scss","webpack:///./src/front/shared/pages/Exchange/SelectGroup/SelectGroup.tsx","webpack:///./src/front/shared/pages/Exchange/SelectGroup/SelectGroup.scss","webpack:///./src/front/shared/pages/Exchange/Promo/Promo.tsx","webpack:///./src/front/shared/pages/Exchange/Promo/Promo.scss","webpack:///./src/front/shared/pages/Exchange/Quote/index.tsx","webpack:///./src/front/shared/pages/Exchange/Quote/styles.scss","webpack:///./src/front/shared/pages/Exchange/HowItWorks/HowItWorks.tsx","webpack:///./src/front/shared/pages/Exchange/HowItWorks/HowItWorks.scss","webpack:///./src/front/shared/pages/Exchange/VideoAndFeatures/VideoAndFeatures.tsx","webpack:///./src/front/shared/pages/Exchange/VideoAndFeatures/VideoAndFeatures.scss","webpack:///./src/front/shared/pages/Exchange/AddressSelect/Option/Option.tsx","webpack:///./src/front/shared/pages/Exchange/AddressSelect/Option/Option.scss","webpack:///./src/front/shared/images/logo/logo-black.svg","webpack:///./src/front/shared/images/custom.svg","webpack:///./src/front/shared/pages/Exchange/AddressSelect/AddressSelect.tsx","webpack:///./src/front/shared/pages/Exchange/AddressSelect/AddressSelect.scss","webpack:///./src/front/shared/components/NetworkStatus/NetworkStatus.tsx","webpack:///./src/front/shared/components/NetworkStatus/NetworkStatus.scss","webpack:///./src/front/shared/components/PageHeadline/Title/Title.tsx","webpack:///./src/front/shared/components/PageHeadline/Title/Title.scss","webpack:///./src/front/shared/components/PageHeadline/PageHeadline.tsx","webpack:///./src/front/shared/components/PageHeadline/PageHeadline.scss","webpack:///./src/front/shared/components/FaqExpandableItem/FaqExpandableItem.tsx","webpack:///./src/front/shared/components/FaqExpandableItem/FaqExpandableItem.scss","webpack:///./src/front/shared/components/CurrencyDirectionChooser/CurrencyDirectionChooser.tsx","webpack:///./src/front/shared/components/CurrencyDirectionChooser/CurrencyDirectionChooser.scss","webpack:///./src/front/shared/components/ui/Panel/Panel.tsx","webpack:///./src/front/shared/components/ui/Panel/Panel.scss","webpack:///./src/front/shared/helpers/seo.ts","webpack:///./src/front/shared/components/Seo/JsonLd.tsx","webpack:///./src/front/shared/components/Seo/Seo.tsx","webpack:///./src/front/shared/components/Seo/PageSeo.tsx","webpack:///./src/front/shared/components/Avatar/Avatar.tsx","webpack:///./src/front/shared/components/Avatar/Avatar.scss","webpack:///./src/front/shared/pages/Exchange/Orders/OrderBook/RequestButton/RequestButton.tsx","webpack:///./src/front/shared/pages/Exchange/Orders/OrderBook/RequestButton/RequestButton.scss","webpack:///./src/front/shared/pages/Exchange/Orders/OrderBook/Row/Row.tsx","webpack:///./src/front/shared/pages/Exchange/Orders/OrderBook/Row/Row.scss","webpack:///./src/front/shared/pages/Exchange/Orders/MyOrders/RowFeeds/images/share-alt-solid.svg","webpack:///./src/front/shared/pages/Exchange/Orders/MyOrders/RowFeeds/RowFeeds.tsx","webpack:///./src/front/shared/pages/Exchange/Orders/MyOrders/RowFeeds/RowFeeds.scss","webpack:///./src/front/shared/pages/Exchange/Orders/MyOrders/MyOrders.tsx","webpack:///./src/front/shared/pages/Exchange/Orders/MyOrders/MyOrders.scss","webpack:///./src/front/shared/pages/Exchange/Orders/OrderBook/OrderBook.tsx","webpack:///./src/front/shared/pages/Exchange/Orders/OrderBook/OrderBook.scss","webpack:///./src/front/shared/pages/Exchange/Orders/Orders.tsx","webpack:///./src/front/shared/pages/Exchange/Orders/Orders.scss","webpack:///./src/front/shared/pages/Exchange/Exchange.tsx","webpack:///./src/front/shared/pages/CurrencyWallet/CurrencyWallet.tsx","webpack:///./src/front/shared/pages/Transaction/TxInfo/index.tsx","webpack:///./src/front/shared/pages/Transaction/TxInfo/styles.scss","webpack:///./src/front/shared/pages/Transaction/Transaction.tsx","webpack:///./src/front/shared/pages/Transaction/styles.scss","webpack:///./src/front/shared/helpers/getWalletLink.ts","webpack:///./src/front/shared/pages/Multisign/Btc/Btc.tsx","webpack:///./src/front/shared/pages/Multisign/Btc/Btc.scss","webpack:///./src/front/shared/components/ui/Expandable/Expandable.tsx","webpack:///./src/front/shared/components/ui/Expandable/Expandable.scss","webpack:///./src/front/shared/pages/Marketmaker/FAQ.tsx","webpack:///./src/front/shared/pages/Marketmaker/FAQ.scss","webpack:///./src/front/shared/pages/Marketmaker/images/extensionPromoLight.png","webpack:///./src/front/shared/pages/Marketmaker/images/extensionPromoDark.png","webpack:///./src/front/shared/pages/Marketmaker/MarketmakerPromo.tsx","webpack:///./src/front/shared/pages/Marketmaker/MarketmakerPromo.scss","webpack:///./src/front/shared/pages/Marketmaker/MarketmakerSettings.scss","webpack:///./src/front/shared/pages/Marketmaker/SwapRow.scss","webpack:///./src/front/shared/pages/Marketmaker/SwapRow.tsx","webpack:///./src/front/shared/pages/Marketmaker/images/btcIcon.svg","webpack:///./src/front/shared/pages/Marketmaker/images/wbtcIcon.svg","webpack:///./src/front/shared/pages/Marketmaker/MarketmakerSettings.tsx","webpack:///./src/front/shared/pages/Invoices/CreateInvoice/index.tsx","webpack:///./src/front/shared/pages/Invoices/Invoice/index.tsx","webpack:///./src/front/shared/components/layout/ScrollToTop/ScrollToTop.ts","webpack:///./src/front/shared/components/SaveKeys/Field/Field.tsx","webpack:///./src/front/shared/components/SaveKeys/Field/Field.scss","webpack:///./src/front/shared/components/SaveKeys/SaveKeys.tsx","webpack:///./src/front/shared/components/SaveKeys/SaveKeys.scss","webpack:///./src/front/shared/components/Confirm/Confirm.tsx","webpack:///./src/front/shared/components/Confirm/Confirm.scss","webpack:///./src/front/shared/components/modals/SaveKeysModal/SaveKeysModal.scss","webpack:///./src/front/shared/components/modals/SaveKeysModal/SaveKeysModal.tsx","webpack:///./src/front/shared/routes/index.tsx","webpack:///./src/front/shared/containers/Core/Core.tsx","webpack:///./src/front/shared/components/ErrorBoundary/index.tsx","webpack:///./src/front/shared/components/ErrorBoundary/index.scss","webpack:///./src/front/shared/components/Header/Header.scss","webpack:///./src/front/shared/components/Header/Nav/Nav.scss","webpack:///./src/front/shared/components/Header/Nav/Nav.tsx","webpack:///./src/front/shared/components/Header/NavMobile/NavMobile.scss","webpack:///./src/front/shared/components/Header/NavMobile/NavMobile.tsx","webpack:///./src/front/shared/images/logo/logo-colored.svg","webpack:///./src/front/shared/components/Header/Logo/Logo.tsx","webpack:///./src/front/shared/components/Header/Logo/Logo.scss","webpack:///./src/front/shared/components/TourWindow/index.tsx","webpack:///./src/front/shared/components/TourWindow/styles.scss","webpack:///./src/front/shared/components/Header/TourPartial/TourPartial.tsx","webpack:///./src/front/shared/components/Header/WalletTour/WalletTour.tsx","webpack:///./src/front/shared/components/Header/WidgetTours/WidgetWalletTour.tsx","webpack:///./src/front/shared/components/loaders/Loader/Loader.tsx","webpack:///./src/front/shared/components/loaders/Loader/Loader.scss","webpack:///./src/front/shared/components/Header/config.tsx","webpack:///./src/front/shared/components/Header/ThemeSwitcher.tsx","webpack:///./src/front/shared/components/Header/UserTooltip/images/arrow-right.svg","webpack:///./src/front/shared/components/Header/UserTooltip/UserTooltip.tsx","webpack:///./src/front/shared/components/Header/UserTooltip/UserTooltip.scss","webpack:///./src/front/shared/components/Header/Header.tsx","webpack:///./src/front/shared/components/Footer/Footer.scss","webpack:///./src/front/shared/components/Footer/SocialMenu/SocialMenu.tsx","webpack:///./src/front/shared/components/Footer/SocialMenu/SocialMenu.scss","webpack:///./src/front/shared/components/Footer/SwitchLang/SwitchLang.tsx","webpack:///./src/front/shared/components/Footer/SwitchLang/SwitchLang.scss","webpack:///./src/front/shared/helpers/version.ts","webpack:///./src/front/shared/components/Footer/Footer.tsx","webpack:///./src/front/shared/components/PreventMultiTabs/PreventMultiTabs.tsx","webpack:///./src/front/shared/components/loaders/RequestLoader/RequestLoader.tsx","webpack:///./src/front/shared/components/notification/Notification/Notification.tsx","webpack:///./src/front/shared/helpers/Sound/alert.mp4","webpack:///./src/front/shared/components/notification/Notification/Notification.scss","webpack:///./src/front/shared/components/notifications/SuccessWithdraw/SuccessWithdraw.tsx","webpack:///./src/front/shared/components/notifications/SuccessWithdraw/SuccessWithdraw.scss","webpack:///./src/front/shared/components/notifications/Message/Message.tsx","webpack:///./src/front/shared/components/notifications/Message/Message.scss","webpack:///./src/front/shared/components/notifications/ErrorNotification/ErrorNotification.tsx","webpack:///./src/front/shared/components/notifications/BTCMultisignRequest/BTCMultisignRequest.tsx","webpack:///./src/front/shared/components/notifications/BTCMultisignRequest/BTCMultisignRequest.scss","webpack:///./src/front/shared/components/notifications/index.ts","webpack:///./src/front/shared/components/notification/NotificationConductor/NotificationConductor.tsx","webpack:///./src/front/shared/components/notification/NotificationConductor/NotificationConductor.scss","webpack:///./src/front/shared/containers/App/App.tsx","webpack:///./src/front/shared/containers/App/App.scss","webpack:///./src/front/shared/containers/Root/IntlProviderContainer.tsx","webpack:///./src/front/shared/containers/Root/Root.tsx","webpack:///./src/front/shared/components/ErrorPageNoSSL/ErrorPageNoSSL.tsx","webpack:///./src/front/shared/components/ErrorPageNoSSL/ErrorPageNoSSL.scss","webpack:///./src/front/client/index.tsx","webpack:////home/runner/work/MultiCurrencyWallet/MultiCurrencyWallet/node_modules/empty-module|sync|nonrecursive|/js$/","webpack:///./node_modules/ethers/dist|sync","webpack:////home/runner/work/MultiCurrencyWallet/MultiCurrencyWallet/src/core/swap.auth|sync|/^\\.\\/.*$/","webpack:///external \"React\"","webpack:///external \"ReactDOM\"","webpack:///webpack/bootstrap","webpack:///webpack/runtime/amd options","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/ensure chunk","webpack:///webpack/runtime/get javascript chunk filename","webpack:///webpack/runtime/get mini-css chunk filename","webpack:///webpack/runtime/getFullHash","webpack:///webpack/runtime/global","webpack:///webpack/runtime/harmony module decorator","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///webpack/runtime/node module decorator","webpack:///webpack/runtime/publicPath","webpack:///webpack/runtime/compat","webpack:///webpack/runtime/jsonp chunk loading","webpack:///webpack/startup"],"names":["deferred","inProgress","dataWebpackPrefix","getRandomMnemonicWords","bip39","validateMnemonicWords","mnemonic","convertMnemonicToValid","trim","toLowerCase","split","filter","word","join","getBtcWallet","network","walletNumber","path","seed","root","bip32","node","derivePath","account","bitcoin","pubkey","publicKey","address","toString","WIF","toWIF","getEthLikeWallet","params","validMnemonic","wallet","hdkey","getWallet","getAddress","pubKey","privateKey","privKey","getGhostWallet","getNextWallet","COIN_TYPE","Object","freeze","NATIVE","ETH_TOKEN","BNB_TOKEN","MATIC_TOKEN","TOKEN_STANDARD","ERC20","BEP20","ERC20MATIC","BLOCKCHAIN","BTC","GHOST","NEXT","ETH","BNB","MATIC","ARBITRUM","BASE_TOKEN_CURRENCY","COIN_MODEL","UTXO","AB","COIN_DATA","ticker","name","type","blockchain","model","precision","standard","btc","eth","bnb","matic","arbeth","ghost","next","ETH_TOKENS","usdt","eurs","swap","pay","proxima","snm","noxon","pbl","xsat","hdp","scro","xeur","btcb","wbtc","COINS","ENV","web3","bitcoincash","coininfo","storage","sessionStorage","swapsExplorer","metamask","getWeb3","isBinance","web3bnb","getWeb3Bnb","web3Matic","getWeb3Matic","web3Arbitrum","getWeb3Arbitrum","isTest","SERVICES","auth","room","orders","swaps","NETWORKS","MAINNET","TESTNET","this","prefix","global","localStorage","setItem","getItem","removeItem","err","Error","key","value","JSON","stringify","parse","console","error","_constructor","items","itemIds","callback","map","forEach","item","unshift","hasOwnProperty","push","length","index","splice","undefined","keys","indexOf","includes","Boolean","getByKey","SwapApp","options","Collection","constants","env","services","Array","flows","_addEnv","_addServices","_addSwaps","_addFlows","whitelistBtc","inited","web3provider","_swapAppInstance","initFlows","attachedSwaps","isExistByKey","id","append","isFinished","coin","participant","values","StorageFactory","service","_serviceName","_attachSwapApp","_addService","serviceName","_waitRelationsResolve","_tryInitService","_swapName","swapKey","blockchainName","toUpperCase","_initSwap","_addSwap","Flow","flowName","getName","getFromName","getToName","flow","_addFlow","coinType","isEnabled","isConnected","accounts","getEvmLikeAddress","utils","participantMetamaskAddress","getParticipantEvmLikeAddress","cb","waitInit","isInited","setTimeout","makeShared","forceFreshSetup","required","app","isSwapApp","errorMessage","is","EventEmitter","_dependsOn","_spyHandlers","dependsOnMap","Service","initialized","_addWaitRelationHandler","every","initService","handler","Event","handlers","bind","unsubscribe","removeHandler","handlerIndex","eventArgs","EventAggregator","events","event","getEvent","addHandler","eventName","debug","call","handlerWrapper","result","obj","props","propName","repeatAsyncUntilResult","action","delay","Promise","resolve","isStoped","stop","iteration","waitDelay","inSeconds","reject","extractSecretFromContract","swapFlow","participantAddress","ownerAddress","getSecret","secretFromContract","secretHash","state","crypto","ripemd160","Buffer","from","replace","warn","ourSwap","hashFromContractSwap","secret","extractSecretFromTx","ethSwapWithdrawTransactionHash","getSecretFromTxhash","secretFromTx","secretFromTxhash","register","code","tokenCode","BLOCKCHAIN_TYPE","typeforce","isCoinAddress","test","isPublicKey","t","check","isNumeric","isNaN","parseFloat","isFinite","isCoinName","v","_privateKeys","_mnemonic","getPublicDataMethods","privateKeys","useMnemonic","instance","require","loginMnemonic","login","getPublicData","data","peer","ServiceInterface","_privateKey","storageKey","privateKeyToAccount","create","add","mnemonicUtils","isMainNet","networks","testnet","ECPair","makeRandom","fromWIF","payments","p2pkh","getPublicKey","getPublicKeyBuffer","getPrivateKey","main","initialState","show","hide","zIndex","open","closeAll","close","transactions","swapHistory","setFilter","payload","setTransactions","setSwapHistory","isVisible","setVisibility","ghostData","balance","isBalanceFetched","currency","fullName","balanceError","infoAboutCurrency","nextData","ethData","bnbData","maticData","arbethData","btcData","btcMultisigSMSData","btcMultisigPinData","btcMultisigG2FAData","btcMultisigUserData","usdtData","tokensData","isFetching","isBalanceFetching","isTokenSigned","activeFiat","window","DEFAULT_FIAT","activeCurrency","multisigStatus","multisigPendingCount","metamaskData","updateMultisigStatus","last","total","totalPending","savedAddress","count","pending","addWallet","setAuthData","setTokenSigned","booleanValue","setTokenAuthData","baseCurrency","tokenKey","setBtcMultisigBalance","amount","unconfirmedBalance","wallets","Number","setBalance","setInfoAboutToken","setInfoAboutCurrency","setBalanceError","setTokenBalanceError","setTokenBalance","setIsBalanceFetching","setIsFetching","setActiveCurrency","setActiveFiat","addItems","deleteItems","__CONFIG__","hiddenCoinsList","config","getOrders","markCoinAsHidden","markCoinAsVisible","c","isOnline","isAllPeersLoaded","onlineUsers","serverAddress","reputation","set","userJoined","userLeft","allPeersLoaded","servers","checked","errors","setChecked","setErrors","setApiServer","provider","server","erc20","platform","explorerApi","explorerApiKey","bep20","erc20matic","buildOpts","curEnabled","blockchainSwapEnabled","ownTokens","addCustomTokens","invoiceEnabled","buildOptions","widgetEvmLikeTokens","isArray","wcP","TOKEN_STANDARDS","token","symbol","tokenItems","title","icon","fullTitle","addAssets","tokenPartialItems","canSwap","tokensInfo","dontCreateOrder","partialItems","addSelectedItems","addPartialItems","widgetCustomTokens","firstToken","customTokenConfig","tokenContractAddr","updatePartialItems","deletedPartialCurrency","isInputActive","setInputActive","savedOrders","deletedOrders","orderId","forgetOrders","getOrderIntheProcess","currencies","secure","step","newWalletData","dashboardModalsAllowed","allowDashboardModals","disallowDashboardModals","notifications","modals","history","loader","core","user","feeds","pubsubRoom","api","inputActive","rememberedOrders","createWallet","ui","toSaveStates","cleanReduxStore","reduxStore","reduce","createBrowserHistory","middleware","routerMiddleware","devTools","__REDUX_DEVTOOLS_EXTENSION__","_storeConfig","reducers","router","connectRouter","combineReducers","localReducers","store","stateName","getState","enhancers","createStore","wrapReducers","defaultExchangePair","buy","sell","showWalletBanners","showHowItsWork","fee","hideShowPrivateKey","plugins","setItemPlugin","getItemPlugin","userDataPluginApi","backupPlugin","backupPluginUrl","restorePluginUrl","WPuserHash","buyViaCreditCardLink","exchangeDisabled","footerDisabled","_ui_footerDisabled","showHowItWorksOnExchangePage","EXCHANGE_DISABLED","CUR_BTC_DISABLED","CUR_GHOST_DISABLED","CUR_NEXT_DISABLED","CUR_ETH_DISABLED","CUR_BNB_DISABLED","CUR_MATIC_DISABLED","CUR_ARBITRUM_DISABLED","backupUrl","restoreUrl","SWAP_HIDE_EXPORT_PRIVATEKEY","tokenName","tokenValue","tokenSymbol","getCustomTokenConfig","tokenObj","decimals","widgetERC20Comisions","hasTokenAdminFee","curKey","min","feeOk","minOk","BigNumber","toNumber","e","feeObj","currencyFee","responseCacheStorage","responseCacheGetKey","req","opts","method","endpoint","defaultOptions","sameOrigin","modifyResult","resData","onComplete","sendRequest","request","timeout","response","deadline","query","body","send","withCredentials","responseHandler","cachedAnswer","cacheKey","cacheResponse","cacheResponseCreateTime","Date","getTime","responseCacheGet","fulfill","res","end","serverError","statusCode","text","responseCacheAdd","createResponseHandler","abort","requestByMethod","get","post","patch","put","delete","Math","floor","apiStatuses","apiQuery","apiQueryTimers","apiQueryTimer","queryName","queryChunk","shift","onResolve","onError","inQuery","apiLooper","then","answer","apiQueryInit","switchNext","prior","apiPrioritet","current","endpoints","online","lastCheck","getUnixTimeStamp","ignoreErrors","reportErrors","apiName","apiServers","stat","url","initApiStatus","apiStatus","doRequest","currentEndpoint","checkStatus","Function","skipDefResolve","resolveResult","rejectResult","log","DUST_SAT","TX_SIZE","P2PKH_IN_SIZE","P2PKH_OUT_SIZE","P2SH_OUT_SIZE","P2SH_IN_SIZE","P2WSH_IN_SIZE","P2WSH_OUT_SIZE","P2WPKH_IN_SIZE","P2WPKH_OUT_SIZE","P2SH_P2WPKH_IN_SIZE","MULTISIG_P2SH_IN_SIZE","MULTISIG_P2WSH_IN_SIZE","MULTISIG_P2SH_P2WSH_IN_SIZE","limit","price","slow","normal","fast","evmLike","contractInteract","evmLikeToken","swapDeposit","swapWithdraw","size","rate","btc_multisig_2n2","btc_multisig_2fa","jot","erc","TRANSACTION","DEFAULT_CURRENCY_PARAMETERS","MIN_AMOUNT","MIN_AMOUNT_OFFER","COINS_WITH_DYNAMIC_FEE","horizon","blocktrail","bitpay","ghostscan","nextscan","nextExplorer","nextExplorerCustom","blockcypher","etherscan","etherscanInvoices","etherscan_ApiKey","bscscan","bscscanInvoices","bscscan_ApiKey","maticscan","polygon_ApiKey","faucet","btc2FAProtected","btcPin","invoiceApi","multisig","txinfo","Network","AddressType","getBitpay","getBlockcypher","fetchTx","hash","apiBitpay","NETWORK","rest","fees","dividedBy","fetchTxInfo","hasAdminFee","txinfoReject","baseTxInfo","txCoins","receiverAddress","afterBalance","inputs","adminOutput","adminFee","afterOutput","outputs","senderAddress","out","eq","txInfo","txid","confirmed","confirmations","minerFee","minerFeeCurrency","output","input","fetchUnspents","height","mintHeight","satoshis","scriptPubKey","script","mintTxid","vout","mintIndex","spentTxid","prepareUnspents","unspents","needAmount","multipliedBy","plus","sortedUnspents","sort","a","b","isEqualTo","isGreaterThan","oneUnspent","unspent","isGreaterThanOrEqualTo","calcedAmount","fetchTxRaw","txId","apiBlocyper","hex","getFeesRateBlockcypher","defaultRate","defaultApiSpeeds","custom","cacheOnFail","apiResult","info","apiRate","low_fee_per_kb","medium_fee_per_kb","high_fee_per_kb","addressTypes","mainnet","p2sh","getAddressType","substr","p2wpkh","p2wsh","version","getByteCount","totalWeight","hasWitness","inputCount","outputCount","types","checkUInt53","n","MAX_SAFE_INTEGER","RangeError","varIntLength","number","slice","keyParts","newKey","mAndN","parseInt","multiplyer","ceil","calculateTxSize","txIn","txOut","fixed","toAddress","serviceFee","defaultTxSize","txSize","fromAddressType","toAddressType","adminAddressType","group","groupEnd","estimateFeeRateBLOCKCYPHER","speed","_speed","estimateFeeRate","message","estimateFeeValue","_feeRate","feeRate","inSatoshis","_txSize","swapUTXOMethod","moreInfo","SATOSHI_TO_BITCOIN_RATIO","calculatedFeeValue","div","dp","moreInfoResponse","finalFeeValue","prepareFees","feeValue","to","feeFromAmount","adminFeeMinValue","adminFeeMin","integerValue","toAmount","fundValue","totalUnspent","summ","skipValue","prepareRawTx","publicKeys","psbt","addOutput","keyPair","i","rawTx","addInput","nonWitnessUtxo","signAllInputs","finalizeAllInputs","extractTransaction","toHex","p2ms","m","pubkeys","redeemScript","fetchBalance","withUnconfirmed","unconfirmed","broadcastTx","txRaw","onBroadcastError","tx","statusMessage","bcAnswer","checkWithdraw","scriptAddress","txs","spendTxInfo","getTransactionBlocyper","ownAddress","ownType","myWallets","checkAddress","direction","addresses","isSelf","currentAddress","canEdit","date","received","getCore","fetchTxInputScript","inInfo","btcUtils","ITransactionStatus","ethLikeHelper","sendFeedback","feedback","concat","estimateGasPrice","gasPrice","defaultGasLimit","defaultParams","getGasPrice","weiGasPrice","currencyKey","Web3","erc20LikeHelper","swapABMethod","methodForLimit","startsWith","tokenOwnerAddress","tokenContractAddress","getCurrentWeb3","tokenContract","Contract","TokenApi","allowanceAmount","methods","allowance","pow","reportError","isToken","prop","lowerName","getLink","erc20Like","actions","helpers","getCurrencyKey","getLinkToInfo","getInfo","link","getTx","getTxRouter","pullTxBalances","balances","fetchTxBalances","curName","getTokenBaseCurrency","baseTokenCurrencyPrefix","match","baseTokenCurrency","constantCurrency","getActivatedCurrencies","getWidgetCurrencies","widgetCurrencies","externalConfig","filterUserCurrencyData","currencyData","isAllowedCurrency","enabledCurrencies","isCorrectWalletToShow","isMetamask","unknownNetwork","returnToken","reduxState","userInitialState","setMetamask","INJECTED","WALLETCONNECT","InjectedProvider","web3Connect","_web3Connect","opr","addons","opera","navigator","userAgent","ethereum","enable","isTrust","ready","_isLocked","deactivate","connection","UserRejectedRequestErrorInjected","NoEthereumProviderError","InjectedConnector","WalletConnectProvider","connectionInfo","connected","Connect","UserRejectedRequestErrorWalletConnect","WalletConnectConnector","isInjectedEnabled","_cachedProviders","web3connect","providerName","newInstance","SUPPORTED_PROVIDERS","supportedChainIds","_web3ChainId","rpc","_web3RPC","bridge","qrcode","pollingInterval","Web3Connect","providers","_cachedChainId","web3RPC","web3ChainId","_checkIsDAppBrowser","cachedProviderName","lsProvider","getProviderByName","_cachedProviderName","_cachedProvider","_setupEvents","_cacheProviderData","_isConnected","_inited","clearCache","_walletLocked","getInjectedTitle","getInjectedType","INJECTED_TYPE","isLiquality","isMetaMask","isMobile","_isDAppBrowser","_cachedAddress","_cachedWeb3","on","ConnectorEvent","emit","chainId","getAccount","getChainId","getProvider","_web3provider","_connector","isLocked","Disconnect","coinData","_onWeb3Changed","newWeb3","setProvider","setWeb3Provider","addMetamaskWallet","_init","onInit","hasCachedProvider","_web3","getBalance","balanceInCache","cacheStorageGet","fromWei","cacheStorageSet","disconnect","resolved","connect","onReject","isAvailableNetwork","hexChainId","networkVersion","ethWalletInfo","currencyName","fullWalletName","getProviderTitle","currencyInfo","bscWalletInfo","maticWalletInfo","arbitrumWalletInfo","walletMap","Map","isMnemonic","metamaskApi","isCorrectNetwork","isAvailableNetworkByCurrency","getCoinInfo","currencyNetworkVersion","handleDisconnectWallet","cbDisconnected","handleConnectMetamask","addCurrencyNetwork","nativeCurrency","chainName","rpcUrls","blockExplorerUrls","getAccounts","sign_btc_multisig","btcPrivateKey","btcMultisigOwnerKey","sign_btc_2fa","btcSMSServerKey","btcSmsPublicKeys","btcSmsMnemonicKey","sign_btc_pin","btcPinServerKey","btcPinPublicKeys","btcPinMnemonicKey","sign","mnemonicKeys","btcSms","btcNewSmsMnemonicKey","btcNewMultisigOwnerKey","ghostPrivateKey","nextPrivateKey","ethPrivateKey","_btcPrivateKey","loginWithTokens","getReputation","standardObj","standardName","btcReputationPromise","ethReputationPromise","ghostReputationPromise","nextReputationPromise","all","btcReputation","ethReputation","ghostReputation","nextReputation","totalReputation","isInteger","getTokensBalances","customRate","cur","widgetTokens","targetToken","find","customExchangeRate","clearTransactions","mergeTransactions","mergeTxs","allTransactions","fetchMultisigStatus","mainAddress","objCurrency","isBtcSweeped","isEthSweeped","isBnbSweeped","isMaticSweeped","isArbitrumSweeped","txPromise","txList","setTokensTransaction","tokens","standardTokens","ms","getTransaction","tokenTxs","getText","location","hostname","downloadPrivateKeys","element","document","createElement","setAttribute","encodeURIComponent","moment","format","style","display","appendChild","click","removeChild","getBalances","func","isOwner","addr","lowerAddr","getAllMyAddresses","currencyActions","addrFromStore","getExchangeRate","sellCurrency","buyCurrency","sellDataRate","buyDataRate","dataKey","price_fiat","getInfoAboutCurrency","currencyNames","fiat","infoAboutBTC","btcPrice","quote","currencyInfoItem","priceInBtc","ownPrice","outsideLabel","exRate","customTokenExchangeRate","price_btc","targetDataKey","targetMnemonicDataKey","tokenCurrencyByPlatform","getAuthData","getWithdrawWallet","addressOwner","needType","filtered","walletName","walletType","pullActiveCurrency","pullTransactions","actionName","isErc20Token","isBep20Token","isMultisigBtcAddress","currencyTxs","getFeedDataFromOrder","filteredFeeds","order","owner","isTurbo","content","sellAmount","buyAmount","requests","f","deleteItemToFeed","k","swapId","participantPeer","hasPeer","_events","dispatch","Events","fromPeer","self","getOnlineParticipant","sendMessage","sendConfirmation","isMy","buyBlockchain","sellBlockchain","ownerSwap","participantSwap","destinationBuyAddress","destinationSellAddress","createUnixTimeStamp","waitConfirm","_getDataFromOrder","update","swapExists","Room","buyCurrencyInfo","sellCurrencyInfo","buyCoin","sellCoin","flowKey","setupEvents","attachSwap","util","destination","_pullRequiredData","timeoutUTS","isTakerMakerModel","_Buy","sellModel","buyModel","scriptValues","utxoScriptValues","scriptCreatingTransactionHash","utxoScriptCreatingTransactionHash","eventData","finishStep","silentError","setState","participantHasLockedUTXO","requestScriptFunc","_isFinished","String","_saveState","subscribe","steps","stepNumbers","isWaitingForOwner","isStoppedSwap","isSwapTimeout","isRefunded","isSignFetching","isMeSigned","isBalanceEnough","isUTXOScriptOk","utxoScriptVerified","ethSwapCreationTransactionHash","waitUnlockUTXO","utxoFundError","isMaker","checkTimeout","read","_getInitialSteps","_getSteps","_goStep","constraints","n_step","_goNextStep","newStep","save","requireWithdrawFee","requireWithdrawFeeSended","withdrawRequestAccepted","isTaker","isUTXOSide","once","isParticipantSigned","processMetamask","tryRefund","isSwapExist","stopSwapProcess","utcNow","now","stopRepeat","utxoBlockchain","checkScript","recipientPublicKey","utxoCoin","lockTime","confidence","isWhiteList","isWhitelistBtc","scriptCheckError","_checkSwapAlreadyExists","getParticipantEthAddress","abBlockchain","withdrawNoMoney","sendWithdrawRequestToAnotherParticipant","createScript","destinationAddress","destAddress","hasWithdraw","cryptoLib","generateSecret","createWorkUTXOScript","getLockTime","ownerPublicKey","scriptBalance","scriptUnspendBalance","syncBalanceUTXO","syncBalanceAB","getMyEthAddress","isEnoughMoney","isLessThanOrEqualTo","stateData","utxoAddress","txFee","pair","ghostPair","nextPair","BID","ASK","isWidgetBuild","TOKEN_DECIMALS","TRADE_TICKERS","AddressFormat","AddressRole","PAIR_BID","PAIR_TYPES","PAIR_ASK","filteredDecimals","decimalPlaces","parsePair","str","reverse","MAIN","BASE","Pair","base","times","exchangeRate","BS","SB","parseTicker","mainAmount","fromOrder","order1","order2","pair1","pair2","comparedTo","getUserData","getInformationAboutSwap","addressType","optBlockchain","getWallets","withInternal","founded","conditionOk","btcMnemonicData","ethMnemonicData","bnbMnemonicData","maticMnemonicData","arbethMnemonicData","metamaskConnected","tokenWallets","d","allData","isRegistered","rememberOrder","getSwapById","Swap","createOrder","isPartial","getSwapHistory","historySwap","updateCore","reputationProof","requestOptions","participantMetadata","sendRequestForPartial","newValues","newOrder","isAccepted","oldOrder","oldPrice","newPrice","minus","abs","acceptRequest","declineRequest","removeOrder","remove","doBackup","list","findedCoin","el","elCoin","requestToPeer","saveDeletedOrder","hideMyOrders","showMyOrders","hasHiddenOrders","setupPartialOrder","pairData","setRequestHandlerForPartial","oldPair","isBid","initPartialOrders","deletedOrder","deletedOrderSellCurrency","deletedOrderBuyCurrency","deletedOrderSell","deletedOrderBuy","premiumCurrencies","addCurrencyFromOrders","currenciesGetState","allCurrencyies","partialCurrency","sellOrderArray","buyOrderArray","sortedArray","hasUpdates","getHiddenCoins","fetchWalletBalance","walletData","contractAddress","rememberSwap","swapsIds","ordersFilter","getWalletByWords","BigInteger","getPrivateKeyByAddress","oldAddress","mnemonicAddress","mnemonicKey","fetchBalanceStatus","bitcoinUtils","retData","ePrivateKey","preparedFees","broadcastAnswer","sendTransaction","txHash","sweepToMnemonicReady","accData","isBTC","getBtcAddress","getBtcData","mnemonicData","balanceData","myAllWallets","userAddress","signMessage","encodedPrivateKey","privateKeyBuff","bitcoinMessage","compressed","getId","getInvoices","sweepToMnemonic","isSweeped","getSweepAddress","getDataByAddress","getMainPublicKey","addressIsCorrect","bitcore","ghostMnemonicData","ghostMultisigSMSData","ghostMultisigUserData","ghostMultisigPinData","ghostMultisigG2FAData","rawtx","valueOut","ghostCheckWithdraw","getGhostAddress","getGhostData","vin","time","transaction","Transaction","change","serialize","sendBitcore","getApiNext","getApiCustom","API_ENDPOINT","txInfo_","scriptSig","_unspents","onSuccess","onFail","valueSat","messagePrefix","public","private","pubKeyHash","scriptHash","wif","nextMnemonicData","nextMultisigSMSData","nextMultisigUserData","nextMultisigPinData","nextMultisigG2FAData","nextUtils","outputIndex","getNextAddress","getNextData","nextNetwork","alias","pubkeyhash","privatekey","scripthash","xpubkey","xprivkey","networkMagic","port","dnsSeeds","bitcoreNextNetwork","bitcoinNetwork","privKeyWIF","addressFrom","amountSat","raw","BITPAY_API","BLOCYPER_API","addressToWallet","msData","_loadBtcMultisigKeys","savedKeys","signToUserMultisig","getBtcMultisigKeys","dontFetchBalance","walletsData","isUserProtected","active","fetchMultisigBalances","getAddrBalance","keysInfo","login_USER","addBtcMultisigKey","isPrimary","switchBtcMultisigKey","keyOrIndex","getBalanceUser","otherOwnerPublicKey","onlyCheck","login_","onRequestEventName","_data","txData","sendMessagePeer","sortKeys","publicKey_1","publicKeysRaw","redeem","addressOfMyOwnWallet","broadcastTX2Room","cbSuccess","cbFail","onSuccessEventName","failTimer","onSuccessEvent","clearTimeout","sendMessageRoom","_getSign","beginRegisterSMS","phone","ownPublicKey","mnemonicAccount","checkSign","source","confirmRegisterSMS","smsCode","newKeys","addSMSWallet","register_PIN","password","mainKey","addPinWallet","mnemonicOrKey","ownDataKey","sendSMSProtected","authKeys","rawTX","sendPinProtected","signPinMnemonic","mnemonicTx","broadcastResult","confirmSMSProtected","senderWallet","getMSWalletByScript","myBtcWallets","buf","parseRawTX","parsedTX","isOur","inputParsed","inputWallet","globalMap","unsignedTx","outs","outWallet","valueSatoshi","signMofNByMnemonic","option_M","ownPath","mnemonicWallet","txb","__INPUTS","build","txHex","checkSMSActivated","login_SMS","isSmsProtected","getBtcSmsData","checkG2FAActivated","checkUserActivated","getTransactionSMS","smsAddress","enableWalletSMS","signSmsMnemonic","signSmsMnemonicAndBuild","checkSmsMnemonic","getInvoicesSMS","isBTCSMSAddress","getSmsKeyFromMnemonic","login_PIN","isPinProtected","getBtcPinData","checkPINActivated","getBalancePin","checkPinMnemonic","checkPinCanRestory","getTransactionPIN","pinAddress","getTransactionUser","msWallets","promiseList","txLists","retValue","toBuffer","enableWalletUSER","signMultiSign","onUserMultisigJoin","checkKey","onUserMultisigSend","getInvoicesUser","removeBtcMultisigNey","isBTCMSUserAddress","login_G2FA","isG2FAProtected","getBalanceG2FA","getTransactionG2FA","enableWalletG2FA","TOKEN_SWAP","NATIVE_COIN_SWAP","EthLikeAction","tickerKey","currencyMnemonicData","transactionHash","explorerLink","rej","gas","blockHash","toBN","adminFeeObj","feeFromUsersAmount","privateKeyName","coinName","arrOfAddresses","mnemonicDataAddress","dataAddress","metamaskAddress","internalUrl","explorerName","internals","status","timeStamp","swapContract","EVM_CONTRACTS_ABI","externalAddress","externalPrivateKey","gasLimit","haveExternalWallet","isContract","recipientIsContract","sendMethod","toChecksumAddress","toWei","bufferPrivateKey","signTransaction","sendSignedTransaction","receipt","sendAdminTransaction","externalAdminFeeObj","adminObj","minAmount","signedTx","getTransactionCount","txCount","nonce","lowerAddress","contractsList","cache","getCode","codeAtAddress","codeIsEmpty","ARBETH","Decoder","InputDataDecoder","TokenAbi","Erc20LikeAction","trace","contractAddr","customTokens","getCustomTokensConfig","contract","fillInTokensConfig","configName","returnTokenInfo","tokenDecimal","balanceOf","isContractTx","ourTx","decodeData","newGasPrice","newGasLimit","nameContract","setupContract","ethAddress","isERC20","feeConfig","fetchFees","feeResult","txArguments","hexAmountWithDecimals","transfer","hexFeeWithDecimals","exp","weiAmount","approve","targetAllowance","checkAllowance","checkServers","race","fetch","chosen","selectPair","pairs","tikers","selectedPairsBase","selectedPairsMain","selectPairPartial","getGtag","gtag","getTracker","ga","getAll","getClientId","tracker","dataEvent","label","errorEvent","eventAction","swapEvent","eventLabel","balanceEvent","onReady","_checkFunc","waitPeer","timeOut","isWaiting","failtTimer","waitFunc","addInvoice","fromAddress","validateData","requestData","contact","txType","invoiceData","utx","getInvoice","hasPayer","getManyInvoices","walletsHashMap","rawType","invoices","walletHash","cancelInvoice","invoiceId","markInvoice","mark","getComments","getComment","returnDefaultComment","hiddenList","ind","setComment","comment","historyComments","newComment","enter","switch","preventSwitch","wasOnWallet","didWidgetsDataSend","activeTabId","testnetSkip","storageRevision","wasCautionPassed","privateKeysSaved","demoMoneyReceived","wasOnExchange","isWalletCreate","lastCheckBalance","startSwap","didProtectedBtcCreated","didPinBtcCreated","process","didProtectedBtcG2FACreated","walletTitle","customToken","balanceActiveCurrency","isSweepReady","signedUpWithPush","backups","backups_prefix","invoicesEnabled","wasOnWidgetWallet","isDark","isLight","testnetSkipPKCheck","prevWPUser","exchangeSettings","extensionLastActivity","btcMnemonic","ethMnemonic","bnbMnemonic","maticMnemonic","arbitrumMnemonic","ghostMnemonic","nextMnemonic","arbitrum","ethOld","btcOld","ghostOld","nextOld","twentywords","btcMultisig","btcMultisigOtherOwnerKey","btcMultisigOtherOwnerKeyMnemonic","btcMultisigOtherOwnerKeyOld","btcSmsMnemonicKeyGenerated","btcSmsMnemonicKeyMnemonic","btcSmsMnemonicKeyOld","tradeTicker","privateKeyNames","tokenDecimals","SuccessWithdraw","Message","ErrorNotification","BTCMultisignRequest","pairTypes","Withdraw","WithdrawMultisig","Offer","PrivateKeys","ReceiveModal","DownloadModal","Confirm","DeclineOrdersModal","IncompletedSwaps","ConfirmBeginSwap","RegisterSMSProtected","MultisignJoinLink","WithdrawMultisigSMS","WithdrawMultisigUser","CurrencyAction","InvoiceModal","InvoiceLinkModal","AlertModal","AddCustomToken","BtcMultisignSwitch","Share","BtcMultisignConfirmTx","SaveMnemonicModal","RestoryMnemonicWallet","HowToWithdrawModal","InfoInvoice","PrivateKeysModal","RegisterPINProtected","WithdrawBtcPin","WalletAddressModal","AlertWindow","WithdrawBtcSms","WithdrawBtcMultisig","ConnectWalletModal","tokenStandards","lsCurrentUser","isUserLoggedIn","WPuserUid","isFirstBackup","hasServerBackup","axios","isUserChanged","backupUser","backup","arbethMnemonic","cleanupSeed","restoreUser","backupFields","importBackup","lsKey","exists","backupData","btcmultisig","feed","analytics","comments","backupManager","overide","restory","serverBackup","backupUserData","serverCleanupSeed","multisigTx","broadcast","sender","invoice","holderKey","pendingTransactions","firstPendingTransaction","cancel","uniqhash","confirmTx","isHolder","holder","fetchRawTx","msTxId","rejectTx","goToLastWallet","walletsWithRequests","walletAddress","bech32","msuSize","msutxSize","msSize","mstxSize","ghostMultisigSMS","apiSpeed","apiSpeeds","nextMultisigSMS","isEthOrEthToken","getFullOrigin","origin","pathname","home","hashHome","exchange","marketmaker","marketmaker_short","restoreWallet","connectWallet","farm","savePrivateSeed","savePrivateKeys","currencyWallet","atomicSwap","turboSwap","notFound","multisign","createInvoice","medium","twitter","facebook","github","telegram","bitcointalk","discord","reddit","youtube","transactionRate","impermanentLoss","swapAudit","etherdelta","button","about","extension","career","contacts","concept","description","research","wiki","bitcointalkSendTx","privacyPolicy","privacyPolicyDoc","terms","legalOpinion","licence","faq","question","footer","widget","chromeextantion","forstablecoin","fordexses","forblockchains","whitepaper","agreements","privacypolicy","legal","comparsion","bankdashboard","lnresearch","getFaqLink","faqID","saveUserData","interval","setInterval","curKeys","clearInterval","isLocalStorageEnabled","getPluginMethod","clear","originalListener","listener","storageArea","newValue","oldValue","addEventListener","removeEventListener","getCookie","cname","ca","cookie","charAt","substring","getSwapByIdSafe","swapID","noFlowError","getDeclinedExistedSwapIndex","decline","indexOfDecline","declineSwap","itemState","_i","topLocation","top","host","isFeedbackEnabled","STATISTIC_DISABLED","started","otherTabsClosed","failed","warning","currencySelected","securitySelected","finished","clickedBanner","pressedAddCurrency","opened","restore","withdraw","entered","exchangeForm","flipped","selectedAddress","redirectedCreateWallet","requestedSwap","createOffer","offers","deleted","buyPressed","swapRequested","stopped","marketmaking","enteredPromo","selected","enteredSettings","faqOpened","prevented","enabled","disabled","theme","switched","i18n","appPart","appPartEvents","details","getTopLocation","prefixMark","textToSend","encodeURI","run","migrations","initMigration","similarTokens","hiddenNativeCoinsList","hiddenTokensList","updatedHiddenCoinsList","cacheStorage","cachePart","cacheValue","cacheTimeout","alertTexts","defineMessages","defaultMessage","confirmTexts","no","yes","onCancelHandle","intl","formatMessage","labelNo","labelYes","onCancel","onClose","onAccept","backupReady","hasBackupPlugin","logoutUrl","calc","usedAdminFee","allowedCoins","isErc","isBep","isErcMatic","isProcessing","isHidden","serverBaseUrl","addUserMut","gql","updUserMut","addUser","createdBy","domain","updateUser","extensions","getIPInfo","ip","country_code","locale","reportAboutProblem","isError","feeCache","fetchCoinFee","updateCacheValue","feeResolved","hasFeeInCache","isBuyingUTXO","isBuyingAB","obtainedResult","doResolve","fetchFeeForNativeCoin","fetchFeeForEthLikeToken","coinTicker","coinFee","isUTXO","basecoinFee","getPairFees","sellCurrencyName","sellCurrencyBlockchain","buyCurrencyName","buyCurrencyBlockchain","have","byCoins","getItezUrl","getActuallyFiatAddress","returned","ethToken","handleGoTrade","CSSModules","useState","isCopied","setCopied","setLocalStorage","useEffect","newStorage","privateDataRegExp","styleName","onClick","back","Timer","timeLeft","cancelTimeLeft","enabledButton","newTimeLeft","newCancelTimeLeft","timer","tick","cancelTime","dateNow","isRefund","minToCancel","Fragment","React","onChange","dataTut","isDisabled","target","allowMultiple","cssModules","children","className","fullWidth","brand","transparent","blue","gray","big","small","empty","autoHeight","fill","cx","TimerButton","handleClick","Component","forceClick","disabledTimer","PropTypes","ShareButton","halfWidth","classes","minWidth","openShareModal","src","shareIcon","alt","ShareLink","isLinkCopied","qrLoaded","qrLoaderTimer","altText","fullSize","onCopy","handleCopyLink","onLoad","handleQrLoaded","readOnly","noneBorder","disable","Copy","showTip","injectIntl","ThemeTooltip","defaultType","dataset","scheme","dontHideMobile","place","effect","multiline","showWIF","swapWIF","isBtcLike","styles","reduceMessages","acc","msg","defaultLocale","language","prepareUrl","localisedUrl","SwapProgress","_fields","withdrawTransactionHash","etherscanLink","first","sixth","seventh","finish","eighth","stepValue","startSwapTime","isSwapPage","reload","getFinalCurrency","finalBuyCurrency","finalSellCurrency","isStartStepForRefund","isEndStepForRefund","isStepForRefund","isNotFinished","isCurrencyFunded","isSellCurrencyEthOrEthToken","isCurrencyWithdrawn","handleBarProgress","refundError","verifyScriptFunc","signed","fields","handleFlowStateUpdate","reloadPage","off","isEthContractFunded","showWalletButton","canRefund","checkCanRefund","_refundTx","refundTransactionHash","canBeRefunded","isDeletedSwap","href","signTransactionHash","rel","isEthWithdrawn","refundTxHex","willEnable","submitSecret","confirmScriptChecked","onPushGoToWallet","onPushGoToTxPage","whiteLogo","QR","animateFetching","renderQr","DepositWindow","isSellCurrencyToken","isSellCurrencyEvmCoin","actualBalance","dynamicFee","remainingBalance","requiredAmount","updateRemainingBalance","syncBalance","skipSyncBalance","getRequiredAmount","balanceCheckHandler","flowState","updateBalance","checkThePayment","checker","createCycleUpdatingBalance","prevProps","prevState","DontHaveEnoughtFoundsValues","missingBalance","br","handleReloadBalance","need","tooltip","mineerFee","isFirstStepActive","isFourthStepActive","fourthStepPadding","paddingTop","regularIcons","CLOSE","iconClose","OK","iconOk","CHECKED","iconChecked","METAMASK","iconMetamask","TRUST","iconTrustWallet","OPERA","iconOpera","NONE","iconDefault","UNKNOWN","LIQUALITY","iconLiquality","iconWalletConnect","_mounted","timeoutIds","showDepositWindow","isSecondStepActive","ethLikeCoin","scriptHashIsConfirmed","setScriptHashIsConfirmed","ethSwapHashIsConfirmed","setEthSwapHashIsConfirmed","ethSwapHash","setEthSwapHash","setScriptHash","checkTransactionHash","refreshTime","timeoutId","fetchedTx","showStepNumber","isStepActive","otherCurrency","isThirdStepActive","utxoSwapWithdrawTransactionHash","withdrawHashIsConfirmed","setWithdrawHashIsConfirmed","ethSwapWithdrawHashIsConfirmed","setEthSwapWithdrawHashIsConfirmed","ethSwapWithdrawHash","setEthSwapWithdrawHash","withdrawHash","setWithdrawHash","isLowStep","MakerUtxoToAbTexts","stepName","getMakerUtxoToAbTextText","TakerUtxoToAbTexts","getTakerUtxoToAbTextText","MakerAbToUtxoTexts","getMakerAbToUtxoText","TakerAbToUtxoTexts","getTakerAbToUtxoText","FIRST_STEP","TAKER_UTXO_SECOND_STEPS","MAKER_UTXO_SECOND_STEPS","TAKER_EVM_SECOND_STEPS","MAKER_EVM_SECOND_STEPS","TAKER_UTXO_THIRD_STEPS","MAKER_UTXO_THIRD_STEPS","TAKER_EVM_THIRD_STEPS","MAKER_EVM_THIRD_STEPS","FOURTH_STEP","SwapList","getStepName","flowClass","enoughBalance","SecondStep","UTXOSecondStep","ABSecondStep","ThirdStep","UTXOThirdStep","ABThirdStep","secondActiveStep","thirdActiveStep","UtxoToAbTexts","MakerUtxoToAbtTexts","AbToUtxoTexts","swapTexts","swapName","FeeControler","isAddressCopied","gasAmountNeeded","handleCopy","mount","checkStatusUser","dispatchEvent","checkStatusUserTimer","_flowName","toFixed","UTXOToEthToken","isShowingScript","preventDefault","isPressCtrl","depositWindow","destinationAddressTimer","currencyAddress","ParticipantTimer","continueSwap","waitWithdrawOther","onClickCancelSwap","feeControllerView","swapProgressView","FailControler","EthTokenToUTXO","ethTokenSwap","setAllowance","requestMaxAllowance","canCreateEthTransaction","isFailedTransaction","isFailedTransactionError","UTXOToEthLike","windowWidth","innerWidth","getRefundTxHex","updateWindowDimensions","isShowingGhostScript","EthLikeToUTXO","requestToFaucetSended","swapComponents","UTXO_to_ETH","ETH_to_UTXO","ERC20_to_UTXO","UTXO_to_ERC20","PROTOCOL","_message","isBuffer","Connection","remoteId","libp2p","_remoteId","_libp2p","_room","_connection","_connecting","encoding","_connect","_isConnectedToRemote","peerInfo","peerStore","dialProtocol","dial","stream","FiFoMessageQueue","pipe","connections","_idB58String","Symbol","asyncIterator","_queue","_ended","_resolve","done","emitter","peerId","remotePeer","toB58String","topicIDs","seqno","topic","namedQuery","namedQueryTimers","namedQueryTimer","isAsync","ret","namedQueryInit","DEFAULT_OPTIONS","pollInterval","PubSubRoom","_topic","_options","assign","clone","_peers","_connections","_handleDirectMessage","_handleMessage","_onMessage","pubsub","_interval","_pollPeers","handle","directConnection","tryConnect","tryNumber","tryCounts","dialer","connectToPeer","_idx","p","unhandle","peersInTopic","topics","sendTo","keyBook","has","toPeer","conn","topicCIDs","getSubscribers","newPeers","_emitChanges","differences","diff","added","removed","rawData","parsedData","recover","_recoverMessage","acknowledgeReceipt","_config","roomName","listen","discoveryPeers","peerIdJson","defaultListen","defaultDiscoveryPeers","PeerId","p2pNode","Libp2p","modules","transport","WebrtcStar","streamMuxer","MPLEX","connEncryption","SECIO","peerDiscovery","Bootstrap","dht","KadDHT","Gossipsub","maxParallelDials","maxDialsPerPeer","dialTimeout","connectionManager","maxConnections","Infinity","minConnections","maxData","maxSentData","maxReceivedData","maxEventLoopDelay","autoDialInterval","movingAverageInterval","defaultPeerValue","toStringTag","wrtc","autoDial","webRTCStar","bootstrap","relay","hop","randomWalk","createP2PNode","toJSON","start","p2pConnection","defaultRoomName","p2pRoom","_handleUserOnline","_handleUserOffline","_handleNewMessage","soliditySha3","signature","waitReceipt","CheckReceiptsT","repeat","checkReceiving","delivered","_signMessage","parentCollection","collection","isRequested","partialHandler","_update","_onMount","getVerifiedReputation","updatedOrder","filteredUpdatedOrder","_autoReplyToPartial","_saveMyOrders","changedKey","acceptRequestForPartial","declineRequestForPartial","updatedRequests","conditionHandler","newOrderId","accepted","checkIncomeOrder","isFormatValid","isValid","checkIncomeOrderFormat","isOwnerValid","checkIncomeOrderOwner","isOwnerWhitelisted","visibleMakers","_persistMyOrders","_sendOrdersToPeer","myOrders","getMyOrders","peerOrders","getPeerOrders","_handleRemove","filteredOrders","_handleMultipleCreate","_handleCreate","SwapRoom","getUniqueId","_handleReady","_handleNewOrders","_handleGiveOrders","_handleNewOrder","_handleRemoveOrder","_handleHideOrders","_handleShowOrders","orderData","roundedBuyAmount","roundedSellAmount","Order","_create","newOrders","removeByKey","baseClass","mixins","args","mixin","prototype","copyProps","getOwnPropertyNames","getOwnPropertySymbols","defineProperty","getOwnPropertyDescriptor","aggregation","TurboMaker","mySwap","takerTxHash","isTakerTxPended","makerTxHash","isMakerTxPended","usedSwap","TurboTaker","getMyAddress","getParticipantAddress","setupTakerMakerEvents","getStepNumbers","ethLikeSwap","btcSwap","targetWallet","ethLikeSwapCreationTransactionHash","isbtcWithdrawn","ethLikeSwapWithdrawTransactionHash","withdrawRequestIncoming","_persistState","waitBtcConfirm","signABSide","waitUTXOScriptCreated","verifyScript","waitUTXOScriptFunded","fundContract","isSwapCreated","getSecretFromContract","withdrawFromSwap","useTargetWallet","funded","swapData","checkSwapExists","refundHandler","wasRefunded","refund","_secret","_secretHash","AtomicAB2UTXO","EthLikeToBtc","getRefundHexTransaction","withdrawFee","signUTXOSide","fundSwapScript","waitABContract","withdrawFromABContract","isContractFunded","checkTargetAddress","utxoWithdrawData","checkTX","BtcToEthLike","EthLikeTokenToBtc","fundERC20Contract","ETHTOKEN2BTC","BtcToEthLikeToken","waitAB2UTXOContract","checkTokenIsValid","BTC2ETHTOKEN","ghostSwap","GHOST2ETH","ethSwap","onTransactionHash","txID","fundScript","checkGHOSTScriptBalance","isGhostScriptFunded","withdrawFromAB2UTXO","ETH2GHOST","isGhostWithdrawn","fundAB2UTXOContract","getSecretFromAB2UTXO","GHOST2ETHTOKEN","ETHTOKEN2GHOST","NEXT2ETH","utxoSwap","evmCoin","evmSwap","ETH2NEXT","NextToEvmToken","evmTokenSwap","NEXT2ETHTOKEN","EvmTokenToNext","ETHTOKEN2NEXT","getMyBnbAddress","getParticipantBnbAddress","BSCTOKEN2BTC","BTC2BSCTOKEN","getMyMaticAddress","getParticipantMaticAddress","MATICTOKEN2BTC","BTC2MATICTOKEN","getMyArbitrumAddress","getParticipantArbitrumAddress","skipFetchConfidence","skipCheckCanBeReplaces","skipLockTime","skipRecipientPublickKey","processUnspent","mainName","mainParams","testName","testParams","estimatedFeeRaw","estimatedFee","expectedConfidenceLevel","feesToConfidence","getTxFee","currentFastestFee","isLessThan","fetchConfidence","txConfirms","confidenceFromConfirmations","confFromFee","confidences","utxo","inputIndex","scriptData","hashType","SIGHASH_ALL","signatureHash","hashForSignature","redeemScriptSig","compile","encode","setInputScript","hashName","hashOpcodeName","hashOpcode","opcodes","OP_SIZE","OP_EQUALVERIFY","OP_EQUAL","OP_IF","OP_ELSE","OP_CHECKLOCKTIMEVERIFY","OP_DROP","OP_ENDIF","OP_CHECKSIG","fetchFullUnspentInfo","unspentsFullInfo","sequenceNumber","expected","expectedConfidence","fetchUnspentsFullInfo","canBeReplaced","checkCanBeReplaces","filterConfirmedUnspents","confirmedUnspents","expectedValue","filterConfidentUnspents","confidentUnspents","totalConfidentUnspent","handleTransactionHash","TransactionBuilder","feeValueBN","buildIncomplete","alreadyWithdrawed","setLockTime","_","_signTransaction","getWithdrawRawTransaction","utxoClass","fundScriptRepeat","checkScriptBalance","getRefundRawTransaction","txResult","scriptOpts","SwapInterface","UTXOBlockchain","_debug","web3adapter","bytes32","decoder","web3utils","bytesToHex","abi","getWeb3Adapter","getWeb3Utils","gasLimitReserve","hasTargetWallet","createSwapTarget","createSwap","methodName","_params","updateGasPrice","estimateGas","gasAmount","amountWei","expectedHash","expectedValueWei","_allSwapEvents","getPastEvents","fromBlock","toBlock","allSwapEvents","allEvents","fetchSwapEvents","swapEvents","returnValues","findSwap","wasClosed","getTargetWallet","getTargetWalletPromise","calcWithdrawOtherGas","withdrawOther","gasFee","abClass","tryCreateSwap","refundTx","checkSecretExist","needContractBalance","needTargetWallet","checkBalance","balanceCheckError","needed","getted","onWithdrawReady","tryWithdraw","stopRepeater","calcWithdrawGas","withdrawNeededGas","EthLikeSwap","PrivateKey","BufferUtil","confirmationsToConfidence","confs","sigBuffer","toDER","integerAsSingleByteBuffer","payment","setWitnesses","witness","toObject","lockUntilDate","tokenAddress","tokenAbi","newAmount","secretValue","calcFee","EthLikeTokenSwap","repo","dirpath","SIGNAL","kill","exit","_wait","createSwapApp","SwapAuth","Addresses","Swarm","SwapOrders","EthSwap","BnbSwap","MaticSwap","ArbitrumSwap","BtcSwap","GhostSwap","NextSwap","EthTokenSwap","BscTokenSwap","MaticTokenSwap","ETH2BTC","BTC2ETH","BNB2BTC","BTC2BNB","MATIC2BTC","BTC2MATIC","ARBITRUM2BTC","BTC2ARBITRUM","ShowBtcScript","Debug","btcScriptValues","DeleteSwapAfterEnd","autoDeleteOrder","isRequired","SwapComponent","coinsData","currenciesData","swapsId","sendedData","sendedJSON","sendDebugInfoTimer","deleteThisSwap","isSwapCancelled","sendWithdrawRequest","acceptWithdrawRequest","isFaucetRequested","rv","checkOtherSideRefund","otherSideRefunded","sendRequestToFaucet","isShowDebug","isAmountMore","ActiveSwap","shouldStopCheckSendingOfRequesting","errorInfo","performance","navigation","links","active_swap","afterComponentDidMount","saveThisSwap","checkIsFinished","checkStoppedSwap","sendSwapDebugInformation","checkingCycle","isFinallyFinished","checkEnoughFee","requestingWithdrawFee","checkFailSwap","checkingConfirmSuccess","checkIsConfirmed","checkingConfirmSuccessTimer","checkingCycleTimer","goWallet","toggleDebug","role","PureComponent","SwapMode","SwapSide","SwapTxStatus","SwapStatus","Address","addressStart","addressEnd","colorizing","color","Short","TxSide","isTitleHighlighted","Tx","Pending","imgPending","Done","imgDone","TurboSwap","sellCurrencyKey","buyCurrencyKey","myAddressSend","myAddressReceive","participantAddressSend","participantAddressReceive","swapIdShortened","part","letter","takerTx","Expected","makerTx","swapStatus","Finished","i18n_you","i18n_maker","i18n_taker","goToWallet","CommentRow","commentKey","updateComment","toggleComment","commentTextarea","ctrlKey","keyCode","submitComment","cssText","scrollHeight","isOpen","onSubmit","handleKeyUp","showComment","ref","onKeyUp","changeComment","Row","exCurrencyRate","showFiat","itemCurrency","payed","cancelled","shareLink","directionType","targetPath","tokenPart","tokenBaseCurrency","viewType","dataInd","userWallets","getFiatBalance","propsHash","substrAddress","fiatValue","paymentAddress","statusStyleAmount","hasInvoiceButtons","invoiceStatusClass","invoiceStatusText","txLink","width","viewBox","stroke","strokeWidth","invoiceNumber","returnLinkRouter","alignItems","totalCount","handlePayInvoice","handleCancelInvoice","handleSendConfirmLink","handleConfirmTx","Table","selectId","tdLink","linkOnTableBody","th","linkOnTableHead","cells","td","offsetWidth","handleResponsiveTable","nextProps","nextState","rows","isLoading","titles","rowRender","textIfEmpty","loadingText","table","linkOnTable","thead","tbody","row","rowIndex","handleSelectId","InfiniteScroll","InfiniteScrollTable","bottomOffset","itemsCount","documentElement","scrollTop","clientHeight","offsetHeight","getMore","onScroll","propTypes","inner","rideSideContent","leftSideContent","banners","nonHeader","filterValue","resetFilter","handleSubmit","placeholder","stopPropagation","cacheKeys","curTime","cleanup","cacheData","createtime","InvoicesList","withRouter","lsDataCache","unmounted","invoicesData","fetchItems","prevAddress","onlyTable","isRedirecting","invoicesTable","handleGoWalletHome","RowHistory","isPayed","isEmptyBalance","lockDateAndTime","swapUri","getSwapStatusText","closeIncompleted","SwapsHistory","filterHistory","History","stylesHere","renderedItems","commentsList","newRows","loading","createItemsState","page","onSwapCoreInited","prevItems","handleFilter","handleFilterChange","loadMore","defaultPack","capture","widgetPack","dcn","bxb","kn","drt","lev","arn","omg","syc2","icx","waves","xrp","yup","currencyIcons","icons","tokenIcon","returnTokenIcon","defaultCurrencyColors","isIconExist","iconSource","web3Icons","isIconConfigExist","backgroundColor","iconBgColor","currencyIconProps","lineHeight","fontSize","subHeaderText","stepNum","notMain","isShow","subHeaderText1","subHeaderText2","cupture2","curState","startPack","firstIdPart","selectedCurrency","withoutSecure","sms","pin","google2FA","multisignature","fingerprint","setError","forcedCurrencyData","_protection","g2fa","_activated","nothing","hiddenCoins","border","setBorder","isFingerprintAvailable","setFingerprintAvaillable","thisComponentInitHelper","useRef","isFingerprintFeatureAsked","setFingerprintFeatureAsked","isTrivialFeatureAsked","setTrivialFeatureAsked","isPinFeatureAsked","setPinFeatureAsked","isMultisigFeatureAsked","setMultisigFeatureAsked","PublicKeyCredential","isUserVerifyingPlatformAuthenticatorAvailable","coins","en","ru","nl","es","pl","activated","onClickHandler","cardStyle","cardStyle_","alert","colors","StepsWrapper","dataToReturn","defaultStartPack","untouchable","haveTokenConfig","isTokenAdded","widgetStartPack","packToken","currenciesForSecondStep","userData","useIntl","forcedCurrency","allCurrencies","setExist","isWasOnWallet","setStep","isExist","goHome","web3Type","web3Icon","isIgnoreSecondStep","showCloseButton","DropdownMenu","dropdownMenu","contains","handleAnyClick","classNames","hidden","handleItemClick","redirect","tab","ApiEndpoint","lowerSymbol","LinkEndpoint","PartOfAddress","withoutLink","AddressElement","fontWeight","langLabels","msConfirmCount","ethDataHelper","reduxActionName","itemData","targetCurrency","firstUrlPart","handleWithdrawPopup","isDropdownOpen","isBalanceEmpty","prevBalance","getComparableProps","nodeDownErrorShow","currencyFiatBalance","currencyView","hasHowToWithdraw","howToWithdraw","isSafari","mnemonicSaved","dropDownMenuItems","handleReceive","handleHowToWithdraw","handleWithdraw","goToExchange","goToCurrencyHistory","copy","copyPrivateKey","hideCurrency","handleCreateInvoice","handleCreateInvoiceLink","showBalance","statusInfo","handleActivatePinProtected","handleActivateProtected","handleSwitchMultisign","handleGenerateMultisignLink","ethRowWithoutExternalProvider","metamaskIsConnected","metamaskDisconnected","isAvailableMetamaskNetwork","isNotAvailableMetamaskNetwork","currencyTitleId","connectMetamask","textAlign","position","bottom","handleShowMnemonic","handleOpenDropdown","onPress","background","feedbackText","backGroundStyle","backGroundImgStyle","backgroundImage","WallerSlider","Swiper","spaceBetween","slidesPerView","breakpoints","inBanners","oldItezUrl","bannerUrl","bannerArr","bannersOnMainPage","widgetBanners","processItezBanner","initBanners","mnemonicDeleted","getBanners","isPrivateKeysSaved","needSignMultisig","linksManager","marginTop","marginBottom","handleGoToMultisigRequest","security","handleShowKeys","banner","tableRows","goToСreateWallet","exConfig","tabsIdsDictionary","FIRST_TAB","SECOND_TAB","THIRD_TAB","tabsVisibility","setTabsVisibility","openedTabs","setOpenedTabs","handleTabClick","tabName","convertToGwei","setFees","BYTE_IN_KB","btcSatoshiPrice","bnbGasPrice","ethGasPrice","maticGasPrice","arbethGasPrice","prevFees","miningFeeItems","unit","sourceLink","adminFeeItems","percentFee","tokenType","WidthContainer","fullHeight","relative","contentCentering","containerStyleName","containerInStyleName","dashboardView","evaluatedHeight","setEvaluatedHeight","elWithHeight","querySelector","minHeight","scrollable","centerHorizontally","centerVertically","keepFontSize","Modal","isLocationChange","disableClose","closeOnLocationChange","onLocationChange","currentLocation","catchLocationChange","titleUppercase","shouldCenterHorizontally","shouldCenterVertically","delayClose","titleStyleName","modal","modal_dashboardView","contentContainer","contentContainer_dashboardView","showLogo","disableCloseOverlay","uppercase","names","ExchangeRate","ConfirmOffer","offer","onBack","handleConfirm","setBoolValue","x","Input","valueLink","checkedLink","pattern","mask","maskChar","maskReplace","invalidClass","requiredClass","validationClasses","InputMask","nodeProps","val","RegExp","isPriceValueMask","Link","component","changeBalance","switching","RESIZED","TextareaAutosize","EVENT_TYPE","defer","createEvent","initEvent","textareaEl","autosize","onResize","getValue","onFocus","header","getElementById","classList","onBlur","inputContainerClassName","inputClassName","errorStyle","openScan","qr","smallFontSize","dontDisplayError","inputCustomStyle","withMargin","focusOnInit","srollingForm","inputContainerStyleName","withError","withQr","focusEvent","handleFocus","handleBlur","TextArea","ValueLinkInput","ignored","ignoreProps","autoFocus","dir","autoComplete","rootClassName","inputValueLink","OutsideClick","wrapperRef","outsideAction","handleClickOutside","setWrapperRef","DropDown","optionToggleIsOpen","onSelect","selectedValue","toggleClose","itemRender","selectedItemRender","selectedItem","textToShow","reduceSelectedItemText","disableSearch","linkedValue","inputValue","dontScroll","arrowSide","dropDownStyleName","linkedInputValue","itemsFiltered","noOptions","moreThenOneOption","dropDownId","toggleOpen","renderSelectedItem","handleOptionClick","renderItem","usedSelectedItemRender","bodySelector","portalSelector","fixBodyOverflow","fix","overflow","inputReplaceCommaWithDot","execCommand","createPortal","customSelector","ReactDOM","extendedControls","idFee","tooltipAboutFee","haveAmount","currAllowed","doNothing","onKeyDown","availableBalance","turboSwapIcon","supportedAssets","asset","isNumberStringFormatCorrect","stringified","lastIndexOf","AddOffer","swapsHelper","currenciesOrig","tokenBaseCurrencyBalance","correctMinAmountSell","correctMinAmountBuy","balanceForBuyTokenFee","balanceForSellTokenFee","sellWallet","currentBalance","balanceWithoutFee","minimalestAmountForSell","finalBalance","isTokenSell","isTokenBuy","minimalestAmountForBuy","exchangeRateSell","exchangeRateBuy","checkPair","updateExchangeRate","isTokenOffer","checkBalanceForTokenFee","updateTokenBaseWalletBalance","handleBuyAmountChange","handleSellAmountChange","getFee","handleAnyChange","manualRate","isSending","newSellAmount","newExchangeRate","newBuyAmount","onNext","handleSellCurrencySelect","initialData","minAmountForSwap","needEthBalance","linked","minimalAmountSell","minimalAmountBuy","handleBuyCurrencySelect","handleExchangeRateChange","handleManualRate","ethAmount","handleNext","view","propsData","scrollTo","handleMoveToConfirmation","handleMoveToOfferEditing","inRow","inDropDown","positionStatic","handleScan","handleError","facingMode","onScan","bip0020link","CurrencyList","isAssetsOpen","closeList","toggleListDisplay","itemId","openModal","bitcoinFees","slug","labelMessage","timeMessage","FeeRadios","setFee","customFeeValue","speedType","feeInByte","onFeeRateChange","htmlFor","max","onCustomFeeValueChange","currentDecimals","dataCurrency","exchangeRateForTokens","initialMinerFee","hasTxSize","feeCurrentCurrency","bitcoinFeeSpeedType","setBitcoinFee","minerFeeTicker","serviceFeeTicker","activeFiatSymbol","convertToFiat","bigNumResult","strResult","totalFee","fiatMinerFee","fiatServiceFee","fiatTotalFee","transactionSize","maxWidth","WithdrawModal","availableWallets","firstWallet","numAmount","bitcoinFeesRate","mounted","btcFeeRate","miner","customValue","setAlowedBalances","currentCoin","adminFeeSize","newMinerFee","fetchFee","tokenStandard","fetchBtcFee","ownTx","isShipped","sendOptions","nextStepModal","txInfoCache","txInfoUrl","redirectTo","errorText","customError","openScanCam","btcFeeTimer","hasExCurrencyRate","fiatAmount","maxService","maxAmount","maxFiatAmount","allowedCurrency","allowedFiat","newServiceFeeSize","arrOfCurrencies","activeCryptoCurrency","walletAddressOwner","commissionCurrency","walletForTokenFee","tokenCurrency","isInvoicePay","setCommissions","prevData","prevAmount","prevFiatAmount","findIndex","handleHaveNotAvailableWallet","selectedCurrencyInProps","updateCurrencyData","updateServiceAndTotalFee","isBTCWallet","selectedValueView","criptoCurrencyHaveInfoPrice","returnHaveInfoPrice","notEnoughForTokenMinerFee","labels","withdrawModal","balanceFiatMobile","balanceFiatDesktop","balanceMobile","balanceDesktop","ownTxPlaceholder","formRender","QrReader","right","additionalСurrenciesItemActive","handleAmount","marginLeft","setMaxBalance","allowedBalance","handleClose","setBtcUserFee","WithdrawModalMultisig","smsStatus","ethTokenMinAmount","ethBalance","fiatRates","setBalanceOnState","onFinishWithdraw","broadcastError","sendSmsStatus","minFee","balanceMiner","getFiat","smsConfirmed","sendSmsTimeout","sendSmsTimeoutTimer","actualyMinAmount","defaultMin","smsPlaceholder","mnemonicPlaceholder","handleMnemonicSign","handleSwitchToSms","sellAllBalance","errorName","handleConfirmSMS","handleSwitchToMnemonic","WithdrawModalMultisigUser","broadcastCancelFunc","txConfirmLink","handleReady","clipboard","writeText","handleCloseModal","langPrefix","langs","needSaveMnemonicToContinue","pleaseSaveMnemonicToContinue","buttonSaveMnemonic","buttonCancel","goBack","howToDeposit","recieveUrl","dangerouslySetInnerHTML","__html","handleBeginSaveMnemonic","downloadModal","textToCopy","Account","handleDownloadTxt","goToDecline","showSubtitle","context","handleClickCurrency","iconName","itemTitle","itemFullTitle","renderIcon","renderStyle","defaultLanguage","handleCancel","deleteText","MnemonicInput","tags","onChangeCallback","tag","isAutofill","testnetTagsWithoutLastElement","TESTNET_TAGS","returnTags","isPasteWords","reactTags","clearInput","busy","autoFill","suggestions","TESTNET_TEST_PHRASE","isPlaceholderVisible","onAddition","words","tagData","translate","autoresize","onDelete","onInput","placeholderText","removeButtonText","delimiters","newCustomWalletUse","customWalletUse","sellTicker","sellWalletAddress","systemWallets","customWallet","customWalletIsValid","customWalletAllowed","handleCustomWalletUse","PhoneInput","countryCode","country","getCountryCallingCode","phoneInput","defaultCountry","generatedKey","useGeneratedKey","useGeneratedKeyEnabled","isMnemonicValid","smsServerOffline","isWalletLockedOtherPhone","generateRestoreInstruction","isMnemonicCopied","isInstructionCopied","restoreInstruction","isInstructionDownloaded","isMnemonicGenerated","initStep","showFinalInstruction","DefaultCountryCode","registerSMSModal","phonePlaceHolder","smsPlaceHolder","sentBtnDisabled","isValidPhoneNumber","onPhoneChange","handleGenerateMnemonic","handleCopyMnemonic","handleRestoreWallet","handleSendSMS","handleCheckSMS","okSvg","handleCopyInstruction","handleDownloadInstruction","handleShareInstruction","handleFinish","multiSignJoinLinkMessage","multiSignJoinLink","defaultStyles","joinLink","linkAction","localeLabel","addressPlaceholder","destiAddressPlaceholder","amountPlaceholder","contactPlaceholder","labelPlaceholder","ownStyle","handleGoToInvoice","multiplier","payerAddress","isErc20","isBep20","toAddressEnabled","otherAddress","checkCurrency","curList","dropDownStyles","Title","invoiceLink","ok","dontClose","callbackOk","closeModal","closeWithCustomAction","canClose","labelOk","okButtonAutoWidth","buttonStyle","handleOk","isPending","getInfoAboutToken","addToken","WalletRow","handleRefresh","handleSwitch","handleRemove","refreshWallets","fetching","copyLink","linkCopied","share","noticeUp","noticeFetching","dismatchTx","youCantSignThis","buttonClose","useBackendId","isConfirming","signedTX","btcTxId","isControlFetching","isTxHolder","txAuthedData","txDataParsed","debugShowTXB","debugShowInput","debugShowOutput","handleGoToWallet","handleReject","enterMnemonicNotice","shareMnemonicTitle","showMnemonicNotice","readySaveNotice","saveMnemonicStep1","saveMnemonicStep2","beginNotice","beginContinue","beginLater","clickedWord","randomWords","enteredWords","incorrectWord","mnemonicInvalid","random","handleClickWord","handleGoToConfirm","mnemonicLabel","readyNotice","Ready","restoringWallet","restoryWallet","cancelRestory","noRedirect","mnemonicIsInvalid","backupMark","btcWallet","restoryMark","btcPrivKey","btcSmsKey","handleMnemonicChange","handleRestoryWallet","titleFetching","invoiceSender","invoiceComment","payInvoice","declimeInvoice","shareText","shareReady","shareInfo","infoStatusReady","infoStatusDeclimed","infoStatusPending","isShareReady","payWallet","withdrawType","isReady","newLocation","isCancelled","onFetching","doshare","isPayerSide","shareButtonEnabled","isPayerControlEnabled","buttonsHolderStyles","modalTitle","infoIconTitle","infoIconUrl","imgReady","imgCanceled","handleChangeLocation","handleShareReady","colSpan","handleDeclimeInvoice","handleCloseButton","registerPinModal","pinCodePlaceHolder","pinCodeConfirmPlaceHolder","enterPinCodeUpMessage","enterPinCodeBottomMessage","youNotEnterPin","pinCodeNotEqueals","pinServerOffline","useMnemonicNote","useMnemonicButton","restoryUpMessage","restoryBottomMessage","labelYourMnemonic","mnemonicPlaceHolder","shipButton","confirmButton","usepinButton","activateWallet","errorWalletLocked","labelYourPin","labelConfirmYourPin","buttonFinish","buttonCopiedInstruction","buttonCopyInstruction","buttonDownloadingInstruction","buttonDownloadInstruction","buttonShare","finishMessage","instructionMessage","errorMnemonicInvalid","errorMnemonicIncorrect","pinCode","pinCodeConfirm","isWalletLockedOtherPin","handleUsePin","handleCheckPIN","handleRestoreWalletStep","upMessage","upMessageMnemonic","pinCodeNotValid","cancelButton","mnemonicNote","serverIsOffline","pincodeNote","usePinCode","processSendResult","serverOffline","beforeBalances","handleSend","handleUseMnemonic","handleSendMnemonic","handleUsePassword","deposit","dataClose","actionType","actionLabel","handleClosePopup","providerTitles","dontRedirect","goToPage","onConnectLogic","handleInjected","handleWalletConnect","ShareModal","OfferModal","ModalConductor","offsetTop","isCSS1Compat","myOffsetTop","compatMode","pageXOffset","y","pageYOffset","scrollLeft","modalNames","highestZIndex","Modals","isAnyModalCalled","hiestZ","isModalOpenedHelper","closest","__modalConductorProvided__","modalContainerStyleName","handleMount","ModalBox","balanceRef","activeView","showSweepBanner","CUSTOM_LOGO","BalanceForm","yourAssetsWrapper","activity","fiatBalance","currencyBalance","handleInvoice","showButtons","singleWallet","dollar","Wallet","btcMultisigUserDataList","userCurrencyData","returnFiatBalanceByWallet","returnBalanceInBtc","lastCheckMoment","isFirstCheck","isSame","isOneHourAfter","isAfter","syncTimer","stats","ipInfo","registrationData","userLanguage","appConfig","widgetUrl","widget_url","tokensArray","public_key","entry","activeComponentNum","btcBalance","prevPage","prevMultisigPendingCount","prevPathname","handleConnectWallet","wpLogoutModal","syncData","addFiatBalanceInUserCurrencyData","balanceInBtc","returnTotalBalanceInBtc","allFiatBalance","returnTotalFiatBalance","handleWithdrawFirstAsset","inputToolTip","balanceTooltip","partialStyles","frameBorder","allow","allowFullScreen","smalltext","labelSpecifyAddress","optionInternal","optionInternalDisabled","optionInternalCreate","optionConnect","optionCustom","placeholderAddress","AddressSelect","currentWallet","getTicker","internalAddress","getInternalAddress","walletAddressFocused","isMetamaskConnected","applyAddress","isScanActive","toggleScan","option","oldSelectedType","selectedType","dontSelect","goСreateWallet","addressObj","newSelectedType","internalBalance","isInternalOptionDisabled","Send","isMetamaskOption","isCustomAddressOption","isUTXOModel","isCustomOptionInputHidden","getProviderType","dropDownOptions","isCurrencyInInternalWallet","iconInternal","Receive","iconCustom","hasError","onWeb3Updated","prepareDropDownOptions","newCurrency","oldBalance","oldCurrency","oldHasError","handleOptionSelect","textOverflow","handleFocusAddress","handleBlurAddress","handleScanError","NetworkStatus","PageHeadline","subTitle","CurrencyDirectionChooser","flipCurrency","chooseProps","Panel","seo","email","mainUrl","logo","pages","uri","defaultWindowTitle","h1","getSeoPage","getUrl","sameAs","Seo","seoPage","canonical","meta","property","PageSeo","defaultTitle","defaultDescription","getValues","ownerEthAddress","avatarUrl","toSvg","gravatar","hasGravatar","sendSwapRequest","handleDeclineOrdersModalOpen","finalDecimals","mod","checkSwapAllow","renderCoinName","haveCurrency","getCurrency","exchangeRates","messages","formatWithDecimals","enterButton","balanceCheckCur","renderContent","sellCurrencyOut","sellAmountOut","getCurrencyOut","getAmountOut","priceOut","ownerPeer","linkedOrderId","isSwapButtonEnabled","isSilentError","mobileFormatCrypto","checkDeclineOrders","RowFeeds","currentUrl","generateOfferUrl","ShareImg","MyOrders","filterMyOrders","filterOrders","compareOrders","OrderBook","isShowAllMyOrders","buyOrders","sellOrders","pairFees","propsBuyCurrency","propsSellCurrency","invalidPair","buyCurrencyFullName","sellCurrencyFullName","metaTitle","metaDescription","myOrdersThisMarket","offersNoticeLoadingText","offersNoticeOfflineText","handleShowAllMyOrders","tableStyles","Offers","getCurrentCurrencies","prevBuy","prevSell","createNewState","sectionContainerStyleName","handleShowOrders","idx","isChromeExtention","bannedPeers","Exchange","userWalletTypes","getExchangeSettingsFromLocalStorage","setDefaultCurrencyType","hasTokenAllowance","fetchPairFees","fetchBalances","fetchFiatExRate","buyExRate","sellExRate","buyWallet","feeBuyWallet","feeSellWallet","checkBalanceOnAllCurrency","haveType","getType","newExchangeSettings","buyValue","sellValue","handleSetHaveValue","checkValidUrl","avaliablesBuyCurrency","handleSetGetValue","filterSameVale","isOnlyForm","exHaveRate","exGetRate","checkParams","fromType","isUserSellToken","isUserBuyToken","sellBalance","enoughBalanceForSellAmount","enoughBalanceForFullPayment","balanceIsOk","sellFee","buyFee","isUTXOSell","sellBlockchainBalance","buyBlockchainBalance","alertMessage","checkBalanceForSwapPossibility","isPendingTokenApprove","haveCurrencyName","coinStandard","updateTokenAllowance","haveTicker","declinedExistedSwapIndex","openModalDeclineOrders","isEvmCoinSell","isEvmCoinBuy","orderOwnerEvmCoin","orderOwnerEvmAddress","swapOwnerAddress","swapParticipantAddress","getAmount","maxBuyAmount","isWaitForPeerAnswer","requestTimeoutSec","requestTimeout","banPeer","getLinkToDeclineSwap","setDeclinedOffer","onRequestAnswer","redirectToSwap","Turbo","Atomic","unfinishedOrder","wayToDeclinedOrder","formCurrencies","partialItemsArray","isDeclinedOffer","isNonOffers","getCurrencyName","sortedOrders","setOrderOnState","isNoAnyOrders","maxAllowedSellAmount","maxAllowedGetAmount","maxAllowedBuyAmount","isFound","newState","findGoodOrder","inOrders","goodRate","isPeerBanned","setAmountOnState","setNoOfferState","getDefaultWalletType","fetchPairFeesAndBalances","changeUrl","addressRole","addressData","toAddressTicker","isToAddressUTXOModel","resetState","noPairToken","checkingValue","dropDownCurrencies","chooseCurrencyToRender","faqLink","localSavedOrders","desclineOrders","lifeTimeout","ordersIsOpen","isSellCoinNeedAddCorrectNetwork","isBuyCoinNeedAddCorrectNetwork","isRootPage","exchangeDataStr","haveFiat","isLowAmount","directionOrders","haveBalance","makeAddressObject","newExchangeData","storageType","getLocalStorageWalletType","resultType","returnNeedCurrency","timerProcess","setOrders","checkUrl","getCorrectDecline","isFullLoadingComplete","prevHaveCurrency","updateExchangeSettings","peerID","doesComissionPreventThisOrder","sellCoinFee","fiatFeeCalculation","oneCryptoCost","availableAmount","checkoutLowAmount","isShowSwapModeSwitch","isTurboAllowed","isPrice","isErrorNoOrders","isErrorLowLiquidity","isErrorExternalDisabled","isFromAddressReady","isToAddressReady","isBalanceReady","isSellCoinAvailableNetwork","isBuyCoinAvailableNetwork","isCorrectMetamaskNetwork","isIncorrectMetamaskNetwork","canStartSwap","getTextWhyCanNotStartSwap","isIncompletedSwaps","isDevBuild","sellCoinName","sellCoinBlockchain","buyCoinName","sellNativeCurrency","buyNativeCurrency","networkNeedsToBeUsed","isEthNativeCoin","isMetamaskProvider","Form","setAmount","extendedControlsSet","addrData","maxForBuy","maxForSell","btcAmount","goDeclimeFaq","updateFees","approveTheToken","handleAddCorrectNetwork","initSwap","showIncompleteSwap","promoContainer","toggleOrdersVisibility","CurrencyWallet","txHistory","blockchainOk","txItems","filterCurrencies","hasCachedData","withdrawUrl","receiveUrl","oldTxItems","showSwapHistory","titleSwapOnline","titleWidgetBuild","Text","TxInfo","sourceCurrency","linkBlockChain","linkShare","finalBalances","finalAmount","finalAdminFee","fromFinal","toFinal","fromIsOur","toIsOur","fromBalance","toBalance","cachedTxInfo","infoTx","walletOne","walletTwo","walletLink","checkAddresses","ourWallets","availableAddresses","getWalletLink","fetchTxFinalBalances","Btc","handleOnlineWalletConnect","timerWaitOnlineJoin","myPublicKey","waitCreateWallet","walletBalance","addWalletEnabled","dataParts","handleAddWallet","handleSaveMnemonic","Expandable","isOpened","onExpand","MarketmakerPromo","userTokens","utxoTitle","Ab_Title","extensionPromoDark","extensionPromoLight","openChromeStore","SwapRow","swapState","_handleSwapEnterStep","onSwapEnterStep","extractSwapStatus","MarketmakerSettings","marketToken","isWalletCreated","_handleSwapAttachedHandle","onSwapAttachedHandle","swapsByIds","utxoWallet","utxoBalance","tokenWallet","tokenBalance","isFirstFetchin","isMarketEnabled","isEthBalanceOk","isUtxoBalanceOk","isTokenBalanceOk","marketSpread","fetchWalletsWithBalances","evmCoinWallet","prevMarketToken","prevUtxoCoin","cleanupMarketMakerOrder","lsSwapId","AB_Coin","createMakerMakerOrder","sellTokenExchangeRate","sellTokenOrderData","sellOrder","buyTokenExchangeRate","buyTokenOrderData","buyOrder","cbFunction","totalBalance","sortedSwaps","aId","bId","handleCreateWallet","handleRestoreMnemonic","handleToggleMarketmaker","Full","tokenFullName","tokenStandart","_metamaskEnabled","processDisconnectWallet","processConnectWallet","CreateInvoice","Invoice","infoModal","fetchInvoice","prevUniqhash","ScrollToTop","SaveKeys","onDownload","otherProps","isConfirm","isReject","animation","views","Areyousure","SaveKeysModal","changeView","handleDownload","exact","LocalStorage","CreateWallet","BtcMultisignProcessor","NotFound","Core","setupPubSubRoom","updateOrders","pubsubLoadingInterval","setPubsub","removeListener","leave","ErrorBoundary","stack","Nav","menu","isDesktop","isExternal","activeClassName","NavMobile","isBold","currentPageFlag","displayNone","tabIndex","Logo","isCustomLogo","logoUrl","customLogoUrl","darkLogoUrl","isCustomLogoLink","LOGO_REDIRECT_LINK","customLogoLink","imgSrc","logoColored","imgAlt","goToUrl","continuous","isLastStep","backProps","primaryProps","skipProps","tooltipProps","closeTour","TourPartial","STATUS","floaterProps","disableAnimation","spotlightPadding","isTourOpen","handleJoyrideCallback","scrollToFirstStep","tooltipComponent","showProgress","showSkipButton","arrowColor","WalletTour","placement","WidgetWalletTour","widgetName","isWidget","overlayClassName","showMyOwnTip","loaderLogoUrl","isChromeExtension","getMenuItems","linksExchange","itemsWithWallet","itemsWithoutWallet","marketmakerItem","getMenuItemsMobile","dinamicPath","mobileItemsWithWallet","mobileItemsWithoutWallet","xmlns","moon","UserTooltip","mePeer","ArrowRightSvg","isButton","Header","clearLocalStorage","tapCreateWalletButton","startTourAndSignInModal","customProps","finishProps","menuItems","menuItemsMobile","createdWalletLoader","isGuestLink","isWalletPage","isPartialPage","didOpenWalletCreate","wasOnWalletLs","wasOnExchangeLs","wasOnWidgetWalletLs","tourEvent","userCurrencies","openWalletTour","openExchangeTour","openWidgetWalletTour","openCreateWallet","isWidgetTourOpen","isPartialTourOpen","themeSwapAnimation","wasDark","toggle","handleLogout","dynamicPath","lsWalletCreated","isWallet","lastScrollTop","handlerAsync","sawWarning","isExchange","isLogoutPossible","isUserRegisteredAndLoggedIn","logoRenderer","WPSO_selected_theme","handleToggleTheme","incomingSwapRequest","closeWidgetTour","closePartialTour","nav","intlLocale","switchLang","expires","setTime","toUTCString","updatedCookie","propValue","setCookie","getFullYear","localeIsNotMatched","isFooterDisabled","PreventMultiTabs","onSwitchTab","handleSwitchClick","soundPlay","isMounted","setIsMounted","isRemoved","setIsRemoved","closeOnEscapeKey","closeNotification","soundClick","audio","Audio","autoplay","notificationStyleName","NotificationConductor","notificationNames","Notifications","metamaskNetworks","App","btcAddress","ghostAddress","nextAddress","initialFetching","completeCreation","startPage","addStartPageListeners","removeStartPageListeners","createBtn","connectBtn","restoreBtn","skipBtn","setCompleteCreation","dashboardModalProvider","multiTabs","preventMultiTabs","localStorageListener","prvMultiTab","newId","appID","isSwitch","generadeId","switchId","chrome","extViews","getViews","getBackgroundPage","_checkChain","popupIncorrectNetwork","wpLoader","isRestored","processUserBackup","checkIfDashboardModalsAllowed","onerror","indexedDB","prerenderReady","appInstalled","checkCompletionOfAppCreation","completeAppCreation","overflowHandler","isCalledFromIframe","parent","handleSwitchTab","isSeoDisabled","translations","myNl","myEn","myRu","myEs","myPl","IntlProviderContainer","render","currentLocale","Root","routes","revision","ErrorPageNoSSL","rootEl","Sentry","dsn","integrations","Integrations","tracesSampleRate","protocol","isLocalIP","queue","migration","webpackContext","webpackContextResolve","__webpack_require__","o","module","exports","webpackEmptyContext","__webpack_module_cache__","moduleId","cachedModule","loaded","__webpack_modules__","amdO","O","chunkIds","fn","priority","notFulfilled","fulfilled","j","r","getter","__esModule","definition","enumerable","chunkId","promises","u","h","miniCssF","g","globalThis","hmd","l","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","nc","onScriptComplete","prev","onload","doneFns","parentNode","head","nmd","paths","publicUrl","installedChunks","installedChunkData","promise","errorType","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","__webpack_exports__"],"mappings":"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","file":"app.001439.js","sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"swap.online:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","import * as bitcoin from 'bitcoinjs-lib'\nimport * as bip32 from 'bip32'\nimport { hdkey } from 'ethereumjs-wallet'\nimport * as bip39 from 'bip39'\n\nconst getRandomMnemonicWords = () => {\n  return bip39.generateMnemonic()\n}\n\nconst validateMnemonicWords = (mnemonic) => {\n  return bip39.validateMnemonic(convertMnemonicToValid(mnemonic))\n}\n\nconst convertMnemonicToValid = (mnemonic) => {\n  return mnemonic\n    .trim()\n    .toLowerCase()\n    .split(` `)\n    .filter((word) => word)\n    .join(` `)\n}\n\n\nconst getBtcWallet = (network, mnemonic, walletNumber = 0, path) => {\n  mnemonic = convertMnemonicToValid(mnemonic)\n  const seed = bip39.mnemonicToSeedSync(mnemonic)\n  const root = bip32.fromSeed(seed, network)\n  const node = root.derivePath((path) ? path : `m/44'/0'/0'/0/${walletNumber}`)\n\n  const account = bitcoin.payments.p2pkh({\n    pubkey: node.publicKey,\n    network: network,\n  })\n\n  return {\n    mnemonic,\n    address: account.address,\n    //@ts-ignore\n    publicKey: node.publicKey.toString('Hex'),\n    WIF: node.toWIF(),\n    node,\n    account,\n  }\n}\n\nconst getEthLikeWallet = (params) => {\n  const { mnemonic, walletNumber = 0, path } = params\n  const validMnemonic = convertMnemonicToValid(mnemonic)\n  const seed = bip39.mnemonicToSeedSync(validMnemonic)\n  const hdwallet = hdkey.fromMasterSeed(seed)\n  const wallet = hdwallet.derivePath((path) || `m/44'/60'/0'/0/${walletNumber}`).getWallet()\n\n  return {\n    mnemonic: validMnemonic,\n    //@ts-ignore\n    address: `0x${wallet.getAddress().toString('Hex')}`,\n    //@ts-ignore\n    publicKey: `0x${wallet.pubKey.toString('Hex')}`,\n    //@ts-ignore\n    privateKey: `0x${wallet.privKey.toString('Hex')}`,\n    wallet,\n  }\n}\n\nconst getGhostWallet = (network, mnemonic, walletNumber = 0, path) => {\n  const seed = bip39.mnemonicToSeedSync(mnemonic)\n  const root = bip32.fromSeed(seed, network)\n  const node = root.derivePath((path) || `m/44'/0'/0'/0/${walletNumber}`)\n\n  const account = bitcoin.payments.p2pkh({\n    pubkey: node.publicKey,\n    network: network,\n  })\n\n  return {\n    mnemonic,\n    address: account.address,\n    //@ts-ignore\n    publicKey: node.publicKey.toString('Hex'),\n    WIF: node.toWIF(),\n    node,\n    account,\n  }\n}\n\nconst getNextWallet = (network, mnemonic, walletNumber = 0, path) => {\n  const seed = bip39.mnemonicToSeedSync(mnemonic)\n  const root = bip32.fromSeed(seed, network)\n  const node = root.derivePath((path) || `m/44'/707'/0'/0/${walletNumber}`)\n\n  const account = bitcoin.payments.p2pkh({\n    pubkey: node.publicKey,\n    network: network,\n  })\n\n  return {\n    mnemonic,\n    address: account.address,\n    //@ts-ignore\n    publicKey: node.publicKey.toString('Hex'),\n    WIF: node.toWIF(),\n    node,\n    account,\n  }\n}\n\nconst mnemonicIsValid = (mnemonic:string):boolean => bip39.validateMnemonic(convertMnemonicToValid(mnemonic))\n\nexport {\n  getRandomMnemonicWords,\n  validateMnemonicWords,\n  mnemonicIsValid,\n  convertMnemonicToValid,\n  getBtcWallet,\n  getEthLikeWallet,\n  getGhostWallet,\n  getNextWallet,\n}","export const COIN_TYPE = Object.freeze({\n  NATIVE: 'NATIVE',\n  ETH_TOKEN: 'ETH_TOKEN',\n  BNB_TOKEN: 'BNB_TOKEN',\n  MATIC_TOKEN: 'MATIC_TOKEN',\n})\n\nexport const TOKEN_STANDARD = Object.freeze({\n  ERC20: 'ERC20',\n  BEP20: 'BEP20',\n  ERC20MATIC: 'ERC20MATIC'\n})\n\nexport const BLOCKCHAIN = Object.freeze({\n  BTC: 'BTC',\n  GHOST: 'GHOST',\n  NEXT: 'NEXT',\n  ETH: 'ETH',\n  BNB: 'BNB', // TODO: rename with BSC\n  MATIC: 'MATIC',\n  ARBITRUM: 'ARBITRUM',\n})\n\nexport const BASE_TOKEN_CURRENCY = Object.freeze({\n  ETH: 'ETH',\n  BNB: 'BNB',\n  MATIC: 'MATIC'\n})\n\nexport const COIN_MODEL = Object.freeze({\n  UTXO: 'UTXO', // Unspent Transaction Outputs model\n  AB: 'AB' // Account/Balance model\n})\n\nexport const COIN_DATA = {\n  'BTC': {\n    ticker: 'BTC',\n    name: 'Bitcoin',\n    type: COIN_TYPE.NATIVE,\n    blockchain: BLOCKCHAIN.BTC,\n    model: COIN_MODEL.UTXO,\n    precision: 8,\n  },\n  'ETH': {\n    ticker: 'ETH',\n    name: 'Ethereum',\n    type: COIN_TYPE.NATIVE,\n    blockchain: BLOCKCHAIN.ETH,\n    model: COIN_MODEL.AB,\n    precision: 18,\n  },\n  'BNB': {\n    ticker: 'BNB',\n    name: 'Binance Coin',\n    type: COIN_TYPE.NATIVE,\n    blockchain: BLOCKCHAIN.BNB,\n    model: COIN_MODEL.AB,\n    precision: 18,\n  },\n  'MATIC': {\n    ticker: 'MATIC',\n    name: 'MATIC Token',\n    type: COIN_TYPE.NATIVE,\n    blockchain: BLOCKCHAIN.MATIC,\n    model: COIN_MODEL.AB,\n    precision: 18,\n  },\n  'ARBETH': {\n    ticker: 'ARBETH',\n    name: 'Arbitrum ETH',\n    type: COIN_TYPE.NATIVE,\n    blockchain: BLOCKCHAIN.ARBITRUM,\n    model: COIN_MODEL.AB,\n    precision: 18,\n  },\n  'USDT': {\n    ticker: 'USDT',\n    name: 'Tether',\n    type: COIN_TYPE.ETH_TOKEN,\n    blockchain: BLOCKCHAIN.ETH,\n    standard: TOKEN_STANDARD.ERC20,\n    model: COIN_MODEL.AB,\n    precision: 18,\n  },\n  'BTCB': {\n    ticker: 'BTCB',\n    name: 'BTCB Token',\n    type: COIN_TYPE.BNB_TOKEN,\n    blockchain: BLOCKCHAIN.BNB,\n    standard: TOKEN_STANDARD.BEP20,\n    model: COIN_MODEL.AB,\n    precision: 18,\n  },\n  'EURS': {\n    ticker: 'EURS',\n    name: 'STASIS EURO',\n    type: COIN_TYPE.ETH_TOKEN,\n    blockchain: BLOCKCHAIN.ETH,\n    standard: TOKEN_STANDARD.ERC20,\n    model: COIN_MODEL.AB,\n    precision: 18,\n  },\n  'GHOST': {\n    ticker: 'GHOST',\n    name: 'Ghost',\n    type: COIN_TYPE.NATIVE,\n    blockchain: BLOCKCHAIN.GHOST,\n    model: COIN_MODEL.UTXO,\n    precision: 8,\n  },\n  'NEXT': {\n    ticker: 'NEXT',\n    name: 'NEXT.coin',\n    type: COIN_TYPE.NATIVE,\n    blockchain: BLOCKCHAIN.NEXT,\n    model: COIN_MODEL.UTXO,\n    precision: 8,\n  },\n  'SWAP': {\n    ticker: 'SWAP',\n    name: 'SWAP',\n    type: COIN_TYPE.ETH_TOKEN,\n    blockchain: BLOCKCHAIN.ETH,\n    standard: TOKEN_STANDARD.ERC20,\n    model: COIN_MODEL.AB,\n    precision: 18,\n  },\n  'SNM': {\n    ticker: 'SONM',\n    name: 'SWAP',\n    type: COIN_TYPE.ETH_TOKEN,\n    blockchain: BLOCKCHAIN.ETH,\n    standard: TOKEN_STANDARD.ERC20,\n    model: COIN_MODEL.AB,\n    precision: 18,\n  },\n}\n\n\n// todo: move to COIN_DATA\n\nexport const NATIVE = {\n  btc: 'BTC',\n  eth: 'ETH',\n  bnb: 'BNB',\n  matic: 'MATIC',\n  arbeth: 'ARBETH',\n  ghost: 'GHOST',\n  next: 'NEXT',\n}\n\nexport const BNB_TOKENS = {\n  btcb: 'BTCB',\n}\n\nexport const MATIC_TOKENS = {\n  wbtc: 'WBTC',\n}\n\nexport const ETH_TOKENS = {\n  usdt: '{ETH}USDT',\n  eurs: '{ETH}EURS',\n  swap: '{ETH}SWAP',\n  pay: '{ETH}PAY',\n\n  // needs for the front\n  proxima: '{ETH}PROXIMA',\n  snm: '{ETH}SNM',\n  noxon: '{ETH}NOXON',\n  pbl: '{ETH}PBL',\n  xsat: '{ETH}XSAT',\n  hdp: '{ETH}HDP',\n  scro: '{ETH}SCRO',\n  xeur: '{ETH}XEUR',\n\n}\n\nexport default {\n  ...NATIVE,\n  ...ETH_TOKENS,\n  ...BNB_TOKENS,\n  ...MATIC_TOKENS,\n  ...COIN_DATA,\n}\n","export default {\n  web3: 'web3',\n  bitcoin: 'bitcoin',\n  bitcoincash: 'bitcoincash',\n  ghost: 'ghost',\n  next: 'next',\n  coininfo: 'coininfo',\n  storage: 'storage',\n  sessionStorage: 'sessionStorage',\n  swapsExplorer: 'swapsExplorer',\n  metamask: 'metamask',\n  getWeb3: 'getWeb3',\n  isBinance: 'isBinance',\n  web3bnb: 'web3bnb',\n  getWeb3Bnb: 'getWeb3Bnb',\n  web3Matic: 'web3Matic',\n  getWeb3Matic: 'getWeb3Matic',\n  web3Arbitrum: 'web3Arbitrum',\n  getWeb3Arbitrum: 'getWeb3Arbitrum',\n  isTest: 'isTest',\n}\n","import COINS, {\n  NATIVE,\n  ETH_TOKENS,\n  COIN_DATA,\n  TOKEN_STANDARD,\n} from './COINS'\nimport ENV from './ENV'\nimport SERVICES from './SERVICES'\nimport NETWORKS from './NETWORKS'\n\n\nexport default {\n  COINS,\n  NATIVE,\n  ETH_TOKENS,\n  COIN_DATA,\n  TOKEN_STANDARD,\n\n  ENV,\n  SERVICES,\n  NETWORKS,\n}\n","export default {\n  auth: 'auth',\n  room: 'room',\n  orders: 'orders',\n  swaps: 'swaps',\n}\n","export default {\n  MAINNET: 'mainnet',\n  TESTNET: 'testnet',\n}\n","class StorageFactory {\n\n  prefix: string\n  storage: any\n\n  constructor(storage) {\n    this.prefix = 'swap:'\n    this.storage = storage || global.localStorage\n\n    try {\n      this.storage.setItem('test', 'test')\n      this.storage.getItem('test')\n      this.storage.removeItem('test')\n    }\n    catch (err) {\n      throw new Error(`SwapApp.env.StorageFactory: ${err}`)\n    }\n  }\n\n  setItem(key, value) {\n    this.storage.setItem(`${this.prefix}${key}`, JSON.stringify(value))\n  }\n\n  getItem(key) {\n    const value = this.storage.getItem(`${this.prefix}${key}`)\n\n    try {\n      return JSON.parse(value)\n    }\n    catch (err) {\n      console.error(`SwapApp.env.storage.getItem(${key}) parse error. Looks like the value was created w/o setItem method`)\n      console.error(err)\n      return undefined\n    }\n  }\n\n  removeItem(key) {\n    return this.storage.removeItem(`${this.prefix}${key}`)\n  }\n}\n\n\nexport default StorageFactory\n","class Collection {\n\n  items: any[]\n  itemIds: any\n\n  // _constructor for aggregation\n  _constructor() {\n    this.items = []\n    this.itemIds = {}\n  }\n\n  constructor() {\n    this._constructor()\n  }\n\n  map(callback) {\n    return this.items.map(callback)\n  }\n\n  filter(callback) {\n    return this.items.filter(callback)\n  }\n\n  forEach(callback) {\n    this.items.forEach(callback)\n  }\n\n  /**\n   * Add item at the start of current collection\n   * @param item\n   * @param key {string|number}\n   * @returns {*}\n   */\n  prepend(item, key) {\n    this.items.unshift(item)\n    if (key) {\n      for (let key in this.itemIds) {\n        if (this.itemIds.hasOwnProperty(key)) {\n          this.itemIds[key] += 1\n        }\n      }\n      this.itemIds[key] = 0\n    }\n    return item\n  }\n\n  /**\n   * Add item at the end of current collection\n   * @param item\n   * @param key {string|number}\n   * @returns {*}\n   */\n  append(item, key) {\n    this.items.push(item)\n    if (key) {\n      this.itemIds[key] = this.items.length - 1\n    }\n    return item\n  }\n\n  /**\n   * Remove item by index from current collection\n   * @param index\n   * @returns {*}\n   */\n  removeByIndex(index) {\n    this.items = this.items.splice(index, 1)\n  }\n\n  /**\n   * Remove item by key [id] from current collection\n   * @param key {string|number}\n   * @returns {*}\n   */\n  removeByKey(key) {\n    const index = this.itemIds[key]\n\n    if (index !== undefined) {\n      this.items.splice(index, 1)\n      delete this.itemIds[key]\n\n      Object.keys(this.itemIds).forEach((key) => {\n        if (this.itemIds[key] > index) {\n          this.itemIds[key]--\n        }\n      })\n    }\n  }\n\n  /**\n   * Get index of item in current collection\n   * @param item\n   * @returns {number}\n   */\n  indexOf(item) {\n    return this.items.indexOf(item)\n  }\n\n  /**\n   * Get item by index from current collection\n   * @param index\n   * @returns {*}\n   */\n  getByIndex(index) {\n    return this.items[index]\n  }\n\n  /**\n   * Get item by key [id] from current collection\n   * @param key {string|number}\n   * @returns {*}\n   */\n  getByKey(key) {\n    return this.items[this.itemIds[key]]\n  }\n\n  isExist(item) {\n    return this.items.includes(item)\n  }\n\n  /**\n   * Check if item with such name exists in current collection\n   * @param key {string|number}\n   * @returns {boolean}\n   */\n  isExistByKey(key) {\n    return Boolean(this.getByKey(key))\n  }\n}\n\n\nexport default Collection\n","import constants from './constants'\nimport StorageFactory from './StorageFactory'\nimport Collection from './Collection'\nimport Swap, { Flow } from '../swap.swap'\nimport SwapAuth from '../swap.auth'\nimport SwapInterface from './SwapInterface'\nimport ServiceInterface from './ServiceInterface'\nimport SwapRoom from 'swap.room'\nimport SwapOrders from 'swap.orders'\nimport EventEmitter from 'events'\n\n\ninterface SwapAppServices {\n  auth?: SwapAuth,\n  room?: SwapRoom,\n  orders?: SwapOrders,\n}\n\ninterface SwapAppOptions {\n  network?: string,\n  env: any,\n  services: SwapAppServices | Array<ServiceInterface>,\n  swaps: Array<SwapInterface>,\n  flows: Array<Flow>,\n  whitelistBtc?: Array<string>,\n}\n\nclass SwapApp extends EventEmitter {\n  // White list BTC. Dont wait confirm\n  private whitelistBtc: Array<string> = [\n    'mzgKwRsfYLgApStDLwcN9Y6ce9qYPnTJNx', // @eneeseene testnet\n    'mst6jZKU973gB6Jhei4WQFg381zb86UgBQ', // @eneeseene testnet btc address\n    '17Hf3chwyWeNokLfuBcxEtpRYaYiU5RWBt', // swap.bot mainnet btc address\n  ]\n  private attachedSwaps: Collection = new Collection()\n\n  options: any = {}\n  inited: boolean = false\n  network: any\n  env: any\n  services: SwapAppServices = {}\n  swaps: Array<SwapInterface>\n  flows: Array<Flow>\n  \n\n  static _swapAppInstance = null\n\n  /**\n   *\n   * @param {object}  options\n   * @param {string}  options.network\n   * @param {object}  options.env\n   * @param {array}   options.services\n   * @param {array}   options.swaps\n   * @param {array}   options.flows\n   */\n  constructor(options: SwapAppOptions) {\n    super()\n    this.options = options\n    this.network = options.network || constants.NETWORKS.TESTNET\n    this.env = {}\n    this.services = {}\n\n    this.swaps = new Array()\n    this.flows = new Array()\n\n    this._addEnv(options.env || {})\n    this._addServices(options.services || {})\n\n    this._addSwaps(options.swaps || [])\n    this._addFlows(options.flows || [])\n\n    if (options.whitelistBtc) this.whitelistBtc = options.whitelistBtc\n\n    this.inited = true\n  }\n\n  static onInit(cb) {\n    const waitInit = () => {\n      //@ts-ignore: strictNullChecks\n      if (SwapApp._swapAppInstance && SwapApp._swapAppInstance.isInited()) {\n        cb()\n      } else {\n        setTimeout(waitInit, 100)\n      }\n    }\n    waitInit()\n  }\n\n  isInited() {\n    return this.inited\n  }\n\n  static init(options: SwapAppOptions, makeShared: boolean = false) {\n    if (makeShared) {\n      //@ts-ignore: strictNullChecks\n      SwapApp._swapAppInstance = new SwapApp(options)\n      return SwapApp._swapAppInstance\n    }\n    return new SwapApp(options)\n  }\n\n  setWeb3Provider(web3provider) {\n    if (!SwapApp._swapAppInstance) {\n      throw new Error(`Shared instance not initialized. Use SwapApp.setup() first.`)\n    }\n    //@ts-ignore: strictNullChecks\n    SwapApp._swapAppInstance.env.web3 = web3provider\n    //@ts-ignore: strictNullChecks\n    SwapApp._swapAppInstance.initFlows()\n  }\n\n  initFlows() {\n    this._addSwaps(this.options.swaps || [])\n    this._addFlows(this.options.flows || [])\n  }\n\n  static setup(options, forceFreshSetup = false) {\n    if (SwapApp._swapAppInstance && !forceFreshSetup) {\n      throw new Error(`Shared instance already initialized. Use SwapApp.shared() to access it.`)\n    }\n    //@ts-ignore: strictNullChecks\n    SwapApp._swapAppInstance = new SwapApp(options)\n  }\n\n  static shared() {\n    SwapApp.required(\n      SwapApp._swapAppInstance,\n      `Shared instance not initialized. Call SwapApp.setup(config) first.`\n    )\n    return SwapApp._swapAppInstance\n  }\n\n  attachSwap(swap: Swap): Swap {\n    if (!this.attachedSwaps.isExistByKey(swap.id)) {\n      this.attachedSwaps.append(swap, swap.id)\n      //@ts-ignore: strictNullChecks\n      return null\n    } else {\n      return this.attachedSwaps.getByKey(swap.id)\n    }\n  }\n\n  getActiveSwaps(): Swap[] {\n    return this.attachedSwaps.filter((swap: Swap) => {\n      return (swap === null)\n        ? false\n        : !swap.isFinished()\n    })\n  }\n\n  getSwapsByAddress(coin: string, address: string): Swap[] {\n    return this.attachedSwaps.filter((swap: Swap) => {\n      if (swap\n        && swap.participant\n        && swap.participant[coin.toLowerCase()]\n        && swap.participant[coin.toLowerCase()].address\n        && swap.participant[coin.toLowerCase()].address.toLowerCase() === address.toLowerCase()\n        && !swap.isFinished()\n      ) return true\n      return false\n    })\n  }\n\n  // Check address is whitelisted\n  isWhitelistBtc(address: string) {\n    return this.whitelistBtc.indexOf(address) !== -1\n  }\n  // Configure -------------------------------------------------------- /\n\n  _addEnv(env) {\n    Object.keys(env).forEach((name) => {\n      if (Object.values(constants.ENV).indexOf(name) < 0) {\n        throw new Error(`SwapApp.addEnv(): Only ${Object.values(constants.ENV)} available`)\n      }\n    })\n\n    env.storage = new StorageFactory(env.storage)\n\n    if (!env.getWeb3) {\n      env.getWeb3 = () => {\n        return this.env.web3\n      }\n    }\n    this.env = env\n  }\n\n  _addService(service) {\n    if (!service._serviceName) {\n      throw new Error('SwapApp service should contain \"_serviceName\" property')\n    }\n\n    if (!Object.values(constants.SERVICES).includes(service._serviceName)) {\n      throw new Error(\n        `SwapApp service should contain \"_serviceName\" property should be one of ${Object.values(\n          constants.SERVICES\n        )}, got \"${service._serviceName}\"`\n      )\n    }\n\n    service._attachSwapApp(this)\n    this.services[service._serviceName] = service\n  }\n\n  _addServices(services) {\n    // add service to app by _serviceName\n    services.forEach((service) => this._addService(service))\n    // spy expects\n    Object.keys(this.services).forEach((serviceName) =>\n      this.services[serviceName]._waitRelationsResolve()\n    )\n    // init services\n    Object.keys(this.services).forEach((serviceName) =>\n      this.services[serviceName]._tryInitService()\n    )\n  }\n\n  _addSwap(swap) {\n    if (!swap._swapName) {\n      throw new Error('SwapApp swap should contain \"_swapName\" property')\n    }\n\n    const swapKey = (swap.blockchainName) ? `{${swap.blockchainName}}${swap._swapName}` : swap._swapName\n\n    if (!Object.values(constants.COINS).includes(swapKey.toUpperCase())) {\n      throw new Error(\n        `SwapApp swap should contain \"_swapName\" property should be one of ${Object.values(\n          constants.COINS\n        )}, got \"${swap._swapName.toUpperCase()}\"`\n      )\n    }\n\n    this.swaps[swapKey] = swap\n\n    if (typeof swap._initSwap === 'function') {\n      swap._initSwap(this)\n    }\n  }\n\n  _addSwaps(swaps) {\n    swaps.forEach((swap) => {\n      this._addSwap(swap)\n    })\n  }\n\n  _addFlow(Flow) {\n    const flowName = Flow.getName()\n\n    if (flowName !== 'TurboMaker' && flowName !== 'TurboTaker') {\n      if (\n        !Object.values(constants.COINS).includes(Flow.getFromName()) ||\n        !Object.values(constants.COINS).includes(Flow.getToName())\n      ) {\n        throw new Error(\n          `SwapApp flow \"_flowName\" property should contain only: ${Object.values(\n            constants.COINS\n          )}. Got: \"${flowName.toUpperCase()}\"`\n        )\n      }\n    }\n\n    this.flows[flowName] = Flow\n  }\n\n  _addFlows(flows) {\n    flows.forEach((flow) => {\n      this._addFlow(flow)\n    })\n  }\n\n  // Public methods --------------------------------------------------- /\n\n  isMainNet() {\n    return this.network.toLowerCase() === constants.NETWORKS.MAINNET\n  }\n\n  isTestNet() {\n    return this.network.toLowerCase() === constants.NETWORKS.TESTNET\n  }\n\n  isSwapApp() {\n    return true\n  }\n\n  getEvmLikeAddress(coinType) {\n    return this.env.metamask && this.env.metamask.isEnabled() && this.env.metamask.isConnected()\n      ? this.env.metamask.getAddress()\n      //@ts-ignore: strictNullChecks\n      : this.services.auth.accounts[coinType].address\n  }\n\n  // @to-do use directy getEvmLikeAddress in EthLikeSwaps\n  getMyEthAddress() { return this.getEvmLikeAddress(`eth`) }\n  getMyBnbAddress() { return this.getEvmLikeAddress(`bnb`) }\n  getMyMaticAddress() { return this.getEvmLikeAddress(`matic`) }\n  getMyArbitrumAddress() { return this.getEvmLikeAddress(`arbeth`) }\n\n  getEthWeb3Adapter() {\n    return this.env.getWeb3().eth\n  }\n\n  getEthWeb3Utils() {\n    return this.env.getWeb3().utils\n  }\n\n  getBnbWeb3Adapter() {\n    // Если подключен метамаск - безем конектор эфира - он автоматически переключается на метамаск при активации\n    if (this.env.metamask && this.env.metamask.isEnabled() && this.env.metamask.isConnected()) {\n      return this.env.getWeb3().eth\n    }\n    return this.env.getWeb3Bnb().eth\n  }\n\n  getBnbWeb3Utils() {\n    return this.env.getWeb3Bnb().utils\n  }\n\n  getMaticWeb3Adapter() {\n    // Если подключен метамаск - безем конектор эфира - он автоматически переключается на метамаск при активации\n    if (this.env.metamask && this.env.metamask.isEnabled() && this.env.metamask.isConnected()) {\n      return this.env.getWeb3().eth\n    }\n    return this.env.getWeb3Matic().eth\n  }\n\n  getMaticWeb3Utils() {\n    return this.env.getWeb3Matic().utils\n  }\n\n  getArbitrumWeb3Adapter() {\n    if (this.env.metamask && this.env.metamask.isEnabled() && this.env.metamask.isConnected()) {\n      return this.env.getWeb3().eth\n    }\n    return this.env.getWeb3Arbitrum().eth\n  }\n\n  getArbitrumWeb3Utils() {\n    return this.env.getWeb3Arbitrum().utils\n  }\n\n  getParticipantEvmLikeAddress(coinType, swap) {\n    const { participant, participantMetamaskAddress } = swap\n    return participantMetamaskAddress ? participantMetamaskAddress : participant[coinType].address\n  }\n\n  // @to-do use directy getParticipantEvmLikeAddress in EthLikeSwaps\n  getParticipantEthAddress(swap) { return this.getParticipantEvmLikeAddress(`eth`, swap) }\n  getParticipantBnbAddress(swap) { return this.getParticipantEvmLikeAddress(`bnb`, swap) }\n  getParticipantMaticAddress(swap) { return this.getParticipantEvmLikeAddress(`matic`, swap) }\n  getParticipantArbitrumAddress(swap) { return this.getParticipantEvmLikeAddress(`arbeth`, swap) }\n\n\n  static is(app) {\n    return app && app.isSwapApp && app.isSwapApp() && app instanceof SwapApp\n  }\n\n  static required(app, errorMessage = ``) {\n    if (!SwapApp.is(app)) {\n      throw new Error(`SwapApp required, got: ${app}. ${errorMessage}`)\n    }\n  }\n}\n\nexport default SwapApp\n","import SwapApp from './SwapApp'\n\n\nclass ServiceInterface {\n\n  _serviceName: any\n  _dependsOn: any\n  _spyHandlers: any\n  app: any\n\n\n  // _constructor for aggregation\n  _constructor() {\n    // service name, within it will be stored in this.app.services\n    this._serviceName     = null\n    this._dependsOn       = null\n    this._spyHandlers     = []\n  }\n\n  constructor() {\n    this._constructor()\n  }\n\n  _attachSwapApp(app) {\n    SwapApp.required(app)\n\n    this.app = app\n  }\n\n  _waitRelationsResolve() {\n    SwapApp.required(this.app)\n\n    if (this._dependsOn && this._dependsOn.length) {\n      const dependsOnMap = {}\n\n      this._dependsOn.forEach((Service) => {\n        dependsOnMap[Service.name] = {\n          initialized: false,\n        }\n\n        this.app.services[Service.name]._addWaitRelationHandler(() => {\n          dependsOnMap[Service.name].initialized = true\n\n          const areAllExpectsInitialized = Object.keys(dependsOnMap).every((serviceName) => (\n            dependsOnMap[serviceName].initialized\n          ))\n\n          if (areAllExpectsInitialized) {\n            this.initService()\n          }\n        })\n      })\n    }\n  }\n\n  _addWaitRelationHandler(handler) {\n    this._spyHandlers.push(handler)\n  }\n\n  _tryInitService() {\n    // init service on SwapApp mounting\n    SwapApp.required(this.app)\n\n    if (!this._dependsOn || !this._dependsOn.length) {\n      this.initService()\n      this._spyHandlers.forEach((handler) => handler())\n      this._spyHandlers = []\n    }\n  }\n\n  initService() {\n    // init service on SwapApp mounting\n  }\n}\n\n\nexport default ServiceInterface\n","import SwapApp from 'swap.app'\n\nclass SwapInterface {\n\n  _swapName: any\n  accounts: any\n\n  constructor() {\n    // service name, within it will be stored in this.app.swaps\n    this._swapName = null\n  }\n\n  _initSwap(app) {\n    // init service on SwapApp mounting\n    SwapApp.required(app)\n\n    this.accounts = app.services.auth.accounts\n  }\n}\n\n\nexport default SwapInterface\n","import debug from 'debug'\n\n\nclass Event {\n\n  name: any\n  handlers: any[]\n\n  /**\n   *\n   * @param name {string}\n   */\n  constructor(name) {\n    this.name = name\n    this.handlers = []\n  }\n\n  /**\n   * Add handler to current Event\n   *\n   * @param handler {function}\n   */\n  addHandler(handler) {\n    this.handlers.push(handler.bind({\n      unsubscribe: () => {\n        this.removeHandler(handler)\n      },\n    }))\n  }\n\n  /**\n   * Remove handler from current Event\n   *\n   * @param handler {function}\n   * @returns {Array.<T>|*}\n   */\n  removeHandler(handler) {\n    const handlerIndex = this.handlers.indexOf(handler)\n\n    this.handlers.splice(handlerIndex, 1)\n  }\n\n  /**\n   * Call all handlers in all priorities of current Event\n   *\n   * @param eventArgs {...array}\n   */\n  call(...eventArgs) {\n    this.handlers.forEach((handler) => {\n      try {\n        handler(...eventArgs)\n      }\n      catch (err) {\n        console.error(err)\n      }\n    })\n  }\n}\n\nclass EventAggregator {\n\n  events: any\n\n  constructor() {\n    this.events = {}\n  }\n\n  /**\n   * Get Event by name\n   *\n   * @param name\n   * @returns {*}\n   */\n  getEvent(name) {\n    let event = this.events[name]\n\n    if (!event) {\n      event = new Event(name)\n      this.events[name] = event\n    }\n\n    return event\n  }\n\n  /**\n   *\n   * @param name {string}\n   * @param handler {function}\n   * @returns {{ event: *, handler: * }}\n   */\n  subscribe(name, handler) {\n    const event = this.getEvent(name)\n\n    event.addHandler(handler)\n\n    return { event, handler }\n  }\n\n  /**\n   *\n   * @param eventName {string}\n   * @param handler {function}\n   */\n  unsubscribe(eventName, handler) {\n    const event = this.getEvent(eventName)\n\n    event.removeHandler(handler)\n  }\n\n  /**\n   *\n   * @param name {string}\n   * @param eventArgs {...array}\n   */\n  dispatch(name, ...eventArgs) {\n    const event = this.getEvent(name)\n\n    if (event) {\n      debug('swap.verbose:events')('dispatch event', name)\n      event.call(...eventArgs)\n    }\n  }\n\n  /**\n   * Subscribe to Event and unsubscribe after call\n   *\n   * @param eventName {string}\n   * @param handler {function}\n   * @returns {{ event: *, handlerWrapper: (function(...[*])) }}\n   */\n  once(eventName, handler) {\n    const event = this.getEvent(eventName)\n\n    const handlerWrapper = (...args) => {\n      const result = handler(...args)\n      if (result) {\n        event.removeHandler(handlerWrapper)\n      }\n    }\n\n    event.addHandler(handlerWrapper)\n\n    return { event, handlerWrapper }\n  }\n}\n\nconst events = new EventAggregator()\n\n\nexport default EventAggregator\n\nexport {\n  events,\n}\n","const pullProps = (obj, ...props) => {\n  const result = {}\n\n  props.forEach((propName) => {\n    result[propName] = obj[propName]\n  })\n\n  return result\n}\n\n\nexport default pullProps\n","/**\n * @param {function} action\n * @param {number} delay\n * @returns {Promise<any>}\n */\nconst repeatAsyncUntilResult = (action, delay = 10 * 1000): Promise<any> =>\n  new Promise(async (resolve) => {\n    let isStoped = false\n    const stop = () => {\n      isStoped = true\n    }\n    const iteration = async () => {\n      const result = await action(stop)\n\n      if (!isStoped && (!result\n        || result === 0\n        || typeof result === 'undefined'\n        || result === null\n        || result === '0x0000000000000000000000000000000000000000')\n      ) {\n        setTimeout(iteration, delay)\n      } else {\n        resolve(result)\n      }\n    }\n\n    iteration()\n  })\n\n/**\n * @param {number} inSeconds\n * @returns {Promise<any>}\n */\nconst waitDelay = async (inSeconds) => \n  new Promise(async (resolve, reject) => {\n    setTimeout(() => {\n      resolve(true)\n    }, inSeconds*1000)\n  })\n\nconst extractSecretFromContract = async ({\n  flow,\n  swapFlow,\n  participantAddress,\n  ownerAddress,\n  app,\n}) => {\n  try {\n    let secretFromContract = await swapFlow.getSecret({\n      participantAddress,\n    })\n\n    if (secretFromContract) {\n      const {\n        secretHash,\n      } = flow.state\n\n      const hashFromContractSecret = app.env.bitcoin.crypto.ripemd160(\n        Buffer.from(secretFromContract.replace(/^0x/, ''), 'hex')\n      ).toString('hex')\n\n      if (hashFromContractSecret !== secretHash) {\n        console.warn('Secret on contract dismatch with our hash. May be blockchain not updated. Try use swaps var')\n        const ourSwap = await swapFlow.swaps({\n          ownerAddress,\n          participantAddress,\n        })\n        if (ourSwap) {\n          const hashFromContractSwap = app.env.bitcoin.crypto.ripemd160(\n            Buffer.from(ourSwap.secret.replace(/^0x/, ''), 'hex')\n          ).toString('hex')\n\n          if (hashFromContractSwap !== secretHash) {\n            console.warn('Secret on contract dismatch with our hash. May be blockchain not updated')\n          } else {\n            console.warn('Use secret from contract swap variable. getSecret method stucked')\n            secretFromContract = hashFromContractSwap\n            return null\n          }\n        }\n        return null\n      }\n\n      secretFromContract = `0x${secretFromContract.replace(/^0x/, '')}`\n\n      return secretFromContract\n    } else {\n      return null\n    }\n  }\n  catch (error) {\n    return null\n  }\n}\n\nconst extractSecretFromTx = async ({\n  flow,\n  swapFlow,\n  app,\n  ethSwapWithdrawTransactionHash,\n}) => {\n  let secretFromTxhash = await repeatAsyncUntilResult(async () => {\n    const {\n      secret,\n      secretHash,\n    } = flow.state\n\n    \n    if (secret) {\n      return secret\n    } else {\n     \n      const secretFromTx = await swapFlow.getSecretFromTxhash(ethSwapWithdrawTransactionHash)\n\n      const hashFromTxSecret = app.env.bitcoin.crypto.ripemd160(\n        Buffer.from(secretFromTx, 'hex')\n      ).toString('hex')\n\n      if (hashFromTxSecret === secretHash) {\n        return secretFromTx\n      } else {\n        console.warn('Secret from Tx dismatch with our hash. Wait contract')\n        return false\n      }\n    }\n  })\n  //@ts-ignore\n  secretFromTxhash = `0x${secretFromTxhash.replace(/^0x/, '')}`\n\n  return secretFromTxhash\n}\n\n\nexport default {\n  repeatAsyncUntilResult,\n  waitDelay,\n  extractSecretFromContract,\n  extractSecretFromTx,\n}\n","import constants from '../constants'\nimport typeforce from './typeforce'\nimport { BLOCKCHAIN as BLOCKCHAIN_TYPE, COIN_DATA, COIN_TYPE, TOKEN_STANDARD } from '../constants/COINS'\n\n\nconst register = (code, precision) => {\n  const tokenCode = `{${BLOCKCHAIN_TYPE.ETH}}${code}`\n  constants.COINS[tokenCode] = tokenCode.toUpperCase()\n  constants.COIN_DATA[tokenCode.toUpperCase()] = {\n    ticker: tokenCode.toUpperCase(),\n    name: code.toUpperCase(),\n    blockchain: BLOCKCHAIN_TYPE.ETH,\n    standard: TOKEN_STANDARD.ERC20,\n    type: COIN_TYPE.ETH_TOKEN,\n    model: COIN_DATA.ETH.model,\n    precision: precision,\n  }\n  typeforce.isCoinAddress[tokenCode.toUpperCase()] = typeforce.isCoinAddress.ETH\n  typeforce.isPublicKey[tokenCode.toUpperCase()] = typeforce.isPublicKey.ETH\n}\n\nexport default {\n  register,\n}\n","import constants from '../constants'\nimport { BLOCKCHAIN as BLOCKCHAIN_TYPE, COIN_DATA, COIN_TYPE, TOKEN_STANDARD } from '../constants/COINS'\nimport typeforce from './typeforce'\n\n\nconst register = (code, precision) => {\n  const tokenCode = `{${BLOCKCHAIN_TYPE.BNB}}${code}`\n  constants.COINS[tokenCode] = tokenCode.toUpperCase()\n  constants.COIN_DATA[tokenCode.toUpperCase()] = {\n    ticker: tokenCode.toUpperCase(),\n    name: code.toUpperCase(),\n    blockchain: BLOCKCHAIN_TYPE.BNB,\n    standard: TOKEN_STANDARD.BEP20,\n    type: COIN_TYPE.BNB_TOKEN,\n    model: COIN_DATA.BNB.model,\n    precision: precision,\n  }\n  typeforce.isCoinAddress[tokenCode.toUpperCase()] = typeforce.isCoinAddress.BNB\n  typeforce.isPublicKey[tokenCode.toUpperCase()] = typeforce.isPublicKey.BNB\n}\n\nexport default {\n  register,\n}\n","import constants from '../constants'\nimport { BLOCKCHAIN as BLOCKCHAIN_TYPE, COIN_DATA, COIN_TYPE, TOKEN_STANDARD } from '../constants/COINS'\nimport typeforce from './typeforce'\n\n\nconst register = (code, precision) => {\n  const tokenCode = `{${BLOCKCHAIN_TYPE.MATIC}}${code}`\n  constants.COINS[tokenCode] = tokenCode.toUpperCase()\n  constants.COIN_DATA[tokenCode.toUpperCase()] = {\n    ticker: tokenCode.toUpperCase(),\n    name: code.toUpperCase(),\n    blockchain: BLOCKCHAIN_TYPE.MATIC,\n    standard: TOKEN_STANDARD.ERC20MATIC,\n    type: COIN_TYPE.MATIC_TOKEN,\n    model: COIN_DATA.BNB.model,\n    precision: precision,\n  }\n  typeforce.isCoinAddress[tokenCode.toUpperCase()] = typeforce.isCoinAddress.MATIC\n  typeforce.isPublicKey[tokenCode.toUpperCase()] = typeforce.isPublicKey.MATIC\n}\n\nexport default {\n  register,\n}\n","import SwapApp from './SwapApp'\nimport ServiceInterface from './ServiceInterface'\nimport SwapInterface from './SwapInterface'\nimport Collection from './Collection'\nimport Events from './Events'\n\nimport constants from './constants'\nimport * as util from './util'\n\n\nexport default SwapApp\n\nexport {\n  ServiceInterface,\n  SwapInterface,\n  Collection,\n  Events,\n\n  constants,\n  util,\n}\n","import typeforce from 'typeforce'\nimport constants from '../constants'\nimport { ETH_TOKENS } from '../constants/COINS'\n\nconst check = (...args) => {\n  try {\n    return typeforce(...args)\n  }\n  catch (err) {\n    console.error(err)\n    return false\n  }\n}\n\nconst isNumeric = (value) => !isNaN(parseFloat(value)) && isFinite(value)\n\nconst isCoinName = (value) => {\n  return Object.values(constants.COINS).filter(\n    //@ts-ignore\n    (v) => (v.ticker)\n      //@ts-ignore\n      ? v.ticker.toLowerCase() === value.toLowerCase()\n      //@ts-ignore\n      : v.toLowerCase() === value.toLowerCase()\n  ).length > 0\n}\n\nconst isCoinAddress = {\n  [constants.COINS.eth]: (value) => typeof value === 'string' && /^0x[A-Fa-f0-9]{40}$/.test(value),\n  [constants.COINS.bnb]: (value) => typeof value === 'string' && /^0x[A-Fa-f0-9]{40}$/.test(value),\n  [constants.COINS.matic]: (value) => typeof value === 'string' && /^0x[A-Fa-f0-9]{40}$/.test(value),\n  [constants.COINS.arbeth]: (value) => typeof value === 'string' && /^0x[A-Fa-f0-9]{40}$/.test(value),\n  [constants.COINS.btc]: (value) => typeof value === 'string' && /^[A-Za-z0-9]{26,35}$/.test(value),\n  [constants.COINS.ghost]: (value) => typeof value === 'string' && /^[A-Za-z0-9]{26,35}$/.test(value),\n  [constants.COINS.next]: (value) => typeof value === 'string' && /^[A-Za-z0-9]{26,35}$/.test(value),\n  // [constants.COINS.usdt]: (value) => typeof value === 'string',\n}\n\nconst isPublicKey = {\n  [constants.COINS.eth]: '?String', // TODO we don't have / use eth publicKey\n  [constants.COINS.bnb]: '?String',\n  [constants.COINS.matic]: '?String',\n  [constants.COINS.arbeth]: '?String',\n  [constants.COINS.btc]: (value) => typeof value === 'string' && /^[A-Za-z0-9]{66}$/.test(value),\n  [constants.COINS.ghost]: (value) => typeof value === 'string' && /^[A-Za-z0-9]{66}$/.test(value),\n  [constants.COINS.next]: (value) => typeof value === 'string' && /^[A-Za-z0-9]{66}$/.test(value),\n  // [constants.COINS.usdt]: '?String', // TODO we don't have / use nim publicKey\n}\n\nObject.keys(ETH_TOKENS).forEach((tokenCode) => {\n  isCoinAddress[ETH_TOKENS[tokenCode]] = (value) => typeof value === 'string' && /^0x[A-Fa-f0-9]{40}$/.test(value)\n  isPublicKey[ETH_TOKENS[tokenCode]] = '?String'\n})\n\nexport default {\n  t: typeforce,\n  check,\n  isNumeric,\n  isCoinName,\n  isCoinAddress,\n  isPublicKey,\n}\n","import SwapApp, { ServiceInterface, constants } from 'swap.app'\n\n\nlet _privateKeys\nlet _mnemonic\nconst getPublicDataMethods = {}\n\nclass SwapAuth extends ServiceInterface {\n\n  _serviceName: string\n  accounts: any\n\n  //@ts-ignore\n  static get name() {\n    return 'auth'\n  }\n\n  constructor(privateKeys, useMnemonic?: string) {\n    super()\n\n    this._serviceName         = 'auth'\n    this.accounts             = {}\n\n    _privateKeys = privateKeys\n    _mnemonic = useMnemonic\n  }\n\n  initService() {\n    const app = this.app\n\n    SwapApp.required(app)\n\n    Object.keys(_privateKeys).forEach((name) => {\n      if (Object.keys(constants.COINS).indexOf(name) < 0) {\n        let error = `SwapAuth._initService(): There is no instance with name \"${name}\".`\n        error += `Only [${JSON.stringify(Object.keys(constants.COINS)).replace(/\"/g, '\\'')}] available`\n\n        throw new Error(error)\n      }\n\n      try {\n        let instance = require(`./${name}`)\n        instance = instance.default || instance\n        const account = (_mnemonic)\n          ? instance.loginMnemonic(_mnemonic, 0, false, app)\n          : instance.login(_privateKeys[name], app)\n\n        this.accounts[name] = account\n        getPublicDataMethods[name] = () => instance.getPublicData(account, app)\n      }\n      catch (err) {\n        throw new Error(`SwapAuth._initService(): ${err}`)\n      }\n    })\n  }\n\n  getPublicData() {\n    const data = {\n      peer: this.app.services.room.peer,\n    }\n\n    Object.keys(getPublicDataMethods).forEach((name) => {\n      data[name] = getPublicDataMethods[name]()\n    })\n\n    return data\n  }\n}\n\n\nexport default SwapAuth\n","import SwapApp from 'swap.app'\nimport * as mnemonicUtils from 'common/utils/mnemonic'\n\n\nconst loginMnemonic = (mnemonic, walletNumber = 0, path, app) => {\n  const wallet = mnemonicUtils.getEthLikeWallet({ mnemonic, walletNumber, path })\n  return login(wallet.privateKey, app)\n}\n\nconst login = (_privateKey, app) => {\n  SwapApp.required(app)\n\n  const storageKey = `${app.network}:arbitrum:privateKey`\n  const privateKey = _privateKey || app.env.storage.getItem(storageKey)\n  let account\n\n  if (privateKey) {\n    account = app.env.web3Arbitrum.eth.accounts.privateKeyToAccount(privateKey)\n  }\n  else {\n    account = app.env.web3Arbitrum.eth.accounts.create()\n  }\n\n  app.env.web3Arbitrum.eth.accounts.wallet.add(account.privateKey)\n\n  if (!_privateKey) {\n    app.env.storage.setItem(storageKey, account.privateKey)\n  }\n\n  return account\n}\n\nconst getPublicData = (account) => ({\n  address: account.address,\n  publicKey: null,\n})\n\n\nexport default {\n  login,\n  loginMnemonic,\n  getPublicData,\n}\n","import SwapApp from 'swap.app'\nimport * as mnemonicUtils from '../../common/utils/mnemonic'\n\n\nconst loginMnemonic = (mnemonic, walletNumber = 0, path, app) => {\n  const wallet = mnemonicUtils.getEthLikeWallet({ mnemonic, walletNumber, path })\n  return login(wallet.privateKey, app)\n}\n\nconst login = (_privateKey, app) => {\n  SwapApp.required(app)\n\n  const storageKey = `${app.network}:bnb:privateKey`\n  const privateKey = _privateKey || app.env.storage.getItem(storageKey)\n  let account\n\n  if (privateKey) {\n    account = app.env.web3bnb.eth.accounts.privateKeyToAccount(privateKey)\n  }\n  else {\n    account = app.env.web3bnb.eth.accounts.create()\n  }\n\n  app.env.web3bnb.eth.accounts.wallet.add(account.privateKey)\n\n  if (!_privateKey) {\n    app.env.storage.setItem(storageKey, account.privateKey)\n  }\n\n  return account\n}\n\nconst getPublicData = (account) => ({\n  address: account.address,\n  publicKey: null,\n})\n\n\nexport default {\n  login,\n  loginMnemonic,\n  getPublicData,\n}\n","import SwapApp from 'swap.app'\nimport * as mnemonicUtils from '../../common/utils/mnemonic'\n\n\nconst loginMnemonic = (mnemonic, walletNumber=0, path, app) => {\n  const network = (\n    app.isMainNet()\n      ? app.env.bitcoin.networks.bitcoin\n      : app.env.bitcoin.networks.testnet\n  )\n\n  const wallet = mnemonicUtils.getBtcWallet(network, mnemonic, walletNumber, path)\n\n  return login(wallet.WIF, app)\n}\n\nconst login = (_privateKey, app) => {\n  SwapApp.required(app)\n\n  const storageKey = `${app.network}:btc:privateKey`\n  let privateKey = _privateKey || app.env.storage.getItem(storageKey)\n\n  let account\n\n  const network = (\n    app.isMainNet()\n      ? app.env.bitcoin.networks.bitcoin\n      : app.env.bitcoin.networks.testnet\n  )\n\n  if (!privateKey) {\n    privateKey = app.env.bitcoin.ECPair.makeRandom({ network }).toWIF()\n  }\n\n  account = new app.env.bitcoin.ECPair.fromWIF(privateKey, network)\n\n  const { address } = app.env.bitcoin.payments.p2pkh({ pubkey: account.publicKey, network })\n  const { publicKey } = account\n\n  account.getPublicKey = () => publicKey.toString('hex')\n  account.getPublicKeyBuffer = () => publicKey\n  account.getPrivateKey = () => privateKey\n  account.getAddress = () => address\n\n  if (!_privateKey) {\n    app.env.storage.setItem(storageKey, privateKey)\n  }\n\n  return account\n}\n\n\nconst getPublicData = (account) => ({\n  address: account.getAddress(),\n  publicKey: account.getPublicKey(),\n})\n\n\nexport default {\n  login,\n  loginMnemonic,\n  getPublicData,\n}\n","import SwapApp from 'swap.app'\nimport * as mnemonicUtils from '../../common/utils/mnemonic'\n\n\nconst loginMnemonic = (mnemonic, walletNumber = 0, path, app) => {\n  const wallet = mnemonicUtils.getEthLikeWallet({ mnemonic, walletNumber, path })\n  return login(wallet.privateKey, app)\n}\n\nconst login = (_privateKey, app) => {\n  SwapApp.required(app)\n\n  const storageKey = `${app.network}:eth:privateKey`\n  const privateKey = _privateKey || app.env.storage.getItem(storageKey)\n  let account\n\n  if (privateKey) {\n    account = app.env.web3.eth.accounts.privateKeyToAccount(privateKey)\n  }\n  else {\n    account = app.env.web3.eth.accounts.create()\n  }\n\n  app.env.web3.eth.accounts.wallet.add(account.privateKey)\n\n  if (!_privateKey) {\n    app.env.storage.setItem(storageKey, account.privateKey)\n  }\n\n  return account\n}\n\nconst getPublicData = (account) => ({\n  address: account.address,\n  publicKey: null,\n})\n\n\nexport default {\n  login,\n  loginMnemonic,\n  getPublicData,\n}\n","import SwapApp from 'swap.app'\nimport * as mnemonicUtils from '../../common/utils/mnemonic'\n\nconst loginMnemonic = (mnemonic, walletNumber=0, path, app) => {\n  const network = (\n    app.isMainNet()\n      ? app.env.coininfo.ghost.main\n      : app.env.coininfo.ghost.test\n  )\n\n  const wallet = mnemonicUtils.getGhostWallet(network, mnemonic, walletNumber, path)\n  return login(wallet.WIF, app)\n}\n\nconst login = (_privateKey, app) => {\n  SwapApp.required(app)\n\n  const storageKey = `${app.network}:ghost:privateKey`\n  let privateKey = _privateKey || app.env.storage.getItem(storageKey)\n  let account\n\n  const network = (\n    app.isMainNet()\n      ? app.env.coininfo.ghost.main\n      : app.env.coininfo.ghost.test\n  )\n\n  if (!privateKey) {\n    privateKey = app.env.bitcoin.ECPair.makeRandom({ network }).toWIF()\n  }\n\n  account = new app.env.bitcoin.ECPair.fromWIF(privateKey, network)\n\n  const { address } = app.env.bitcoin.payments.p2pkh({ pubkey: account.publicKey, network })\n  const { publicKey } = account\n\n  account.getPublicKey = () => publicKey.toString('hex')\n  account.getPublicKeyBuffer = () => publicKey\n  account.getPrivateKey = () => privateKey\n  account.getAddress = () => address\n\n  if (!_privateKey) {\n    app.env.storage.setItem(storageKey, privateKey)\n  }\n\n  return account\n}\n\nconst getPublicData = (account) => ({\n  address: account.getAddress(),\n  publicKey: account.getPublicKey(),\n})\n\n\nexport default {\n  login,\n  loginMnemonic,\n  getPublicData,\n}\n","import SwapAuth from './SwapAuth'\n\n\nexport default SwapAuth\n","import SwapApp from 'swap.app'\nimport * as mnemonicUtils from 'common/utils/mnemonic'\n\n\nconst loginMnemonic = (mnemonic, walletNumber = 0, path, app) => {\n  const wallet = mnemonicUtils.getEthLikeWallet({ mnemonic, walletNumber, path })\n  return login(wallet.privateKey, app)\n}\n\nconst login = (_privateKey, app) => {\n  SwapApp.required(app)\n\n  const storageKey = `${app.network}:matic:privateKey`\n  const privateKey = _privateKey || app.env.storage.getItem(storageKey)\n  let account\n\n  if (privateKey) {\n    account = app.env.web3Matic.eth.accounts.privateKeyToAccount(privateKey)\n  }\n  else {\n    account = app.env.web3Matic.eth.accounts.create()\n  }\n\n  app.env.web3Matic.eth.accounts.wallet.add(account.privateKey)\n\n  if (!_privateKey) {\n    app.env.storage.setItem(storageKey, account.privateKey)\n  }\n\n  return account\n}\n\nconst getPublicData = (account) => ({\n  address: account.address,\n  publicKey: null,\n})\n\n\nexport default {\n  login,\n  loginMnemonic,\n  getPublicData,\n}\n","import SwapApp from 'swap.app'\nimport * as mnemonicUtils from '../../common/utils/mnemonic'\n\n\nconst loginMnemonic = (mnemonic, walletNumber=0, path, app) => {\n  const network = (\n    app.isMainNet()\n      ? app.env.coininfo.next.main\n      : app.env.coininfo.next.test\n  )\n\n  const wallet = mnemonicUtils.getNextWallet(network, mnemonic, walletNumber, path)\n  return login(wallet.WIF, app)\n}\n\nconst login = (_privateKey, app) => {\n  SwapApp.required(app)\n\n  const storageKey = `${app.network}:next:privateKey`\n  let privateKey = _privateKey || app.env.storage.getItem(storageKey)\n\n  let account\n\n  const network = (\n    app.isMainNet()\n      ? app.env.coininfo.next.main\n      : app.env.coininfo.next.test\n  )\n\n  if (!privateKey) {\n    privateKey = app.env.bitcoin.ECPair.makeRandom({ network }).toWIF()\n  }\n\n  account = new app.env.bitcoin.ECPair.fromWIF(privateKey, network)\n\n  const { address } = app.env.bitcoin.payments.p2pkh({\n    pubkey: account.publicKey,\n    network\n  })\n\n  const { publicKey } = account\n\n  account.getPublicKey = () => publicKey.toString('hex')\n  account.getPublicKeyBuffer = () => publicKey\n  account.getPrivateKey = () => privateKey\n  account.getAddress = () => address\n\n  if (!_privateKey) {\n    app.env.storage.setItem(storageKey, privateKey)\n  }\n\n  return account\n}\n\n\nconst getPublicData = (account) => ({\n  address: account.getAddress(),\n  publicKey: account.getPublicKey(),\n})\n\n\nexport default {\n  login,\n  loginMnemonic,\n  getPublicData,\n}\n","export const initialState = {}\n\nexport const show = (state, { name, data = {} }) => ({\n  ...state,\n  [name]: {\n    name,\n    data,\n  },\n})\n\nexport const hide = (state, name) => {\n  const { [name]: closingNotification, ...otherNotifications } = state\n  return otherNotifications\n}\n","// this is necessary to arrange the modals in the opening order, not alphabetical\nlet zIndex = 305\n\nexport const initialState = {}\n\nexport const open = (state, { name, data = {} }) => ({\n  ...state,\n  [name]: {\n    name,\n    data,\n    zIndex: ++zIndex,\n  },\n})\n\nexport const closeAll = (state) => ({})\n\nexport const close = (state, name) => {\n  const { [name]: closingModal, ...otherModals } = state\n\n  // zIndex -= 1\n\n  return otherModals\n}\n","export const initialState = {\n  transactions: null,\n  filter: 'all',\n  swapHistory: {},\n}\n\nexport const setFilter = (state, payload) => ({\n  ...state,\n  filter: payload,\n})\n\nexport const setTransactions = (state, payload) => ({\n  ...state,\n  transactions: [\n    ...payload,\n  ],\n})\n\nexport const setSwapHistory = (state, payload) => ({\n  ...state,\n  swapHistory: payload,\n})\n","export const initialState = {\n  isVisible: false,\n  data: {},\n}\n\nexport const setVisibility = (state, { isVisible, data }) => ({\n  ...state,\n  isVisible,\n  data,\n})\n","export const initialState = {\n  ghostData: {\n    balance: 0,\n    isBalanceFetched: false,\n    currency: 'GHOST',\n    fullName: 'ghost',\n    balanceError: null,\n    infoAboutCurrency: null,\n  },\n  nextData: {\n    balance: 0,\n    isBalanceFetched: false,\n    currency: 'NEXT',\n    fullName: 'next',\n    balanceError: null,\n    infoAboutCurrency: null,\n  },\n  ethData: {\n    balance: 0,\n    isBalanceFetched: false,\n    currency: 'ETH',\n    fullName: 'Ethereum',\n    balanceError: null,\n    infoAboutCurrency: null,\n  },\n  bnbData: {\n    balance: 0,\n    isBalanceFetched: false,\n    currency: 'BNB',\n    fullName: 'Binance Coin',\n    balanceError: null,\n    infoAboutCurrency: null,\n  },\n  maticData: {\n    balance: 0,\n    isBalanceFetched: false,\n    currency: 'MATIC',\n    fullName: 'MATIC Token',\n    balanceError: null,\n    infoAboutCurrency: null,\n  },\n  arbethData: {\n    balance: 0,\n    isBalanceFetched: false,\n    currency: 'ARBETH',\n    fullName: 'Arbitrum ETH',\n    balanceError: null,\n    infoAboutCurrency: null,\n  },\n  btcData: {\n    balance: 0,\n    isBalanceFetched: false,\n    currency: 'BTC',\n    fullName: 'Bitcoin',\n    balanceError: null,\n    infoAboutCurrency: null,\n  },\n  btcMultisigSMSData: {\n    balance: 0,\n    isBalanceFetched: false,\n    currency: 'BTC (SMS-Protected)',\n    fullName: 'Bitcoin (SMS)',\n    balanceError: null,\n    infoAboutCurrency: null,\n  },\n  btcMultisigPinData: {\n    balance: 0,\n    isBalanceFetched: false,\n    currency: 'BTC (PIN-Protected)',\n    fullName: 'Bitcoin (PIN)',\n    balanceError: null,\n    infoAboutCurrency: null,\n  },\n  btcMultisigG2FAData: {\n    balance: 0,\n    isBalanceFetched: false,\n    currency: 'BTC (Google 2FA)',\n    fullName: 'Bitcoin (Google 2FA)',\n    balanceError: null,\n    infoAboutCurrency: null,\n  },\n  btcMultisigUserData: {\n    balance: 0,\n    isBalanceFetched: false,\n    currency: 'BTC (Multisig)',\n    fullName: 'Bitcoin (Multisig)',\n    balanceError: null,\n    infoAboutCurrency: null,\n  },\n  usdtData: {\n    address: '0x0', // ? for what\n    publicKey: '0x0', // ?\n    balance: 0,\n    isBalanceFetched: false,\n    currency: 'USDT',\n    fullName: 'Tether',\n    balanceError: null,\n  },\n  tokensData: {},\n  isFetching: false,\n  isBalanceFetching: false,\n  isTokenSigned: false,\n  activeFiat: window.DEFAULT_FIAT || 'USD',\n  activeCurrency: 'BTC',\n  multisigStatus: {},\n  multisigPendingCount: 0,\n  metamaskData: false,\n}\n\nexport const updateMultisigStatus = (state, { address, last, total }) => {\n  let totalPending = 0\n  if (state.multisigStatus) {\n    Object.keys(state.multisigStatus).map((savedAddress) => {\n      if (address !== savedAddress) totalPending += state.multisigStatus[savedAddress].count\n    })\n  }\n\n  totalPending += total\n\n  return {\n    ...state,\n    multisigPendingCount: totalPending,\n    multisigStatus: {\n      ...(state.multisigStatus ? state.multisigStatus : {}),\n      [address] : {\n        address,\n        pending: last,\n        count: total,\n      },\n    },\n  }\n}\n\nexport const addWallet = (state, { name, data }) => ({\n  ...state,\n  [name]: {\n    ...data,\n  },\n})\n\nexport const setAuthData = (state, { name, data }) => ({\n  ...state,\n  [name]: {\n    ...state[name],\n    ...data,\n  },\n})\n\nexport const setTokenSigned = (state, booleanValue) => ({\n  ...state,\n  isTokenSigned: booleanValue,\n})\n\nexport const setTokenAuthData = (state, { name, baseCurrency, data }) => {\n  const tokenKey = `{${baseCurrency}}${name}`\n\n  return {\n    ...state,\n    tokensData: {\n      ...state.tokensData,\n      [tokenKey]: {\n        ...state.tokensData[tokenKey],\n        ...data,\n      },\n    },\n  }\n}\n\nexport const setBtcMultisigBalance = (state, { address, amount, unconfirmedBalance }) => {\n  state.btcMultisigUserData.wallets.forEach((wallet) => {\n    if (wallet.address === address) {\n      wallet.balance = Number(amount)\n      wallet.unconfirmedBalance = unconfirmedBalance\n      wallet.isBalanceFetched = true\n      wallet.balanceError = false\n    }\n  })\n  return {\n    ...state,\n  }\n}\n\nexport const setBalance = (state, { name, amount, unconfirmedBalance }) => ({\n  ...state,\n  [name]: {\n    ...state[name],\n    balance: Number(amount),\n    unconfirmedBalance,\n    isBalanceFetched: true,\n    balanceError: false,\n  },\n})\n\nexport const setInfoAboutToken = (state, { name, baseCurrency, infoAboutCurrency }) => {\n  const tokenKey = `{${baseCurrency}}${name}`\n\n  return {\n    ...state,\n    tokensData: {\n      ...state.tokensData,\n      [tokenKey]: {\n        ...state.tokensData[tokenKey],\n        infoAboutCurrency,\n      },\n    },\n  }\n}\n\nexport const setInfoAboutCurrency = (state, { name, infoAboutCurrency }) => ({\n  ...state,\n  [name]: {\n    ...state[name],\n    infoAboutCurrency,\n  },\n})\n\nexport const setBalanceError = (state, { name }) => ({\n  ...state,\n  [name]: {\n    ...state[name],\n    balanceError: true,\n  },\n})\n\nexport const setTokenBalanceError = (state, { name, baseCurrency }) => {\n  const tokenKey = `{${baseCurrency}}${name}`\n\n  return {\n    ...state,\n    tokensData: {\n      ...state.tokensData,\n      [tokenKey]: {\n        ...state.tokensData[tokenKey],\n        balanceError: true,\n      },\n    },\n  }\n}\n\nexport const setTokenBalance = (state, { name, baseCurrency, amount }) => {\n  const tokenKey = `{${baseCurrency}}${name}`\n\n  return {\n    ...state,\n    tokensData: {\n      ...state.tokensData,\n      [tokenKey]: {\n        ...state.tokensData[tokenKey],\n        balance: Number(amount),\n        isBalanceFetched: true,\n        balanceError: false,\n      },\n    },\n  }\n}\n\nexport const setIsBalanceFetching = (state, { isBalanceFetching }) => ({\n  ...state,\n  isBalanceFetching,\n})\n\nexport const setIsFetching = (state, { isFetching }) => ({\n  ...state,\n  isFetching,\n})\n\nexport const setActiveCurrency = (state, { activeCurrency }) => ({ ...state, activeCurrency })\n\nexport const setActiveFiat = (state, { activeFiat }) => ({ ...state, activeFiat })\n","export const initialState = {\n  items:[],\n}\n\n\nexport const addItems = (state, payload) => ({\n  ...state,\n  items:[\n    ...payload,\n  ],\n})\n\nexport const deleteItems = (state, payload) => ({\n  ...state,\n  items: payload,\n})\n","// resolve object in webpack\nexport default __CONFIG__\n","import config from 'app-config'\n\n\nexport const initialState = {\n  orders: [],\n  filter: 'btc-swap',\n  hiddenCoinsList: JSON.parse(localStorage.getItem('hiddenCoinsList') || '\"\"') || config.hiddenCoins,\n}\n\nexport const getOrders = (state, { orders }) => ({\n  ...state,\n  orders,\n})\n\nexport const setFilter = (state, { filter }) => ({\n  ...state,\n  orders: [\n    ...state.orders,\n  ],\n  filter,\n})\n\nexport const markCoinAsHidden = (state, coin) => ({\n  ...state,\n  hiddenCoinsList: [\n    ...state.hiddenCoinsList,\n    coin,\n  ],\n})\n\nexport const markCoinAsVisible = (state, coin) => ({\n  ...state,\n  hiddenCoinsList: state.hiddenCoinsList.filter(c => c !== coin),\n})\n","import config from 'app-config'\n\n\nexport const initialState = {\n  isOnline: false,\n  isAllPeersLoaded: false,\n  onlineUsers: 0,\n  serverAddress: config.pubsubRoom.server,\n  peer: '',\n  reputation: null,\n}\n\nexport const set = (state, payload) => ({\n  ...state,\n  ...payload,\n})\n\n/**\n * Событие \"Пользователь вошел в сеть\".\n */\nexport const userJoined = state => ({\n  ...state,\n  onlineUsers: state.onlineUsers + 1,\n})\n\n/**\n * Событие \"Пользователь вышел из сети\".\n */\nexport const userLeft = state => ({\n  ...state,\n  onlineUsers: state.onlineUsers - 1,\n})\n\n/**\n * Событие \"Загрузились все пиры\".\n */\nexport const allPeersLoaded = state => ({\n  ...state,\n  isAllPeersLoaded: true,\n})\n","import config from 'app-config'\n\n\nexport const initialState = {\n  servers: config.api,\n  checked: false,\n  errors: null,\n}\n\nexport const setChecked = (state, checked) => ({\n  ...state,\n  checked,\n})\n\nexport const setErrors = (state, errors) => ({\n  ...state,\n  errors,\n  checked: true,\n})\n\nexport const setApiServer = (state, { provider, server }) => ({\n  ...state,\n  servers: {\n    ...state.servers,\n    [provider]: server,\n  },\n})\n","import config from 'app-config'\n\nexport default {\n  erc20: {\n    platform: 'ethereum',\n    standard: 'erc20',\n    currency: 'eth',\n    explorerApi: config.api.etherscan,\n    explorerApiKey: config.api.etherscan_ApiKey,\n  },\n  bep20: {\n    platform: 'binance smart chain',\n    standard: 'bep20',\n    currency: 'bnb',\n    explorerApi: config.api.bscscan,\n    explorerApiKey: config.api.bscscan_ApiKey,\n  },\n  erc20matic: {\n    platform: 'ethereum',\n    standard: 'erc20matic',\n    currency: 'matic',\n    explorerApi: config.api.maticscan,\n    explorerApiKey: config.api.polygon_ApiKey,\n  },\n}","import config from 'app-config'\nimport TOKEN_STANDARDS from 'helpers/constants/TOKEN_STANDARDS'\nimport { BLOCKCHAIN as BLOCKCHAIN_TYPE } from 'swap.app/constants/COINS'\n\n\nconst NETWORK = process.env.MAINNET ? 'mainnet' : 'testnet'\n\nconst getCustomTokenConfig = () => {\n  //@ts-ignore: strictNullChecks\n  let tokensInfo = JSON.parse(localStorage.getItem('customToken'))\n  if (!tokensInfo || !tokensInfo[NETWORK]) return {}\n  return tokensInfo[NETWORK]\n}\n\nlet buildOpts = {\n  curEnabled: false,\n  blockchainSwapEnabled: false,\n  ownTokens: false,\n  addCustomTokens: true,\n  invoiceEnabled: true,\n}\n\nif (window\n  && window.buildOptions\n  && Object.keys(window.buildOptions)\n  && Object.keys(window.buildOptions).length\n) {\n  buildOpts = { ...buildOpts, ...window.buildOptions }\n}\n\nif (window?.widgetEvmLikeTokens?.length) {\n  buildOpts.ownTokens = window.widgetEvmLikeTokens\n}\n\nif (Array.isArray(buildOpts.ownTokens) && buildOpts.ownTokens.length) {\n  // ? we can't use here as whole string {#WIDGETTOKENCODE#} ?\n  const wcPb = `{#`\n  const wcP = (`WIDGETTOKENCODE`).toUpperCase()\n  const wcPe = `#}`\n\n  Object.keys(TOKEN_STANDARDS).forEach((key) => {\n    config[TOKEN_STANDARDS[key].standard.toLowerCase()] = {}\n  })\n\n  buildOpts.ownTokens.forEach((token) => {\n    const symbol = token.name.toLowerCase()\n    const standard = token.standard.toLowerCase()\n\n    if (symbol.toUpperCase() !== (`${wcPb}${wcP}${wcPe}`)) {\n      config[standard][symbol] = token\n    }\n  })\n}\n\nconst tokenItems: IUniversalObj[] = []\n\nObject.keys(TOKEN_STANDARDS).forEach((key) => {\n  const standard = TOKEN_STANDARDS[key].standard\n  const blockchain = TOKEN_STANDARDS[key].currency\n\n  Object.keys(config[standard]).forEach((name) => {\n    tokenItems.push({\n      name: name.toUpperCase(),\n      title: name.toUpperCase(),\n      icon: name,\n      value: `{${blockchain.toUpperCase()}}${name}`,\n      fullTitle: name,\n      addAssets: true,\n      blockchain: BLOCKCHAIN_TYPE[blockchain.toUpperCase()],\n      standard,\n    })\n  })\n})\n\nconst tokenPartialItems: IUniversalObj[] = []\n\nObject.keys(TOKEN_STANDARDS).forEach((key) => {\n  const standard = TOKEN_STANDARDS[key].standard\n  const blockchain = TOKEN_STANDARDS[key].currency\n\n  Object.keys(config[standard])\n    .filter((name) => config[standard][name].canSwap)\n    .forEach((name) => {\n      tokenPartialItems.push({\n        name: name.toUpperCase(),\n        title: name.toUpperCase(),\n        icon: name,\n        value: `{${blockchain.toUpperCase()}}${name}`,\n        fullTitle: config[standard][name].fullName || name,\n        blockchain: BLOCKCHAIN_TYPE[blockchain.toUpperCase()],\n        standard,\n      })\n    })\n})\n\nconst initialState = {\n  items: [\n    //@ts-ignore\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.eth) ? [{\n      name: 'ETH',\n      title: 'ETH',\n      icon: 'eth',\n      value: 'eth',\n      fullTitle: 'ethereum',\n      blockchain: BLOCKCHAIN_TYPE.ETH,\n      addAssets: true,\n    }] : [],\n     //@ts-ignore\n     ...(!buildOpts.curEnabled || buildOpts.curEnabled.bnb) ? [{\n      name: 'BNB',\n      title: 'BNB',\n      icon: 'bnb',\n      value: 'bnb',\n      fullTitle: 'binance coin',\n      blockchain: BLOCKCHAIN_TYPE.BNB,\n      addAssets: true,\n    }] : [],\n    //@ts-ignore\n      ...(!buildOpts.curEnabled || buildOpts.curEnabled.matic) ? [{\n      name: 'MATIC',\n      title: 'MATIC',\n      icon: 'matic',\n      value: 'matic',\n      fullTitle: 'matic token',\n      blockchain: BLOCKCHAIN_TYPE.MATIC,\n      addAssets: true,\n    }] : [],\n    //@ts-ignore\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.arbeth) ? [{\n      name: 'ARBETH',\n      title: 'ARBETH',\n      icon: 'arbeth',\n      value: 'arbeth',\n      fullTitle: 'arbitrum eth',\n      blockchain: BLOCKCHAIN_TYPE.ARBITRUM,\n      addAssets: true,\n    }] : [],\n    //@ts-ignore\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.ghost) ? [{\n      name: 'GHOST',\n      title: 'GHOST',\n      icon: 'ghost',\n      value: 'ghost',\n      fullTitle: 'ghost',\n      blockchain: BLOCKCHAIN_TYPE.GHOST,\n      addAssets: true,\n    }] : [],\n    //@ts-ignore\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.next) ? [{\n      name: 'NEXT',\n      title: 'NEXT',\n      icon: 'next',\n      value: 'next',\n      fullTitle: 'next',\n      blockchain: BLOCKCHAIN_TYPE.NEXT,\n      addAssets: true,\n    }] : [],\n    //@ts-ignore\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.btc) ? [{\n      name: 'BTC',\n      title: 'BTC',\n      icon: 'btc',\n      value: 'btc',\n      fullTitle: 'bitcoin',\n      blockchain: BLOCKCHAIN_TYPE.BTC,\n      addAssets: true,\n    },\n    {\n      name: 'BTC (SMS-Protected)',\n      title: 'BTC (SMS-Protected)',\n      icon: 'btc',\n      value: 'btcMultisig',\n      fullTitle: 'bitcoinMultisig',\n      addAssets: false,\n      blockchain: BLOCKCHAIN_TYPE.BTC,\n      dontCreateOrder: true,\n    },\n    {\n      name: 'BTC (PIN-Protected)',\n      title: 'BTC (PIN-Protected)',\n      icon: 'btc',\n      value: 'btcMultisigPin',\n      fullTitle: 'bitcoinMultisigPin',\n      blockchain: BLOCKCHAIN_TYPE.BTC,\n      addAssets: false,\n      dontCreateOrder: true,\n    },\n    {\n      name: 'BTC (Multisig)',\n      title: 'BTC (Multisig)',\n      icon: 'btc',\n      value: 'btcMultisig',\n      fullTitle: 'bitcoinMultisig',\n      blockchain: BLOCKCHAIN_TYPE.BTC,\n      addAssets: false,\n      dontCreateOrder: true,\n    }] : [],\n    ...tokenItems,\n  ],\n  partialItems: [\n    //@ts-ignore\n    ...(!buildOpts.blockchainSwapEnabled || buildOpts.blockchainSwapEnabled.eth) ? [{\n      name: 'ETH',\n      title: 'ETH',\n      icon: 'eth',\n      value: 'eth',\n      fullTitle: 'ethereum',\n    }] : [],\n    //@ts-ignore\n    ...(!buildOpts.blockchainSwapEnabled || buildOpts.blockchainSwapEnabled.bnb) ? [{\n      name: 'BNB',\n      title: 'BNB',\n      icon: 'bnb',\n      value: 'bnb',\n      fullTitle: 'binance coin',\n    }] : [],\n    //@ts-ignore\n    ...(!buildOpts.blockchainSwapEnabled || buildOpts.blockchainSwapEnabled.matic) ? [{\n      name: 'MATIC',\n      title: 'MATIC',\n      icon: 'matic',\n      value: 'matic',\n      fullTitle: 'matic token',\n    }] : [],\n    //@ts-ignore\n    ...(!buildOpts.blockchainSwapEnabled || buildOpts.blockchainSwapEnabled.arbeth) ? [{\n      name: 'ARBETH',\n      title: 'ARBETH',\n      icon: 'arbeth',\n      value: 'arbeth',\n      fullTitle: 'arbitrum eth',\n    }] : [],\n    //@ts-ignore\n    ...(!buildOpts.blockchainSwapEnabled || buildOpts.blockchainSwapEnabled.ghost) ? [{\n      name: 'GHOST',\n      title: 'GHOST',\n      icon: 'ghost',\n      value: 'ghost',\n      fullTitle: 'ghost',\n    }] : [],\n    //@ts-ignore\n    ...(!buildOpts.blockchainSwapEnabled || buildOpts.blockchainSwapEnabled.next) ? [{\n      name: 'NEXT',\n      title: 'NEXT',\n      icon: 'next',\n      value: 'next',\n      fullTitle: 'next',\n    }] : [],\n    //@ts-ignore\n    ...(!buildOpts.blockchainSwapEnabled || buildOpts.blockchainSwapEnabled.btc) ? [{\n      name: 'BTC',\n      title: 'BTC',\n      icon: 'btc',\n      value: 'btc',\n      fullTitle: 'bitcoin',\n    }] : [],\n    ...tokenPartialItems,\n  ],\n  addSelectedItems: [],\n  addPartialItems: [],\n}\n\n\nif (config.isWidget) {\n  initialState.items = [\n    {\n      name: 'ETH',\n      title: 'ETH',\n      icon: 'eth',\n      value: 'eth',\n      fullTitle: 'ethereum',\n    },\n    {\n      name: 'BNB',\n      title: 'BNB',\n      icon: 'bnb',\n      value: 'bnb',\n      fullTitle: 'binance coin',\n    },\n    {\n      name: 'MATIC',\n      title: 'MATIC',\n      icon: 'matic',\n      value: 'matic',\n      fullTitle: 'matic token',\n    },\n    {\n      name: 'ARBETH',\n      title: 'ARBETH',\n      icon: 'arbeth',\n      value: 'arbeth',\n      fullTitle: 'arbitrum eth',\n    },\n    {\n      name: 'BTC',\n      title: 'BTC',\n      icon: 'btc',\n      value: 'btc',\n      fullTitle: 'bitcoin',\n    },\n    {\n      name: 'GHOST',\n      title: 'GHOST',\n      icon: 'ghost',\n      value: 'ghost',\n      fullTitle: 'ghost',\n    },\n    {\n      name: 'NEXT',\n      title: 'NEXT',\n      icon: 'next',\n      value: 'next',\n      fullTitle: 'next',\n    },\n  ]\n\n  initialState.partialItems = [\n    {\n      name: 'ETH',\n      title: 'ETH',\n      icon: 'eth',\n      value: 'eth',\n      fullTitle: 'ethereum',\n    },\n    {\n      name: 'BNB',\n      title: 'BNB',\n      icon: 'bnb',\n      value: 'bnb',\n      fullTitle: 'binance coin',\n    },\n    {\n      name: 'MATIC',\n      title: 'MATIC',\n      icon: 'matic',\n      value: 'matic',\n      fullTitle: 'matic token',\n    },\n    {\n      name: 'ARBETH',\n      title: 'ARBETH',\n      icon: 'arbeth',\n      value: 'arbeth',\n      fullTitle: 'arbitrum eth',\n    },\n    {\n      name: 'BTC',\n      title: 'BTC',\n      icon: 'btc',\n      value: 'btc',\n      fullTitle: 'bitcoin',\n    },\n    {\n      name: 'GHOST',\n      title: 'GHOST',\n      icon: 'ghost',\n      value: 'ghost',\n      fullTitle: 'ghost',\n    },\n    {\n      name: 'NEXT',\n      title: 'NEXT',\n      icon: 'next',\n      value: 'next',\n      fullTitle: 'next',\n    },\n  ]\n\n  // Мульти валюта с обратной совместимостью одиночного билда\n  const widgetCustomTokens = window?.widgetEvmLikeTokens?.length ? window.widgetEvmLikeTokens : []\n\n  if (widgetCustomTokens.length) {\n    // First token in list - is main - fill single-token erc20 config\n    const firstToken = widgetCustomTokens[0]\n\n    config.erc20token = firstToken.name\n    config[firstToken.standard][firstToken.name] = firstToken\n\n    widgetCustomTokens.forEach((token) => {\n      const { name, standard, fullName } = token\n      const baseCurrency = TOKEN_STANDARDS[standard]?.currency\n\n      initialState.items.push({\n        name: name.toUpperCase(),\n        title: name.toUpperCase(),\n        icon: name,\n        value: `{${baseCurrency.toUpperCase()}}${name}`,\n        fullTitle: fullName || name,\n        addAssets: true,\n        blockchain: BLOCKCHAIN_TYPE[baseCurrency.toUpperCase()],\n        standard,\n      })\n      initialState.partialItems.push({\n        name: name.toUpperCase(),\n        title: name.toUpperCase(),\n        icon: name,\n        value: `{${baseCurrency.toUpperCase()}}${name}`,\n        fullTitle: fullName || name,\n        blockchain: BLOCKCHAIN_TYPE[baseCurrency.toUpperCase()],\n        standard,\n      })\n      initialState.addSelectedItems.push({\n        //@ts-ignore\n        name: name.toUpperCase(),\n        //@ts-ignore\n        title: name.toUpperCase(),\n        //@ts-ignore\n        icon: name,\n        //@ts-ignore\n        value: name,\n        //@ts-ignore\n        fullTitle: fullName || name,\n      })\n    })\n  }\n}\n\nif (buildOpts.addCustomTokens) {\n  const customTokenConfig = getCustomTokenConfig()\n\n  Object.keys(customTokenConfig).forEach((standard) => {\n    Object.keys(customTokenConfig[standard]).forEach((tokenContractAddr) => {\n      const tokenObj = customTokenConfig[standard][tokenContractAddr]\n      const { symbol } = tokenObj\n      const baseCurrency = TOKEN_STANDARDS[standard]?.currency\n\n      //@ts-ignore\n      initialState.items.push({\n          name: symbol.toUpperCase(),\n          title: symbol.toUpperCase(),\n          icon: symbol,\n          value: `{${baseCurrency.toUpperCase()}}${symbol}`,\n          fullTitle: config[standard][symbol]?.fullName || symbol,\n          addAssets: true,\n          blockchain: BLOCKCHAIN_TYPE[baseCurrency.toUpperCase()],\n          standard,\n        })\n      initialState.partialItems.push({\n        name: symbol.toUpperCase(),\n        title: symbol.toUpperCase(),\n        icon: symbol,\n        value: `{${baseCurrency.toUpperCase()}}${symbol}`,\n        fullTitle: config[standard][symbol]?.fullName || symbol,\n        blockchain: BLOCKCHAIN_TYPE[baseCurrency.toUpperCase()],\n        standard,\n      })\n    })\n  })\n}\n\nconst addSelectedItems = (state, payload) => ({\n  ...state,\n  addSelectedItems: payload,\n})\n\nconst addPartialItems = (state, payload) => ({\n  ...state,\n  addPartialItems: payload,\n})\n\nconst updatePartialItems = (state, payload) => ({\n  ...state,\n  partialItems: payload,\n})\n\nconst deletedPartialCurrency = (state, payload) => ({\n  ...state,\n  partialItems: state.partialItems.filter(item => item.name !== payload),\n})\n\n\nexport {\n  initialState,\n  addSelectedItems,\n  addPartialItems,\n  updatePartialItems,\n  deletedPartialCurrency,\n}\n","export const initialState = {\n  isInputActive: false,\n}\n\nexport const setInputActive = (state, value) => ({\n  ...state,\n  isInputActive: value,\n})\n","const initialState = {\n  //@ts-ignore: strictNullChecks\n  savedOrders: JSON.parse(localStorage.getItem('savedOrders')) || [],\n  //@ts-ignore: strictNullChecks\n  deletedOrders: JSON.parse(localStorage.getItem('deletedOrders')) || [],\n}\n\nconst savedOrders = (state, orderId) => ({\n  savedOrders: [\n    ...state.savedOrders,\n    orderId,\n  ],\n})\n\nconst deletedOrders = (state, orderId) => ({\n  ...state,\n  deletedOrders: [\n    orderId,\n  ],\n})\n\nconst forgetOrders = (state, orderId) => ({\n  ...state,\n  savedOrders: state.savedOrders.filter(item => item !== orderId),\n})\n\nconst getOrderIntheProcess = (state, orderId) => ({\n  ...state,\n  savedOrders: state.savedOrders.filter(item => item === orderId),\n})\n\nexport {\n  initialState,\n  savedOrders,\n  forgetOrders,\n  deletedOrders,\n  getOrderIntheProcess,\n}\n","export const initialState = {\n  currencies: {\n    btc: false,\n    eth: false,\n    bnb: false,\n    matic: false,\n    arbeth: false,\n    ghost: false,\n    next: false,\n    '{eth}usdt': false,\n    '{eth}swap': false,\n  },\n  secure: '',\n  step: 1,\n}\n\n\nexport const newWalletData = (state, payload) => {\n  const { type, data } = payload\n\n  return ({\n    ...state,\n    [type]: data,\n  })\n}\n","export const initialState = {\n  dashboardModalsAllowed: false,\n}\n\n\nexport const allowDashboardModals = (state) => ({\n  ...state,\n  dashboardModalsAllowed: true,\n})\nexport const disallowDashboardModals = (state) => ({\n  ...state,\n  dashboardModalsAllowed: false,\n})\n","import * as notifications from './notifications'\nimport * as modals from './modals'\nimport * as history from './history'\nimport * as loader from './loader'\nimport * as user from './user'\nimport * as feeds from './feeds'\nimport * as core from './core'\nimport * as pubsubRoom from './pubsubRoom'\nimport * as api from './api'\nimport * as currencies from './currencies'\nimport * as inputActive from './inputActive'\nimport * as rememberedOrders from './rememberedOrders'\nimport * as createWallet from './createWallet'\nimport * as ui from './ui'\n\nexport default {\n  notifications,\n  modals,\n  history,\n  loader,\n  core,\n  user,\n  feeds,\n  pubsubRoom,\n  api,\n  currencies,\n  inputActive,\n  rememberedOrders,\n  createWallet,\n  ui,\n}\n","import stringify from 'json-stringify-safe'\n\n\nconst toSaveStates = [\n  'rememberedSwaps',\n  'user',\n]\n\nconst cleanReduxStore = (reduxStore) =>\n  Object.keys(reduxStore)\n    .reduce((result, key) =>\n      toSaveStates.includes(key)\n        ? {\n          ...result,\n          [key]: reduxStore[key],\n        }\n        : result,\n    {})\n\nconst selectiveSaver = store => next => async action => {\n  next(action)\n\n  const stateName = action.type.split('.')[0]\n\n  if (toSaveStates.includes(stateName)) {\n    const data = store.getState()[stateName]\n    let reduxStore = localStorage.getItem('redux-store')\n\n    if (reduxStore === null) {\n      //@ts-ignore\n      reduxStore = { [stateName]: data }\n    } else {\n      //@ts-ignore\n      reduxStore = cleanReduxStore(JSON.parse(reduxStore))\n      //@ts-ignore\n      if (stateName in reduxStore) {\n        //@ts-ignore\n        reduxStore[stateName] = data\n      } else {\n        reduxStore = {\n          //@ts-ignore\n          ...reduxStore,\n          [stateName]: data,\n        }\n      }\n    }\n    localStorage.setItem('redux-store', stringify(reduxStore, null, 2))\n  }\n}\n\nexport {\n  selectiveSaver,\n}\n","import { createBrowserHistory } from 'history'\nimport { createStore, combineReducers } from 'redaction'\nimport localReducers from 'redux/reducers'\nimport { selectiveSaver } from 'redux/middleware'\nimport { connectRouter, routerMiddleware } from 'connected-react-router'\n\n\nconst history = createBrowserHistory()\nconst middleware = routerMiddleware(history)\nconst initialState = (localStorage['redux-store']) ? JSON.parse(localStorage['redux-store']) : {}\nconst devTools = window.__REDUX_DEVTOOLS_EXTENSION__ ? window.__REDUX_DEVTOOLS_EXTENSION__() : (v) => v\n\nconst _storeConfig = {\n  reducers: {\n    router: connectRouter(history),\n    ...combineReducers(localReducers),\n  },\n  middleware: [\n    middleware,\n    selectiveSaver,\n  ],\n  enhancers: [\n    devTools,\n  ],\n  initialState,\n}\n\nconst store = createStore(_storeConfig)\n\n\nexport default store\n\nexport {\n  history,\n}\n","import { wrapReducers } from 'redaction'\nimport reducers from 'redux/reducers'\nimport store from 'redux/store'\n\n\nexport default wrapReducers(reducers, store.dispatch)\n","import store from 'redux/store'\nimport reducers from './reducers'\n\n\nconst getState = () => store.getState()\n\n\nexport {\n  reducers,\n  getState,\n}\n","import config from 'app-config'\nimport { util } from 'swap.app'\nimport { constants } from 'swap.app'\nimport BigNumber from 'bignumber.js'\nimport reducers from 'redux/core/reducers'\nimport TOKEN_STANDARDS from 'helpers/constants/TOKEN_STANDARDS'\n\nconst NETWORK = process.env.MAINNET ? 'mainnet' : 'testnet'\n\nconst getCustomTokenConfig = () => {\n  const tokensInfo = JSON.parse(localStorage.getItem('customToken') || '{}')\n\n  if (!Object.keys(tokensInfo).length || !tokensInfo[NETWORK]) {\n    return {}\n  }\n\n  return tokensInfo[NETWORK]\n}\n\nconst initExternalConfig = () => {\n  // Add to swap.core not exists tokens\n  Object.keys(TOKEN_STANDARDS).forEach((key) => {\n    const standard = TOKEN_STANDARDS[key].standard.toLowerCase()\n\n    Object.keys(config[standard]).forEach((tokenSymbol) => {\n      if (!constants.COIN_DATA[tokenSymbol]) {\n        util[standard].register(tokenSymbol, config[standard][tokenSymbol].decimals)\n      }\n    })\n  })\n}\n\nconst externalConfig = () => {\n  // Reconfigure app config if it widget or use external config\n  if (config.opts && config.opts.inited) {\n    return config\n  }\n\n  config.opts = {\n    inited: true,\n    curEnabled: {\n      eth: true,\n      bnb: true,\n      matic: true,\n      arbeth: true,\n      btc: true,\n      ghost: true,\n      next: true,\n    },\n    blockchainSwapEnabled: {\n      btc: true,\n      eth: true,\n      bnb: false,\n      matic: false,\n      arbeth: false,\n      ghost: true,\n      next: true,\n    },\n    defaultExchangePair: {\n      buy: '{eth}wbtc',\n      sell: 'btc',\n    },\n    ownTokens: false,\n    addCustomTokens: true,\n    invoiceEnabled: !config.isWidget,\n    showWalletBanners: false,\n    showHowItsWork: false,\n    fee: {},\n    hideShowPrivateKey: false,\n    plugins: {\n      setItemPlugin: false,\n      getItemPlugin: false,\n      userDataPluginApi: false,\n      backupPlugin: false,\n      backupPluginUrl: false,\n      restorePluginUrl: false,\n    },\n    WPuserHash: false,\n    buyViaCreditCardLink: false,\n    activeFiat: 'USD',\n    exchangeDisabled: false,\n    ui: {\n      footerDisabled: false,\n    },\n  }\n\n  if (window\n    && window.invoiceEnabled\n  ) {\n    config.opts.invoiceEnabled = true\n  }\n\n  if (window\n    && window._ui_footerDisabled\n  ) {\n    config.opts.ui.footerDisabled = window._ui_footerDisabled\n  }\n\n  if (window\n    && window.WPuserHash\n  ) {\n    config.opts.WPuserHash = window.WPuserHash\n    window.WPuserHash = false\n  }\n\n  if (window\n    && window.showHowItWorksOnExchangePage\n  ) {\n    config.showHowItsWork = window.showHowItWorksOnExchangePage\n  }\n\n  if (window\n    && window.buildOptions\n    && Object.keys(window.buildOptions)\n    && Object.keys(window.buildOptions).length\n  ) {\n    config.opts = { ...config.opts, ...window.buildOptions }\n  }\n\n  if (window\n    && window.DEFAULT_FIAT\n  ) {\n    config.opts.activeFiat = window.DEFAULT_FIAT\n  }\n  reducers.user.setActiveFiat({ activeFiat: config.opts.activeFiat })\n\n  if (window\n    && window.EXCHANGE_DISABLED\n  ) {\n    config.opts.exchangeDisabled = window.EXCHANGE_DISABLED\n  }\n\n\n  // Plugin: enable/disable currencies\n\n  if (window && window.CUR_BTC_DISABLED === true) {\n    config.opts.curEnabled.btc = false\n    config.opts.blockchainSwapEnabled.btc = false\n  }\n\n  if (window && window.CUR_GHOST_DISABLED === true) {\n    config.opts.curEnabled.ghost = false\n    config.opts.blockchainSwapEnabled.ghost = false\n  }\n\n  if (window && window.CUR_NEXT_DISABLED === true) {\n    config.opts.curEnabled.next = false\n    config.opts.blockchainSwapEnabled.next = false\n  }\n\n  if (window && window.CUR_ETH_DISABLED === true) {\n    config.opts.curEnabled.eth = false\n    config.opts.blockchainSwapEnabled.next = false\n  }\n\n  if (window && window.CUR_BNB_DISABLED === true) {\n    config.opts.curEnabled.bnb = false\n    config.opts.blockchainSwapEnabled.bnb = false\n  }\n\n  if (window && window.CUR_MATIC_DISABLED === true) {\n    config.opts.curEnabled.matic = false\n    config.opts.blockchainSwapEnabled.matic = false\n  }\n\n  if (window && window.CUR_ARBITRUM_DISABLED === true) {\n    config.opts.curEnabled.arbeth = false\n    config.opts.blockchainSwapEnabled.arbeth = false\n  }\n\n\n  // Plugins\n  if (window\n    && window.backupPlugin\n    && window.backupUrl\n    && window.restoreUrl\n  ) {\n    config.opts.plugins.backupPlugin = window.backupPlugin\n    config.opts.plugins.backupPluginUrl = window.backupUrl\n    config.opts.plugins.restorePluginUrl = window.restoreUrl\n  }\n\n  if (window\n    && window.setItemPlugin\n  ) {\n    config.opts.plugins.setItemPlugin = window.setItemPlugin\n  }\n  if (window && window.getItemPlugin) {\n    config.opts.plugins.getItemPlugin = window.getItemPlugin\n  }\n  if (window && window.userDataPluginApi) {\n    config.opts.plugins.userDataPluginApi = window.userDataPluginApi\n  }\n\n  // ------\n  if (window\n    && window.buyViaCreditCardLink\n  ) {\n    config.opts.buyViaCreditCardLink = window.buyViaCreditCardLink\n  }\n\n  if (window\n    && window.SWAP_HIDE_EXPORT_PRIVATEKEY !== undefined\n  ) {\n    config.opts.hideShowPrivateKey = window.SWAP_HIDE_EXPORT_PRIVATEKEY\n  }\n\n  if (window?.widgetEvmLikeTokens?.length) {\n    config.opts.ownTokens = window.widgetEvmLikeTokens\n  }\n\n  if (config?.isWidget || config?.opts.ownTokens?.length) {\n    if (config?.opts.ownTokens?.length) {\n      config.opts.ownTokens.forEach((token) => {\n        config[token.standard][token.name.toLowerCase()] = token\n\n        const baseCurrency = TOKEN_STANDARDS[token.standard].currency.toUpperCase()\n        const tokenName = token.name.toUpperCase()\n        const tokenValue = `{${baseCurrency}}${tokenName}`\n\n        reducers.core.markCoinAsVisible(tokenValue)\n      })\n    }\n\n    // Clean not uninitialized single-token\n    // ? we can't use here as whole string {#WIDGETTOKENCODE#} ?\n    const wcPb = `{#`\n    const wcP = `WIDGETTOKENCODE`\n    const wcPe = `#}`\n\n    Object.keys(TOKEN_STANDARDS).forEach((key) => {\n      const standard = TOKEN_STANDARDS[key].standard\n      const ownTokens = {}\n\n      Object.keys(config[standard]).forEach((tokenSymbol) => {\n        if (tokenSymbol !== `${wcPb}${wcP}${wcPe}`) {\n          ownTokens[tokenSymbol] = config[standard][tokenSymbol]\n        }\n      })\n\n      config[standard] = ownTokens\n    })\n  }\n\n  if (config.opts.addCustomTokens) {\n    const customTokenConfig = getCustomTokenConfig()\n\n    Object.keys(customTokenConfig).forEach((standard) => {\n      Object.keys(customTokenConfig[standard]).forEach((tokenContractAddr) => {\n        const tokenObj = customTokenConfig[standard][tokenContractAddr]\n        const { symbol } = tokenObj\n\n        if (!config[standard][symbol.toLowerCase()]) {\n          config[standard][symbol.toLowerCase()] = {\n            address: tokenObj.address,\n            decimals: tokenObj.decimals,\n            fullName: tokenObj.symbol,\n            canSwap: true\n          }\n        }\n      })\n    })\n  }\n\n  // Comission config - default false\n  if (window\n    && window.widgetERC20Comisions\n    && Object.keys(window.widgetERC20Comisions)\n  ) {\n    let hasTokenAdminFee = false\n\n    Object.keys(window.widgetERC20Comisions).filter((key) => {\n      const curKey = key.toLowerCase()\n      if (window.widgetERC20Comisions[curKey]) {\n        let { fee, address, min } = window.widgetERC20Comisions[curKey]\n        let feeOk = false\n        let minOk = false\n\n        // @ToDo add currency isAddress Check\n        if (fee && address && min) {\n          try {\n            fee = new BigNumber(fee.replace(',', '.')).toNumber()\n            feeOk = true\n          } catch (e) {\n            console.error(`Fail convert ${fee} to number for ${curKey}`)\n          }\n          try {\n            min = new BigNumber(min.replace(',', '.')).toNumber()\n            minOk = true\n          } catch (e) {\n            console.error(`Fail convert ${min} to number for ${curKey}`)\n          }\n\n          if (minOk && feeOk) {\n            config.opts.fee[curKey.toLowerCase()] = {\n              fee,\n              address,\n              min,\n            }\n          }\n        } else {\n          if (TOKEN_STANDARDS[curKey.toLowerCase()] && address) {\n            hasTokenAdminFee = true\n            config.opts.fee[curKey.toLowerCase()] = {\n              address,\n            }\n          }\n        }\n      }\n    })\n\n    // add currency commissions for tokens\n    if (hasTokenAdminFee) {\n      const feeObj = config.opts.fee\n\n      Object.keys(TOKEN_STANDARDS).forEach((key) => {\n        const standard = TOKEN_STANDARDS[key].standard.toLowerCase()\n        const baseCurrency = TOKEN_STANDARDS[key].currency.toLowerCase()\n        const currencyFee = feeObj[baseCurrency]\n\n        if (currencyFee?.min && currencyFee?.fee) {\n          feeObj[standard].min = currencyFee.min\n          feeObj[standard].fee = currencyFee.fee\n        }\n      })\n    }\n  }\n\n  return config\n}\n\nexport default externalConfig()\n\nexport {\n  externalConfig,\n  initExternalConfig,\n}\n","import request from 'superagent'\n\n\nconst responseCacheStorage = {}\n\nconst responseCacheGetKey = (req, opts) => `${opts.method}-${opts.endpoint}`\n\nconst responseCacheGet = (req, opts) => {\n  const cacheKey =  responseCacheGetKey(req, opts)\n\n  if (opts\n    && opts.cacheResponse\n    && responseCacheStorage[cacheKey]\n    && ((responseCacheStorage[cacheKey].cacheResponseCreateTime + responseCacheStorage[cacheKey].cacheResponse) >= new Date().getTime())\n  ) {\n    return responseCacheStorage[cacheKey]\n  } return false\n}\n\nconst responseCacheAdd = (req, opts, resData, res) => {\n  const cacheKey = responseCacheGetKey(req, opts)\n  const { cacheResponse } = opts\n  const cacheResponseCreateTime = new Date().getTime()\n\n  responseCacheStorage[cacheKey] = {\n    cacheResponse,\n    cacheResponseCreateTime,\n    resData,\n    res,\n  }\n}\n\nconst createResponseHandler = (req, opts) => {\n  const debug = `${opts.method.toUpperCase()} ${opts.endpoint}`\n\n  // cached answer\n  const cachedAnswer = responseCacheGet(req, opts)\n\n  if (cachedAnswer) {\n    return new Promise((fulfill, reject) => {\n      //@ts-ignore\n      fulfill(cachedAnswer.resData, cachedAnswer.res)\n      opts.onComplete()\n    })\n  }\n\n  // no cache - do request\n  return new Promise((fulfill, reject) => req.end((err, res) => {\n    let serverError\n\n    // Errors\n\n    if (!res && !err) {\n      serverError = `Connection failed: ${debug}`\n    }\n    else if (!res || res.statusCode >= 500) {\n      serverError = 'We`re having technical issues at that moment. Please try again later'\n    }\n\n    if (serverError) {\n      return reject(new Error(`Connection failed: ${debug}, server error:${serverError}`))\n    }\n\n    if (err) {\n      // TODO write Error notifier\n      opts.onComplete()\n      return reject({ resData: err, res })\n    }\n\n    let { body } = res\n\n\n    if (!body) {\n      try {\n        body = JSON.parse(res.text)\n      }\n      catch (err) {\n        return reject(err)\n      }\n    }\n\n    const resData = opts.modifyResult(body)\n\n    // Cache result if needs\n    if (opts.cacheResponse) {\n      responseCacheAdd(req, opts, resData, res)\n    }\n\n    // Resolve\n    //@ts-ignore\n    fulfill(resData, res)\n    opts.onComplete()\n  }))\n}\n\n\nconst defaultOptions = {\n  sameOrigin: false,\n  modifyResult: (resData) => resData,\n  onComplete: () => {},\n}\n\n/**\n *\n * @param {Object} options\n * @param {String} options.endpoint\n * @param {String} options.method\n * @param {Object} options.headers\n * @param {Object} options.query\n * @param {Object} options.body\n * @param {number} options.delay\n */\nconst sendRequest = (options) => {\n  const opts = { ...defaultOptions, ...options }\n  const req = request[opts.method](opts.endpoint)\n\n  // req.set({\n  //   'Content-Type': opts.formData ? 'application/x-www-form-urlencoded; charset=UTF-8' : 'application/json',\n  //   ...(opts.headers || {}),\n  // })\n\n  if (opts.timeout) {\n    req.timeout({\n      response: 5000,  // Wait 5 seconds for the server to start sending,\n      deadline: 60000, // but allow 1 minute for the file to finish loading.\n      ...opts.timeout,\n    })\n  }\n\n  if (opts.query) {\n    req.query(opts.query)\n  }\n\n  if (opts.body) {\n    req.send(opts.body)\n  }\n\n  if (opts.sameOrigin) {\n    req.withCredentials()\n  }\n\n  const responseHandler = createResponseHandler(req, opts)\n  //@ts-ignore\n  responseHandler.abort = req.abort.bind(req)\n\n  return responseHandler\n}\n\nconst requestByMethod = (method) => (endpoint, opts = {}) => sendRequest({ ...opts, endpoint, method })\n\n\nexport default {\n  get: requestByMethod('get'),\n  post: requestByMethod('post'),\n  patch: requestByMethod('patch'),\n  put: requestByMethod('put'),\n  delete: requestByMethod('delete'),\n}\n","const getUnixTimeStamp = () => Math.floor(new Date().getTime() / 1000)\n\nexport default getUnixTimeStamp\n","import request from './request'\nimport getUnixTimeStamp from './getUnixTimeStamp'\n\n\nconst apiStatuses = {}\nconst apiQuery = {}\nconst apiQueryTimers = {}\nconst apiQueryTicks = 10\n\nconst apis = {}\n\nconst apiQueryTimer = (queryName) => {\n  if (apiQuery[queryName].length) {\n    const queryChunk = apiQuery[queryName].shift()\n    const {\n      method,\n      api,\n      endpoint,\n      resolve: onResolve,\n      error: onError,\n      options,\n      options: {\n        inQuery: {\n          delay,\n        },\n      },\n    } = queryChunk\n\n    apiLooper(method, api, endpoint, options).then((answer) => {\n      onResolve(answer)\n      apiQueryTimers[queryName] = setTimeout(() => {\n        apiQueryTimer(queryName)\n      }, delay)\n\n    }).catch((error) => {\n      onError(error)\n      apiQueryTimers[queryName] = setTimeout(() => {\n        apiQueryTimer(queryName)\n      }, delay)\n    })\n  } else {\n    apiQueryTimers[queryName] = setTimeout(() => {\n      apiQueryTimer(queryName)\n    }, apiQueryTicks)\n  }\n}\n\nconst apiQueryInit = (queryName) => {\n  if (!apiQuery[queryName]) apiQuery[queryName] = []\n  if (!apiQueryTimers[queryName]) { apiQueryTimers[queryName] = setTimeout(() => {\n    apiQueryTimer(queryName)\n  }, apiQueryTicks) }\n}\n\nconst initApiStatus = (name, apiServers) => {\n  const stat = {\n    name,\n    endpoints: {},\n    prior: [],\n    last: false,\n  }\n\n  if (apiServers instanceof Array) {\n    apiServers.forEach((url, index) => {\n      stat.endpoints[url] = {\n        url,\n        lastCheck: getUnixTimeStamp(),\n        online: true,\n      }\n      //@ts-ignore: strictNullChecks\n      stat.prior.push(url)\n    })\n    stat.last = apiServers[apiServers.length - 1]\n  } else {\n    stat.endpoints[apiServers] = {\n      url: apiServers,\n      lastCheck: getUnixTimeStamp(),\n      online: true,\n    }\n    //@ts-ignore: strictNullChecks\n    stat.prior.push(apiServers)\n    stat.last = apiServers\n  }\n  apiStatuses[name] = stat\n}\n\nconst switchNext = (api) => {\n  if (apiStatuses[api]) {\n    if (apiStatuses[api].prior[0] === apiStatuses[api].last) return false\n\n    const apiPrioritet = apiStatuses[api].prior\n\n    const current = apiPrioritet.shift()\n    apiPrioritet.push(current)\n    apiStatuses[api].prior = apiPrioritet\n    apiStatuses[api].endpoints[current].online = false\n    apiStatuses[api].endpoints[current].lastCheck = getUnixTimeStamp()\n\n    return true\n  }\n  return false\n}\n\nconst apiLooper = (method, api, endpoint, options) => {\n  const {\n    inQuery,\n    ignoreErrors,\n    reportErrors,\n  } = options || {}\n\n  const {\n    name: apiName,\n    servers: apiServers,\n  } = api\n\n  if (inQuery && !inQuery.inited) {\n    return new Promise((resolve, error) => {\n      const { name } = inQuery\n      const queryName = `${api}_${name}`\n\n      apiQueryInit(queryName)\n\n      apiQuery[queryName].push({\n        method,\n        api,\n        endpoint,\n        options: {\n          ...options,\n          inQuery: {\n            ...inQuery,\n            inited: true,\n          },\n        },\n        resolve,\n        error,\n      })\n\n    })\n  }\n\n  if (!apiStatuses[apiName]) {\n    initApiStatus(apiName, apiServers)\n  }\n\n  const apiStatus = apiStatuses[apiName]\n\n  if (apiStatus) {\n    return new Promise((resolve, error) => {\n      const doRequest = () => {\n        const currentEndpoint = apiStatus.endpoints[apiStatus.prior[0]]\n        if (currentEndpoint.online) {\n          const url = `${currentEndpoint.url}${endpoint}`\n\n          request[method](url, options)\n            .then((answer) => {\n              if (options && options.checkStatus instanceof Function) {\n                if (!options.checkStatus(answer)) {\n                  console.error(`Endpoint ${currentEndpoint.url} - checkStatus failed (may be down). Switch next`)\n                  if (switchNext(api)) {\n                    doRequest()\n                  } else {\n                    error('All endpoints of api is offline')\n                  }\n                  return\n                }\n              }\n              resolve(answer)\n            })\n            .catch((answer) => {\n              if (reportErrors instanceof Function) {\n                let skipDefResolve = false\n                const swithToNextServer = reportErrors(\n                  answer,\n                  (resolveResult) => {\n                    skipDefResolve = true\n                    resolve(resolveResult)\n                  },\n                  (rejectResult) => {\n                    error(rejectResult)\n                  }\n                )\n                if (!swithToNextServer) {\n                  if (!skipDefResolve) resolve(answer)\n                  return\n                }\n              }\n              if (ignoreErrors) {\n                console.log('Ignore error ^')\n                resolve(answer)\n                return\n              }\n              console.error(`Endpoint ${currentEndpoint.url} may be offline. Switch next`)\n              if (switchNext(apiName)) {\n                doRequest()\n              } else {\n                error('All endpoints of api is offline')\n              }\n            })\n        } else {\n          error('All endpoints of api is offline')\n        }\n      }\n      doRequest()\n    })\n  }\n  return new Promise((resolve, error) => { error('Api not found') })\n\n}\n\n\nexport default {\n  get: (api, endpoint, options?) => apiLooper('get', api, endpoint, options),\n  post: (api, endpoint, options?) => apiLooper('post', api, endpoint, options),\n}\n","export default Object.freeze({\n  DUST_SAT: 546,\n  TX_SIZE: 15,\n\n  // about address types\n  // https://medium.com/coinmonks/on-bitcoin-transaction-sizes-part-2-9445373d17f4\n\n  // P2PKH: \"Pay To Public Key Hash\"\n  P2PKH_IN_SIZE: 148,\n  P2PKH_OUT_SIZE: 34,\n\n  // P2SH: \"Pay to script hash\"\n  // P2SH_IN_SIZE: has a variable size (depends on the script)\n  P2SH_OUT_SIZE: 32,\n  P2SH_IN_SIZE: 320, // medium value of swap script input\n\n  // P2WSH: \"Pay to Witness Script Hash\"\n  P2WSH_IN_SIZE: 41,\n  P2WSH_OUT_SIZE: 43,\n\n  // P2WPKH: \"Pay To Witness Public Key Hash\"\n  P2WPKH_IN_SIZE: 108, // 67.75 | 41 ?\n  P2WPKH_OUT_SIZE: 31,\n\n  P2SH_P2WPKH_IN_SIZE: 108, // 91 | 64 ?\n\n  MULTISIG_P2SH_IN_SIZE: 49,\n  MULTISIG_P2WSH_IN_SIZE: 6,\n\n  // Multi-Signature - Pay To Script Hash - Pay to Witness Script Hash\n  MULTISIG_P2SH_P2WSH_IN_SIZE: 6, // 76 ?\n})","export default {\n  arbeth: {\n    limit: {\n      send: 630 * 1e3,\n      // ? heed to check how much for swaps ?\n      swap: 4000 * 1e3,\n    },\n    price: {\n      slow: 0.1 * 1e8,\n      normal: 1 * 1e8,\n      fast: 2 * 1e8,\n    },\n  },\n  evmLike: {\n    limit: {\n      send: 21 * 1e3,\n      contractInteract: 100 * 1e3,\n      swap: 70 * 1e3,\n    },\n    price: {\n      slow: 0.1 * 1e9,\n      normal: 1 * 1e9,\n      fast: 2 * 1e9,\n    },\n  },\n  evmLikeToken: {\n    limit: {\n      send: 100 * 1e3,\n      swap: 300 * 1e3,\n      swapDeposit: 170 * 1e3,\n      swapWithdraw: 100 * 1e3,\n    },\n    price: {\n      slow: 0.1 * 1e9,\n      normal: 1 * 1e9,\n      fast: 2 * 1e9,\n    },\n  },\n  btc: {\n    size: {\n      send: 226,\n      swap: 400,\n    },\n    rate: {\n      slow: 5 * 1e3,\n      normal: 15 * 1e3,\n      fast: 30 * 1e3,\n    },\n  },\n  ghost: {\n    size: {\n      send: 226,\n      swap: 400,\n    },\n    rate: {\n      slow: 5 * 1e3,\n      normal: 15 * 1e3,\n      fast: 30 * 1e3,\n    },\n  },\n  next: {\n    size: {\n      send: 226,\n      swap: 400,\n    },\n    rate: {\n      slow: 5 * 1e3,\n      normal: 15 * 1e3,\n      fast: 30 * 1e3,\n    },\n  },\n}\n","export default {\n  eth: 0.001,\n  bnb: 0.001,\n  matic: 0.001,\n  arbeth: 0.001,\n  btc: 0.00015,\n  ghost: 0.00015,\n  next: 0.00015,\n  btc_multisig_2n2: 0.00015,\n  btc_multisig_2fa: 0.00015,\n  noxon: 1,\n  swap: 1,\n  jot: 1,\n  usdt: 0,\n  erc: 1,\n}\n","/* \n* Dinamic fee because the price changes globally\n* Transfer amount does not affect it\n*/\nexport default [\n  'eth',\n  'bnb',\n  'matic',\n  'arbeth',\n  'btc',\n  'ghost',\n  'next',\n]","import TRANSACTION from './TRANSACTION'\nimport DEFAULT_CURRENCY_PARAMETERS from './DEFAULT_CURRENCY_PARAMETERS'\nimport MIN_AMOUNT from './MIN_AMOUNT'\nimport MIN_AMOUNT_OFFER from './MIN_AMOUNT_OFFER'\nimport COINS_WITH_DYNAMIC_FEE from './COINS_WITH_DYNAMIC_FEE'\n\nexport default {\n  TRANSACTION,\n  DEFAULT_CURRENCY_PARAMETERS,\n  MIN_AMOUNT,\n  MIN_AMOUNT_OFFER,\n  COINS_WITH_DYNAMIC_FEE,\n}","export default {\n  eth: 0.0006,\n  bnb: 0.0006,\n  matic: 0.0006,\n  arbeth: 0.0006,\n  btc: 0.0002,\n  jot: 1,\n  usdt: 0,\n  erc: 1,\n}\n","export default {\n  horizon: 'https://horizon-testnet.stellar.org',\n  blocktrail: 'https://api.blocktrail.com/v1/tBTC',\n  bitpay: [\n    'https://api.bitcore.io/api/BTC/testnet',\n    // 'https://test-insight.bitpay.com/api',\n    // 'http://localhost:32250/btc/testnet',\n    // 'https://test-insight.swaponline.io/insight-api',\n    // 'https://invoices.swaponline.site/proxybitpay-testnet',\n  ],\n  ghostscan: 'https://testnet.ghostscan.io/ghost-insight-api',\n  nextscan: 'https://explore.next.exchange/#',\n  nextExplorer: 'https://next.swaponline.io/mainnet',\n  nextExplorerCustom: 'https://next.swaponline.io/mainnet',\n  blockcypher: 'https://api.blockcypher.com/v1/btc/test3',\n  etherscan: 'https://api-rinkeby.etherscan.io/api',\n  etherscanInvoices: 'https://invoices.swaponline.site/proxyetherscan-testnet',\n  etherscan_ApiKey: 'RHHFPNMAZMD6I4ZWBZBF6FA11CMW9AXZNM',\n  bscscan: 'https://api-testnet.bscscan.com/api',\n  // TODO: replace proxy link\n  bscscanInvoices: 'https://invoices.swaponline.site/proxyetherscan-testnet',\n  bscscan_ApiKey: 'WI4QEJSV19U3TF2H1DPQ2HR6712HW4MYKJ',\n  // not yet for testnet\n  maticscan: '',\n  polygon_ApiKey: '',\n  // ------------------\n  faucet: 'https://faucet.swaponline.site/testnet/',\n  btc2FAProtected: 'https://2fa.swaponline.site',\n  btcPin: 'https://2fapin.swaponline.site',\n  invoiceApi: 'https://invoices.swaponline.site',\n  multisig: 'https://multisig.swaponline.site',\n  txinfo: 'https://txinfo.swaponline.site',\n  noxon: 'https://noxon.wpmix.net',\n}\n","export default {\n  horizon: 'https://horizon.stellar.org',\n  blocktrail: 'https://api.blocktrail.com/v1/BTC',\n  bitpay: [\n  'https://api.bitcore.io/api/BTC/mainnet',\n    //'https://insight.bitpay.com/api',\n    //'https://invoices.swaponline.site/proxybitpay',\n  ],\n  ghostscan: 'https://ghostscan.io/ghost-insight-api',\n  nextscan: 'https://explore.next.exchange/#',\n  nextExplorer: 'https://next.swaponline.io/mainnet',\n  nextExplorerCustom: 'https://next.swaponline.io/mainnet',\n  blockcypher: 'https://api.blockcypher.com/v1/btc/main',\n  etherscan: 'https://api.etherscan.io/api',\n  etherscanInvoices: 'https://invoices.swaponline.site/proxyetherscan',\n  etherscan_ApiKey: 'RHHFPNMAZMD6I4ZWBZBF6FA11CMW9AXZNM',\n  bscscan: 'https://api.bscscan.com/api',\n  bscscan_ApiKey: 'WI4QEJSV19U3TF2H1DPQ2HR6712HW4MYKJ',\n  maticscan: 'https://api.polygonscan.com/api',\n  polygon_ApiKey: '8S2R45ZWG94HI7YK9RCXSK4VCASJ4XVA15',\n  faucet: 'https://faucet.swaponline.site/mainnet/',\n  btc2FAProtected: 'https://2fa.swaponline.site',\n  btcPin: 'https://2fapin.swaponline.site',\n  invoiceApi: 'https://invoices.swaponline.site',\n  multisig: 'https://multisig.swaponline.site',\n  txinfo: 'https://txinfo.swaponline.site',\n  noxon: 'https://noxon.wpmix.net',\n}\n","import apiLooper from '../apiLooper'\nimport { BigNumber } from 'bignumber.js'\nimport * as bitcoin from 'bitcoinjs-lib'\nimport typeforce from 'swap.app/util/typeforce'\nimport constants from 'common/helpers/constants'\nimport DEFAULT_CURRENCY_PARAMETERS from 'common/helpers/constants/DEFAULT_CURRENCY_PARAMETERS'\n\n// Use front API config\nimport { default as TESTNET } from '../../../front/config/testnet/api'\nimport { default as MAINNET } from '../../../front/config/mainnet/api'\n\n\nconst DUST = 546\n\nconst getBitpay = (network) => {\n  return {\n    name: `apiBitpay`,\n    servers: (network === `MAINNET`)\n      ? MAINNET.bitpay\n      : TESTNET.bitpay\n  }\n}\n\nconst getCore = () => {\n  return bitcoin\n}\n\n\nconst getBlockcypher = (network) => {\n  return {\n    name: `apiBlockcypher`,\n    servers: (network === `MAINNET`)\n      ? MAINNET.blockcypher\n      : TESTNET.blockcypher\n  }\n}\n\nconst fetchBalance = (options) => {\n  const {\n    address,\n    withUnconfirmed,\n    apiBitpay,\n    cacheResponse,\n    NETWORK,\n  } = options\n\n  return apiLooper.get(apiBitpay || getBitpay(NETWORK), `/address/${address}/balance/`, {\n    cacheResponse,\n    checkStatus: (answer) => {\n      try {\n        if (answer && answer.balance !== undefined) return true\n      } catch (error) {\n        console.error('Utils - btc - fetch balance: ', error)\n      }\n      return false\n    },\n    inQuery: {\n      delay: 500,\n      name: `bitpay`,\n    },\n  }).then((answer: any) => {\n    const {\n      balance,\n      unconfirmed,\n    } = answer\n    if (withUnconfirmed) {\n      return {\n        balance: new BigNumber(balance).dividedBy(1e8).toNumber(),\n        unconfirmed: new BigNumber(unconfirmed).dividedBy(1e8).toNumber(),\n      }\n    } else {\n      return new BigNumber(balance).dividedBy(1e8).toNumber()\n    }\n  })\n}\n\nconst fetchTx = (options) => {\n  const {\n    hash,\n    apiBitpay,\n    cacheResponse,\n    NETWORK,\n  } = options\n\n  return apiLooper.get(apiBitpay || getBitpay(NETWORK), `/tx/${hash}`, {\n    cacheResponse,\n    checkStatus: (answer) => {\n      try {\n        if (answer && answer.fee !== undefined) return true\n      } catch (e) { /* */ }\n      return false\n    },\n    inQuery: {\n      delay: 500,\n      name: `bitpay`,\n    },\n  }).then(({ fee, ...rest }) => ({\n      fees: new BigNumber(fee).dividedBy(1e8).toNumber(),\n      ...rest,\n    }\n  ))\n}\n\n\n// @ToDo - Make interface - fetchTxInfo общая для всех блокчейнов - она возврашет сведенные данные определенного типа\nconst fetchTxInfo = (options) : any => {\n  const {\n    hash,\n    apiBitpay,\n    cacheResponse,\n    hasAdminFee,\n    NETWORK,\n  } = options\n\n  return new Promise(async (callback, txinfoReject) => {\n    let baseTxInfo: any | boolean = false // @ToDo - make interface for baseTxInfo api answer\n    let txCoins: any | boolean = false // @ToDo - make interface for txCoins api answer\n\n    try {\n      baseTxInfo = await fetchTx({\n        hash,\n        apiBitpay,\n        cacheResponse,\n        NETWORK,\n      })\n    } catch (error) {\n      console.error('Fail fetch tx info', error)\n      txinfoReject(error)\n      return\n    }\n    try {\n      txCoins = await apiLooper.get(apiBitpay || getBitpay(NETWORK), `/tx/${hash}/coins`, {\n        cacheResponse,\n        /* checkStatus */\n        inQuery: {\n          delay: 500,\n          name: `bitpay`,\n        },\n      })\n    } catch (error) {\n      console.error('Failt fetch tx coin info', error)\n      txinfoReject(error)\n    }\n\n    let receiverAddress = null\n    let afterBalance = txCoins && txCoins.inputs && txCoins.inputs[1] \n      ? new BigNumber(txCoins.inputs[1].value).dividedBy(1e8).toNumber() \n      : null\n    let adminOutput = []\n    let adminFee : number | boolean = false\n    let afterOutput = []\n\n    if (!txCoins || !txCoins.inputs || !txCoins.outputs) {\n      console.error('tx coin info empty')\n      txinfoReject('tx coin info empty')\n    }\n\n    const senderAddress = txCoins && txCoins.inputs ? txCoins.inputs[0].address : null\n    const amount = new BigNumber(txCoins.outputs[0].value).dividedBy(1e8).toNumber()\n\n    if (hasAdminFee) {\n      adminOutput = txCoins.outputs.filter((out) => {\n        return (\n          out.address === hasAdminFee.address\n          && !(new BigNumber(out.value).eq(amount))\n        )\n      })\n    }\n\n\n    /*\n    // @ToDo - need fix\n    if (txCoins && txCoins.outputs) {\n      afterOutput = txCoins.outputs.filter(({ address }) => {\n        return (\n          address !== hasAdminFee.address\n        )\n      })\n    }\n    */\n\n    if (afterOutput.length) {\n      //@ts-ignore: strictNullChecks\n      afterBalance = new BigNumber(afterOutput[0].value).dividedBy(1e8).toNumber()\n    }\n\n    if (adminOutput.length) {\n      //@ts-ignore: strictNullChecks\n      adminFee = new BigNumber(adminOutput[0].value).dividedBy(1e8).toNumber()\n    }\n\n    \n    if (txCoins && txCoins.outputs && txCoins.outputs[0]) {\n      receiverAddress = txCoins.outputs[0].address\n    }\n\n    // @ToDo - Интерфейс этой функции\n    const txInfo = {\n      txid: baseTxInfo.txid,\n      amount,\n      afterBalance,\n      senderAddress,\n      confirmed: !!(baseTxInfo.confirmations),\n      confirmations: baseTxInfo.confirmations,\n      receiverAddress,\n      \n      minerFee: baseTxInfo.fees,\n      adminFee,\n      minerFeeCurrency: 'BTC',\n\n      outputs: txCoins.outputs.map((output) => ({\n        ...output,\n        amount: new BigNumber(output.value).dividedBy(1e8).toNumber(),\n      })),\n      inputs: txCoins.inputs.map((input) => ({\n        ...input,\n        amount: new BigNumber(input.value).dividedBy(1e8).toNumber(),\n      })),\n      fees: baseTxInfo.fees,\n      size: baseTxInfo.size,\n    }\n\n    callback( txInfo )\n  })\n}\n\nexport interface IBtcUnspent {\n  address: string,\n  amount: number,\n  confirmations: number,\n  height: number,\n  satoshis: number,\n  scriptPubKey: string,\n  txid: string,\n  vout: number,\n  spentTxid: string,\n}\n// @To-do - make interface - ответ этой функции общий для все блокчейнов\nconst fetchUnspents = (options): Promise<IBtcUnspent[]> => {\n  const {\n    address,\n    apiBitpay,\n    cacheResponse,\n    NETWORK,\n  } = options\n\n  return new Promise((resolve, reject) => {\n    apiLooper.get(\n      apiBitpay || getBitpay(NETWORK),\n      `/address/${address}?unspent=true&limit=1000000`,\n      {\n        cacheResponse: (cacheResponse || 5000),\n        inQuery: {\n          delay: 500,\n          name: `bitpay`,\n        },\n      }\n    ).then((answer: any) => {\n      resolve(answer.map((txInfo, index) => {\n        return {\n          address,\n          amount: new BigNumber(txInfo.value).dividedBy(1e8).toNumber(),\n          confirmations: txInfo.confirmations,\n          height: txInfo.mintHeight,\n          satoshis: txInfo.value,\n          scriptPubKey: txInfo.script,\n          txid: txInfo.mintTxid,\n          vout: txInfo.mintIndex,\n          spentTxid: txInfo.spentTxid,\n        }\n      }))\n    }).catch((error) => {\n      console.error('btc fetchUnspents error', error)\n      reject(error)\n    })\n  })\n}\n\ninterface IPrepareUnspentsOptions {\n  amount: number,\n  unspents: IBtcUnspent[],\n}\n/**\n * Processes the UTXO for the specified amount (in satoshi)\n **/\nconst prepareUnspents = (options: IPrepareUnspentsOptions): Promise<IBtcUnspent[]> => {\n  const {\n    amount,\n    unspents,\n  } = options\n\n  return new Promise((resolve, reject) => {\n    const needAmount = new BigNumber(amount).multipliedBy(1e8).plus(DUST)\n    \n    // Sorting all unspent inputs from minimum amount to maximum\n    const sortedUnspents: IBtcUnspent[] = unspents.sort((a: IBtcUnspent, b: IBtcUnspent) => {\n      return (new BigNumber(a.satoshis).isEqualTo(b.satoshis))\n        ? 0\n        : (new BigNumber(a.satoshis).isGreaterThan(b.satoshis))\n          ? 1\n          : -1\n    })\n    \n    // let's try to find one unspent input which will enough for all commission\n    //@ts-ignore: strictNullChecks\n    let oneUnspent: IBtcUnspent = null\n    sortedUnspents.forEach((unspent: IBtcUnspent) => {\n      if (oneUnspent === null\n        && new BigNumber(unspent.satoshis).isGreaterThanOrEqualTo(needAmount)\n      ) {\n        oneUnspent = unspent\n        return false\n      }\n    })\n\n    // if we didn't find one unspent then we're looking for\n    // all unspent inputs which will enough (from min to max)\n    if (oneUnspent === null) {\n      let calcedAmount = new BigNumber(0)\n      const usedUnspents: IBtcUnspent[] = sortedUnspents.filter((unspent: IBtcUnspent) => {\n        if (calcedAmount.isGreaterThanOrEqualTo(needAmount)) {\n          return false\n        } else {\n          calcedAmount = calcedAmount.plus(unspent.satoshis)\n          return true\n        }\n      })\n      resolve(usedUnspents)\n    } else {\n      resolve([oneUnspent])\n    }\n  })\n}\n\n// @ToDo - интерфейс - возврашет объект { txid }\nconst broadcastTx = (options): any => {\n  const {\n    txRaw,\n    apiBitpay,\n    apiBlocyper,\n    onBroadcastError,\n    NETWORK,\n  } = options\n\n  return new Promise(async (resolve, reject) => {\n    let answer : any | boolean = false // @ToDo - make interface for api answer \n    try {\n      answer = await apiLooper.post(apiBitpay || getBitpay(NETWORK), `/tx/send`, {\n        body: {\n          rawTx: txRaw,\n        },\n        reportErrors: (error) => {\n          console.log('BitPay broadcastTx error', error)\n          return true\n        },\n        inQuery: {\n          delay: 500,\n          name: `bitpay`,\n        },\n      })\n    } catch (bitpayError) {\n      console.log('BitPay broadcastTx error', bitpayError)\n      if (onBroadcastError instanceof Function) {\n        if (onBroadcastError(bitpayError)) reject()\n      }\n    }\n    if (answer && answer.txid) {\n      resolve({ txid: answer.txid })\n      return\n    }\n    if (!answer || !answer.txid) {\n      // use blockcryper\n      try {\n        const bcAnswer : any | boolean = await apiLooper.post(apiBlocyper || getBlockcypher(NETWORK), `/txs/push`, {\n          body: {\n            tx: txRaw,\n          },\n          reportErrors: (error) => {\n            if (error\n              && error.res\n              && error.res.res\n              && error.res.res.statusMessage\n              && error.res.res.statusMessage === `Conflict`\n            ) {\n              reject(`Conflict`)\n              return false\n            } else {\n              if (error\n                && error.res\n                && error.res.body\n                && error.res.body.error\n              ) {\n                reject(error.res.body.error)\n                return false\n              }\n            }\n            return true\n          },\n          inQuery: {\n            delay: 500,\n            name: `blocyper`,\n          },\n        })\n        if (bcAnswer\n          && bcAnswer.tx\n          && bcAnswer.tx.hash) {\n          resolve({\n            txid: bcAnswer.tx.hash,\n          })\n        } else {\n          reject(`Cant decode answer`)\n        }\n      } catch (blocyperError) {\n        if (onBroadcastError instanceof Function) {\n          if (onBroadcastError(blocyperError)) reject(``)\n        } else {\n          reject(``)\n        }\n      }\n    }\n  })\n}\n\n/*\n  Проверяет списание со скрипта - последняя транзакция выхода\n  Возвращает txId, адресс и сумму\n*/\nconst checkWithdraw = (options) => {\n  const {\n    scriptAddress,\n    apiBitpay,\n    NETWORK,\n  } = options\n\n  const url = `/address/${scriptAddress}/txs/`\n  return apiLooper.get(apiBitpay || getBitpay(NETWORK), url, {\n    checkStatus: (answer) => {\n      try {\n        if (answer && answer.length !== undefined) return true\n      } catch (e) { /* */ }\n      return false\n    },\n    inQuery: {\n      delay: 500,\n      name: `bitpay`,\n    },\n  }).then(async (txs: any) => {\n    // has two or more txs on script\n    if ((txs.length >= 1)\n      && txs[0].mintTxid\n      && txs[0].spentTxid\n    ) {\n      try {\n        const spendTxInfo = await fetchTxInfo({\n          hash: txs[0].spentTxid,\n          apiBitpay\n        })\n        return {\n          address: spendTxInfo.receiverAddress,\n          txid: txs[0].spentTxid,\n          amount: new BigNumber(txs[0].value).dividedBy(1e8).toNumber(),\n        }\n      } catch (e) {\n        console.error('Fail check Withdraw for ', scriptAddress, e)\n      }\n    }\n    return false\n  })\n}\n\nconst fetchTxInputScript = (options) => {\n  const {\n    txId,\n    cacheResponse,\n    apiBlocyper,\n    NETWORK,\n  } = options\n\n  return apiLooper.get(apiBlocyper || getBlockcypher(NETWORK), `/txs/${txId}?includeHex=true`, {\n    cacheResponse,\n    checkStatus: (answer) => {\n      try {\n        if (answer && answer.hex !== undefined) return true\n      } catch (e) {}\n      return false\n    },\n    inQuery: {\n      delay: 500,\n      name: `blocyper`,\n    },\n  }).then((inInfo: any) => {\n    if (inInfo\n      && inInfo.inputs\n      && inInfo.inputs.length === 1\n    ) {\n      return bitcoin.script.toASM(\n        //@ts-ignore: strictNullChecks\n        bitcoin.script.decompile(\n          Buffer.from(inInfo.inputs[0].script, 'hex')\n        )\n      )\n    }\n    return false\n  })\n}\n\nconst fetchTxRaw = (options) => {\n  const {\n    txId,\n    cacheResponse,\n    apiBlocyper,\n    NETWORK,\n  } = options\n\n  return apiLooper.get(apiBlocyper || getBlockcypher(NETWORK), `/txs/${txId}?includeHex=true`, {\n    cacheResponse,\n    checkStatus: (answer) => {\n      try {\n        if (answer && answer.hex !== undefined) return true\n      } catch (e) {}\n      return false\n    },\n    inQuery: {\n      delay: 500,\n      name: `blocyper`,\n    },\n  }).then(({ hex }) => hex)\n}\n\n\nconst getTransactionBlocyper = (options) => {\n  const {\n    address,\n    ownAddress,\n    ownType,\n    myWallets,\n    network,\n    apiBlocyper,\n    NETWORK,\n  } = options\n\n  return new Promise((resolve) => {\n    const type = (ownType) || 'btc'\n\n    const checkAddress = (address || ownAddress)\n    const url = `/addrs/${checkAddress}/full?txlimit=1000000`\n\n    apiLooper.get(\n      apiBlocyper || getBlockcypher(NETWORK),\n      url,\n      {\n        cacheResponse: 10*1000,\n        inQuery: {\n          delay: 500,\n          name: `blocyper`,\n        },\n      }\n    ).then((answer: any) => {\n      if (answer\n        && answer.txs\n      ) {\n        const transactions = answer.txs.map((item) => {\n          const hasOurInputs = item.inputs.filter((input) => {\n            return (input.addresses[0] === checkAddress)\n          })\n          const direction = hasOurInputs.length ? `out` : `in`\n\n          const isSelf = direction === 'out'\n            && item.outputs.filter((output) => {\n                const currentAddress = output.addresses[0]\n\n                return currentAddress === checkAddress\n            }).length === item.outputs.length\n\n          let value = isSelf\n            ? item.fees\n            : item.outputs.filter((output) => {\n              \n              const currentAddress = output.addresses[0]\n\n              return direction === 'in'\n                ? (currentAddress === checkAddress)\n                : (currentAddress !== checkAddress)\n            })[0].value\n\n          return({\n            type,\n            hash: item.hash,\n            canEdit: (myWallets.indexOf(checkAddress) !== -1),\n            confirmations: item.confirmations,\n            value: new BigNumber(value).dividedBy(1e8).toNumber(),\n            date: Date.parse(\n              (item.confirmations)\n                ? item.confirmed\n                : item.received\n            ),\n            direction: isSelf ? 'self' : direction,\n          })\n        })\n\n        resolve(transactions)\n      } else {\n        resolve([])\n      }\n    })\n    .catch((e) => {\n      console.error('Get btc txs Error', e)\n      resolve([])\n    })\n  })\n}\n\n/** \n  Draft - взято из фронта, там не используется\n  Но нужно реализовать\n  игноры - явные ошибки - есть зависимости от фронта shared/actions/btc\n  Ситауация такая - когда insight обновил свое апи, в быстром режиме нужно было\n  восстанавливать фронт - эта функция должна использоваться для получения списка\n  все транзакций на странице \"История\", но из-за изменений в их апи, быстрее было\n  использовать блокрипер - в этой функции есть проблемы с получением адресов получателя-отправителя\n**/\nconst getTransactionBitcore = (options) => {\n  const {\n    address,\n    ownType,\n    myWallets,\n    network,\n    apiBitpay,\n    NETWORK,\n  } = options\n  \n  return new Promise(async (resolve) => {\n    // @ts-ignore\n    const myAllWallets = getAllMyAddresses()\n    // @ts-ignore\n    let { user: { btcData: { address: userAddress } } } = getState()\n    // @ts-ignore\n    address = address || userAddress\n\n    const type = (ownType) || 'btc'\n    // @ts-ignore\n    if (!typeforce.isCoinAddress.BTC(address)) {\n      resolve([])\n    }\n\n    const blockInfo = await apiLooper.get(apiBitpay || getBitpay(NETWORK), `/block/tip`, {\n      /* cache */\n      /* query */\n    })\n    console.log('blockInfo', blockInfo)\n\n    const url = `/address/${address}/txs`\n\n    return apiLooper.get(apiBitpay, url, {\n      checkStatus: (answer) => {\n        try {\n          if (answer && answer.txs !== undefined) return true\n        } catch (e) { /* */ }\n        return false\n      },\n      inQuery: {\n        delay: 500,\n        name: `bitpay`,\n      },\n    }).then((res: any) => {\n      const transactions = res.txs.map((item) => {\n        const direction = item.vin[0].addr !== address ? 'in' : 'out'\n\n        const isSelf = direction === 'out'\n          && item.vout.filter((item) => {\n              const voutAddrBuf = Buffer.from(item.scriptPubKey.hex, 'hex')\n              const currentAddress = bitcoin.address.fromOutputScript(voutAddrBuf, network)\n              return currentAddress === address\n          }).length === item.vout.length\n\n        return({\n          type,\n          hash: item.txid,\n          canEdit: (myWallets.indexOf(address) !== -1),\n          confirmations: item.confirmations,\n          value: isSelf\n            ? item.fees\n            : item.vout.filter((item) => {\n              const voutAddrBuf = Buffer.from(item.scriptPubKey.hex, 'hex')\n              const currentAddress = bitcoin.address.fromOutputScript(voutAddrBuf, network)\n\n              return direction === 'in'\n                ? (currentAddress === address)\n                : (currentAddress !== address)\n            })[0].value,\n          date: item.time * 1000,\n          direction: isSelf ? 'self' : direction,\n        })\n      })\n      resolve(transactions)\n    }).catch((error) => {\n      console.error(error)\n      resolve([])\n    })\n  })\n}\n\nconst getFeesRateBlockcypher = async ({ NETWORK }) => {\n  const defaultRate = DEFAULT_CURRENCY_PARAMETERS.btc.rate\n\n  const defaultApiSpeeds = {\n    slow: defaultRate.slow,\n    normal: defaultRate.normal,\n    fast: defaultRate.fast,\n    custom: 50 * 1024,\n  }\n\n  let apiResult\n\n  try {\n    // api returns sotoshi in 1 kb\n    apiResult = await apiLooper\n    .get(getBlockcypher(NETWORK), ``, {\n      cacheResponse: 10*60*1000,\n      cacheOnFail: true,\n      inQuery: {\n        delay: 500,\n        name: `blocyper`,\n      },\n    } )\n  } catch (err) {\n    console.error({ info: err })\n    return defaultApiSpeeds\n  }\n\n  const apiRate = {\n    slow: apiResult.low_fee_per_kb,\n    normal: apiResult.medium_fee_per_kb,\n    fast: apiResult.high_fee_per_kb,\n    custom: 50 * 1024,\n  }\n\n  return apiRate;\n}\n\nenum Network {\n  mainnet = \"mainnet\",\n  testnet = \"testnet\",\n}\n\nenum AddressType {\n  p2pkh = \"P2PKH\",\n  p2sh = \"P2SH\",\n  p2wpkh = \"P2WPKH\",\n  p2wsh = \"P2WSH\",\n}\n\nconst addressTypes: { [key: number]: { type: AddressType, network: Network } } = {\n  0x00: {\n    type: AddressType.p2pkh,\n    network: Network.mainnet,\n  },\n\n  0x6f: {\n    type: AddressType.p2pkh,\n    network: Network.testnet,\n  },\n\n  0x05: {\n    type: AddressType.p2sh,\n    network: Network.mainnet,\n  },\n\n  0xc4: {\n    type: AddressType.p2sh,\n    network: Network.testnet,\n  },\n};\n\nconst getAddressType = (address: string) => {\n  const prefix = address.substr(0, 2)\n\n  let data\n  let addressType\n\n  if (prefix === 'bc' || prefix === 'tb') {\n    const { data: benchVersion } = bitcoin.address.fromBech32(address)\n    data = benchVersion\n\n    addressType = data.length === 20 ? AddressType.p2wpkh : AddressType.p2wsh\n    return addressType\n\n  } else {\n    const { version } = bitcoin.address.fromBase58Check(address)\n    let { type } = addressTypes[version]\n\n    if (!type) {\n      type = AddressType.p2pkh\n      console.warn(`Unknown version '${version}' for address '${address}'.`)\n    }\n\n    return addressType = type || AddressType.p2pkh\n  }\n}\n// getByteCount({'MULTISIG-P2SH:2-4':45},{'P2PKH':1}) Means \"45 inputs of P2SH Multisig and 1 output of P2PKH\"\n// getByteCount({'P2PKH':1,'MULTISIG-P2SH:2-3':2},{'P2PKH':2}) means \"1 P2PKH input and 2 Multisig P2SH (2 of 3) inputs along with 2 P2PKH outputs\"\nconst getByteCount = (inputs, outputs) => {\nconst { TRANSACTION } = constants\nlet totalWeight = 0\nlet hasWitness = false\nlet inputCount = 0\nlet outputCount = 0\n// assumes compressed pubkeys in all cases.\nconst types = {\n  'inputs': {\n    'MULTISIG-P2SH': TRANSACTION.MULTISIG_P2SH_IN_SIZE * 4,\n    'MULTISIG-P2WSH': TRANSACTION.MULTISIG_P2WSH_IN_SIZE + (41 * 4),\n    'MULTISIG-P2SH-P2WSH': TRANSACTION.MULTISIG_P2SH_P2WSH_IN_SIZE + (76 * 4),\n    'P2PKH': TRANSACTION.P2PKH_IN_SIZE * 4,\n    'P2WPKH': TRANSACTION.P2WPKH_IN_SIZE + (41 * 4),\n    'P2SH-P2WPKH': TRANSACTION.P2SH_P2WPKH_IN_SIZE + (64 * 4),\n  },\n  'outputs': {\n    'P2SH': TRANSACTION.P2SH_OUT_SIZE * 4,\n    'P2PKH': TRANSACTION.P2PKH_OUT_SIZE * 4,\n    'P2WPKH': TRANSACTION.P2WPKH_OUT_SIZE * 4,\n    'P2WSH': TRANSACTION.P2WSH_OUT_SIZE * 4,\n  },\n}\n\nconst checkUInt53 = (n) => {\n  if (n < 0 || n > Number.MAX_SAFE_INTEGER || n % 1 !== 0) throw new RangeError('value out of range')\n}\n\nconst varIntLength = (number) => {\n  checkUInt53(number)\n\n  return (\n  number < 0xfd ? 1\n    : number <= 0xffff ? 3\n    : number <= 0xffffffff ? 5\n      : 9\n  )\n}\n\nObject.keys(inputs).forEach((key) => {\n  checkUInt53(inputs[key])\n  if (key.slice(0, 8) === 'MULTISIG') {\n    // ex. \"MULTISIG-P2SH:2-3\" would mean 2 of 3 P2SH MULTISIG\n    const keyParts = key.split(':')\n    if (keyParts.length !== 2) throw new Error(`invalid input: ${key}`)\n    const newKey = keyParts[0]\n    const mAndN = keyParts[1].split('-').map((item) => parseInt(item))\n\n    totalWeight += types.inputs[newKey] * inputs[key]\n    const multiplyer = (newKey === 'MULTISIG-P2SH') ? 4 : 1\n    totalWeight += ((73 * mAndN[0]) + (34 * mAndN[1])) * multiplyer * inputs[key]\n  } else {\n    totalWeight += types.inputs[key] * inputs[key]\n  }\n  inputCount += inputs[key]\n  if (key.indexOf('W') >= 0) hasWitness = true\n})\n\nObject.keys(outputs).forEach((key) => {\n  checkUInt53(outputs[key])\n  totalWeight += types.outputs[key] * outputs[key]\n  outputCount += outputs[key]\n})\n\nif (hasWitness) totalWeight += 2\n\ntotalWeight += 8 * 4\ntotalWeight += varIntLength(inputCount) * 4\ntotalWeight += varIntLength(outputCount) * 4\n\nreturn Math.ceil(totalWeight / 4)\n}\n\ntype CalculateTxSizeParams = {\n  txIn?: number\n  txOut?: number\n  method?: string\n  fixed?: boolean\n  toAddress?: string\n  serviceFee?: {\n    address: any\n    min: any\n    fee: any\n  } | any\n  address?: string\n}\n\nconst calculateTxSize = async (params: CalculateTxSizeParams) => {\n  let {\n    txIn,\n    txOut,\n    method = 'send',\n    fixed,\n    toAddress,\n    serviceFee,\n    address,\n  } = params\n\n  const { TRANSACTION } = constants\n  const defaultTxSize = DEFAULT_CURRENCY_PARAMETERS.btc.size[method]\n\n  let txSize = defaultTxSize\n\n  if (fixed) {\n    return txSize\n  }\n  const fromAddressType = address ? getAddressType(address) : \"P2PKH\";\n\n  // general formula\n  // (<one input size> × <number of inputs>) + (<one output size> × <number of outputs>) + <tx size>\n  //@ts-ignore: strictNullChecks\n  if (txIn > 0) {\n    txSize =\n    //@ts-ignore: strictNullChecks\n    txIn * TRANSACTION[`${fromAddressType}_IN_SIZE`] +\n    //@ts-ignore: strictNullChecks\n    txOut * TRANSACTION.P2PKH_OUT_SIZE +\n    //@ts-ignore: strictNullChecks\n    (TRANSACTION.TX_SIZE + txIn - txOut)\n  }\n\n  if (method === 'send_multisig') {\n    let outputs = {\n      'P2SH': 1,\n    }\n    const toAddressType = toAddress ? getAddressType(toAddress) : \"P2PKH\";\n    outputs[toAddressType] = ++outputs[toAddressType] || 1;\n\n    if (serviceFee) {\n      const adminAddressType = getAddressType(serviceFee.address);\n      outputs[adminAddressType] = ++outputs[adminAddressType] || 1;\n    }\n    txSize = getByteCount(\n      { 'MULTISIG-P2SH:2-2': 1 },\n      outputs\n    )\n  }\n\n  if (method === 'send_2fa') {\n    let outputs = {\n      'P2SH': 1,\n    }\n    const toAddressType = toAddress ? getAddressType(toAddress) : \"P2PKH\";\n    outputs[toAddressType] = ++outputs[toAddressType] || 1;\n\n    if (serviceFee) {\n      const adminAddressType = getAddressType(serviceFee.address);\n      outputs[adminAddressType] = ++outputs[adminAddressType] || 1;\n    }\n    txSize = getByteCount(\n      { 'MULTISIG-P2SH:2-3': txIn },\n      outputs\n    )\n  }\n\n  console.group('Common > utils > coin >%c btc > calculateTxSize', 'color: green;')\n  console.log('params: ', params)\n  console.log('txSize: ', txSize)\n  console.groupEnd()\n\n  return txSize\n}\n\n\nconst estimateFeeRateBLOCKCYPHER = (options) => {\n  const {\n    speed = 'fast',\n    NETWORK,\n  } = options\n\n  const _speed = (() => {\n    switch (speed) {\n      case 'fast':    return 'high_fee_per_kb'\n      case 'normal':  return 'medium_fee_per_kb'\n      case 'slow':    return 'low_fee_per_kb'\n      default:      return 'medium_fee_per_kb'\n    }\n  })()\n\n  // 10 minuts cache\n  // query request\n  return apiLooper\n    .get(getBlockcypher(NETWORK), ``, {\n      cacheResponse: 10*60*1000,\n      cacheOnFail: true,\n      inQuery: {\n        delay: 500,\n        name: `blocyper`,\n      },\n    } )\n    //@ts-ignore: strictNullChecks\n    .then(info => Number(info[_speed]))\n}\n\n\nconst estimateFeeRate = async (options) => {\n  const { speed } = options;\n  const defaultRate = DEFAULT_CURRENCY_PARAMETERS.btc.rate\n  try {\n    return await estimateFeeRateBLOCKCYPHER(options)\n  } catch (err) {\n    console.error(`EstimateFeeError: BLOCKCYPHER_API ${err.message}, get default rate...`)\n    return defaultRate[speed]\n  }\n}\n\nconst estimateFeeValue = async (options) => {\n  const {\n    feeRate: _feeRate,\n    inSatoshis,\n    speed,\n    address,\n    amount,\n    toAddress,\n    method,\n    txSize: _txSize,\n    swapUTXOMethod,\n    serviceFee,\n    fixed,\n    moreInfo,\n    NETWORK,\n  } = options\n\n  let calculatedFeeValue\n\n  const SATOSHI_TO_BITCOIN_RATIO = 0.000_000_01\n\n  if (!_txSize && !address) {\n    calculatedFeeValue = new BigNumber(constants.TRANSACTION.DUST_SAT).multipliedBy(1e-8)\n  } else {\n    let unspents = await fetchUnspents({\n      address,\n      NETWORK,\n    })\n    // if user have some amount then try to find \"better\" UTXO for this\n    if (amount) {\n      unspents = await prepareUnspents({ amount, unspents })\n    }\n    // one input for output from the script when swapping\n    const txIn = unspents.length\n    // 2 = recipient input + sender input (for a residue)\n    // 3 = the same inputs like higher + input for admin fee\n    let txOut = serviceFee\n    ? method === 'send'\n      ? 3\n      : 2\n    : 2\n\n    if (method === 'swap' && swapUTXOMethod === 'withdraw') {\n      txOut = 1\n    }\n\n    const txSize = _txSize || await calculateTxSize({\n      fixed,\n      address,\n      toAddress,\n      method,\n      txIn,\n      txOut,\n      serviceFee\n    })\n    const feeRate = _feeRate || await estimateFeeRate({ speed, NETWORK })\n\n    calculatedFeeValue = BigNumber.maximum(\n      constants.TRANSACTION.DUST_SAT,\n      new BigNumber(feeRate)\n        .multipliedBy(txSize)\n        .div(1024)\n        .dp(0, BigNumber.ROUND_HALF_EVEN),\n    )\n\n    if (moreInfo) {\n      const moreInfoResponse = {\n        fee: calculatedFeeValue.multipliedBy(SATOSHI_TO_BITCOIN_RATIO).toNumber(),\n        satoshis: calculatedFeeValue.toNumber(),\n        txSize,\n        feeRate,\n        unspents,\n      }\n      return moreInfoResponse\n    }\n  }\n\n  const finalFeeValue = inSatoshis\n    ? calculatedFeeValue.toString()\n    : calculatedFeeValue.multipliedBy(SATOSHI_TO_BITCOIN_RATIO).toString()\n\n  console.group('Common > coin >%c btc > estimateFeeValue', 'color: green;')\n  console.log('fee value: ', finalFeeValue)\n  console.groupEnd()\n\n  return finalFeeValue\n}\n\nconst prepareFees = async ({\n  amount,\n  serviceFee,\n  feeValue,\n  speed,\n  method = 'send',\n  from,\n  to,\n  NETWORK,\n}) => {\n  let feeFromAmount: number | BigNumber = new BigNumber(0)\n\n  if (serviceFee) {\n    const {\n      fee: adminFee,\n      min: adminFeeMinValue,\n    } = serviceFee\n\n    const adminFeeMin = new BigNumber(adminFeeMinValue)\n\n    feeFromAmount = new BigNumber(adminFee).dividedBy(100).multipliedBy(amount)\n    if (adminFeeMin.isGreaterThan(feeFromAmount)) feeFromAmount = adminFeeMin\n\n\n    feeFromAmount = feeFromAmount.multipliedBy(1e8).integerValue() // Admin fee in satoshi\n\n  }\n  feeFromAmount = feeFromAmount.toNumber()\n  try {\n    feeValue = feeValue ?\n      new BigNumber(feeValue).multipliedBy(1e8).toNumber() :\n      await estimateFeeValue({\n        inSatoshis: true,\n        speed,\n        method,\n        address: from,\n        toAddress: to,\n        amount,\n        serviceFee,\n      })\n  } catch (eFee) {\n    return { message: `Fail estimate fee ` + eFee.message }\n  }\n\n  let unspents = []\n  try {\n    //@ts-ignore: strictNullChecks\n    unspents = await fetchUnspents({address: from, NETWORK})\n  } catch (eUnspents) {\n    return { message: `Fail fetch unspents `+ eUnspents.message}\n  }\n\n  const toAmount = amount\n  amount = new BigNumber(amount).multipliedBy(1e8).plus(feeValue).plus(feeFromAmount).multipliedBy(1e-8).toNumber()\n\n  try {\n    //@ts-ignore: strictNullChecks\n    unspents = await prepareUnspents({ unspents, amount })\n  } catch (eUnspents) {\n    return { message: `Fail prepare unspents `+ eUnspents.message}\n  }\n\n  const fundValue = new BigNumber(toAmount).multipliedBy(1e8).integerValue().toNumber()\n\n  const totalUnspent = unspents.reduce((summ, { satoshis }) => summ + satoshis, 0)\n  const skipValue = totalUnspent - fundValue - feeValue - feeFromAmount\n\n  return {\n    fundValue,\n    skipValue,\n    feeFromAmount,\n    unspents,\n  }\n}\n\nconst prepareRawTx = async ({\n  from,\n  to,\n  fundValue,\n  skipValue,\n  serviceFee,\n  feeFromAmount,\n  method = 'send',\n  unspents,\n  privateKey,\n  publicKeys = [Buffer.from('')],\n  network,\n  NETWORK\n}) => {\n  const psbt = new bitcoin.Psbt({network})\n\n  psbt.addOutput({\n    address: to,\n    value: fundValue,\n  })\n\n  if (skipValue > 546) {\n    psbt.addOutput({\n      address: from,\n      value: skipValue\n    })\n  }\n\n  if (serviceFee) {\n    psbt.addOutput({\n      address: serviceFee.address,\n      value: feeFromAmount,\n    })\n  }\n\n  const keyPair = bitcoin.ECPair.fromWIF(privateKey, network)\n\n  const hasOneSignature = !['send_2fa', 'send_multisig'].includes(method)\n\n  if (hasOneSignature) {\n    for (let i = 0; i < unspents.length; i++) {\n      const { txid, vout } = unspents[i]\n      let rawTx = ''\n\n      try {\n        rawTx = await fetchTxRaw({ txId: txid, cacheResponse: 5000, NETWORK })\n      } catch (eFetchTxRaw) {\n        return { message: `Fail fetch tx raw `+ txid + `(`+eFetchTxRaw.message+`)` }\n      }\n\n      psbt.addInput({\n        hash: txid,\n        index: vout,\n        nonWitnessUtxo: Buffer.from(rawTx, 'hex'),\n      })\n    }\n\n    psbt.signAllInputs(keyPair)\n    psbt.finalizeAllInputs()\n\n    return psbt.extractTransaction().toHex();\n  }\n\n  const p2ms = bitcoin.payments.p2ms({\n    m: 2,\n    n: publicKeys.length,\n    pubkeys: publicKeys,\n    network,\n  })\n\n  for (let i = 0; i < unspents.length; i++) {\n    const { txid, vout } = unspents[i]\n    let rawTx = ''\n\n    try {\n      rawTx = await fetchTxRaw({ txId: txid, cacheResponse: 5000, NETWORK })\n    } catch (eFetchTxRaw) {\n      return { message: `Fail fetch tx raw `+ txid + `(`+eFetchTxRaw.message+`)` }\n    }\n\n    psbt.addInput({\n      hash: txid,\n      index: vout,\n      redeemScript: p2ms.output,\n      nonWitnessUtxo: Buffer.from(rawTx, 'hex'),\n    })\n  }\n\n  psbt.signAllInputs(keyPair)\n  return psbt.toHex()\n}\n\nexport default {\n  fetchBalance,\n  fetchTx,\n  fetchTxInfo,\n  fetchUnspents,\n  broadcastTx,\n  checkWithdraw,\n  fetchTxRaw,\n  getTransactionBlocyper,\n  getFeesRateBlockcypher,\n\n  estimateFeeValue,\n  estimateFeeRate,\n  calculateTxSize,\n  getCore,\n\n  prepareFees,\n  prepareRawTx,\n\n  prepareUnspents,\n\n  fetchTxInputScript,\n}","import * as bitcoin from 'bitcoinjs-lib'\nimport { getState } from 'redux/core'\nimport config from './externalConfig'\nimport btcUtils from 'common/utils/coin/btc'\n\nconst hasAdminFee = (\n  config\n    && config.opts\n    && config.opts.fee\n    && config.opts.fee.btc\n    && config.opts.fee.btc.fee\n) ? config.opts.fee.btc : false\n\nconst network = process.env.MAINNET\n  ? bitcoin.networks.bitcoin\n  : bitcoin.networks.testnet\n\n\nconst NETWORK = process.env.MAINNET\n  ? 'MAINNET'\n  : 'TESTNET'\n\n\ntype EstimateFeeValueParams = {\n  method?: string\n  speed: 'fast' | 'normal' | 'slow'\n  feeRate?: number\n  inSatoshis?: boolean\n  address?: string\n  txSize?: number\n  fixed?: boolean\n  amount?: number\n  toAddress?: string\n  swapUTXOMethod?: 'withdraw' | 'deposit'\n  moreInfo?: boolean\n}\n// Returned fee value in the satoshi\nconst estimateFeeValue = async (params: EstimateFeeValueParams): Promise<any> => {\n  let {\n    feeRate,\n    inSatoshis,\n    speed,\n    address,\n    txSize,\n    fixed,\n    method,\n    amount,\n    toAddress,\n    swapUTXOMethod,\n    moreInfo,\n  } = params\n  const {\n    user: {\n      btcData,\n      btcMultisigSMSData,\n      btcMultisigUserData,\n    },\n  } = getState()\n\n  if (!address) {\n    address = btcData.address\n    if (method === 'send_2fa') address = btcMultisigSMSData.address\n    if (method === 'send_multisig') address = btcMultisigUserData.address\n  }\n\n  const feeValue = await btcUtils.estimateFeeValue({\n    feeRate,\n    inSatoshis,\n    speed,\n    address,\n    amount,\n    toAddress,\n    method,\n    txSize,\n    swapUTXOMethod,\n    serviceFee: hasAdminFee,\n    fixed,\n    moreInfo,\n    NETWORK,\n  })\n\n  return feeValue\n}\n\n\n\nexport default {\n  estimateFeeValue,\n  network,\n}\n","export type MnemonicKey = string | string[]\n\nexport enum ITransactionStatus {\n  pending = 1,\n  ready = 2,\n  reject = 3,\n  cancel = 4,\n}","import reducers from 'redux/core/reducers'\n\n\nconst open = (name, data: IUniversalObj | null = null) => {\n  reducers.modals.open({ name, data })\n}\n\nconst close = (name) => reducers.modals.close(name)\n\nconst closeAll = () => reducers.modals.closeAll()\n\nexport default {\n  open,\n  close,\n  closeAll,\n}\n","import reducers from 'redux/core/reducers'\n\n\nconst show = (isVisible, data) => reducers.loader.setVisibility({ isVisible, data })\nconst hide = () => reducers.loader.setVisibility({})\n\n\nexport default {\n  show,\n  hide,\n}\n","import reducers from 'redux/core/reducers'\n\n\nconst show = (name, data) => reducers.notifications.show({ name, data })\n\nconst hide = (name) => reducers.notifications.hide(name)\n\n\nexport default {\n  show,\n  hide,\n}\n","\nimport config from 'app-config'\nimport Web3 from 'web3'\nimport { BigNumber } from 'bignumber.js'\nimport DEFAULT_CURRENCY_PARAMETERS from 'common/helpers/constants/DEFAULT_CURRENCY_PARAMETERS'\nimport { feedback } from 'helpers'\n\nclass ethLikeHelper {\n  readonly currency: string\n  readonly currencyKey: string\n  readonly defaultParams: IUniversalObj\n  readonly web3: IUniversalObj\n\n  constructor(params) {\n    const {\n      currency,\n      defaultParams,\n      web3,\n    } = params\n\n    this.currency = currency\n    this.currencyKey = currency.toLowerCase()\n    this.defaultParams = defaultParams\n    this.web3 = web3\n  }\n\n  reportError = (params) => {\n    const { error, sendFeedback = false } = params\n\n    if (sendFeedback) {\n      feedback.helpers.failed(\n        ''.concat(`details - currency: ${this.currency}, `, `error message - ${error.message} `)\n      )\n    }\n\n    console.group(`Common helpers >%c ${this.currency}`, 'color: red;')\n    console.error('error: ', error)\n    console.groupEnd()\n  }\n\n  estimateFeeValue = async (params): Promise<number> => {\n    const { method } = params\n    const gasPrice = await this.estimateGasPrice()\n    const defaultGasLimit = this.defaultParams.limit[method]\n    const theSmallestPart = 1e-18\n  \n    return new BigNumber(defaultGasLimit)\n      .multipliedBy(gasPrice)\n      .multipliedBy(theSmallestPart)\n      .toNumber()\n  }\n\n  estimateGasPrice = async (): Promise<number> => {\n    let response\n\n    try {\n      response = await this.web3.eth.getGasPrice()\n    } catch (err) {\n      return this.defaultParams.price.fast\n    }\n\n    const weiGasPrice = new BigNumber(response)\n\n    return weiGasPrice.isGreaterThan(this.defaultParams.price.fast)\n      ? weiGasPrice.toNumber()\n      : this.defaultParams.price.fast\n  }\n}\n\nexport default {\n  eth: new ethLikeHelper({\n    currency: 'ETH',\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.evmLike,\n    web3: new Web3(\n      new Web3.providers.HttpProvider(config.web3.provider)\n    ),\n  }),\n  bnb: new ethLikeHelper({\n    currency: 'BNB',\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.evmLike,\n    web3: new Web3(\n      new Web3.providers.HttpProvider(config.web3.binance_provider)\n    ),\n  }),\n  matic: new ethLikeHelper({\n    currency: 'MATIC',\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.evmLike,\n    web3: new Web3(\n      new Web3.providers.HttpProvider(config.web3.matic_provider)\n    ),\n  }),\n  arbeth: new ethLikeHelper({\n    currency: 'ARBETH',\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.arbeth,\n    web3: new Web3(\n      new Web3.providers.HttpProvider(config.web3.arbitrum_provider)\n    ),\n  }),\n}","import Web3 from 'web3'\nimport config from 'app-config'\nimport TokenApi from 'human-standard-token-abi'\nimport { BigNumber } from 'bignumber.js'\nimport DEFAULT_CURRENCY_PARAMETERS from 'common/helpers/constants/DEFAULT_CURRENCY_PARAMETERS'\nimport TOKEN_STANDARDS from 'helpers/constants/TOKEN_STANDARDS'\nimport { COIN_DATA, COIN_MODEL } from 'swap.app/constants/COINS'\nimport ethLikeHelper from 'common/helpers/ethLikeHelper'\nimport { feedback, metamask } from 'helpers'\n\n\nclass erc20LikeHelper {\n  readonly standard: string // (ex. erc20, bep20, erc20Matic, ...)\n  readonly currency: string // (ex. ETH)\n  readonly currencyKey: string // (ex. eth)\n  readonly defaultParams: IUniversalObj\n  readonly Web3: IUniversalObj\n\n  constructor(params) {\n    const {\n      standard,\n      currency,\n      defaultParams,\n      web3,\n    } = params\n\n    this.standard = standard\n    this.currency = currency\n    this.currencyKey = currency.toLowerCase()\n    this.defaultParams = defaultParams\n    this.Web3 = web3\n  }\n\n  reportError = (params) => {\n    const { error, sendFeedback = false } = params\n\n    if (sendFeedback) {\n      feedback.helpers.failed(\n        ''.concat(`details - standard: ${this.standard}, `, `error message - ${error.message} `)\n      )\n    }\n\n    console.group(`Common erc20LikeHelper >%c ${this.standard}`, 'color: red;')\n    console.error('error: ', error)\n    console.groupEnd()\n  }\n\n  getCurrentWeb3 = () => metamask.getWeb3() || this.Web3\n\n  estimateFeeValue = async (params): Promise<number> => {\n    const { method, swapABMethod } = params\n    const gasPrice = await this.estimateGasPrice()\n    const methodForLimit = swapABMethod === 'deposit'\n      ? 'swapDeposit'\n      : swapABMethod === 'withdraw'\n        ? 'swapWithdraw'\n        : method\n    const defaultGasLimit = this.defaultParams.limit[methodForLimit]\n\n    return new BigNumber(defaultGasLimit)\n      .multipliedBy(gasPrice)\n      .multipliedBy(1e-18)\n      .toNumber()\n  }\n\n  estimateGasPrice = async (): Promise<number> => {\n    return ethLikeHelper[this.currencyKey].estimateGasPrice()\n  }\n\n  isToken = (params): boolean => {\n    const { name } = params\n\n    return (\n      Object.keys(config[this.standard]).includes(name.toLowerCase()) ||\n      name.startsWith(`{${this.currencyKey}}`)\n    )\n  }\n\n  checkAllowance = async (params: {\n    tokenOwnerAddress: string\n    tokenContractAddress: string\n    decimals: number\n  }): Promise<number> => {\n    const { tokenOwnerAddress, tokenContractAddress, decimals } = params\n    const Web3 = this.getCurrentWeb3()\n    const tokenContract = new Web3.eth.Contract(TokenApi, tokenContractAddress, {\n      from: tokenOwnerAddress,\n    })\n\n    let allowanceAmount = 0\n\n    try {\n      allowanceAmount = await tokenContract.methods\n        .allowance(tokenOwnerAddress, config.swapContract[this.standard])\n        .call({ from: tokenOwnerAddress })\n\n      // formatting without token decimals\n      allowanceAmount = new BigNumber(allowanceAmount)\n        .dp(0, BigNumber.ROUND_UP)\n        .div(new BigNumber(10).pow(decimals))\n        .toNumber()\n    } catch (error) {\n      this.reportError({ error })\n    }\n\n    return allowanceAmount\n  }\n}\n\nconst isToken = (params) => {\n  const { name } = params\n\n  const isUTXOModel = COIN_DATA[name.toUpperCase()] && COIN_DATA[name.toUpperCase()].model === COIN_MODEL.UTXO\n  if (isUTXOModel) return false\n\n  for (const prop in TOKEN_STANDARDS) {\n    const standard = TOKEN_STANDARDS[prop].standard\n    const baseCurrency = TOKEN_STANDARDS[prop].currency\n    const lowerName = name.toLowerCase()\n\n    if (\n      Object.keys(config[standard])?.includes(lowerName) ||\n      lowerName.startsWith(`{${baseCurrency}}`)\n    ) {\n      return true\n    }\n  }\n\n  return false\n}\n\nexport default {\n  isToken,\n  erc20: new erc20LikeHelper({\n    standard: 'erc20',\n    currency: 'ETH',\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.evmLikeToken,\n    web3: new Web3(new Web3.providers.HttpProvider(config.web3.provider)),\n  }),\n  bep20: new erc20LikeHelper({\n    standard: 'bep20',\n    currency: 'BNB',\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.evmLikeToken,\n    web3: new Web3(new Web3.providers.HttpProvider(config.web3.binance_provider)),\n  }),\n  erc20matic: new erc20LikeHelper({\n    standard: 'erc20matic',\n    currency: 'MATIC',\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.evmLikeToken,\n    web3: new Web3(new Web3.providers.HttpProvider(config.web3.matic_provider)),\n  }),\n}","import config from 'app-config'\nimport apiLooper from '../../../common/utils/apiLooper'\n\n\nexport default {\n  get: (api, endpoint, options?) => apiLooper.get(\n    {\n      name: api,\n      servers: config.api[api],\n    },\n    endpoint,\n    options\n  ),\n  post: (api, endpoint, options?) => apiLooper.post(\n    {\n      name: api,\n      servers: config.api[api],\n    },\n    endpoint,\n    options\n  ),\n}\n","import { BASE_TOKEN_CURRENCY } from 'swap.app/constants/COINS'\nimport erc20Like from 'common/erc20Like'\nimport helpers from 'helpers'\nimport actions from 'redux/actions'\nimport apiLooper from 'helpers/apiLooper'\n\nconst getTokenBaseCurrency = (tokenKey) => {\n  const baseCurrencyRegExp = /^\\{[a-z]+\\}/\n  const baseTokenCurrencyPrefix = tokenKey.match(baseCurrencyRegExp)\n\n  if (baseTokenCurrencyPrefix) {\n    const baseTokenCurrency = baseTokenCurrencyPrefix[0].match(/[a-z]+/)\n    const constantCurrency = baseTokenCurrency && BASE_TOKEN_CURRENCY[baseTokenCurrency[0].toUpperCase()]\n\n    if (constantCurrency) {\n      return constantCurrency.toLowerCase()\n    }\n  }\n\n  return false\n}\n\n/**\n * Запрашивает информацию о tx (final balances)\n */\nconst fetchTxBalances = (currency, txId) => {\n  const curName = helpers.getCurrencyKey(currency, true)\n  return apiLooper.get('txinfo', `/tx/${curName}/${txId}`, {\n    checkStatus: (res) => {\n      try {\n        if (res && res.answer !== undefined) return true\n      } catch (e) { /* */ }\n      return false\n    },\n  }).then((res: any) => {\n    if (res\n      && res.answer\n      && res.answer === 'ok'\n      && res.data\n    ) {\n      return res.data\n    }\n    return false\n\n  }).catch((e) => false)\n}\n\n/**\n * Сохраняет информацию о балансах на момент выполнения транзакции на backend\n */\nconst pullTxBalances = (txId, amount, balances, adminFee) => apiLooper.post('txinfo', `/pull`, {\n  body: {\n    txId,\n    amount,\n    adminFee,\n    ...balances,\n  },\n  checkStatus: (res) => {\n    try {\n      if (res && res.answer !== undefined) return true\n    } catch (e) { /* */ }\n    return false\n  },\n}).then(({ answer }) => answer).catch((e) => false)\n\nconst getTxRouter = (currency, txId) => {\n  if (erc20Like.isToken({ name: currency })) {\n    return `/token/${currency}/tx/${txId}`\n  }\n\n  const prefix = helpers.getCurrencyKey(currency, false)\n\n  if (actions[prefix]?.getTxRouter) {\n    return actions[prefix].getTxRouter(txId, currency.toLowerCase())\n  }\n\n  console.warn(`Function getTxRouter for ${prefix} not defined (currency: ${currency})`)\n}\n\nconst getLink = (currency, txId) => {\n  if (erc20Like.erc20.isToken({ name: currency })) {\n    return actions.erc20.getLinkToInfo(txId)\n  }\n\n  if (erc20Like.bep20.isToken({ name: currency })) {\n    return actions.bep20.getLinkToInfo(txId)\n  }\n\n  if (erc20Like.erc20matic.isToken({ name: currency })) {\n    return actions.erc20matic.getLinkToInfo(txId)\n  }\n\n  const prefix = helpers.getCurrencyKey(currency, false)\n\n  if (actions[prefix]?.getLinkToInfo) {\n    return actions[prefix].getLinkToInfo(txId)\n  }\n\n  console.warn(`Function getLinkToInfo for ${prefix} not defined`)\n}\n\ntype GetInfoResult = {\n  tx: string\n  link: string\n}\n\nconst getInfo = (currency, txRaw): GetInfoResult => {\n  const prefix = helpers.getCurrencyKey(currency, true)\n  const info = {\n    tx: '',\n    link: '',\n  }\n\n  if (actions[prefix]?.getTx) {\n    const tx = actions[prefix].getTx(txRaw)\n    const link = getLink(prefix, tx)\n\n    info.tx = tx\n    info.link = link\n  } else {\n    console.warn(`Function getTx for ${prefix} not defined`)\n  }\n\n  return info\n}\n\nexport default {\n  getInfo,\n  getLink,\n  getTxRouter,\n  pullTxBalances,\n  fetchTxBalances,\n  getTokenBaseCurrency,\n}\n","import config from 'app-config'\nimport externalConfig from './externalConfig'\nimport store from 'redux/store'\nimport TOKEN_STANDARDS from 'helpers/constants/TOKEN_STANDARDS'\n\nexport const getActivatedCurrencies = () => {\n  const currencies: string[] = []\n\n  if (!config.opts.curEnabled || config.opts.curEnabled.btc) {\n    currencies.push('BTC')\n    currencies.push('BTC (SMS-Protected)')\n    currencies.push('BTC (PIN-Protected)')\n    currencies.push('BTC (Multisig)')\n  }\n\n  if (!config.opts.curEnabled || config.opts.curEnabled.eth) {\n    currencies.push('ETH')\n  }\n\n  if (!config.opts.curEnabled || config.opts.curEnabled.bnb) {\n    currencies.push('BNB')\n  }\n\n  if (!config.opts.curEnabled || config.opts.curEnabled.matic) {\n    currencies.push('MATIC')\n  }\n\n  if (!config.opts.curEnabled || config.opts.curEnabled.arbeth) {\n    currencies.push('ARBETH')\n  }\n\n  if (!config.opts.curEnabled || config.opts.curEnabled.ghost) {\n    currencies.push('GHOST')\n  }\n\n  if (!config.opts.curEnabled || config.opts.curEnabled.next) {\n    currencies.push('NEXT')\n  }\n\n  Object.keys(TOKEN_STANDARDS).forEach((key) => {\n    const standard = TOKEN_STANDARDS[key].standard\n\n    Object.keys(config[standard]).forEach((token) => {\n\n      const baseCurrency = TOKEN_STANDARDS[standard].currency.toUpperCase()\n      const tokenName = token.toUpperCase()\n      const tokenValue = `{${baseCurrency}}${tokenName}`\n\n      currencies.push(tokenValue)\n    })\n  })\n\n  return currencies\n}\n\nexport const getWidgetCurrencies = () => {\n  const { core: { hiddenCoinsList } } = store.getState()\n  const widgetCurrencies = [\n    'BTC',\n    'ETH',\n    'BNB',\n    'MATIC',\n    'ARBETH',\n    'GHOST',\n    'NEXT',\n  ]\n\n  if (!hiddenCoinsList.includes('BTC (PIN-Protected)')) {\n    widgetCurrencies.push('BTC (PIN-Protected)')\n  }\n  if (!hiddenCoinsList.includes('BTC (Multisig)')) {\n    widgetCurrencies.push('BTC (Multisig)')\n  }\n\n  if (externalConfig.isWidget) {\n    if (window?.widgetEvmLikeTokens?.length) {\n      window.widgetEvmLikeTokens.forEach((token) => {\n\n        const baseCurrency = TOKEN_STANDARDS[token.standard].currency.toUpperCase()\n        const tokenName = token.name.toUpperCase()\n        const tokenValue = `{${baseCurrency}}${tokenName}`\n\n        widgetCurrencies.push(tokenValue)\n      })\n    } else {\n      widgetCurrencies.push(config.erc20token.toUpperCase())\n    }\n  }\n\n  return widgetCurrencies\n}\n\nexport const filterUserCurrencyData = (currencyData) =>\n  currencyData.filter((wallet) =>\n    isAllowedCurrency(wallet.isToken ? wallet.tokenKey.toUpperCase() : wallet.currency, wallet.address)\n  )\n\nexport const isAllowedCurrency = (currency = '', address = '') => {\n  const { core: { hiddenCoinsList } } = store.getState()\n  const enabledCurrencies = getActivatedCurrencies()\n\n  return (\n    !hiddenCoinsList.includes(currency) &&\n    !hiddenCoinsList.includes(`${currency}:${address}`) &&\n    enabledCurrencies.includes(currency)\n  )\n}\n\nexport const isCorrectWalletToShow = (wallet) => {\n  return !wallet.isMetamask || (wallet.isConnected && !wallet.unknownNetwork)\n}\n","import erc20Like from 'common/erc20Like'\n\nexport default (currency, returnToken) => {\n  let key = currency.toLowerCase()\n\n  switch (key) {\n    case 'currency':\n    case 'btc (sms-protected)':\n    case 'btc (pin-protected)':\n    case 'btc (multisig)':\n      key = 'btc'\n  }\n\n  if (erc20Like.isToken({ name: key })) {\n    key = returnToken ? key : 'token'\n  }\n\n  return key\n}\n","import { getState } from 'redux/core'\nimport { initialState as userInitialState } from 'redux/reducers/user'\n\n\nconst getReduxState = () => {\n  const reduxState = getState()\n\n  // Fix user store if something of data isn't there\n  Object.keys(userInitialState).forEach((key) => {\n    if (reduxState.user[key] === undefined) {\n      reduxState.user[key] = userInitialState[key]\n    }\n  })\n\n  return reduxState\n}\n\nexport default getReduxState","import Web3 from 'web3'\nimport config from 'app-config'\n\nlet web3: IEtheriumProvider = new Web3(\n  new Web3.providers.HttpProvider(config.web3.provider)\n)\n\nconst setMetamask = async (provider) => {\n  web3 = provider\n  web3.isMetamask = true\n}\n\nconst setProvider = (provider) => {\n  web3 = provider\n}\n\nconst setDefaultProvider = () => {\n  web3 = new Web3(\n    new Web3.providers.HttpProvider(config.web3.provider)\n  )\n\n  web3.isMetamask = false\n}\n\nconst getWeb3 = () => {\n  console.log('get web3 - is metamask', web3.isMetamask)\n  return web3\n}\n\nconst getCurrentWeb3 = () => {\n  return web3\n}\n\nwindow.getCurrentWeb3 = getCurrentWeb3\n\nexport {\n  setMetamask,\n  web3,\n  getWeb3,\n  setDefaultProvider,\n  setProvider,\n  getCurrentWeb3\n}\n\nexport default web3\n","const SUPPORTED_PROVIDERS = {\n  INJECTED: 'INJECTED',\n  WALLETCONNECT: 'WALLETCONNECT',\n}\n\n\nexport default SUPPORTED_PROVIDERS","const INJECTED_TYPE = {\n  NONE: 'NONE',\n  UNKNOWN: 'UNKNOWN',\n  OPERA: 'OPERA',\n  METAMASK: 'METAMASK',\n  TRUST: 'TRUST',\n  LIQUALITY: 'LIQUALITY',\n}\n\nexport default INJECTED_TYPE\n","import { InjectedConnector } from '@web3-react/injected-connector'\nimport {\n  NoEthereumProviderError,\n  UserRejectedRequestError as UserRejectedRequestErrorInjected\n} from '@web3-react/injected-connector'\n\n\nexport default class InjectedProvider extends InjectedConnector {\n  _web3Connect = null\n  _isLocked = false\n\n  constructor(web3Connect, options) {\n    super(options)\n    this._web3Connect = web3Connect\n  }\n\n  async isConnected() {\n    if ((!!window.opr && !!window.opr.addons) || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0) {\n      // This is opera\n      //@ts-ignore: strictNullChecks\n      await window.ethereum.enable()\n      //@ts-ignore: strictNullChecks\n      return window.ethereum.isConnected()\n    } else {\n      //@ts-ignore: strictNullChecks\n      if (window.ethereum.isTrust) {\n        //@ts-ignore: strictNullChecks\n        return window.ethereum.ready\n      }\n      return await super.isAuthorized()\n    }\n  }\n\n  isLocked() {\n    return this._isLocked\n  }\n\n  async Disconnect() {\n    await this.deactivate()\n  }\n\n  async Connect() {\n    this._isLocked = false\n    try {\n      const connection = await super.activate()\n      return (connection) ? true : false\n    } catch (err) {\n      if (err instanceof UserRejectedRequestErrorInjected) {\n        console.warn('User reject connect to Injected provider')\n      } else if (err instanceof NoEthereumProviderError) {\n        console.warn('There no injected provider')\n      } else if (/Wallet is locked/.test(err.message)) {\n        this._isLocked = true\n        console.warn('Wallet locked')\n      } else {\n        console.error(err)\n      }\n      return false\n    }\n  }\n}","import { WalletConnectConnector } from '@web3-react/walletconnect-connector'\nimport { UserRejectedRequestError as UserRejectedRequestErrorWalletConnect } from '@web3-react/walletconnect-connector'\n\n\nexport default class WalletConnectProvider extends WalletConnectConnector {\n  _web3Connect = null\n\n  constructor(web3Connect, options) {\n    super(options)\n    this._web3Connect = web3Connect\n  }\n\n  async isConnected() {\n    try {\n      const address = await super.getAccount()\n      return (address) ? true : false\n    } catch (err) {\n      // try restore connection\n      let connectionInfo: any = localStorage.getItem(`walletconnect`)\n      try {\n        if (connectionInfo) connectionInfo = JSON.parse(connectionInfo)\n      } catch (e) {}\n      if (connectionInfo && connectionInfo.connected) {\n        if (await this.Connect()) {\n          return true\n        }\n      }\n    }\n    return false\n  }\n\n  isLocked() {\n    return false\n  }\n\n  async Disconnect() {\n    await this.close()\n    await this.deactivate()\n    localStorage.removeItem(`walletconnect`)\n  }\n\n  async Connect() {\n    try {\n      const connection = await super.activate()\n      return (connection) ? true : false\n    } catch (err) {\n      if (err instanceof UserRejectedRequestErrorWalletConnect) {\n        console.warn('User reject connect to Injected provider')\n      } else {\n        console.error(err)\n      }\n      return false\n    }\n  }\n}","import InjectedProvider from './InjectedProvider'\nimport WalletConnectProvider from './WalletConnectProvider'\nimport SUPPORTED_PROVIDERS from './supported'\n\n\n\nexport const isInjectedEnabled = () => {\n  return (window && window.ethereum)\n}\n\nconst _cachedProviders = {}\n\nconst getProviderByName = (web3connect, providerName, newInstance) => {\n  if (!_cachedProviders[providerName] || newInstance) {\n    switch (providerName) {\n      case SUPPORTED_PROVIDERS.INJECTED:\n        _cachedProviders[providerName] = new InjectedProvider(web3connect, {\n          supportedChainIds: [\n            web3connect._web3ChainId,\n          ],\n        })\n        return _cachedProviders[providerName]\n      case SUPPORTED_PROVIDERS.WALLETCONNECT:\n        const rpc = {}\n        rpc[web3connect._web3ChainId] = web3connect._web3RPC\n\n        _cachedProviders[providerName] = new WalletConnectProvider(web3connect, {\n          rpc,\n          bridge: `https://bridge.walletconnect.org`,\n          qrcode: true,\n          pollingInterval: 12000,\n        })\n        return _cachedProviders[providerName]\n      default:\n        console.error('web3connect - not supported provider', providerName)\n    }\n  } else {\n    return _cachedProviders[providerName]\n  }\n}\n\nexport default getProviderByName","import { EventEmitter } from 'events'\nimport { ConnectorEvent } from '@web3-react/types'\nimport Web3 from 'web3'\nimport SUPPORTED_PROVIDERS from './providers/supported'\nimport INJECTED_TYPE from './providers/InjectedType'\nimport getProviderByName from './providers'\nimport { isInjectedEnabled } from './providers'\nimport { isMobile } from 'react-device-detect'\nimport config from 'app-config'\n\nexport default class Web3Connect extends EventEmitter {\n  _cachedProvider = null\n  _cachedProviderName = null\n  _cachedChainId = null\n  _cachedAddress = null\n  _cachedWeb3 = null\n  _isConnected = false\n\n  _isDAppBrowser = false\n\n  _web3RPC = null\n  _web3ChainId = null\n\n  _inited = false\n  _walletLocked = false\n\n  constructor(options) {\n    super()\n    const {\n      web3RPC,\n      web3ChainId,\n    } = options\n\n    this._web3RPC = web3RPC\n    this._web3ChainId = web3ChainId\n\n    this._checkIsDAppBrowser()\n\n    // Предыдущий провайдер (после перезагрузки восстанавливаем его)\n    const cachedProviderName = localStorage.getItem(`WEB3CONNECT:PROVIDER`)\n    if (cachedProviderName) {\n      //@ts-ignore\n      const lsProvider = getProviderByName(this, cachedProviderName)\n      if (lsProvider) {\n        lsProvider.isConnected().then(async (isConnected) => {\n          if (isConnected) {\n            if (await lsProvider.Connect()) {\n              //@ts-ignore: strictNullChecks\n              this._cachedProviderName = cachedProviderName\n              this._cachedProvider = lsProvider\n              this._setupEvents()\n              await this._cacheProviderData()\n              this._isConnected = true\n              this._inited = true\n              return\n            }\n          }\n          this.clearCache()\n          this._inited = true\n        })\n      } else {\n        this.clearCache()\n        this._inited = true\n      }\n    } else {\n      this._inited = true\n    }\n  }\n\n  isLocked() {\n    return this._walletLocked\n  }\n\n  getProviderTitle() {\n    switch (this._cachedProviderName) {\n      //@ts-ignore: strictNullChecks\n      case SUPPORTED_PROVIDERS.WALLETCONNECT:\n        return 'Wallet Connect'\n      //@ts-ignore: strictNullChecks\n      case SUPPORTED_PROVIDERS.INJECTED:\n        return this.getInjectedTitle()\n      default:\n        return `Web3 provider`\n    }\n  }\n\n  getInjectedTitle() {\n    switch (this.getInjectedType()) {\n      case INJECTED_TYPE.NONE: return 'Not installed'\n      case INJECTED_TYPE.UNKNOWN: return 'Injected Web3'\n      case INJECTED_TYPE.OPERA: return 'Opera Crypto Wallet'\n      case INJECTED_TYPE.METAMASK: return 'MetaMask'\n      case INJECTED_TYPE.TRUST: return 'Trust Wallet'\n      case INJECTED_TYPE.LIQUALITY: return 'Liquality Wallet'\n    }\n  }\n\n  getProviderType() {\n     switch (this._cachedProviderName) {\n      //@ts-ignore: strictNullChecks\n      case SUPPORTED_PROVIDERS.WALLETCONNECT:\n        return SUPPORTED_PROVIDERS.WALLETCONNECT\n      //@ts-ignore: strictNullChecks\n      case SUPPORTED_PROVIDERS.INJECTED:\n        return this.getInjectedType()\n      default:\n        return `NONE`\n    }\n  }\n\n  getInjectedType() {\n    if (window && window.ethereum) {\n      if (window.ethereum.isLiquality) return INJECTED_TYPE.LIQUALITY\n      if (window.ethereum.isTrust) return INJECTED_TYPE.TRUST\n      if (window.ethereum.isMetaMask) return INJECTED_TYPE.METAMASK\n      if ((!!window.opr && !!window.opr.addons) || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0) return INJECTED_TYPE.OPERA\n\n      return INJECTED_TYPE.UNKNOWN\n    } else {\n      return INJECTED_TYPE.NONE\n    }\n  }\n\n  _checkIsDAppBrowser() {\n    if (isMobile) {\n\n      if (window\n        && window.ethereum\n      ) {\n        this._isDAppBrowser = true\n      }\n    }\n  }\n\n  isInjectedEnabled() {\n    return isInjectedEnabled()\n  }\n\n  async onInit(cb) {\n    const waitInit = async () => {\n      if (this._inited) {\n        cb()\n      } else {\n        await setTimeout( waitInit, 100 )\n      }\n    }\n     await waitInit()\n  }\n\n  hasCachedProvider() {\n    const cachedProviderName = localStorage.getItem(`WEB3CONNECT:PROVIDER`)\n    if (cachedProviderName) {\n      //@ts-ignore\n      const lsProvider = getProviderByName(this, cachedProviderName)\n      if (lsProvider) return true\n    }\n    return false\n  }\n\n  clearCache() {\n    localStorage.removeItem(`WEB3CONNECT:PROVIDER`)\n    this._cachedProviderName = null\n    this._cachedProvider = null\n    this._cachedChainId = null\n    this._cachedAddress = null\n    this._cachedWeb3 = null\n  }\n\n  _setupEvents() {\n    if (this._cachedProvider) {\n      //@ts-ignore: strictNullChecks\n      this._cachedProvider.on(ConnectorEvent.Update, (data) => {\n        if (data\n          && data.account\n          && data.account != this._cachedAddress\n        ) {\n          this._cachedAddress = data.account\n          this.emit('accountChange')\n          this.emit('updated')\n        }\n        if (data\n          && data.chainId\n          && data.chainId !== this._cachedChainId\n        ) {\n          this._cachedChainId = data.chainId\n          this.emit('chainChanged')\n          this.emit('updated')\n        }\n      })\n      //@ts-ignore: strictNullChecks\n      this._cachedProvider.on(ConnectorEvent.Deactivate, () => {\n        this.clearCache()\n        this.emit('disconnect')\n        this.emit('updated')\n      })\n    }\n  }\n\n  async _cacheProviderData() {\n    //@ts-ignore: strictNullChecks\n    this._cachedAddress = await this._cachedProvider.getAccount()\n    //@ts-ignore: strictNullChecks\n    this._cachedChainId = await this._cachedProvider.getChainId()\n    //@ts-ignore: strictNullChecks\n    const _web3provider = await this._cachedProvider.getProvider()\n    await _web3provider.enable()\n\n    // @ToDo - Hard fix walletconnect\n    // https://github.com/WalletConnect/walletconnect-monorepo/issues/384\n    if (window) {\n      window.send = (e,t) => {\n        return _web3provider.send(e,t)\n      }\n    }\n\n    //@ts-ignore: strictNullChecks\n    this._cachedWeb3 = new Web3(\n      _web3provider\n    )\n    //@ts-ignore: strictNullChecks\n    this._cachedWeb3.isMetamask = true\n  }\n\n  async connectTo(provider) {\n    this._walletLocked = false\n    if (SUPPORTED_PROVIDERS[provider]) {\n      const _connector = getProviderByName(this, provider, true)\n      if (_connector) {\n        if (await _connector.Connect()) {\n          localStorage.setItem(`WEB3CONNECT:PROVIDER`, provider)\n          this._cachedProviderName = provider\n          this._cachedProvider = _connector\n          this._setupEvents()\n          await this._cacheProviderData()\n          this._isConnected = true\n          this.emit('connected')\n          this.emit('updated')\n          return true\n        } else {\n          if (_connector.isLocked()) {\n            this._walletLocked = true\n          }\n        }\n      }\n      return false\n    } else {\n      throw new Error(`Not supported provider ${provider}`)\n    }\n  }\n\n  getProviders = () => {\n    const providers = Object.keys(SUPPORTED_PROVIDERS).map((key) => SUPPORTED_PROVIDERS[key])\n    return (isInjectedEnabled())\n      ? providers\n      : providers.filter((name) => name !== SUPPORTED_PROVIDERS.INJECTED)\n  }\n\n  getChainId = () => {\n    return this._cachedChainId\n  }\n\n  isConnected() {\n    return (this._cachedProvider) ? true : false\n  }\n\n  isCorrectNetwork() {\n    // @ToDo - test Metamask dAppBrowser\n    const nonExistent = -42 // random (fix ts error)\n\n    return (\n      `${this._web3ChainId}` === `${this._cachedChainId}`\n      //@ts-ignore: strictNullChecks\n      || this._web3ChainId === Number.parseInt(this._cachedChainId)\n      || `0x0${this._web3ChainId}` === `${this._cachedChainId}`\n      || `0x${this._web3ChainId}` === `${this._cachedChainId}` // Opera Mobile\n      || config.evmNetworkVersions.includes(this._web3ChainId || nonExistent)\n    )\n  }\n\n  getWeb3() {\n    if (this._cachedProvider) {\n      return this._cachedWeb3\n    }\n  }\n\n  getAddress() {\n    if (this._cachedProvider) {\n      return this._cachedAddress\n    }\n  }\n\n  async Disconnect() {\n    if (this._cachedProvider) {\n      this._isConnected = false\n      //@ts-ignore: strictNullChecks\n      await this._cachedProvider.Disconnect()\n      this.clearCache()\n      this.emit('disconnect')\n      this.emit('updated')\n    }\n  }\n}\n","import { BASE_TOKEN_CURRENCY } from 'swap.app/constants/COINS'\n\nconst getCoinInfo = (coin) => {\n  coin = coin.toUpperCase()\n\n  if (coin.indexOf(`}`) !== -1 && coin.indexOf(`{`) === 0) {\n    let coinData = coin.split(`}`)\n    return {\n      coin: coinData[1],\n      blockchain: BASE_TOKEN_CURRENCY[coinData[0].substr(1).toUpperCase()] || ``,\n    }\n  } else {\n    return {\n      coin,\n      blockchain: ``,\n    }\n  }\n}\n\nexport default getCoinInfo","import reducers from 'redux/core/reducers'\nimport getState from './getReduxState'\nimport actions from 'redux/actions'\nimport { cacheStorageGet, cacheStorageSet, constants } from 'helpers'\nimport config from 'app-config'\nimport { setMetamask, setProvider, setDefaultProvider, getWeb3 as getDefaultWeb3 } from 'helpers/web3'\nimport SwapApp from 'swap.app'\nimport Web3Connect from 'common/web3connect'\nimport { COIN_DATA, COIN_MODEL } from 'swap.app/constants/COINS'\nimport getCoinInfo from 'common/coins/getCoinInfo'\n\nconst web3connect: IUniversalObj = new Web3Connect({\n  web3ChainId: config.evmNetworks.ETH.chainId,\n  web3RPC: config.web3.provider,\n})\n\nconst _onWeb3Changed = (newWeb3) => {\n  setProvider(newWeb3)\n  //@ts-ignore: strictNullChecks\n  SwapApp.shared().setWeb3Provider(newWeb3)\n  addMetamaskWallet()\n  actions.user.loginWithTokens()\n  actions.user.getBalances()\n}\n\nweb3connect.on('connected', async () => {\n  localStorage.setItem(constants.localStorage.isWalletCreate, 'true')\n\n  _onWeb3Changed(web3connect.getWeb3())\n})\n\nweb3connect.on('disconnect', async () => {\n  setDefaultProvider()\n  _onWeb3Changed(getDefaultWeb3())\n})\n\nweb3connect.on('accountChange', async () => {\n  _onWeb3Changed(web3connect.getWeb3())\n})\n\nweb3connect.on('chainChanged', async () => {\n  _onWeb3Changed(web3connect.getWeb3())\n})\n\nconst isEnabled = () => true\n\nconst isConnected = () => web3connect.isConnected()\n\nconst getAddress = () => (isConnected()) ? web3connect.getAddress() : ``\n\nconst getWeb3 = () => (isConnected()) ? web3connect.getWeb3() : false\n\nconst _init = async () => {\n  await web3connect.onInit(() => {\n    if (web3connect.hasCachedProvider()) {\n      let _web3 = false\n      try {\n        //@ts-ignore: strictNullChecks\n        _web3 = web3connect.getWeb3()\n      } catch (err) {\n        web3connect.clearCache()\n        addMetamaskWallet()\n        return\n      }\n      setMetamask(_web3)\n      addMetamaskWallet()\n    } else {\n      addMetamaskWallet()\n    }\n  })\n}\n\nconst addWallet = () => {\n  addMetamaskWallet()\n  if (isConnected() && isAvailableNetwork()) {\n    getBalance()\n  }\n}\n\nconst getBalance = () => {\n  console.log('metamask getBalance')\n  const { user: { metamaskData } } = getState()\n  if (metamaskData) {\n    const { address, currency } = metamaskData\n    const balanceInCache = cacheStorageGet('currencyBalances', `${currency}_${address}`)\n\n    if (balanceInCache !== false) {\n      reducers.user.setBalance({\n        name: 'metamaskData',\n        amount: balanceInCache,\n      })\n      return balanceInCache\n    }\n\n    //@ts-ignore: strictNullChecks\n    return web3connect.getWeb3().eth.getBalance(address)\n      .then(result => {\n        //@ts-ignore: strictNullChecks\n        const amount = web3connect.getWeb3().utils.fromWei(result)\n\n        cacheStorageSet('currencyBalances', `${currency}_${address}`, amount, 30)\n        reducers.user.setBalance({ name: 'metamaskData', amount })\n        return amount\n      })\n      .catch((error) => {\n        console.error('fail get balance')\n        console.error('error', error)\n        reducers.user.setBalanceError({ name: 'metamaskData' })\n      })\n  }\n}\n\nconst disconnect = () => new Promise(async (resolved, reject) => {\n  if (isConnected()) {\n    await web3connect.Disconnect()\n    resolved(true)\n  } else {\n    resolved(true)\n  }\n})\n\nconst connect = (options) => new Promise(async (resolved, reject) => {\n  actions.modals.open(constants.modals.ConnectWalletModal, {\n    ...options,\n    onResolve: resolved,\n    onReject: reject,\n  })\n})\n\n/* metamask wallet layer */\nconst isCorrectNetwork = () => web3connect.isCorrectNetwork()\n\nconst isAvailableNetwork = () => {\n    const hexChainId = web3connect.getChainId()\n    const networkVersion = Number(Number(hexChainId).toString(10))\n\n    return (config.evmNetworkVersions.includes(networkVersion))\n}\n\nconst isAvailableNetworkByCurrency = (currency) => {\n  const { blockchain } = getCoinInfo(currency)\n  const ticker = currency.toUpperCase()\n\n  const isUTXOModel = COIN_DATA[ticker]?.model === COIN_MODEL.UTXO\n\n  if (isUTXOModel) return false\n\n  const currencyNetworkVersion =\n    (blockchain)\n    ? config.evmNetworks[blockchain]?.networkVersion\n    : config.evmNetworks[ticker]?.networkVersion\n\n  const hexChainId = web3connect.getChainId()\n  const currentNetworkVersion = Number(Number(hexChainId).toString(10))\n\n  return currencyNetworkVersion === currentNetworkVersion\n}\n\nconst addMetamaskWallet = () => {\n  const { user } = getState()\n\n  if (isConnected()) {\n    const ethWalletInfo = {\n      currencyName: 'ETH',\n      fullWalletName: `Ethereum (${web3connect.getProviderTitle()})`,\n      currencyInfo: user.ethData?.infoAboutCurrency,\n    }\n    const bscWalletInfo = {\n      currencyName: 'BNB',\n      fullWalletName: `BSC (${web3connect.getProviderTitle()})`,\n      currencyInfo: user.bnbData?.infoAboutCurrency,\n    }\n    const maticWalletInfo = {\n      currencyName: 'MATIC',\n      fullWalletName: `MATIC (${web3connect.getProviderTitle()})`,\n      currencyInfo: user.maticData?.infoAboutCurrency,\n    }\n    const arbitrumWalletInfo = {\n      currencyName: 'ARBETH',\n      fullWalletName: `ARBITRUM ETH (${web3connect.getProviderTitle()})`,\n      currencyInfo: user.arbethData?.infoAboutCurrency,\n    }\n    const walletMap = new Map([\n      [config.evmNetworks.ETH.networkVersion, ethWalletInfo],\n      [config.evmNetworks.BNB.networkVersion, bscWalletInfo],\n      [config.evmNetworks.MATIC.networkVersion, maticWalletInfo],\n      [config.evmNetworks.ARBETH.networkVersion, arbitrumWalletInfo],\n    ])\n\n    const hexChainId = web3connect.getChainId()\n    const networkVersion = Number(Number(hexChainId).toString(10))\n\n    if (isAvailableNetwork()){\n      const currencyName = walletMap.get(networkVersion)?.currencyName\n      const fullWalletName = walletMap.get(networkVersion)?.fullWalletName\n      const currencyInfo = walletMap.get(networkVersion)?.currencyInfo\n\n      reducers.user.addWallet({\n        name: 'metamaskData',\n        data: {\n          address: getAddress(),\n          balance: 0,\n          balanceError: false,\n          isConnected: true,\n          isMetamask: true,\n          currency: currencyName,\n          fullName: fullWalletName,\n          infoAboutCurrency: currencyInfo,\n          isBalanceFetched: true,\n          isMnemonic: true,\n          unconfirmedBalance: 0,\n          networkVersion,\n          unknownNetwork: false,\n        },\n      })\n    } else {\n      reducers.user.addWallet({\n        name: 'metamaskData',\n        data: {\n          address: `Please choose another`,\n          balance: 0,\n          balanceError: false,\n          isConnected: true,\n          isMetamask: true,\n          currency: 'ETH',\n          fullName: `Unknown network (${web3connect.getProviderTitle()})`,\n          infoAboutCurrency: undefined,\n          isBalanceFetched: true,\n          isMnemonic: true,\n          unconfirmedBalance: 0,\n          networkVersion,\n          unknownNetwork: true,\n        },\n      })\n    }\n  } else {\n    reducers.user.addWallet({\n      name: 'metamaskData',\n      data: {\n        address: 'Not connected',\n        balance: 0,\n        balanceError: false,\n        isConnected: false,\n        isMetamask: true,\n        currency: 'ETH',\n        fullName: 'External wallet',\n        infoAboutCurrency: undefined,\n        isBalanceFetched: true,\n        isMnemonic: true,\n        unconfirmedBalance: 0,\n      },\n    })\n  }\n}\n\nif (web3connect.hasCachedProvider()) {\n  _init()\n} else {\n  addMetamaskWallet()\n}\n\n\nconst handleDisconnectWallet = (cbDisconnected?) => {\n  if (isEnabled()) {\n    disconnect().then(async () => {\n      await actions.user.sign()\n      await actions.user.getBalances()\n      if (cbDisconnected) cbDisconnected()\n    })\n  }\n}\n\ntype MetamaskConnectParams = {\n  dontRedirect?: boolean\n  callback?: (boolean) => void\n}\n\nconst handleConnectMetamask = (params: MetamaskConnectParams = {}) => {\n  const { callback } = params\n\n  connect(params).then(async (connected) => {\n    if (connected) {\n      await actions.user.sign()\n      await actions.user.getBalances()\n      if (callback) callback(true)\n    } else {\n      if (callback) callback(false)\n    }\n  })\n}\n\n// when add EIP-3326: wallet_switchEthereumChain use this method\nconst addCurrencyNetwork = (currency) => {\n  if(!(isConnected())) {\n    return\n  }\n\n  const { coin, blockchain } = getCoinInfo(currency)\n  const nativeCurrency = blockchain ? blockchain : coin.toUpperCase()\n\n  const {\n    chainId,\n    chainName,\n    rpcUrls,\n    blockExplorerUrls\n  } = config.evmNetworks[nativeCurrency]\n\n  const {\n    name,\n    symbol,\n    precision: decimals\n  } = COIN_DATA[nativeCurrency]\n\n  const params = {\n    chainId: `0x${chainId.toString(16)}`,\n    chainName,\n    nativeCurrency: {\n      name,\n      symbol, // 2-6 characters long\n      decimals,\n    },\n    rpcUrls,\n    blockExplorerUrls\n  }\n\n  const web3 = web3connect.getWeb3()\n  const ethereum = window.ethereum\n\n  if (web3.eth  && ethereum) {\n    web3.eth.getAccounts((error, accounts) => {\n      ethereum.request({\n        method: 'wallet_addEthereumChain',\n        params: [params, accounts[0]],\n      })\n      .then((result) => {\n        console.log('Success add and switch to network')\n      })\n      .catch((error) => {\n        throw new Error(`Metamask > addCurrencyNetwork error: ${error.message}`)\n      })\n    })\n  } else {\n    throw new Error('Can not access to web3 or ethereum')\n  }\n}\n\nconst metamaskApi = {\n  connect,\n  isEnabled,\n  isConnected,\n  getAddress,\n  web3connect,\n  addWallet,\n  getBalance,\n  getWeb3,\n  disconnect,\n  isCorrectNetwork,\n  isAvailableNetwork,\n  isAvailableNetworkByCurrency,\n  handleDisconnectWallet,\n  handleConnectMetamask,\n  addCurrencyNetwork\n}\n\nwindow.metamaskApi = metamaskApi\n\nexport default metamaskApi\n","import erc20Like from 'common/erc20Like';\nimport config from 'app-config'\nimport moment from 'moment/moment'\nimport { constants } from 'helpers'\nimport request from 'common/utils/request'\nimport * as mnemonicUtils from 'common/utils/mnemonic'\nimport transactions from 'helpers/transactions'\nimport TOKEN_STANDARDS from 'helpers/constants/TOKEN_STANDARDS'\nimport actions from 'redux/actions'\nimport { getState } from 'redux/core'\n\nimport reducers from 'redux/core/reducers'\n\nimport { getActivatedCurrencies } from 'helpers/user'\nimport getCurrencyKey from 'helpers/getCurrencyKey'\nimport metamask from 'helpers/metamask'\n\nimport { MnemonicKey } from './types'\nimport { initialState as currenciesInitialState } from 'redux/reducers/currencies'\n\n/*\n  Когда добавляем reducers, для старых пользователей они не инициализированы\n  Нужно проверять значение, и если undefined - инициализировать\n*/\nconst initReducerState = () => {\n  const {\n    user: {\n      activeCurrency,\n      activeFiat,\n    },\n  } = getState()\n\n  if (!activeCurrency) reducers.user.setActiveCurrency({ activeCurrency: 'BTC' })\n  if (!activeFiat) reducers.user.setActiveFiat({ activeFiat: window.DEFAULT_FIAT || 'USD' })\n\n}\n\nconst sign_btc_multisig = async (btcPrivateKey) => {\n  let btcMultisigOwnerKey = localStorage.getItem(constants.privateKeyNames.btcMultisigOtherOwnerKey)\n  //@ts-ignore: strictNullChecks\n  try { btcMultisigOwnerKey = JSON.parse(btcMultisigOwnerKey) } catch (e) { }\n  //@ts-ignore\n  const _btcMultisigPrivateKey = actions.btcmultisig.login_USER(btcPrivateKey, btcMultisigOwnerKey)\n  await actions.btcmultisig.signToUserMultisig()\n}\n\n\nconst sign_btc_2fa = async (btcPrivateKey) => {\n  const btcSMSServerKey = config.swapContract.protectedBtcKey\n  let btcSmsPublicKeys = [btcSMSServerKey]\n  //@ts-ignore: strictNullChecks\n  let btcSmsMnemonicKey: MnemonicKey = localStorage.getItem(constants.privateKeyNames.btcSmsMnemonicKey)\n  \n  try { \n    //@ts-ignore: strictNullChecks\n    btcSmsMnemonicKey = JSON.parse(btcSmsMnemonicKey) \n  } catch (e) {\n    console.error(e)\n  }\n\n  if (btcSmsMnemonicKey instanceof Array && btcSmsMnemonicKey.length > 0) {\n    btcSmsPublicKeys.push(btcSmsMnemonicKey[0])\n  }\n  const _btcMultisigSMSPrivateKey = actions.btcmultisig.login_SMS(btcPrivateKey, btcSmsPublicKeys)\n}\n\nconst sign_btc_pin = async (btcPrivateKey) => {\n  const btcPinServerKey = config.swapContract.btcPinKey\n  let btcPinPublicKeys = [btcPinServerKey]\n  //@ts-ignore: strictNullChecks\n  let btcPinMnemonicKey: MnemonicKey = localStorage.getItem(constants.privateKeyNames.btcPinMnemonicKey)\n  \n  try { \n    //@ts-ignore: strictNullChecks\n    btcPinMnemonicKey = JSON.parse(btcPinMnemonicKey) \n  } catch (e) {\n    console.error(e)\n  }\n\n  if (btcPinMnemonicKey instanceof Array && btcPinMnemonicKey.length > 0) {\n    btcPinPublicKeys.push(btcPinMnemonicKey[0])\n  }\n\n  const _btcMultisigPinPrivateKey = actions.btcmultisig.login_PIN(btcPrivateKey, btcPinPublicKeys)\n}\n\nconst sign = async () => {\n  await metamask.web3connect.onInit( async () => {\n    initReducerState()\n\n    let mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\n\n    if (!mnemonic) {\n      mnemonic = mnemonicUtils.getRandomMnemonicWords()\n      localStorage.setItem(constants.privateKeyNames.twentywords, mnemonic)\n    }\n\n    const mnemonicKeys = {\n      btc: localStorage.getItem(constants.privateKeyNames.btcMnemonic),\n      btcSms: localStorage.getItem(constants.privateKeyNames.btcSmsMnemonicKeyGenerated),\n      // using ETH key for all EVM compatible chains\n      eth: localStorage.getItem(constants.privateKeyNames.ethMnemonic),\n      bnb: localStorage.getItem(constants.privateKeyNames.ethMnemonic),\n      matic: localStorage.getItem(constants.privateKeyNames.ethMnemonic),\n      arbeth: localStorage.getItem(constants.privateKeyNames.ethMnemonic),\n      ghost: localStorage.getItem(constants.privateKeyNames.ghostMnemonic),\n      next: localStorage.getItem(constants.privateKeyNames.nextMnemonic),\n    }\n\n    if (mnemonic !== `-`) {\n      //@ts-ignore\n      if (!mnemonicKeys.btc) mnemonicKeys.btc = actions.btc.sweepToMnemonic(mnemonic)\n      if (!mnemonicKeys.eth) mnemonicKeys.eth = actions.eth.sweepToMnemonic(mnemonic)\n      if (!mnemonicKeys.bnb) mnemonicKeys.bnb = actions.bnb.sweepToMnemonic(mnemonic)\n      if (!mnemonicKeys.matic) mnemonicKeys.matic = actions.matic.sweepToMnemonic(mnemonic)\n      if (!mnemonicKeys.arbeth) mnemonicKeys.arbeth = actions.arbeth.sweepToMnemonic(mnemonic)\n      //@ts-ignore\n      if (!mnemonicKeys.ghost) mnemonicKeys.ghost = actions.ghost.sweepToMnemonic(mnemonic)\n        //@ts-ignore\n      if (!mnemonicKeys.next) mnemonicKeys.next = actions.next.sweepToMnemonic(mnemonic)\n      if (!mnemonicKeys.btcSms) {\n        //@ts-ignore: strictNullChecks\n        mnemonicKeys.btcSms = actions.btcmultisig.getSmsKeyFromMnemonic(mnemonic)\n        //@ts-ignore: strictNullChecks\n        localStorage.setItem(constants.privateKeyNames.btcSmsMnemonicKeyGenerated, mnemonicKeys.btcSms)\n      }\n    }\n    // Sweep-Switch\n    //@ts-ignore: strictNullChecks\n    let btcNewSmsMnemonicKey: MnemonicKey = localStorage.getItem(constants.privateKeyNames.btcSmsMnemonicKeyMnemonic)\n    \n    try { \n      //@ts-ignore: strictNullChecks\n      btcNewSmsMnemonicKey = JSON.parse(btcNewSmsMnemonicKey) \n    } catch (e) {\n      console.error(e)\n    }\n\n    if (!(btcNewSmsMnemonicKey instanceof Array)) {\n      localStorage.setItem(constants.privateKeyNames.btcSmsMnemonicKeyMnemonic, JSON.stringify([]))\n    }\n\n    //@ts-ignore: strictNullChecks\n    let btcNewMultisigOwnerKey: MnemonicKey = localStorage.getItem(constants.privateKeyNames.btcMultisigOtherOwnerKeyMnemonic)\n    \n    try { \n      //@ts-ignore: strictNullChecks\n      btcNewMultisigOwnerKey = JSON.parse(btcNewMultisigOwnerKey) \n    } catch (e) {\n      console.error(e)\n    }\n\n    if (!(btcNewMultisigOwnerKey instanceof Array)) {\n      localStorage.setItem(constants.privateKeyNames.btcMultisigOtherOwnerKeyMnemonic, JSON.stringify([]))\n    }\n\n    const btcPrivateKey = localStorage.getItem(constants.privateKeyNames.btc)\n    const btcMultisigPrivateKey = localStorage.getItem(constants.privateKeyNames.btcMultisig)\n    const ghostPrivateKey = localStorage.getItem(constants.privateKeyNames.ghost)\n    const nextPrivateKey = localStorage.getItem(constants.privateKeyNames.next)\n    // using ETH key for all EVM compatible chains\n    const ethPrivateKey = localStorage.getItem(constants.privateKeyNames.eth)\n\n    actions.eth.login(ethPrivateKey, mnemonic, mnemonicKeys)\n    actions.bnb.login(ethPrivateKey, mnemonic, mnemonicKeys)\n    actions.matic.login(ethPrivateKey, mnemonic, mnemonicKeys)\n    actions.arbeth.login(ethPrivateKey, mnemonic, mnemonicKeys)\n    const _btcPrivateKey = actions.btc.login(btcPrivateKey, mnemonic, mnemonicKeys)\n    const _ghostPrivateKey = actions.ghost.login(ghostPrivateKey, mnemonic, mnemonicKeys)\n    const _nextPrivateKey = actions.next.login(nextPrivateKey, mnemonic, mnemonicKeys)\n\n    // btc multisig with 2fa (2of3)\n    await sign_btc_2fa(_btcPrivateKey)\n\n    // btc multisig 2of2 user manual sign\n    await sign_btc_multisig(_btcPrivateKey)\n\n    // btc multisig with pin protect (2of3)\n    await sign_btc_pin(_btcPrivateKey)\n\n    loginWithTokens()\n\n    await getReputation()\n  })\n}\n\nconst loginWithTokens = () => {\n  Object.keys(TOKEN_STANDARDS).forEach((key) => {\n    const standardObj = TOKEN_STANDARDS[key]\n    const privateKey = localStorage.getItem(constants.privateKeyNames.eth) // for eth like blockchain use eth private key\n    const standardName = standardObj.standard\n\n    Object.keys(config[standardName]).forEach(tokenName => {\n      actions[standardName].login(\n        privateKey,\n        config[standardName][tokenName].address,\n        tokenName,\n        config[standardName][tokenName].decimals,\n        config[standardName][tokenName].fullName\n      )\n    })\n  })\n\n  reducers.user.setTokenSigned(true)\n}\n\nconst getReputation = async () => {\n\n  const btcReputationPromise = actions.btc.getReputation()\n  const ethReputationPromise = actions.eth.getReputation()\n  const ghostReputationPromise = actions.ghost.getReputation()\n  const nextReputationPromise = actions.next.getReputation()\n\n  Promise.all([\n    btcReputationPromise,\n    ethReputationPromise,\n    ghostReputationPromise,\n    nextReputationPromise,\n  ])\n    .then(([btcReputation, ethReputation, ghostReputation, nextReputation]) => {\n      const totalReputation = Number(btcReputation) + Number(ethReputation) + Number(ghostReputation) + Number(nextReputation)\n\n      if (Number.isInteger(totalReputation)) {\n        reducers.pubsubRoom.set({ reputation: totalReputation })\n      } else {\n        reducers.pubsubRoom.set({ reputation: null })\n      }\n    })\n    .catch((error) => {\n      console.error(`unknown reputation`, error)\n    })\n}\n\n\nconst getBalances = () => {\n  const {\n    user: {\n      isTokenSigned,\n    },\n  } = getState()\n\n  reducers.user.setIsBalanceFetching({ isBalanceFetching: true })\n\n  return new Promise(async (resolve) => {\n    const balances = [\n      ...(metamask.isEnabled() && metamask.isConnected() && metamask.isAvailableNetwork())\n        ? [ { func: metamask.getBalance, name: 'metamask' } ]\n        : [],\n      { func: actions.btc.getBalance, name: 'btc' },\n      { func: actions.eth.getBalance, name: 'eth' },\n      { func: actions.bnb.getBalance, name: 'bnb' },\n      { func: actions.matic.getBalance, name: 'matic' },\n      { func: actions.arbeth.getBalance, name: 'arbeth' },\n      { func: actions.ghost.getBalance, name: 'ghost' },\n      { func: actions.next.getBalance, name: 'next' },\n      { func: actions.btcmultisig.getBalance, name: 'btc-sms' },\n      { func: actions.btcmultisig.getBalanceUser, name: 'btc-ms-main' },\n      { func: actions.btcmultisig.getBalancePin, name: 'btc-pin' },\n      { func: actions.btcmultisig.fetchMultisigBalances, name: 'btc-ms' }\n    ]\n\n    balances.forEach(async (obj) => {\n      try {\n        await obj.func()\n      } catch (e) {\n        console.error('Fail fetch balance for ', obj.name)\n      }\n    })\n\n    if (isTokenSigned) {\n      await getTokensBalances()\n    }\n\n    reducers.user.setIsBalanceFetching({ isBalanceFetching: false })\n    resolve(true)\n  })\n}\n\nconst getTokensBalances = async () => {\n  Object.keys(TOKEN_STANDARDS).forEach((key) => {\n    const standardObj = TOKEN_STANDARDS[key]\n    const standardName = standardObj.standard\n\n    Object.keys(config[standardName]).forEach(async (tokenName) => {\n      try {\n        await actions[standardName].getBalance(tokenName)\n      } catch (error) {\n        console.group('Actions >%c user > getTokensBalances', 'color: red;')\n        console.error(`Fail fetch balance for ${tokenName.toUpperCase()} token`, error)\n        console.groupEnd()\n      }\n    })\n  })\n}\n\nconst customRate = (cur) => {\n  const widgetTokens = window.widgetEvmLikeTokens\n\n  const targetToken = widgetTokens?.length && widgetTokens.find((token) => {\n    return token.name.toLowerCase() === cur.toLowerCase()\n  })\n\n  return targetToken ? (targetToken || { customExchangeRate: null }).customExchangeRate : null\n}\n\nconst getExchangeRate = (sellCurrency, buyCurrency): Promise<number> => {\n  const sellDataRate = customRate(sellCurrency)\n  const buyDataRate = customRate(buyCurrency)\n\n  const {\n    user,\n  } = getState()\n\n  return new Promise((resolve, reject) => {\n\n    if (sellDataRate) {\n      resolve(sellDataRate)\n      return\n    }\n\n    if (buyDataRate) {\n      resolve(1 / buyDataRate)\n      return\n    }\n\n    let dataKey = sellCurrency.toLowerCase()\n    switch (sellCurrency.toLowerCase()) {\n      case 'btc (sms-protected)':\n      case 'btc (multisig)':\n      case 'btc (pin-protected)':\n        dataKey = 'btc'\n        break\n    }\n\n    if ((user[`${dataKey}Data`]\n      && user[`${dataKey}Data`].infoAboutCurrency\n      && user[`${dataKey}Data`].infoAboutCurrency.price_fiat\n    ) || (\n        user.tokensData[dataKey]\n        && user.tokensData[dataKey].infoAboutCurrency\n        && user.tokensData[dataKey].infoAboutCurrency.price_fiat\n      )\n    ) {\n      const currencyData = (user.tokensData[dataKey] && user.tokensData[dataKey].infoAboutCurrency)\n        ? user.tokensData[dataKey]\n        : user[`${dataKey}Data`]\n\n      resolve(currencyData.infoAboutCurrency.price_fiat)\n    } else {\n      resolve(1)\n    }\n  })\n}\n\nconst customTokenExchangeRate = (name) => {\n  let customRate = false\n\n  outsideLabel: {\n    for (const key in TOKEN_STANDARDS) {\n      const standard = TOKEN_STANDARDS[key].standard\n\n      for (const tokenName in config[standard]) {\n        const exRate = config[standard][tokenName].customExchangeRate\n\n        if (tokenName === name && exRate) {\n          customRate = exRate\n          break outsideLabel\n        }\n      }\n    }\n  }\n\n  return customRate\n}\n\nconst getInfoAboutCurrency = (currencyNames) => {\n  return new Promise((resolve, reject) => {\n    const url = 'https://noxon.wpmix.net/cursAll.php'\n    reducers.user.setIsFetching({ isFetching: true })\n\n    const fiat = (config && config.opts && config.opts.activeFiat) ? config.opts.activeFiat : `USD`\n\n    request.get(url, {\n      cacheResponse: 60 * 60 * 1000, // cache for 1 hour\n      query: {\n        fiat,\n        tokens: currencyNames.join(`,`),\n      }\n    }).then((answer: any) => {\n      let infoAboutBTC = answer.data.filter(currencyInfo => {\n        return currencyInfo.symbol.toLowerCase() === 'btc'\n      })\n\n      const btcPrice = infoAboutBTC?.length && infoAboutBTC[0]?.quote[fiat]?.price\n\n      answer.data.map(currencyInfoItem => {\n        if (currencyNames.includes(currencyInfoItem.symbol)) {\n          if (currencyInfoItem.quote && currencyInfoItem.quote[fiat]) {\n            const priceInBtc = btcPrice && currencyInfoItem.quote[fiat].price / btcPrice\n            const ownPrice = customTokenExchangeRate(currencyInfoItem.symbol)\n\n            const currencyInfo = {\n              ...currencyInfoItem.quote[fiat],\n              price_fiat: (ownPrice) ? ownPrice : currencyInfoItem.quote[fiat].price,\n              price_btc: priceInBtc,\n            }\n\n            const { user } = getState()\n            const targetDataKey = `${currencyInfoItem.symbol.toLowerCase()}Data`\n            const targetMnemonicDataKey = `${currencyInfoItem.symbol.toLowerCase()}MnemonicData`\n\n            if (user[targetDataKey]) {\n              reducers.user.setInfoAboutCurrency({ name: targetDataKey, infoAboutCurrency: currencyInfo })\n              // Sweep (for future)\n              reducers.user.setInfoAboutCurrency({ name: targetMnemonicDataKey, infoAboutCurrency: currencyInfo })\n\n              if (currencyInfoItem.symbol === 'BTC') {\n                reducers.user.setInfoAboutCurrency({ name: 'btcMultisigSMSData', infoAboutCurrency: currencyInfo })\n                reducers.user.setInfoAboutCurrency({ name: 'btcMultisigUserData', infoAboutCurrency: currencyInfo })\n                reducers.user.setInfoAboutCurrency({ name: 'btcMultisigG2FAData', infoAboutCurrency: currencyInfo })\n                reducers.user.setInfoAboutCurrency({ name: 'btcMultisigPinData', infoAboutCurrency: currencyInfo })\n              }\n            } else if (erc20Like.isToken({ name: currencyInfoItem.symbol })) {\n              const baseCurrency = tokenCurrencyByPlatform(currencyInfoItem.platform?.name)\n\n              if (baseCurrency) {\n                reducers.user.setInfoAboutToken({\n                  baseCurrency,\n                  name: currencyInfoItem.symbol.toLowerCase(),\n                  infoAboutCurrency: currencyInfo,\n                })\n              }\n            }\n          }\n        }\n      })\n      resolve(true)\n    }).catch((error) => {\n      reject(error)\n    }).finally(() => reducers.user.setIsFetching({ isFetching: false }))\n  })\n}\n\nconst tokenCurrencyByPlatform = (platform): string | undefined => {\n  let baseCurrency= undefined\n\n  Object.keys(TOKEN_STANDARDS).forEach((key) => {\n    if (TOKEN_STANDARDS[key].platform === platform?.toLowerCase()) {\n      baseCurrency = TOKEN_STANDARDS[key].currency\n    }\n  })\n\n  return baseCurrency\n}\n\nconst clearTransactions = () => {\n  reducers.history.setTransactions([])\n}\n\nconst mergeTransactions = (mergeTxs: IUniversalObj[]) => {\n  const {\n    history: {\n      transactions,\n    },\n  } = getState()\n\n  const allTransactions = transactions\n    .concat(mergeTxs)\n    .sort((a, b) => b.date - a.date)\n    .filter((item) => item)\n\n  reducers.history.setTransactions(allTransactions)\n}\n\nconst pullActiveCurrency = (currency) => {\n  reducers.user.setActiveCurrency({ activeCurrency: currency })\n}\n\nconst delay = (ms) => new Promise(resolve => setTimeout(() => resolve(true), ms))\n\nconst fetchMultisigStatus = async () => {\n  const {\n    user: {\n      btcMultisigUserData: {\n        address: mainAddress,\n        wallets,\n      },\n    },\n  } = getState()\n\n  actions.multisigTx.fetch(mainAddress)\n  if (wallets && wallets.length) {\n    wallets.map(({ address }, index) => new Promise(async (resolve) => {\n      actions.multisigTx.fetch(address)\n      resolve(true)\n    }))\n  }\n}\n\ntype ObjCurrencyType = {\n  currency: {\n    isBalanceFetched: boolean\n  }\n}\n\n//@ts-ignore: strictNullChecks\nconst setTransactions = async (objCurrency: ObjCurrencyType | {} = null) => {\n  const isBtcSweeped = actions.btc.isSweeped()\n  const isEthSweeped = actions.eth.isSweeped()\n  const isBnbSweeped = actions.bnb.isSweeped()\n  const isMaticSweeped = actions.matic.isSweeped()\n  const isArbitrumSweeped = actions.arbeth.isSweeped()\n\n  try {\n    clearTransactions()\n\n    const fetchTxsPromises = [\n      actions.btc.getTransaction(),\n      ...(isBtcSweeped) ? [] : [actions.btc.getTransaction(actions.btc.getSweepAddress())],\n      actions.btcmultisig.getTransactionSMS(),\n      actions.btcmultisig.getTransactionPIN(),\n      actions.btcmultisig.getTransactionUser(),\n      actions.eth.getTransaction(),\n      actions.bnb.getTransaction(),\n      actions.matic.getTransaction(),\n      actions.arbeth.getTransaction(),\n      //@ts-ignore: strictNullChecks\n      ...(metamask.isEnabled() && metamask.isConnected()) ? [actions.eth.getTransaction(metamask.getAddress())] : [],\n      //@ts-ignore: strictNullChecks\n      ...(metamask.isEnabled() && metamask.isConnected()) ? [actions.bnb.getTransaction(metamask.getAddress())] : [],\n      ...(isEthSweeped) ? [] : [actions.eth.getTransaction(actions.eth.getSweepAddress())],\n      ...(isBnbSweeped) ? [] : [actions.bnb.getTransaction(actions.bnb.getSweepAddress())],\n      ...(isMaticSweeped) ? [] : [actions.matic.getTransaction(actions.matic.getSweepAddress())],\n      ...(isArbitrumSweeped) ? [] : [actions.arbeth.getTransaction(actions.arbeth.getSweepAddress())],\n      ...objCurrency && objCurrency['GHOST'] ? [actions.ghost.getTransaction()] : [],\n      ...objCurrency && objCurrency['NEXT'] ? [actions.next.getTransaction()] : [],\n    ]\n\n    fetchTxsPromises.forEach((txPromise: Promise<any[]>) => {\n      txPromise.then((txList: any[]) => {\n        mergeTransactions(txList)\n      })\n    })\n\n    await setTokensTransaction()\n  } catch (error) {\n    console.group('Actions >%c user > setTransactions', 'color: red;')\n    console.error('error: ', error)\n    console.groupEnd()\n  }\n}\n\nconst setTokensTransaction = async () => {\n  const { core: { hiddenCoinsList } } = getState()\n  const enabledCurrencies = getActivatedCurrencies()\n  const tokens: { [key: string]: string[] } = {}\n\n  Object.keys(TOKEN_STANDARDS).forEach((key) => {\n    const standard = TOKEN_STANDARDS[key].standard\n    const standardTokens = Object.keys(config[standard]).filter((name) => {\n      return (\n        !hiddenCoinsList.includes(name.toUpperCase()) &&\n        enabledCurrencies.includes(name.toUpperCase())\n      )\n    })\n\n    tokens[standard] = standardTokens\n  })\n\n  Object.keys(tokens).forEach((standard) => {\n    tokens[standard].forEach((tokenName, index) => {\n      const customMs = 650\n\n      delay(customMs * index).then(() => {\n        actions[standard].getTransaction(null, tokenName).then((tokenTxs) => {\n          mergeTransactions(tokenTxs)\n        })\n      })\n    })\n  })\n}\n\nconst getText = () => {\n  const {\n    user: {\n      ethData,\n      bnbData,\n      maticData,\n      arbethData,\n      btcData,\n      ghostData,\n      nextData,\n    }\n  } = getState()\n\n  let text = `\n    You will need this instruction only in case of emergency (if you lost your keys)\\r\\n\n    please do NOT waste your time and go back to swap.online\n    \\r\\n\n    \\r\\n\n    ${window.location.hostname} emergency only instruction\n    \\r\\n\n    # ETHEREUM\n    \\r\\n\n    Ethereum address: ${ethData.address}\\r\\n\n    Private key: ${ethData.privateKey}\\r\\n\n    \\r\\n\n    How to access tokens and ethers: \\r\\n\n    1. Go here https://www.myetherwallet.com/#send-transaction \\r\\n\n    2. Select 'Private key'\\r\\n\n    3. paste private key to input and click \"unlock\"\\r\\n\n    \\r\\n\n    # BINANCE SMART CHAIN\n    \\r\\n\n    BSC address: ${bnbData.address}\\r\\n\n    Private key: ${bnbData.privateKey}\\r\\n\n    \\r\\n\n    # MATIC CHAIN\n    \\r\\n\n    MATIC address: ${maticData.address}\\r\\n\n    Private key: ${maticData.privateKey}\\r\\n\n    \\r\\n\n    # ARBITRUM CHAIN\n    \\r\\n\n    ARBITRUM address: ${arbethData.address}\\r\\n\n    Private key: ${arbethData.privateKey}\\r\\n\n    \\r\\n\n    # BITCOIN\n    \\r\\n\n    Bitcoin address: ${btcData.address}\\r\\n\n    Private key: ${btcData.privateKey}\\r\\n\n    \\r\\n\n    1. Go to blockchain.info\\r\\n\n    2. login\\r\\n\n    3. Go to settings > addresses > import\\r\\n\n    4. paste private key and click \"Ok\"\\r\\n\n    \\r\\n\n    # GHOST\n    \\r\\n\n    Ghost address: ${ghostData.address}\\r\\n\n    Private key: ${ghostData.privateKey}\\r\\n\n    \\r\\n\n    # NEXT\n    \\r\\n\n    Next address: ${nextData.address}\\r\\n\n    Private key: ${nextData.privateKey}\\r\\n\n    \\r\\n\n    * We don\\'t store your private keys and will not be able to restore them!\n    \\r\\n\n  `\n\n  return text\n}\n\nexport const getWithdrawWallet = (currency, addressOwner) => {\n  const needType = getCurrencyKey(currency, true).toUpperCase()\n\n  const filtered = actions.core.getWallets().filter((wallet) => {\n    const walletName = wallet.tokenKey || wallet.currency\n    const walletType = getCurrencyKey(walletName, true).toUpperCase()\n\n    return (\n      (walletType === needType && addressOwner === wallet.address) ||\n      (!addressOwner && (walletType === needType))\n    )\n  })\n\n  return (filtered.length) ? filtered[0] : false\n}\n\nexport const isOwner = (addr, currency) => {\n  const lowerAddr = addr.toLowerCase()\n  const baseTokenCurrency = transactions.getTokenBaseCurrency(currency)\n\n  if (baseTokenCurrency) {\n    const allAddresses = actions[baseTokenCurrency].getAllMyAddresses()\n\n    if (allAddresses.includes(lowerAddr)) return true\n\n    const { user } = getState()\n    const storeOwnerAddress = user[`${baseTokenCurrency}Data`].address.toLowerCase()\n\n    return lowerAddr === storeOwnerAddress\n  }\n\n  const currencyActions = actions[currency.toLowerCase()]\n\n  if (currencyActions?.getAllMyAddresses().includes(lowerAddr)) {\n    return true\n  }\n\n  const name = `${currency.toLowerCase()}Data`\n  const { user } = getState()\n\n  if (!user[name]) {\n    return false\n  }\n\n  const { addrFromStore } = user[name]\n\n  if (!addrFromStore) {\n    return false\n  }\n\n  return lowerAddr === addrFromStore.toLowerCase()\n}\n\n\nconst downloadPrivateKeys = () => {\n  const element = document.createElement('a')\n  const text = getText()\n  const message = 'Check your browser downloads'\n\n  element.setAttribute('href', `data:text/plaincharset=utf-8,${encodeURIComponent(text)}`)\n  element.setAttribute('download', `${window.location.hostname}_keys_${moment().format('DD.MM.YYYY')}.txt`)\n\n  element.style.display = 'none'\n  document.body.appendChild(element)\n  element.click()\n  document.body.removeChild(element)\n\n  actions.notifications.show(constants.notifications.Message, {\n    message,\n  })\n\n  localStorage.setItem(constants.localStorage.privateKeysSaved, 'true')\n}\n\nwindow.downloadPrivateKeys = downloadPrivateKeys\n\nconst getAuthData = (name) => {\n  const { user } = getState()\n  return user[`${name}Data`]\n}\n\nexport default {\n  sign,\n  sign_btc_2fa,\n  sign_btc_pin,\n  sign_btc_multisig,\n  loginWithTokens,\n  getBalances,\n  setTransactions,\n  downloadPrivateKeys,\n  getText,\n  isOwner,\n  getExchangeRate,\n  getReputation,\n  getInfoAboutCurrency,\n  getAuthData,\n  getWithdrawWallet,\n  fetchMultisigStatus,\n  pullActiveCurrency,\n}\n","import actions from 'redux/actions'\nimport reducers from 'redux/core/reducers'\nimport getCurrencyKey from 'helpers/getCurrencyKey'\nimport erc20Like from 'common/erc20Like'\n\nconst pullTransactions = (transactions) => {\n  let data = [...transactions].sort((a, b) => b.date - a.date)\n\n  reducers.history.setTransactions(data)\n}\n\nconst setTransactions = async (address, type, callback) => {\n  let actionName = getCurrencyKey(type, false)\n  const isErc20Token = erc20Like.erc20.isToken({ name: type })\n  const isBep20Token = erc20Like.bep20.isToken({ name: type })\n  const currencyName = getCurrencyKey(type, true)\n  const isMultisigBtcAddress = actionName === 'btc' && actions.btcmultisig.isBTCMSUserAddress(address)\n  \n  if (isErc20Token) {\n    actionName = 'erc20'\n  } else if (isBep20Token) {\n    actionName = 'bep20'\n  }\n\n  try {\n    const currencyTxs = await Promise.all([\n      actions[actionName].getTransaction(address, currencyName),\n      isMultisigBtcAddress ? actions.multisigTx.fetch(address) : new Promise((resolve) => resolve([])),\n    ])\n    if (typeof callback === 'function') {\n      callback([...currencyTxs])\n    } else {\n      pullTransactions([...currencyTxs])\n    }\n  } catch (error) {\n    console.group('Actions >%c history', 'color: red;')\n    console.error('setTransactions: ', error)\n    console.groupEnd()\n  }\n}\n\nexport default {\n  setTransactions,\n}\n","import reducers from 'redux/core/reducers'\nimport { getState } from 'redux/core'\n\n\nconst addItemToFeed = (feeds) => {\n  const filteredFeeds = feeds.filter(f => f.request.length !== 0)\n  reducers.feeds.addItems(filteredFeeds)\n}\n\nconst deleteItemToFeed = (orderId) => {\n  const { feeds } = getState()\n\n  const filteredFeeds = Object.keys(feeds)\n    .map(k => feeds[k])\n    .filter(f => f.id === orderId)\n\n  reducers.feeds.deleteItems(filteredFeeds)\n}\n\nconst getFeedDataFromOrder = (orders) => {\n  const feeds = orders.map(order => ({\n    peer: order.owner.peer,\n    id: order.id,\n    isTurbo: order.isTurbo,\n    content:{\n      sellCurrency: order.sellCurrency,\n      buyCurrency: order.buyCurrency,\n      sellAmount: order.sellAmount,\n      buyAmount: order.buyAmount,\n    },\n    request: order.requests,\n  }))\n\n  addItemToFeed(feeds)\n}\n\n\nexport default {\n  getFeedDataFromOrder,\n  deleteItemToFeed,\n}\n","import debug from 'debug'\nimport SwapApp, { Events } from 'swap.app'\n\n\nclass Room {\n\n  swapId: string\n  peer: any\n  _events: any\n  app: any\n\n  // TODO add destroy method with all events unsubscribe (when swap is finished)\n\n  constructor(app, { swapId, participantPeer }) {\n    this.swapId           = swapId\n    this.peer  = participantPeer\n    this._events          = new Events()\n    this.app              = null\n\n    this._attachSwapApp(app)\n  }\n\n  _attachSwapApp(app) {\n    SwapApp.required(app)\n\n    this.app = app\n  }\n\n  getOnlineParticipant = () => {\n    try {\n      const online = this.app.services.room.connection.hasPeer(this.peer)\n\n      if (!online) {\n        this._events.dispatch('participant is offline', this.peer)\n      }\n\n      return online\n    } catch (err) {\n      console.warn(err)\n      return false\n    }\n  }\n\n  on(eventName, handler) {\n    this.app.services.room.on(eventName, ({ fromPeer, swapId, ...values }) => {\n      debug('swap.verbose:room')(`on ${eventName} from ${fromPeer} at swap ${swapId}`)\n      if (fromPeer === this.peer && swapId === this.swapId) {\n        handler(values)\n      }\n    })\n  }\n\n  once(eventName, handler) {\n    const self = this\n\n    this.app.services.room.on(eventName, function ({ fromPeer, swapId, ...values }) {\n      debug('swap.verbose:room')(`once ${eventName} from ${fromPeer} at swap ${swapId}`)\n      if (fromPeer === self.peer && swapId === self.swapId) {\n        this.unsubscribe()\n        handler(values)\n      }\n    })\n  }\n\n  sendMessage(message) {\n    if (!this.getOnlineParticipant()) {\n      setTimeout(() => {\n        this.sendMessage(message)\n      }, 3000)\n    }\n\n    const { event, data } = message\n\n    this.app.services.room.sendConfirmation(this.peer, {\n      event,\n      action: 'active',\n      data: {\n        swapId: this.swapId,\n        ...data,\n      },\n    })\n  }\n}\n\n\nexport default Room\n","import debug from 'debug'\nimport BigNumber from 'bignumber.js'\nimport SwapApp, { Events, util } from 'swap.app'\nimport SwapInterface from 'swap.app/SwapInterface'\nimport Room from './Room'\nimport { Flow as FlowType } from 'swap.swap'\nimport { COIN_DATA, COIN_MODEL, COIN_TYPE } from 'swap.app/constants/COINS'\nimport getCoinInfo from 'common/coins/getCoinInfo'\n\n\nclass Swap {\n\n  id: string\n  isMy: boolean\n  isTurbo: boolean\n  owner: any\n  participant: any\n  buyCurrency: string // @ToDo CoinType\n  buyBlockchain: string\n  sellCurrency: string// @ToDo CoinType\n  sellBlockchain: string\n  buyAmount: BigNumber\n  sellAmount: BigNumber\n  ownerSwap: any\n  participantSwap: any\n  destinationBuyAddress: any\n  destinationSellAddress: any\n  app: SwapApp\n  createUnixTimeStamp: number\n  participantMetamaskAddress: any\n  waitConfirm: boolean\n  events: Events\n  room: Room\n  flow: FlowType\n\n  constructor(id, app, order?) {\n    SwapApp.required(app)\n    //@ts-ignore: strictNullChecks\n    this.id                     = null\n    //@ts-ignore: strictNullChecks\n    this.isMy                   = null\n    //@ts-ignore: strictNullChecks\n    this.isTurbo                = null\n    this.owner                  = null\n    this.participant            = null\n    //@ts-ignore: strictNullChecks\n    this.buyCurrency            = null\n    //@ts-ignore: strictNullChecks\n    this.buyBlockchain          = null\n    //@ts-ignore: strictNullChecks\n    this.sellCurrency           = null\n    //@ts-ignore: strictNullChecks\n    this.sellBlockchain         = null\n    //@ts-ignore: strictNullChecks\n    this.buyAmount              = null\n    //@ts-ignore: strictNullChecks\n    this.sellAmount             = null\n    this.ownerSwap              = null\n    this.participantSwap        = null\n    this.destinationBuyAddress  = null\n    this.destinationSellAddress = null\n    this.app                    = app\n    this.createUnixTimeStamp    = Math.floor(new Date().getTime() / 1000)\n\n    this.participantMetamaskAddress = null\n\n    // Wait confirm > 1\n    this.waitConfirm            = false\n\n    let data = this.app.env.storage.getItem(`swap.${id}`)\n\n    if (!data) {\n      //@ts-ignore: strictNullChecks\n      order = order || this.app.services.orders.getByKey(id)\n\n      data = this._getDataFromOrder(order)\n    }\n\n    this.update(data)\n\n    const swapExists = this._attachSwapApp(app)\n    if (swapExists !== null) {\n      // Swap object already created and attached to SwapApp.\n      // Prevent two Swap object - return exists\n      return swapExists\n    }\n\n    this.events = new Events()\n\n    this.room = new Room(app, {\n      swapId: id,\n      participantPeer: this.participant.peer,\n    })\n\n    const buyCurrencyInfo = getCoinInfo(data.buyCurrency)\n    const sellCurrencyInfo = getCoinInfo(data.sellCurrency)\n\n    const buyCoin = ((data.buyBlockchain && !buyCurrencyInfo.blockchain) ? `{${data.buyBlockchain}}${data.buyCurrency}` : data.buyCurrency).toUpperCase()\n    const sellCoin = ((data.sellBlockchain && !sellCurrencyInfo.blockchain) ? `{${data.sellBlockchain}}${data.sellCurrency}` : data.sellCurrency).toUpperCase()\n\n    this.ownerSwap        = this.app.swaps[buyCoin]\n    this.participantSwap  = this.app.swaps[sellCoin]\n\n    const flowKey = this.isTurbo ?\n      (this.isMy ? 'TurboMaker' : 'TurboTaker')\n      :\n      `${sellCoin}2${buyCoin}`\n\n    if (!this.app.flows[flowKey]) {\n      throw new Error(`Flow with name \"${flowKey}\" not found in SwapApp.flows`)\n    }\n\n    const Flow = this.app.flows[flowKey]\n    this.flow = new Flow(this)\n    console.log(`Flow \"${flowKey}\" created!`)\n\n    this.setupEvents()\n    // Change destination address on run time\n    this.room.on('set destination buy address', (data) => {\n      debug('swap.core:swap')('Other side change destination buy address', data)\n      this.update({\n        destinationSellAddress: data.address,\n      })\n    })\n\n    this.room.on('set destination sell address', (data) => {\n      debug('swap.core:swap')('Other side change destination sell address', data)\n      this.update({\n        destinationBuyAddress: data.address,\n      })\n    })\n\n    this.room.on('set metamask address', (data) => {\n      debug('swap.core:swap')('Participant use metamask')\n      this.update({\n        participantMetamaskAddress: data.address,\n      })\n    })\n\n    this.on('enter step', () => {\n      this.app.emit('swap enter step', {\n        swap: this,\n      })\n    })\n\n    this.app.emit('swap attached', {\n      swap: this,\n    })\n  }\n\n/* static read(app, { id }) {\n    SwapApp.required(app)\n\n    if (!id) {\n      debug('swap.core:swap')(`SwapReadError: id not given: ${id}`)\n      return {}\n    }\n\n    const data = app.env.storage.getItem(`swap.${id}`)\n\n    if (!data) {\n      debug('swap.core:swap')(`SwapReadError: No swap with id=${id}`)\n      return {}\n    }\n\n    const flowKey = this.isTurbo ?\n      (this.isMy ? 'TurboMaker' : 'TurboTaker')\n      :\n      `${data.sellCurrency.toUpperCase()}2${data.buyCurrency.toUpperCase()}`\n\n    if (!app.flows[flowKey]) {\n      throw new Error(`Flow with name \"${flowKey}\" not found in SwapApp.flows`)\n    }\n\n    const Flow = app.flows[flowKey]\n    data.flow = Flow.read(app, data)\n\n    return data\n  }*/\n\n  isFinished(): boolean {\n    return this.flow.isFinished()\n  }\n\n  _attachSwapApp(app): Swap {\n    return this.app.attachSwap(this)\n  }\n\n  _getDataFromOrder(order) {\n    // TODO add check order format (typeforce)\n\n    const data = util.pullProps(\n      order,\n      'id',\n      'isMy',\n      'isTurbo',\n      'owner',\n      'participant',\n      'sellCurrency',\n      'sellBlockchain',\n      'sellAmount',\n      'buyCurrency',\n      'buyBlockchain',\n      'buyAmount',\n      'destination',\n    )\n\n    const {\n      //@ts-ignore\n      isMy,\n      //@ts-ignore\n      isTurbo,\n      //@ts-ignore\n      sellCurrency,\n      //@ts-ignore\n      sellBlockchain,\n      //@ts-ignore\n      sellAmount,\n      //@ts-ignore\n      buyCurrency,\n      //@ts-ignore\n      buyBlockchain,\n      //@ts-ignore\n      buyAmount,\n      //@ts-ignore\n      destination,\n      ...rest\n    } = data\n\n    const { ownerAddress, participantAddress } = destination\n\n    const swap = {\n      ...rest,\n      isMy,\n      isTurbo,\n      sellCurrency: isMy ? sellCurrency : buyCurrency,\n      sellBlockchain: isMy ? sellBlockchain : buyBlockchain,\n      sellAmount: isMy ? sellAmount : buyAmount,\n      buyCurrency: isMy ? buyCurrency : sellCurrency,\n      buyBlockchain: isMy ? buyBlockchain : sellBlockchain,\n      buyAmount: isMy ? buyAmount : sellAmount,\n      destinationBuyAddress: isMy ? ownerAddress : participantAddress,\n      destinationSellAddress: isMy ? participantAddress : ownerAddress,\n    }\n    //@ts-ignore\n    if (!swap.participant && !isMy) {\n      //@ts-ignore\n      swap.participant = swap.owner\n    }\n\n    return swap\n  }\n\n  _pullRequiredData(data) {\n    return util.pullProps(\n      data,\n      'id',\n      'isMy',\n      'isTurbo',\n      'owner',\n      'participant',\n      'sellCurrency',\n      'sellBlockchain',\n      'sellAmount',\n      'buyCurrency',\n      'buyBlockchain',\n      'buyAmount',\n      'destinationBuyAddress',\n      'destinationSellAddress',\n      'createUnixTimeStamp',\n      'participantMetamaskAddress',\n      'waitConfirm',\n    )\n  }\n\n  _saveState() {\n    const data = this._pullRequiredData(this)\n\n    this.app.env.storage.setItem(`swap.${this.id}`, data)\n  }\n\n  checkTimeout(timeoutUTS) {\n    // return true if timeout passed\n    return !((this.createUnixTimeStamp + timeoutUTS) > Math.floor(new Date().getTime() / 1000))\n  }\n\n  setupEvents() {\n    const {\n      sellCurrency: sellCoin,\n      buyCurrency: buyCoin,\n    } = this\n\n    if (!this.flow.isTakerMakerModel) {\n      if (COIN_DATA[sellCoin.toUpperCase()]\n        && COIN_DATA[sellCoin.toUpperCase()].model\n        && COIN_DATA[buyCoin.toUpperCase()]\n        && COIN_DATA[buyCoin.toUpperCase()].model\n      ) {\n        const _Sell = sellCoin.toLowerCase()\n        const _Buy = buyCoin.toLowerCase()\n\n        const sellModel = COIN_DATA[sellCoin.toUpperCase()].model\n        const buyModel = COIN_DATA[buyCoin.toUpperCase()].model\n\n        // sell UTXO buy AB \n        if (sellModel === COIN_MODEL.UTXO && buyModel === COIN_MODEL.AB) {\n          // @ToDo after refactoring use 'request script'\n          this.room.on(`request utxo script`, () => {\n            if (this.flow) {\n              const {\n                utxoScriptValues: scriptValues,\n                utxoScriptCreatingTransactionHash: scriptCreatingTransactionHash,\n              } = this.flow.state\n              \n              if (scriptValues && scriptCreatingTransactionHash) {\n                this.room.sendMessage({\n                  event:  `create utxo script`,\n                  data: {\n                    scriptValues,\n                    utxoScriptCreatingTransactionHash: scriptCreatingTransactionHash,\n                  }\n                })\n              }\n            }\n          })\n        }\n        // sell AB buy UTXO\n        if (sellModel === COIN_MODEL.AB && buyModel === COIN_MODEL.UTXO) {\n          this.room.on(`create utxo script`, (eventData) => {\n            if (this.flow) {\n              const {\n                scriptValues,\n                utxoScriptCreatingTransactionHash: scriptCreatingTransactionHash, \n              } = eventData\n\n              const { step } = this.flow.state\n\n              if (step >= 3) {\n                return\n              }\n\n              this.flow.finishStep({\n                secretHash: scriptValues.secretHash,\n                utxoScriptValues: scriptValues,\n                utxoScriptCreatingTransactionHash: scriptCreatingTransactionHash,\n              }, { step: `wait-lock-utxo`, silentError: true })\n            }\n          })\n          // Seller has unconfirmed tx in mem pool\n          this.room.on('wait utxo unlock', () => {\n            this.flow.setState({\n              participantHasLockedUTXO: true,\n            }, true)\n          })\n\n          const requestScriptFunc = () => {\n            if (this.flow && !this.flow._isFinished()) {\n              const { step } = this.flow.state\n\n              if (step >= 3) {\n                return\n              }\n\n              this.flow.swap.room.sendMessage({\n                event: `request ${_Buy} script`,\n              })\n\n              setTimeout( requestScriptFunc, 5000 )\n            }\n          }\n          requestScriptFunc()\n        }\n        // sell UTXO buy UTXO\n        if (sellModel === COIN_MODEL.UTXO && buyModel === COIN_MODEL.UTXO) { /* ---- */ }\n        // sell AB buy AB\n        if (sellModel === COIN_MODEL.AB && buyModel === COIN_MODEL.AB) { /* ----- */ }\n      } else {\n        console.warn(`Core->Swap->setupEvents - Unknown coins models Sell(${sellCoin}) Buy(${buyCoin})`)\n      }\n    }\n  }\n\n  needWaitConfirm() {\n    this.update({\n      waitConfirm: true,\n    })\n  }\n\n  processMetamask() {\n    if (this.app.env.metamask\n      && this.app.env.metamask.isEnabled()\n      && this.app.env.metamask.isConnected()\n    ) {\n      this.room.sendMessage({\n        event: 'set metamask address',\n        data: {\n          address: this.app.env.metamask.getAddress(),\n        },\n      })\n    }\n  }\n\n  setDestinationBuyAddress(address) {\n    this.update({\n      destinationBuyAddress: address,\n    })\n\n    this.room.sendMessage({\n      event: 'set destination buy address',\n      data: {\n        address,\n      },\n    })\n  }\n\n  setDestinationSellAddress(address) {\n    this.update({\n      destinationSellAddress: address,\n    })\n\n    this.room.sendMessage({\n      event: 'set destination sell address',\n      data: {\n        address,\n      },\n    })\n  }\n\n  update(values) {\n    Object.keys(values).forEach((key) => {\n      if (key === 'buyAmount' || key === 'sellAmount') {\n        this[key] = new BigNumber(String(values[key]))\n      }\n      else {\n        this[key] = values[key]\n      }\n    })\n    this._saveState()\n  }\n\n  on(eventName, handler) {\n    this.events.subscribe(eventName, handler)\n  }\n\n  off(eventName, handler) {\n    this.events.unsubscribe(eventName, handler)\n  }\n}\n\n\nexport default Swap\n","import debug from 'debug'\nimport SwapApp, { util } from 'swap.app'\nimport Room from './Room'\nimport Swap from './Swap'\n\n\nclass Flow {\n  _flowName: string\n  swap: Swap\n  steps: Function[]\n  app: SwapApp\n  stepNumbers: any\n  isTakerMakerModel: boolean = false\n\n  state: {\n    // Common swaps state\n    step: number\n    isWaitingForOwner?: boolean\n\n    isStoppedSwap?: boolean\n    isRefunded?: boolean\n    isFinished: boolean\n    isSwapTimeout?: boolean\n\n    isSignFetching?: boolean\n    isMeSigned?: boolean\n\n    isBalanceFetching: boolean,\n    isBalanceEnough: boolean,\n\n    // Turbo swaps state\n\n    takerTxHash?: null | string\n    isTakerTxPended?: boolean\n\n    makerTxHash?: null | string\n    isMakerTxPended?: boolean\n\n    // Atomic swaps state\n    // -- AB-UTXO\n    participantHasLockedUTXO?: boolean\n    secretHash?: string\n    requireWithdrawFee?: boolean\n    requireWithdrawFeeSended?: boolean\n    // -- UTXO-AB\n    isUTXOScriptOk?: boolean\n    waitUnlockUTXO?: boolean\n    withdrawRequestAccepted?: boolean\n\n    utxoFundError?: string\n\n    // --- UTXO-AB/AB-UTXO equals states\n    utxoScriptValues?: any\n    utxoScriptVerified?: boolean\n    utxoScriptCreatingTransactionHash?: string\n    ethSwapCreationTransactionHash?: string\n\n    secret?: string\n    isParticipantSigned?: boolean\n    scriptAddress?: string\n    scriptBalance?: number\n    isEthContractFunded?: boolean\n  }\n\n  constructor(swap) {\n    this.swap     = swap\n    this.steps    = []\n    //@ts-ignore: strictNullChecks\n    this.app      = null\n\n    this.stepNumbers = {}\n\n    //@ts-ignore: strictNullChecks\n    this.state = {\n      step: 0,\n      isWaitingForOwner: false,\n      isStoppedSwap: false,\n      isSwapTimeout: false,\n      isRefunded: false,\n      isFinished: false,\n\n      isSignFetching: false,\n      isMeSigned: false,\n\n      /** -------------- Turbo Swaps States ----------------- **/\n\n      isBalanceFetching: false,\n      isBalanceEnough: true,\n\n      /** -------------- Atomic Swaps States ---------------- **/\n      ...{\n        /** AB-UTXO **/\n        // Partical (btc-seller) has unconfirmed txs in mempool\n        participantHasLockedUTXO: false,\n        // Script charged, confirmed and checked - next step - charge AB contract\n        isUTXOScriptOk: false,\n        utxoScriptValues: null,\n        utxoScriptVerified: false,\n        utxoScriptCreatingTransactionHash: null,\n        ethSwapCreationTransactionHash: null,\n      },\n      ...{\n        /** UTXO-AB **/\n        // We are have locked txs in mem-pool\n        waitUnlockUTXO: false,\n        utxoFundError: null,\n        utxoScriptValues: null,\n        utxoScriptVerified: false,\n        utxoScriptCreatingTransactionHash: null,\n      },\n      ...{\n        /** UTXO-UTXO **/\n      },\n      ...{\n        /** AB-AB **/\n      },\n    }\n\n    this._attachSwapApp(swap.app)\n  }\n\n  isTaker(): boolean {\n    return !this.isMaker()\n  }\n\n  isMaker(): boolean {\n    return this.swap.isMy\n  }\n\n  _attachSwapApp(app: SwapApp) {\n    SwapApp.required(app)\n\n    this.app = app\n  }\n\n  static read(app: SwapApp, { id }) {\n    SwapApp.required(app)\n\n    if (!id) {\n      debug('swap.core:swap')(`FlowReadError: id not given: ${id}`)\n      return {}\n    }\n\n    return app.env.storage.getItem(`flow.${id}`)\n  }\n\n  _isFinished(): boolean {\n    const {\n      isStoppedSwap,\n      isRefunded,\n      isFinished,\n      isSwapTimeout,\n    } = this.state\n\n    if (this.swap.checkTimeout(3600)) {\n      this.setState({\n        isStoppedSwap: true,\n        isSwapTimeout: true,\n      }, true)\n    }\n\n    return (isStoppedSwap || isRefunded || isFinished || this.swap.checkTimeout(3600))\n  }\n\n  isFinished(): boolean {\n    return (\n      (this.state.step >= this.steps.length)\n      || this._isFinished()\n    )\n  }\n\n  _persistState() {\n    const state = Flow.read(this.app, this.swap)\n\n    if (state) {\n      this.state = {\n        ...this.state,\n        ...state,\n      }\n    }\n  }\n\n  _persistSteps() {\n    this.steps = [\n      ...this._getInitialSteps(),\n      ...this._getSteps(),\n    ]\n\n    // wait events placed\n    setTimeout(() => {\n      if ((this.state.step >= this.steps.length)\n        || this._isFinished()\n      ) {\n        return\n      } else {\n        this._goStep(this.state.step)\n      }\n    }, 0)\n  }\n\n  _getInitialSteps() {\n    const flow = this\n\n    return [\n\n      // Check if order exists\n\n      async () => {\n        const { id: orderId, owner } = this.swap\n\n        // TODO how can we don't know who is participant???\n        // TODO if there is no participant in `order` then no need to create Flow...\n        // if there is no order it orderCollection that means owner is offline, so `swap.owner` will be undefined\n        if (owner) {\n          flow.finishStep()\n        }\n\n        flow.setState({\n          isWaitingForOwner: true,\n        })\n\n        //@ts-ignore: strictNullChecks\n        this.app.services.room.on('new orders', function ({ orders }) {\n          const order = orders.find(({ id }) => id === orderId)\n\n          if (order) {\n            this.unsubscribe()\n\n            const order = orders.getByKey(orderId)\n\n            // TODO move this to Swap.js\n            //@ts-ignore\n            flow.swap.room = new Room({\n              participantPeer: order.owner.peer,\n            })\n            flow.swap.update({\n              ...order,\n              participant: order.owner,\n            })\n            flow.finishStep({\n              isWaitingForOwner: false,\n            })\n          }\n        })\n      },\n    ]\n  }\n\n  _getSteps() {\n    return []\n  }\n\n  _saveState() {\n    this.app.env.storage.setItem(`flow.${this.swap.id}`, this.state)\n  }\n\n  finishStep(data?, constraints?) {\n    const {\n      isStoppedSwap,\n    } = this.state\n\n\n    debug('swap.core:swap')(`on step ${this.state.step}, constraints =`, constraints)\n\n    if (constraints) {\n      const { step, silentError } = constraints\n\n      const n_step = this.stepNumbers[step]\n      if (isStoppedSwap) {\n        console.error(`Cant finish step ${step} = ${n_step} when swap is stopped`)\n        return\n      }\n      debug('swap.core:swap')(`trying to finish step ${step} = ${n_step} when on step ${this.state.step}`)\n\n      if (step && this.state.step != n_step) {\n        if (silentError) {\n          console.error(`Cant finish step ${step} = ${n_step} when on step ${this.state.step}`)\n          return\n        } else {\n          throw new Error(`Cant finish step ${step} = ${n_step} when on step ${this.state.step}`)\n          return\n        }\n      }\n    }\n\n    debug('swap.core:swap')(`proceed to step ${this.state.step+1}, data=`, data)\n\n    this._goNextStep(data)\n  }\n\n  _goNextStep(data) {\n    const {\n      step,\n      isStoppedSwap,\n    } = this.state\n\n    if (isStoppedSwap) return\n    const newStep = step + 1\n    console.warn(\"this.state\", this.state)\n    this.swap.events.dispatch('leave step', step)\n\n    this.setState({\n      step: newStep,\n      ...(data || {}),\n    }, true)\n\n    if (this.steps.length > newStep)\n      this._goStep(newStep)\n  }\n\n  _goStep(index) {\n    const {\n      isStoppedSwap,\n    } = this.state\n\n    if (isStoppedSwap) return\n\n    this.swap.events.dispatch('enter step', index)\n    this.steps[index]()\n  }\n\n  setState(values, save?) {\n    this.state = {\n      ...this.state,\n      ...values,\n    }\n\n    if (save) {\n      this._saveState()\n    }\n\n    this.swap.events.dispatch('state update', this.state, values)\n  }\n\n  sendMessageAboutClose() {\n    this.swap.room.sendMessage({\n      event: 'swap was canceled',// for front\n    })\n\n    this.swap.room.sendMessage({\n      event: 'swap was canceled for core',\n    })\n    console.warn(`swap ${this.swap.id} was stoped`)\n  }\n\n  stopSwapProcess() {\n    console.warn('Swap was stopped')\n\n    this.setState({\n      isStoppedSwap: true,\n    }, true)\n  }\n\n  tryRefund(): Promise<any> {\n    return new Promise((resolve) => { resolve(true) })\n  }\n\n}\n\n\nexport default Flow","import debug from 'debug'\nimport SwapApp, { util } from 'swap.app'\nimport Flow from './Flow'\nimport { BigNumber } from 'bignumber.js'\nimport * as cryptoLib from 'crypto'\n\n\nclass AtomicAB2UTXO extends Flow {\n\n  //@ts-ignore: strictNullChecks\n  utxoCoin: string = null\n  isUTXOSide: boolean = false\n\n  abBlockchain: any // @to-do - make inmlementation for ABswap\n  utxoBlockchain: any // @to-do - make implementation for UTXOSwap\n\n\n  constructor(swap) {\n    super(swap)\n\n    //@ts-ignore: strictNullChecks\n    this.state = {\n      ...this.state,\n      ...{\n        /** AB-UTXO **/\n        // Partical (btc-seller) has unconfirmed txs in mempool\n        participantHasLockedUTXO: false,\n        requireWithdrawFee: false,\n        requireWithdrawFeeSended: false,\n        // Script charged, confirmed and checked - next step - charge AB contract\n        isUTXOScriptOk: false,\n        utxoScriptValues: null,\n        utxoScriptVerified: false,\n        utxoScriptCreatingTransactionHash: null,\n        /** UTXO-AB **/\n        // We are have locked txs in mem-pool\n        waitUnlockUTXO: false,\n        utxoFundError: null,\n        withdrawRequestAccepted: false,\n      },\n    }\n  }\n\n  setupTakerMakerEvents() {\n    const flow = this\n    if (!this.isTakerMakerModel) return\n    if (this.isTaker()) {\n      flow.swap.room.on('request utxo script', () => {\n        const {\n          utxoScriptValues,\n          secretHash,\n          secret,\n        } = flow.state\n        if (secret && secretHash) {\n          flow.swap.room.sendMessage({\n            event: 'utxo script generated',\n            data: {\n              utxoScriptValues,\n              secretHash,\n            }\n          })\n        }\n      })\n    } else {\n      flow.swap.room.on('utxo script generated', (data) => {\n        const {\n          utxoScriptValues,\n          secretHash,\n        } = data\n\n        flow.setState({\n          utxoScriptValues,\n          secretHash,\n        }, true)\n      })\n    }\n  }\n\n  getStepNumbers() {\n    switch (true) {\n      case ( // Это не модель taker-maker - сторона utxo, или это taker-maker, сторона utxo, и это taker (создает первый utxo скрипт)\n        (!this.isTakerMakerModel && this.isUTXOSide)\n        ||\n        (this.isTakerMakerModel && this.isUTXOSide && this.isTaker())\n      ): return {\n          'sign': 1,\n          'submit-secret': 2,\n          'sync-balance': 3,\n          'lock-utxo': 4,\n          'wait-lock-eth': 5,\n          'withdraw-eth': 6,\n          'finish': 7,\n          'end': 8,\n        }\n      case ( // Это не модель taker-maker - сторона ab, или это taker-maker, сторона ab, и это maker (ждет создание utxo скрипта)\n        (!this.isTakerMakerModel && !this.isUTXOSide)\n        ||\n        (this.isTakerMakerModel && !this.isUTXOSide && this.isMaker())\n      ): return {\n          'sign': 1,\n          'wait-lock-utxo': 2,\n          'verify-script': 3,\n          'sync-balance': 4,\n          'lock-eth': 5,\n          'wait-withdraw-eth': 6, // aka getSecret\n          'withdraw-utxo': 7,\n          'finish': 8,\n          'end': 9,\n        }\n      case ( // Это модель taker-maker, сторона ab, мы taker - создаем контракт ab\n        this.isTakerMakerModel && !this.isUTXOSide && this.isTaker()\n      ): return {\n          'sign': 1,\n          'sync-balance': 2,\n          'lock-eth': 3,\n          'wait-lock-utxo': 4,\n          'withdraw-utxo': 5,\n          'finish': 6,\n          'end': 7,\n        }\n      case ( // Это модель taker-maker, сторона utxo, мы maker - ждем создание контракта ab\n        this.isTakerMakerModel && this.isUTXOSide && this.isMaker()\n      ): return {\n          'sign': 1,\n          'sync-balance': 2,\n          'wait-lock-eth': 3,\n          'lock-utxo': 4,\n          'wait-withdraw-utxo': 5,\n          'withdraw-eth': 6,\n          'finish': 7,\n          'end': 8,\n        }\n    }\n  }\n\n  async signABSide() {\n    this.swap.room.once('request sign', () => {\n      this.swap.room.sendMessage({\n        event: 'swap sign',\n      })\n      this.setState({\n        isParticipantSigned: true,\n      }, true)\n    })\n\n    const isSignOk = await util.helpers.repeatAsyncUntilResult(() => {\n      const {\n        isParticipantSigned,\n      } = this.state\n\n      this.swap.processMetamask()\n      this.swap.room.sendMessage({\n        event: 'swap sign',\n      })\n\n      return isParticipantSigned\n    })\n    if (isSignOk) {\n      this.finishStep({}, { step: 'sign' })\n    }\n  }\n\n  async signUTXOSide() {\n    this.swap.processMetamask()\n    this.swap.room.once('swap sign', () => {\n      const { step } = this.state\n\n      if (step >= 2) {\n        return\n      }\n\n      this.swap.room.once('eth refund completed', () => {\n        this.tryRefund()\n      })\n\n      this.setState({\n        isParticipantSigned: true,\n      }, true)\n\n    })\n\n    this.swap.room.once('swap exists', () => {\n      this.setState({\n        isSwapExist: true,\n      })\n\n      console.log('>>>>>>>>>>> STOP SWAP PROCESS - SWAP EXISTS EVENT')\n      this.stopSwapProcess()\n    })\n\n    const isSignOk = await util.helpers.repeatAsyncUntilResult(() => {\n      const {\n        isParticipantSigned,\n      } = this.state\n\n      this.swap.processMetamask()\n      this.swap.room.sendMessage({\n        event: 'request sign',\n      })\n\n      return isParticipantSigned\n    })\n\n    if (isSignOk) {\n      this.finishStep({}, { step: 'sign' })\n    }\n  }\n\n  waitUTXOScriptCreated() {\n    const flow = this\n    this.swap.room.on('create utxo script', ({ scriptValues, utxoScriptCreatingTransactionHash }) => {\n      const { step } = flow.state\n\n      if (step >= 3) {\n        return\n      }\n\n      flow.finishStep({\n        secretHash: scriptValues.secretHash,\n        utxoScriptValues: scriptValues,\n        utxoScriptCreatingTransactionHash,\n      }, { step: 'wait-lock-utxo', silentError: true })\n    })\n\n    this.swap.room.sendMessage({\n      event: 'request utxo script',\n    })\n  }\n\n  async waitUTXOScriptFunded(): Promise<boolean> {\n    const {\n      isUTXOScriptOk: isFunded,\n    } = this.state\n    if (isFunded) return true\n\n    const flow = this\n    const {\n      participant,\n      buyAmount,\n      sellAmount,\n      waitConfirm,\n    } = flow.swap\n\n    const { secretHash } = this.state\n\n    const utcNow = () => Math.floor(Date.now() / 1000)\n\n    const isUTXOScriptOk = await util.helpers.repeatAsyncUntilResult(async (stopRepeat) => {\n      const {\n        utxoScriptValues,\n      } = flow.state\n\n\n      const scriptCheckError = await this.utxoBlockchain.checkScript(utxoScriptValues, {\n        value: buyAmount,\n        //@ts-ignore: strictNullChecks\n        recipientPublicKey: this.app.services.auth.accounts[this.utxoCoin].getPublicKey(),\n        lockTime: utcNow(),\n        confidence: 0.8,\n        isWhiteList: this.app.isWhitelistBtc(participant.btc.address), // @todo - may be need more white list coins\n        waitConfirm,\n      })\n\n      if (scriptCheckError) {\n        if (/Expected script lockTime/.test(scriptCheckError)) {\n          console.error(`${this.utxoCoin} script check error: ${this.utxoCoin} was refunded`, scriptCheckError)\n          console.log('>>>>> STOP SWAP PROCESS - FAIL CHECK SCRIPT LOCK TIME')\n          flow.stopSwapProcess()\n          stopRepeat()\n        } else if (/Expected script value/.test(scriptCheckError)) {\n          console.warn(`${this.utxoCoin} script check: waiting balance`)\n        } else if (\n          /Can be replace by fee. Wait confirm/.test(scriptCheckError)\n          ||\n          /Wait confirm tx/.test(scriptCheckError)\n        ) {\n          flow.swap.room.sendMessage({\n            event: `wait ${this.utxoCoin} confirm`,\n            data: {},\n          })\n        } else {\n          this.swap.events.dispatch(`${this.utxoCoin} script check error`, scriptCheckError)\n        }\n\n        return false\n      } else {\n        return true\n      }\n    })\n\n    if (!isUTXOScriptOk) {\n      return false\n    } else {\n      flow.setState({\n        isUTXOScriptOk,\n      }, true)\n      return true\n    }\n  }\n\n  getScriptValues() {\n    return this.state.utxoScriptValues\n  }\n\n  verifyScript() {\n    const { utxoScriptVerified, utxoScriptValues } = this.state\n\n    if (utxoScriptVerified) {\n      return true\n    }\n\n    if (!utxoScriptValues) {\n      throw new Error(`No script, cannot verify`)\n    }\n\n    this.finishStep({\n      utxoScriptVerified: true,\n    }, { step: 'verify-script' })\n\n    return true\n  }\n\n  getScriptCreateTx() {\n    const {\n      utxoScriptCreatingTransactionHash,\n    } = this.state\n    return utxoScriptCreatingTransactionHash\n  }\n\n  //tryRefund(): Promise<any> {}\n\n  _checkSwapAlreadyExists() {\n    // mock\n    // todo: implement\n    return new Promise((resolve, reject) => {\n      resolve(false)\n    })\n  }\n\n  async sign() {\n    const { isSignFetching, isMeSigned } = this.state\n\n    if (isSignFetching || isMeSigned) {\n      return true\n    }\n\n    const swapExists = await this._checkSwapAlreadyExists()\n\n    if (swapExists) {\n      this.swap.room.sendMessage({\n        event: 'swap exists',\n      })\n\n      this.setState({\n        isSwapExist: true,\n      })\n\n      console.log('>>>>> STOP SWAP PROCESS - SWAP EXIST ON SIGN')\n      this.stopSwapProcess()\n    } else {\n\n      this.setState({\n        isSignFetching: true,\n      })\n\n      if (!this.isTakerMakerModel) {\n        this.swap.room.once('utxo refund completed', () => {\n          this.tryRefund()\n        })\n      }\n\n      this.swap.room.on('request sign', () => {\n        this.swap.room.sendMessage({\n          event: 'swap sign',\n        })\n      })\n\n      this.swap.room.sendMessage({\n        event: 'swap sign',\n      })\n\n      this.finishStep({\n        isMeSigned: true,\n      }, { step: 'sign', silentError: true })\n\n      return true\n    }\n  }\n\n  acceptWithdrawRequest() {\n    const flow = this\n    const { withdrawRequestAccepted } = flow.state\n\n    if (withdrawRequestAccepted) {\n      return\n    }\n\n    this.setState({\n      withdrawRequestAccepted: true,\n    })\n\n    this.swap.room.once('do withdraw', async ({secret}) => {\n      try {\n        const data = {\n          participantAddress: this.app.getParticipantEthAddress(flow.swap),\n          secret,\n        }\n\n        await this.abBlockchain.withdrawNoMoney(data, (hash) => {\n          flow.swap.room.sendMessage({\n            event: 'withdraw ready',\n            data: {\n              ethSwapWithdrawTransactionHash: hash,\n            }\n          })\n        })\n      } catch (err) {\n        debug('swap.core:flow')(err.message)\n      }\n    })\n\n    this.swap.room.sendMessage({\n      event: 'accept withdraw request'\n    })\n  }\n\n  /**\n   * TODO - backport version compatibility\n   *  mapped to sendWithdrawRequestToAnotherParticipant\n   *  remove at next iteration after client software update\n   *  Used in swap.react\n   */\n  sendWithdrawRequest() {\n    return this.sendWithdrawRequestToAnotherParticipant()\n  }\n\n  sendWithdrawRequestToAnotherParticipant() {\n    const flow = this\n\n    const { requireWithdrawFee, requireWithdrawFeeSended } = flow.state\n\n    if (!requireWithdrawFee || requireWithdrawFeeSended) {\n      return\n    }\n\n    flow.setState({\n      requireWithdrawFeeSended: true,\n    })\n\n    flow.swap.room.on('accept withdraw request', () => {\n      flow.swap.room.sendMessage({\n        event: 'do withdraw',\n        data: {\n          secret: flow.state.secret,\n        }\n      })\n    })\n\n    flow.swap.room.sendMessage({\n      event: 'request withdraw',\n    })\n  }\n\n  // This function call AB side in classic AB2UTXO without taker-maker model\n  async checkOtherSideRefund() {\n    if (typeof this.utxoBlockchain.checkWithdraw === 'function') {\n      const { utxoScriptValues } = this.state\n      if (utxoScriptValues) {\n        const { scriptAddress } = this.utxoBlockchain.createScript(utxoScriptValues)\n\n        const destinationAddress = this.swap.destinationBuyAddress\n        //@ts-ignore: strictNullChecks\n        const destAddress = (destinationAddress) ? destinationAddress : this.app.services.auth.accounts.btc.getAddress()\n\n        const hasWithdraw = await this.utxoBlockchain.checkWithdraw(scriptAddress)\n        if (hasWithdraw\n          && hasWithdraw.address.toLowerCase() !== destAddress.toLowerCase()\n        ) {\n          return true\n        }\n      }\n    }\n    return false\n  }\n\n  generateSecret() {\n    const secret = cryptoLib.randomBytes(32).toString('hex')\n    const secretHash = this.app.env.bitcoin.crypto.ripemd160(Buffer.from(secret, 'hex')).toString('hex')\n    const _secret = `0x${secret.replace(/^0x/, '')}`\n\n    return {\n      secret,\n      secretHash,\n    }\n  }\n\n  submitSecret() {\n    const {\n      isParticipantSigned,\n    } = this.state\n    // @to-do - check destinationBuyAddress\n    if (this.state.secret) { return }\n    if (isParticipantSigned) {\n      const {\n        secret,\n        secretHash,\n      } = this.generateSecret()\n\n      /* Secret hash generated - create BTC script - and only after this notify other part */\n      this.createWorkUTXOScript(secretHash);\n      this.finishStep({\n        secret,\n        secretHash,\n      }, { step: 'submit-secret' })\n    } else {\n      if (!this.state.isParticipantSigned) {\n        throw new Error(`Cannot proceed: participant not signed. step=${this.state.step}`)\n      }\n    }\n  }\n\n  createWorkUTXOScript(secretHash, isOwner = true) {\n    if (this.state.utxoScriptValues) {\n      debug('swap.core:flow')('BTC Script already generated', this.state.utxoScriptValues)\n      return\n    }\n\n    const { participant } = this.swap\n\n    const utcNow = () => Math.floor(Date.now() / 1000)\n    const getLockTime = () => utcNow() + 60 * 60 * 3 // 3 hours from now\n\n    const scriptValues = {\n      secretHash:         secretHash,\n      //@ts-ignore: strictNullChecks\n      ownerPublicKey:     (isOwner) ? this.app.services.auth.accounts[this.utxoCoin].getPublicKey() : participant[this.utxoCoin].publicKey,\n      //@ts-ignore: strictNullChecks\n      recipientPublicKey: (isOwner) ? participant[this.utxoCoin].publicKey : this.app.services.auth.accounts[this.utxoCoin].getPublicKey(),\n      lockTime:           getLockTime(),\n    }\n\n    const { scriptAddress } = this.utxoBlockchain.createScript(scriptValues)\n\n    this.setState({\n      scriptAddress: scriptAddress,\n      utxoScriptValues: scriptValues,\n      scriptBalance: 0,\n      scriptUnspendBalance: 0\n    })\n  }\n\n  async syncBalance(): Promise<void> {\n    return (this.isUTXOSide)\n      ? this.syncBalanceUTXO()\n      : this.syncBalanceAB()\n  }\n\n  async syncBalanceAB(): Promise<void> {\n    const { sellAmount } = this.swap\n\n    this.setState({\n      isBalanceFetching: true,\n    })\n\n    const balance = await this.abBlockchain.fetchBalance(\n      this.app.getMyEthAddress()\n    )\n    const isEnoughMoney = sellAmount.isLessThanOrEqualTo(balance)\n\n    const stateData = {\n      balance,\n      isBalanceFetching: false,\n      isBalanceEnough: isEnoughMoney,\n    }\n\n    if (isEnoughMoney) {\n      this.finishStep(stateData, { step: 'sync-balance' })\n    }\n    else {\n      this.setState(stateData, true)\n    }\n  }\n\n  async syncBalanceUTXO(): Promise<void> {\n    const { sellAmount } = this.swap\n\n    this.setState({\n      isBalanceFetching: true,\n    })\n\n    //@ts-ignore: strictNullChecks\n    const utxoAddress = this.app.services.auth.accounts[this.utxoCoin].getAddress()\n\n    const txFee = await this.utxoBlockchain.estimateFeeValue({ method: 'swap', fixed: true, address: utxoAddress })\n    const unspents = await this.utxoBlockchain.fetchUnspents(utxoAddress)\n    const totalUnspent = unspents.reduce((summ, { satoshis }) => summ + satoshis, 0)\n    const balance = new BigNumber(totalUnspent).dividedBy(1e8)\n\n    const needAmount = sellAmount.plus(txFee)\n    const isEnoughMoney = needAmount.isLessThanOrEqualTo(balance)\n\n    const stateData = {\n      balance,\n      isBalanceFetching: false,\n      isBalanceEnough: isEnoughMoney,\n    }\n\n    if (isEnoughMoney) {\n      this.finishStep(stateData, { step: 'sync-balance' })\n    } else {\n      this.setState(stateData, true)\n    }\n  }\n\n  // @to-do - not used in code - front/bot - (btc/ghost/next) - may be need deleted\n  // dot with comma in original - say - its artefact....\n  getUtxoScriptAddress() {\n    const { scriptAddress } = this.state\n    return scriptAddress\n  }\n}\n\n\nexport default AtomicAB2UTXO\n","import Swap from './Swap'\nimport Flow from './Flow'\nimport stepsForCoins from './Steps'\nimport AtomicAB2UTXO from './AtomicAB2UTXO'\n\n\nexport default Swap\n\nexport {\n  Flow,\n  stepsForCoins,\n  AtomicAB2UTXO,\n}","import TOKEN_STANDARDS from 'helpers/constants/TOKEN_STANDARDS'\nimport config from 'helpers/externalConfig'\n\nconst decimals = {\n  btc: 8,\n  bnb: 18,\n  eth: 18,\n  matic: 18,\n  arbeth: 18,\n  ghost: 8,\n  next: 8,\n}\n\nObject.keys(TOKEN_STANDARDS).forEach((key) => {\n  const standard = TOKEN_STANDARDS[key].standard\n\n  Object.keys(config[standard]).forEach((tokenName) => {\n    decimals[tokenName] = config[standard][tokenName].decimals\n  })\n})\n\nexport default {\n  ...decimals,\n}\n","import config from 'helpers/externalConfig'\nimport TOKEN_STANDARDS from 'helpers/constants/TOKEN_STANDARDS'\nconst NETWORK = process.env.MAINNET ? 'mainnet' : 'testnet'\n\nconst getCustomTokenConfig = () => {\n  //@ts-ignore: strictNullChecks\n  let tokensInfo = JSON.parse(localStorage.getItem('customToken'))\n  if (!tokensInfo || !tokensInfo[NETWORK]) return {}\n  return tokensInfo[NETWORK]\n}\n\nlet buildOpts = {\n  curEnabled: false,\n  blockchainSwapEnabled: false,\n  ownTokens: false,\n  addCustomTokens: true,\n  invoiceEnabled: true,\n}\n\nif (window\n  && window.buildOptions\n  && Object.keys(window.buildOptions)\n  && Object.keys(window.buildOptions).length\n) {\n  buildOpts = { ...buildOpts, ...window.buildOptions }\n}\n\nconst swap = (config && config.isWidget) ?\n  []\n  :\n  [\n    ...(!config.opts.curEnabled || (config.opts.curEnabled.eth && config.opts.curEnabled.btc)) ? ['ETH-BTC'] : [],\n    ...(!config.opts.curEnabled || (config.opts.curEnabled.bnb && config.opts.curEnabled.btc)) ? ['BNB-BTC'] : [],\n    ...(!config.opts.curEnabled || (config.opts.curEnabled.matic && config.opts.curEnabled.btc)) ? ['MATIC-BTC'] : [],\n    ...(!config.opts.curEnabled || (config.opts.curEnabled.arbeth && config.opts.curEnabled.btc)) ? ['ARBITRUM-BTC'] : [],\n    ...(!config.opts.curEnabled || (config.opts.curEnabled.eth && config.opts.curEnabled.ghost)) ? ['ETH-GHOST'] : [],\n    ...(!config.opts.curEnabled || (config.opts.curEnabled.eth && config.opts.curEnabled.next)) ? ['ETH-NEXT'] : [],\n  ]\n\nObject.keys(config.erc20)\n  .forEach(key => {\n    swap.push(`{ETH}${key.toUpperCase()}-BTC`)\n    if (!config.opts.curEnabled || config.opts.curEnabled.ghost) swap.push(`{ETH}${key.toUpperCase()}-GHOST`)\n    if (!config.opts.curEnabled || config.opts.curEnabled.next) swap.push(`{ETH}${key.toUpperCase()}-NEXT`)\n  })\nObject.keys(config.bep20)\n  .forEach(key => {\n    swap.push(`{BNB}${key.toUpperCase()}-BTC`)\n  })\n\nObject.keys(config.erc20matic)\n  .forEach(key => {\n    swap.push(`{MATIC}${key.toUpperCase()}-BTC`)\n  })\n\nif (config?.isWidget) {\n  swap.length = 0\n\n  if (window?.widgetEvmLikeTokens?.length) {\n    window.widgetEvmLikeTokens.forEach((token) => {\n      const { name, standard } = token\n      const baseCurrency = TOKEN_STANDARDS[standard]?.currency\n      const tokenKey = `{${baseCurrency.toUpperCase()}}${name.toUpperCase()}`\n\n      swap.push(`${tokenKey}-BTC`)\n      if (!config.opts.curEnabled || config.opts.curEnabled.ghost) swap.push(`${tokenKey}-GHOST`)\n      if (!config.opts.curEnabled || config.opts.curEnabled.next) swap.push(`${tokenKey}-NEXT`)\n    })\n  } else {\n    swap.push(`${config.erc20token.toUpperCase()}-BTC`)\n  }\n  swap.push('ETH-BTC')\n\n  if (!config.opts.curEnabled || config.opts.curEnabled.ghost) swap.push('ETH-GHOST')\n  if (!config.opts.curEnabled || config.opts.curEnabled.next) swap.push('ETH-NEXT')\n}\n\nif (buildOpts.addCustomTokens) {\n  const customTokenConfig = getCustomTokenConfig()\n\n  Object.keys(customTokenConfig).forEach((standard) => {\n    Object.keys(customTokenConfig[standard]).forEach((tokenContractAddr) => {\n      const tokenObj = customTokenConfig[standard][tokenContractAddr]\n      const { symbol, baseCurrency } = tokenObj\n      const tokenKey = `{${baseCurrency.toUpperCase()}}${symbol.toUpperCase()}`\n      const pair = `${tokenKey}-BTC`\n\n      if (!swap.includes(pair)) {\n        swap.push(pair)\n      }\n\n      if (!config.opts.curEnabled || config.opts.curEnabled.ghost) {\n        const ghostPair = `${tokenKey}-GHOST`\n\n        if (!swap.includes(ghostPair)) {\n          swap.push(ghostPair)\n        }\n      }\n\n      if (!config.opts.curEnabled || config.opts.curEnabled.next) {\n        const nextPair = `${tokenKey}-NEXT`\n\n        if (!swap.includes(nextPair)) {\n          swap.push(nextPair)\n        }\n      }\n    })\n  })\n}\n\n\nexport default [\n  ...swap,\n]\n","export default Object.freeze({\n  BID: 'bid',\n  ASK: 'ask',\n})\n","//@ts-nockeck\nimport BigNumber from 'bignumber.js'\n\nimport TOKEN_DECIMALS from 'helpers/constants/TOKEN_DECIMALS'\nimport TRADE_TICKERS from 'helpers/constants/TRADE_TICKERS'\nimport PAIR_TYPES from 'helpers/constants/PAIR_TYPES'\nimport config from 'app-config'\n\n\nconst isWidgetBuild = config && config.isWidget\n\nconsole.log('TOKEN_DECIMALS', TOKEN_DECIMALS)\nconsole.log('TRADE_TICKERS', TRADE_TICKERS)\n\nconst PAIR_BID = PAIR_TYPES.BID\nconst PAIR_ASK = PAIR_TYPES.ASK\n\nconst isAsk = (type) => (type === PAIR_TYPES.ASK)\nconst isBid = (type) => (type === PAIR_TYPES.BID)\n\nconst filteredDecimals = ({ amount, currency }) =>\n  new BigNumber(amount).decimalPlaces(TOKEN_DECIMALS[currency] || 0).toString()\n\nexport const parseTicker = (order) => {\n  const {\n    buyCurrency,\n    sellCurrency,\n  } = order\n\n  const buy = buyCurrency\n  const sell = sellCurrency\n  const BS = `${buy}-${sell}`.toUpperCase() // buys ETH, sells BTC, BID\n  const SB = `${sell}-${buy}`.toUpperCase() // sells ETH = ASK\n\n  if (TRADE_TICKERS.includes(BS)) {\n    return {\n      ticker: BS,\n      type: PAIR_BID,\n    }\n  }\n\n  if (TRADE_TICKERS.includes(SB)) {\n    return {\n      ticker: SB,\n      type: PAIR_ASK,\n    }\n  }\n\n  if (!isWidgetBuild) {\n    console.warn(`ParseTickerError: No such tickers: ${BS},${SB}`)\n  }\n\n  return { ticker: 'none', type: PAIR_BID }\n}\n\nexport const parsePair = (str) => {\n  if (!str) {\n    throw new Error(`Empty string: ${str}`)\n  }\n\n  if (typeof str !== 'string') {\n    throw new Error(`ParseTickerError: Not a string: ${str}`)\n  }\n\n  const tokens = str.split('-')\n\n  if (tokens.length !== 2) {\n    throw new Error(`ParseTickerError: Wrong tokens: ${str}`)\n  }\n\n  if (!TRADE_TICKERS.includes(str)) {\n    str = tokens.reverse().join('-')\n  }\n\n  if (!TRADE_TICKERS.includes(str)) {\n    throw new Error(`ParseTickerError: Ticker not found: ${str}`)\n  }\n\n  const MAIN = tokens[0].toUpperCase()\n  const BASE = tokens[1].toUpperCase()\n\n  return {\n    MAIN,\n    BASE,\n  }\n}\n\nexport default class Pair {\n  price: any\n  amount: any\n  ticker: any\n  main: any\n  base: any\n  type: any\n  total: any\n\n  constructor({ price, amount, ticker, type }) {\n    this.price = new BigNumber(price)\n    this.amount = new BigNumber(amount)\n\n    const { MAIN, BASE } = parsePair(ticker)\n    if (!MAIN || !BASE) throw new Error(`CreateOrderError: No currency: ${MAIN}-${BASE}`)\n\n    this.ticker = ticker\n    this.main = MAIN\n    this.base = BASE\n    this.type = type === PAIR_TYPES.BID ? PAIR_TYPES.BID : PAIR_TYPES.ASK\n    this.total = this.price.times(this.amount)\n  }\n\n  /*\n  * 10 ETH -> 1 BTC\n  *\n  * ticker: ETH-BTC\n  *\n  * So we are on ETH market, thus:\n  *   - ASK orders are SELL ETH (for BTC),\n  *   - BID orders are BUY ETH (for BTC)\n  *\n  * This order is SELLING ETH, to it's ASK\n  * type: BID = true, ASK = false\n  *\n  * Price is also calculated in BTC, while amount in ETH\n  * price: 0.1\n  * amount: 10\n  *\n  *\n  * So, for type = ASK\n  *\n  * buyCurrency: BTC = base\n  * sellCurrency: ETH = main\n  * buyAmount: 1 BTC = (0.1 BTC/ETH) * 10 ETH = price * amount\n  * sellAmount: 10 ETH = 10 ETH = amount\n  *\n  */\n  toOrder() {\n    const { ticker, type, price, amount } = this\n\n    const { MAIN, BASE } = parsePair(ticker)\n    //@ts-ignore\n    if (!MAIN || !BASE) throw new Error(`CreateOrderError: No currency: ${main}-${base}`)\n\n    if (![PAIR_ASK, PAIR_BID].includes(type)) throw new Error(`CreateOrderError: Wrong order type: ${type}`)\n\n    const base = { currency: BASE, amount: amount.times(price) }\n    const main = { currency: MAIN, amount }\n\n    const buy = (type === PAIR_ASK) ? base : main\n    const sell = (type === PAIR_ASK) ? main : base\n\n    return {\n      buyCurrency: buy.currency,\n      sellCurrency: sell.currency,\n      buyAmount: filteredDecimals(buy),\n      sellAmount: filteredDecimals(sell),\n      exchangeRate: price, // isAsk(type) ? price : 1/price\n    }\n  }\n\n  static fromOrder(order) {\n    const { buyCurrency, sellCurrency, buyAmount, sellAmount } = order\n    const { ticker, type } = parseTicker(order)\n\n    if (ticker === 'none') {\n      return\n    }\n\n    // ASK means sellCurrency is ETH, then sell is main\n    const mainAmount = new BigNumber(type === PAIR_ASK ? sellAmount : buyAmount)\n    const baseAmount = new BigNumber(type === PAIR_ASK ? buyAmount : sellAmount)\n\n    return new Pair({\n      ticker,\n      type,\n      price: baseAmount.div(mainAmount),\n      amount: mainAmount,\n    })\n  }\n\n  toString() {\n    const type = this.type === PAIR_TYPES.BID ? 'bid' : 'ask'\n    return `${type} \\t${this.ticker} \\t${this.price.dp(8)} \\t${this.amount}`\n  }\n\n  static check(order, ticker) {\n    try {\n      const pair = Pair.fromOrder(order)\n\n      const { MAIN, BASE } = parsePair(ticker.toUpperCase())\n\n      //@ts-ignore: strictNullChecks\n      return pair.ticker === `${MAIN}-${BASE}`\n    } catch (err) {\n      return false\n    }\n  }\n\n  static compareOrders(order1, order2) {\n    const pair1 = Pair.fromOrder(order1)\n    const pair2 = Pair.fromOrder(order2)\n    //@ts-ignore: strictNullChecks\n    return pair1.price.comparedTo(pair2.price)\n  }\n\n  isBid() {\n    return isBid(this.type)\n  }\n\n  isAsk() {\n    return isAsk(this.type)\n  }\n}\n","export enum AddressType {\n  Internal = 'Internal',\n  Metamask = 'Metamask',\n  Custom = 'Custom',\n}\n\nexport enum AddressFormat {\n  Full = 'Full',\n  Short = 'Short', // 0x12...cdef\n  Auto = 'Auto', // todo\n}\n\nexport enum AddressRole {\n  Send = 'Send',\n  Receive = 'Receive',\n}\n","import reducers from 'redux/core/reducers'\nimport actions from 'redux/actions'\nimport { getState } from 'redux/core'\nimport SwapApp from 'swap.app'\nimport Swap from 'swap.swap'\nimport getCoinInfo from 'common/coins/getCoinInfo'\nimport { constants } from 'helpers'\nimport Pair from 'pages/Exchange/Orders/Pair'\nimport config from 'helpers/externalConfig'\nimport { BigNumber } from 'bignumber.js'\n\nimport metamask from 'helpers/metamask'\nimport { AddressType } from 'domain/address'\n\nimport helpers from 'helpers'\n\n\nconst debug = (...args) => console.log(...args)\n\nconst getOrders = (orders) => {\n  reducers.core.getOrders({ orders })\n  actions.core.addCurrencyFromOrders(orders)\n}\n\nconst addCurrencyFromOrders = (orders) => {\n  if (config && config.isWidget) return // НЕ добавляем валюты из ордеров в режиме виджета\n\n  // Зачем только это???\n  // Если в reducers.currencies.partialItems забыли добавить?\n  // Так там автоматически генерирует....\n  // TODO Проверить зависимости и удалить\n\n  const currenciesGetState = getState().currencies\n  const allCurrencyies = currenciesGetState.items.map((item) => item.name.toLowerCase()) // все валюты достпуные в клиенте\n  const partialCurrency = currenciesGetState.partialItems // получаем все премиальные валюты\n\n  const sellOrderArray = orders.map((item) => item.sellCurrency.toLowerCase()) // получаем из ордерова валюты на продажу\n  const buyOrderArray = orders.map((item) => item.buyCurrency.toLowerCase()) // получаем из ордерова валюты на покупку\n\n  let sortedArray = [...sellOrderArray] // записываем sellOrderArray в массив\n\n  // terators/generators require regenerator-runtime\n  for (const sellCurrency of sellOrderArray) {\n    // eslint-disable-line\n    for (const buyCurrency of buyOrderArray) {\n      // eslint-disable-line\n      if (sellCurrency !== buyCurrency) {\n        if (!sellOrderArray.includes(sellCurrency)) {\n          sortedArray.push(sellCurrency.toLowerCase())\n        } else if (!sellOrderArray.includes(buyCurrency)) {\n          sortedArray.push(buyCurrency.toLowerCase())\n        }\n      }\n    }\n  }\n\n  let hasUpdates = false\n\n  sortedArray.forEach((item) => {\n    // добавляем объект в дроп, еще раз проверяя, на совпадения\n    if (!partialCurrency.map((item) => item.name.toLowerCase()).includes(item)) {\n      if (allCurrencyies.includes(item)) {\n        // не пускаю валюты не существующие в клиенте\n        hasUpdates = true\n        partialCurrency.push({\n          name: item.toUpperCase(),\n          title: item.toUpperCase(),\n          icon: item.toLowerCase(),\n          value: item.toLowerCase(),\n        })\n      }\n    }\n  })\n\n  if (hasUpdates) {\n    reducers.currencies.updatePartialItems(partialCurrency)\n  }\n}\n//@ts-ignore\nconst getSwapById = (id) => new Swap(id, SwapApp.shared())\n\nconst getUserData = (currency) => {\n  const { user } = getState()\n  const targetData = user[`${currency.toLowerCase()}Data`]\n\n  if (targetData) {\n    return targetData\n  }\n\n  return {}\n}\n\nconst setFilter = (filter) => {\n  reducers.core.setFilter({ filter })\n}\n\nconst acceptRequest = (orderId, participantPeer) => {\n  //@ts-ignore: strictNullChecks\n  const order = SwapApp.shared().services.orders.getByKey(orderId)\n  order.acceptRequest(participantPeer)\n}\n\nconst declineRequest = (orderId, participantPeer) => {\n  //@ts-ignore: strictNullChecks\n  const order = SwapApp.shared().services.orders.getByKey(orderId)\n  order.declineRequest(participantPeer)\n}\n\nconst rememberOrder = (orderId) => {\n  reducers.rememberedOrders.savedOrders(orderId)\n  localStorage.setItem(\n    constants.localStorage.savedOrders,\n    JSON.stringify(getState().rememberedOrders.savedOrders)\n  )\n}\n\nconst saveDeletedOrder = (orderId) => {\n  reducers.rememberedOrders.deletedOrders(orderId)\n  localStorage.setItem(\n    constants.localStorage.deletedOrders,\n    JSON.stringify(getState().rememberedOrders.deletedOrders)\n  )\n}\n\nconst forgetOrders = (orderId) => {\n  reducers.rememberedOrders.forgetOrders(orderId)\n  localStorage.setItem(\n    constants.localStorage.savedOrders,\n    JSON.stringify(getState().rememberedOrders.savedOrders)\n  )\n}\n\nconst removeOrder = (orderId) => {\n  actions.feed.deleteItemToFeed(orderId)\n  //@ts-ignore: strictNullChecks\n  SwapApp.shared().services.orders.remove(orderId)\n  actions.core.updateCore()\n}\n\nconst showMyOrders = () => {\n  //@ts-ignore: strictNullChecks\n  SwapApp.shared().services.orders.showMyOrders()\n}\n\nconst hideMyOrders = () => {\n  //@ts-ignore: strictNullChecks\n  SwapApp.shared().services.orders.hideMyOrders()\n}\n\nconst deletedPartialCurrency = (orderId) => {\n  //@ts-ignore: strictNullChecks\n  const deletedOrder = SwapApp.shared().services.orders.getByKey(orderId)\n  const deletedOrderSellCurrency = deletedOrder.sellCurrency\n  const deletedOrderBuyCurrency = deletedOrder.buyCurrency\n  //@ts-ignore: strictNullChecks\n  const orders = SwapApp.shared().services.orders.items\n\n  const deletedOrderSell = orders.filter(\n    (item) => item.sellCurrency.toUpperCase() === deletedOrderSellCurrency\n  )\n  const deletedOrderBuy = orders.filter(\n    (item) => item.buyCurrency.toUpperCase() === deletedOrderBuyCurrency\n  )\n\n  // currencies which must be all time in the drop\n  const premiumCurrencies = [\n    'BTC', \n    'ETH', \n    'BNB', \n    'MATIC', \n    'ARBETH', \n    'GHOST', \n    'NEXT', \n    'SWAP',\n  ]\n\n  if (deletedOrderSell.length === 1 && !premiumCurrencies.includes(deletedOrderSellCurrency)) {\n    reducers.currencies.deletedPartialCurrency(deletedOrderSellCurrency)\n  } else if (deletedOrderBuy.length === 1 && !premiumCurrencies.includes(deletedOrderBuyCurrency)) {\n    reducers.currencies.deletedPartialCurrency(deletedOrderBuyCurrency)\n  }\n}\n\n//@ts-ignore: strictNullChecks\nconst hasHiddenOrders = () => SwapApp.shared().services.orders.hasHiddenOrders()\n\nconst sendRequest = (orderId, destination = {}, callback) => {\n  //@ts-ignore\n  const { address: destinationAddress } = destination\n\n  //@ts-ignore: strictNullChecks\n  const order = SwapApp.shared().services.orders.getByKey(orderId)\n  const { address, reputation, reputationProof } = getUserData(order.buyCurrency)\n\n  const requestOptions = {\n    address: destinationAddress,\n    participantMetadata: {\n      address,\n      reputation,\n      reputationProof,\n    },\n  }\n\n  order.sendRequest(callback, requestOptions)\n}\n\nconst sendRequestForPartial = (orderId, newValues, destination = {}, callback) => {\n  //@ts-ignore\n  const { address: destinationAddress } = destination\n\n  //@ts-ignore: strictNullChecks\n  const order = SwapApp.shared().services.orders.getByKey(orderId)\n\n  const { address, reputation, reputationProof } = getUserData(order.buyCurrency)\n\n  const requestOptions = {\n    address: destinationAddress,\n    participantMetadata: {\n      address,\n      reputation,\n      reputationProof,\n    },\n  }\n\n  order.sendRequestForPartial(\n    newValues,\n    requestOptions,\n    (newOrder, isAccepted) => {\n      console.log('newOrder', newOrder)\n      console.log('isAccepted', isAccepted)\n\n      callback(newOrder, isAccepted)\n    },\n    (oldOrder, newOrder) => {\n      //@ts-ignore: strictNullChecks\n      const oldPrice = Pair.fromOrder(oldOrder).price\n      //@ts-ignore: strictNullChecks\n      const newPrice = Pair.fromOrder(newOrder).price\n\n      console.log('prices', oldPrice.toString(), newPrice.toString())\n      // | new - old | / old < 5%\n      return newPrice.minus(oldPrice).abs().div(oldPrice).isLessThanOrEqualTo(0.05)\n    }\n  )\n}\n\nconst createOrder = (data, isPartial = false) => {\n  //@ts-ignore: strictNullChecks\n  const order = SwapApp.shared().services.orders.create(data)\n  if (!isPartial) {\n    return order\n  }\n\n  actions.core.setupPartialOrder(order)\n  return order\n}\n\nconst setupPartialOrder = (order) => {\n  const pairData = Pair.fromOrder(order)\n\n  if (!pairData || !pairData.price) {\n    return\n  }\n\n  const { price } = pairData\n\n  order.setRequestHandlerForPartial('sellAmount', ({ sellAmount }, oldOrder) => {\n    const oldPair = Pair.fromOrder(oldOrder)\n    debug('oldPair', oldPair)\n\n    // if BID, then\n    // price == buyAmount / sellAmount\n\n    //@ts-ignore: strictNullChecks\n    const buyAmount = oldPair.isBid() ? sellAmount.div(price) : sellAmount.times(price)\n\n    debug('newBuyAmount', buyAmount)\n\n    const newOrder = { sellAmount, buyAmount }\n    debug('newOrder', newOrder)\n\n    return newOrder\n  })\n\n  order.setRequestHandlerForPartial('buyAmount', ({ buyAmount }, oldOrder) => {\n    const oldPair = Pair.fromOrder(oldOrder)\n    debug('oldPair', oldPair)\n\n    // BUY [main] = SELL [base] CURRENCY\n    // price = [main]/[base] = [buy]/[sell]\n\n    // BUY 10 ETH = SELL 1 BTC\n    // price = 10 = buyAmount / sellAmount\n    // newSellAmount = buyAmount / price\n\n    //@ts-ignore: strictNullChecks\n    const sellAmount = oldPair.isBid() ? buyAmount.times(price) : buyAmount.div(price)\n\n    debug('newSellAmount', sellAmount)\n\n    const newOrder = { sellAmount, buyAmount }\n    debug('newOrder', newOrder)\n\n    return newOrder\n  })\n}\n\nconst initPartialOrders = () => {\n  //@ts-ignore: strictNullChecks\n  SwapApp.shared().services.orders.items.forEach((order) => {\n    if (order && order.isMy && order.isPartial) {\n      actions.core.setupPartialOrder(order)\n    }\n  })\n}\n\nconst requestToPeer = (event, peer, data, callback) => {\n  //@ts-ignore: strictNullChecks\n  SwapApp.shared().services.orders.requestToPeer(event, peer, data, callback)\n}\n\nconst updateCore = () => {\n  SwapApp.onInit(() => {\n    //@ts-ignore: strictNullChecks\n    const orders = SwapApp.shared().services.orders.items\n\n    getOrders(orders)\n\n    actions.feed.getFeedDataFromOrder(orders)\n  })\n}\n\nconst getSwapHistory = () => {\n  //@ts-ignore: strictNullChecks\n  const swapId = JSON.parse(localStorage.getItem('swapId'))\n\n  if (swapId === null || swapId.length === 0) {\n    return\n  }\n\n  const historySwap = swapId.map((item) => getInformationAboutSwap(item))\n\n  reducers.history.setSwapHistory(historySwap)\n}\n\nconst getInformationAboutSwap = (swapId) => {\n  if (swapId.length > 0 && typeof swapId === 'string') {\n    return {\n      //@ts-ignore: strictNullChecks\n      ...SwapApp.shared().env.storage.getItem(`swap.${swapId}`),\n      //@ts-ignore: strictNullChecks\n      ...SwapApp.shared().env.storage.getItem(`flow.${swapId}`),\n    }\n  }\n}\n\nconst getHiddenCoins = () => getState().core.hiddenCoinsList || []\n\nconst markCoinAsHidden = (coin, doBackup = false) => {\n  let list = getState().core.hiddenCoinsList || []\n  if (!list.includes(coin)) {\n    reducers.core.markCoinAsHidden(coin)\n    localStorage.setItem(\n      constants.localStorage.hiddenCoinsList,\n      JSON.stringify(getState().core.hiddenCoinsList)\n    )\n\n    if (doBackup) {\n      actions.backupManager.serverBackup()\n    }\n  }\n}\n\nconst markCoinAsVisible = (coin, doBackup = false) => {\n  const { hiddenCoinsList } = constants.localStorage\n\n  const findedCoin = JSON.parse(localStorage.getItem(hiddenCoinsList) || '[]').find(\n    (el) => {\n      if (el.includes(':')) {\n        const [elCoin, elAddress] = el.split(':')\n        return elCoin === coin\n      }\n    }\n  )\n\n  reducers.core.markCoinAsVisible(findedCoin || coin)\n  localStorage.setItem(hiddenCoinsList, JSON.stringify(getState().core.hiddenCoinsList))\n\n  if (doBackup) {\n    actions.backupManager.serverBackup()\n  }\n}\n\ntype GetWalletParams = {\n  currency?: string\n  address?: string\n  addressType?: string\n  connected?: boolean\n  blockchain?: string\n}\n\nconst getWallet = (params: GetWalletParams) => {\n  // specify addressType,\n  // otherwise it finds the first wallet from all origins, including metamask\n  const { address, addressType, connected, currency: currencyData, blockchain: optBlockchain } = params\n  const wallets = getWallets({ withInternal: true })\n\n  const {\n    coin: currency,\n    blockchain: coinBlockchain,\n  } = getCoinInfo(currencyData)\n  const blockchain = coinBlockchain || optBlockchain\n\n  const founded = wallets.filter((wallet) => {\n    if (wallet.isMetamask && !wallet.isConnected) return false\n    const conditionOk = (\n        blockchain && wallet.blockchain\n          ? blockchain.toLowerCase() === wallet.blockchain.toLowerCase()\n          : true\n      )\n      && currency\n      && wallet.currency.toLowerCase() === currency.toLowerCase()\n      && (blockchain ? currencyData?.toLowerCase() === wallet.tokenKey : true)\n\n    if (address) {\n      if (wallet.address.toLowerCase() === address.toLowerCase()) {\n        return conditionOk\n      }\n    }\n\n    if (addressType) {\n      if (\n        (addressType === AddressType.Internal && !wallet.isMetamask) ||\n        (\n          addressType === AddressType.Metamask\n          && wallet.isMetamask\n          && (\n            connected === undefined\n            || (\n              connected\n              && wallet.isConnected\n            )\n          )\n        )\n      ) {\n        return conditionOk\n      }\n    }\n\n    return conditionOk\n  })\n\n  return founded.length ? founded[0] : false\n}\n\nconst getWallets = (options: IUniversalObj = {}) => {\n  const { withInternal } = options\n\n  const {\n    user: {\n      btcData,\n      ghostData,\n      nextData,\n      btcMultisigSMSData,\n      btcMultisigUserData,\n      btcMultisigPinData,\n      ethData,\n      bnbData,\n      maticData,\n      arbethData,\n      tokensData,\n      metamaskData,\n      // Sweep\n      btcMnemonicData,\n      ethMnemonicData,\n      bnbMnemonicData,\n      maticMnemonicData,\n      arbethMnemonicData,\n    },\n  } = getState()\n\n  const metamaskConnected = metamask.isEnabled() && metamask.isConnected()\n\n  const tokenWallets = Object.keys(tokensData).map((k) => {\n    const { coin, blockchain } = getCoinInfo(k)\n    if (metamaskConnected) {\n      return (\n        coin && blockchain !== `` &&\n          (metamaskData?.networkVersion === config.evmNetworks[blockchain].networkVersion) ?\n            tokensData[k] : false\n          )\n    }\n    return (coin && blockchain !== ``) ? tokensData[k] : false\n  }).filter((d) => d !== false)\n\n  // if enabledCurrencies equals FALSE then all currencies is enabled\n  const enabledCurrencies = config.opts.curEnabled\n\n  const allData = [\n    ...(\n      !enabledCurrencies ||\n      enabledCurrencies.eth ||\n      enabledCurrencies.bnb ||\n      enabledCurrencies.matic ||\n      enabledCurrencies.arbeth\n        ? metamaskData\n          ? [metamaskData]\n          : []\n        : []\n    ),\n    // Sweep ===============================\n    ...(!enabledCurrencies || enabledCurrencies.btc\n      ? btcMnemonicData && !btcData.isMnemonic\n        ? [btcMnemonicData]\n        : []\n      : []), \n    // Sweep ===============================\n    ...(!enabledCurrencies || enabledCurrencies.eth\n      ? ethMnemonicData && !ethData.isMnemonic\n        ? [ethMnemonicData]\n        : []\n      : []),\n    // Sweep ===============================\n    ...(!enabledCurrencies || enabledCurrencies.bnb\n      ? bnbMnemonicData && !bnbData.isMnemonic\n        ? [bnbMnemonicData]\n        : []\n      : []),\n    // Sweep ===============================\n    ...(!enabledCurrencies || enabledCurrencies.matic\n      ? maticMnemonicData && !maticData.isMnemonic\n        ? [maticMnemonicData]\n        : []\n      : []),\n    // Sweep ===============================\n    ...(!enabledCurrencies || enabledCurrencies.arbeth\n      ? arbethMnemonicData && !arbethData.isMnemonic\n        ? [maticMnemonicData]\n        : []\n      : []),\n    // =====================================\n    ...(!enabledCurrencies || enabledCurrencies.btc\n      ? [btcData, btcMultisigSMSData, btcMultisigUserData]\n      : []\n    ),\n    ...(!enabledCurrencies || enabledCurrencies.btc\n      ? btcMultisigPinData && btcMultisigPinData.isRegistered\n        ? [btcMultisigPinData]\n        : []\n      : []),\n    // =====================================\n    ...(!enabledCurrencies || enabledCurrencies.btc\n      ? btcMultisigUserData && btcMultisigUserData.wallets\n        ? btcMultisigUserData.wallets\n        : []\n      : []),\n    // =====================================\n    ...(!enabledCurrencies || enabledCurrencies.eth\n      ? metamaskConnected\n        ? withInternal\n          ? [ethData]\n          : []\n        : [ethData]\n      : []),\n    // =====================================\n    ...(!enabledCurrencies || enabledCurrencies.bnb\n      ? metamaskConnected\n        ? withInternal\n          ? [bnbData]\n          : []\n        : [bnbData]\n      : []),\n    // =====================================\n    ...(!enabledCurrencies || enabledCurrencies.matic\n      ? metamaskConnected\n        ? withInternal\n          ? [maticData]\n          : []\n        : [maticData]\n      : []),\n    // =====================================\n    ...(!enabledCurrencies || enabledCurrencies.arbeth\n      ? metamaskConnected\n        ? withInternal\n          ? [arbethData]\n          : []\n        : [arbethData]\n      : []),\n    // =====================================\n    ...(!enabledCurrencies || enabledCurrencies.ghost ? [ghostData] : []),\n    ...(!enabledCurrencies || enabledCurrencies.next ? [nextData] : []),\n    ...tokenWallets,\n  ].map(({ account, keyPair, ...data }) => ({\n    ...data,\n  }))\n\n  return allData.filter((item) => item?.address && item?.currency)\n}\n\nwindow.getWallets = getWallets\nwindow.getWallet = getWallet\n\n\nconst fetchWalletBalance = async (walletData): Promise<number> => {\n  const name = helpers.getCurrencyKey(walletData.currency.toLowerCase(), true)\n\n  try {\n    if (walletData.isToken) {\n      const standard = walletData.standard\n      const balance = await actions[standard].fetchBalance(\n        walletData.address,\n        walletData.contractAddress,\n        walletData.decimals\n      )\n\n      return new BigNumber(balance).toNumber()\n    } else {\n      if (typeof actions[name]?.fetchBalance) {\n        const balance = await actions[name].fetchBalance(walletData.address)\n\n        return new BigNumber(balance).toNumber()\n      } else {\n        console.warn(`Fail fetch balance for wallet '${name}' - not fetchBalance in actions`)\n      }\n    }\n  } catch (error) {\n    console.error(`Fail fetch balance for '${name.toUpperCase()}'`, error)\n  }\n  return 0\n}\n\nconst rememberSwap = (swap) => {\n  //@ts-ignore: strictNullChecks\n  let swapsIds = JSON.parse(localStorage.getItem('swapId'))\n\n  if (swapsIds === null || swapsIds.length === 0) {\n      swapsIds = []\n  }\n  if (!swapsIds.includes(swap.id)) {\n    swapsIds.push(swap.id)\n  }\n  localStorage.setItem('swapId', JSON.stringify(swapsIds))\n}\n\n\nexport default {\n  rememberOrder,\n  forgetOrders,\n  getSwapById,\n  getOrders,\n  setFilter,\n  createOrder,\n  getSwapHistory,\n  updateCore,\n  sendRequest,\n  sendRequestForPartial,\n  acceptRequest,\n  declineRequest,\n  removeOrder,\n  markCoinAsHidden,\n  markCoinAsVisible,\n  requestToPeer,\n  getInformationAboutSwap,\n  saveDeletedOrder,\n  hideMyOrders,\n  showMyOrders,\n  hasHiddenOrders,\n  setupPartialOrder,\n  initPartialOrders,\n  deletedPartialCurrency,\n  addCurrencyFromOrders,\n  getWallets,\n  getWallet,\n  getHiddenCoins,\n  fetchWalletBalance,\n  rememberSwap,\n}\n","import reducers from 'redux/core/reducers'\n\n\nconst allowDashboardModals = () => reducers.ui.allowDashboardModals()\nconst disallowDashboardModals = () => reducers.ui.disallowDashboardModals()\n\nexport default {\n  allowDashboardModals,\n  disallowDashboardModals,\n}\n","import reducers from 'redux/core/reducers'\n\n\nconst setFilter = (filter) => {\n  reducers.history.setFilter(filter)\n}\n\nconst ordersFilter = (filter) => {\n  reducers.orders.ordersFilter(filter)\n}\n\n\nexport default {\n  setFilter,\n  ordersFilter,\n}\n","import BigInteger from 'bigi'\n\nimport * as bitcoin from 'bitcoinjs-lib'\nimport * as bip39 from 'bip39'\n\nimport bitcoinMessage from 'bitcoinjs-message'\nimport { getState } from 'redux/core'\nimport reducers from 'redux/core/reducers'\nimport { btc, apiLooper, constants, api } from 'helpers'\nimport actions from 'redux/actions'\nimport typeforce from 'swap.app/util/typeforce'\nimport config from 'app-config'\n\nimport * as mnemonicUtils from '../../../../common/utils/mnemonic'\n\nimport { default as bitcoinUtils } from 'common/utils/coin/btc'\n\n\nconst NETWORK = (process.env.MAINNET) ? `MAINNET` : `TESTNET`\n\n\nconst hasAdminFee = (config\n  && config.opts\n  && config.opts.fee\n  && config.opts.fee.btc\n  && config.opts.fee.btc.fee\n  && config.opts.fee.btc.address\n  && config.opts.fee.btc.min\n) ? config.opts.fee.btc : false\n\nconst sweepToMnemonic = (mnemonic, path) => {\n  const wallet = getWalletByWords(mnemonic, path)\n  localStorage.setItem(constants.privateKeyNames.btcMnemonic, wallet.WIF)\n  return wallet.WIF\n}\n\nconst getMainPublicKey = () => {\n  const {\n    user: {\n      btcData,\n    },\n  } = getState()\n\n  return btcData.publicKey.toString('Hex')\n}\n\nconst isSweeped = () => {\n  const {\n    user: {\n      btcData,\n      btcMnemonicData,\n    },\n  } = getState()\n\n  if (btcMnemonicData\n    && btcMnemonicData.address\n    && btcData\n    && btcData.address\n    && btcData.address.toLowerCase() !== btcMnemonicData.address.toLowerCase()\n  ) return false\n\n  return true\n}\n\nconst getSweepAddress = () => {\n  const {\n    user: {\n      btcMnemonicData,\n    },\n  } = getState()\n\n  if (btcMnemonicData && btcMnemonicData.address) return btcMnemonicData.address\n  return false\n}\n\nconst getWalletByWords = (mnemonic: string, walletNumber: number = 0, path: string = '') => {\n  return mnemonicUtils.getBtcWallet(btc.network, mnemonic, walletNumber, path)\n}\n\nconst auth = (privateKey) => {\n  if (privateKey) {\n    const hash = bitcoin.crypto.sha256(privateKey)\n    const d = BigInteger.fromBuffer(hash)\n\n    const keyPair = bitcoin.ECPair.fromWIF(privateKey, btc.network)\n\n    const account = bitcoin.ECPair.fromWIF(privateKey, btc.network) // eslint-disable-line\n    const { address } = bitcoin.payments.p2pkh({ pubkey: account.publicKey, network: btc.network })\n    const { publicKey } = account\n\n    return {\n      account,\n      keyPair,\n      address,\n      privateKey,\n      publicKey,\n    }\n  }\n}\n\nconst getPrivateKeyByAddress = (address) => {\n  const {\n    user: {\n      btcData: {\n        address: oldAddress,\n        privateKey,\n      },\n      btcMnemonicData: {\n        address: mnemonicAddress,\n        privateKey: mnemonicKey,\n      } = {\n        address: undefined,\n        privateKey: undefined,\n      },\n    },\n  } = getState()\n\n  if (oldAddress === address) return privateKey\n  if (mnemonicAddress === address) return mnemonicKey\n}\n\nconst login = (\n  privateKey,\n  mnemonic: string | null = null,\n  mnemonicKeys: null | {\n    [key: string]: string | null\n  } = null,\n) => {\n  let sweepToMnemonicReady = false\n\n  if (privateKey\n    && mnemonic\n    && mnemonicKeys\n    //@ts-ignore: strictNullChecks\n    && mnemonicKeys.btc === privateKey\n  ) sweepToMnemonicReady = true\n\n  if (!privateKey && mnemonic) sweepToMnemonicReady = true\n\n  if (privateKey) {\n    const hash = bitcoin.crypto.sha256(privateKey)\n    const d = BigInteger.fromBuffer(hash)\n\n    // keyPair     = bitcoin.ECPair.fromWIF(privateKey, btc.network)\n  }\n  else {\n    console.info('Created account Bitcoin ...')\n    // keyPair     = bitcoin.ECPair.makeRandom({ network: btc.network })\n    // privateKey  = keyPair.toWIF()\n    // use random 12 words\n    //@ts-ignore: strictNullChecks\n    if (!mnemonic) mnemonic = bip39.generateMnemonic()\n\n    //@ts-ignore: strictNullChecks\n    const accData = getWalletByWords(mnemonic)\n\n    privateKey = accData.WIF\n    localStorage.setItem(constants.privateKeyNames.btcMnemonic, privateKey)\n  }\n\n  localStorage.setItem(constants.privateKeyNames.btc, privateKey)\n\n  const data = {\n    ...auth(privateKey),\n    isMnemonic: sweepToMnemonicReady,\n    isBTC: true,\n  }\n\n  window.getBtcAddress = () => data.address\n  window.getBtcData = () => data\n\n  reducers.user.setAuthData({ name: 'btcData', data })\n  if (!sweepToMnemonicReady) {\n    // Auth with our mnemonic account\n    if (mnemonic === `-`) {\n      console.error('Sweep. Cant auth. Need new mnemonic or enter own for re-login')\n      return\n    }\n\n    if (!mnemonicKeys\n      //@ts-ignore: strictNullChecks\n      || !mnemonicKeys.btc\n    ) {\n      console.error('Sweep. Cant auth. Login key undefined')\n      return\n    }\n\n    const mnemonicData = {\n      //@ts-ignore: strictNullChecks\n      ...auth(mnemonicKeys.btc),\n      isMnemonic: true,\n    }\n\n    reducers.user.addWallet({\n      name: 'btcMnemonicData',\n      data: {\n        currency: 'BTC',\n        fullName: 'Bitcoin (New)',\n        balance: 0,\n        isBalanceFetched: false,\n        balanceError: null,\n        infoAboutCurrency: null,\n        ...mnemonicData,\n      },\n    })\n    new Promise(async (resolve) => {\n      const balanceData = await fetchBalanceStatus(mnemonicData.address)\n      if (balanceData) {\n        reducers.user.setAuthData({\n          name: 'btcMnemonicData',\n          data: {\n            //@ts-ignore\n            ...balanceData,\n            isBalanceFetched: true,\n          },\n        })\n      } else {\n        reducers.user.setBalanceError({ name: 'btcMnemonicData' })\n      }\n      resolve(true)\n    })\n  }\n\n  return privateKey\n}\n\n\nconst getTxRouter = (txId) => `/btc/tx/${txId}`\n\nconst getTx = (txRaw) => {\n  if (txRaw\n    && txRaw.getId\n    //@ts-ignore\n    && txRaw.getId instanceof 'function'\n  ) {\n    return txRaw.getId()\n  } else {\n    return txRaw\n  }\n}\n\n\nconst getLinkToInfo = (tx) => {\n\n  if (!tx) {\n    return\n  }\n\n  return `${config.link.bitpay}/tx/${tx}`\n}\n\nconst fetchBalanceStatus = (address) => {\n  return new Promise((resolve) => {\n    bitcoinUtils.fetchBalance({\n      address,\n      withUnconfirmed: true,\n      NETWORK,\n    }).then((answer) => {\n      // @ts-ignore\n      const { balance, unconfirmed } = answer\n      resolve({\n        address,\n        balance: balance,\n        unconfirmedBalance: unconfirmed,\n      })\n    }).catch((e) => {\n      resolve(false)\n    })\n  })\n}\n\nconst getBalance = () => {\n  const {\n    user: {\n      btcData: {\n        address,\n      },\n    },\n  } = getState()\n\n  return new Promise((resolve) => {\n    bitcoinUtils.fetchBalance({\n      address,\n      withUnconfirmed: true,\n      NETWORK,\n    }).then((answer) => {\n      // @ts-ignore\n      const { balance, unconfirmed } = answer\n      reducers.user.setBalance({\n        name: 'btcData',\n        amount: balance,\n        unconfirmedBalance: unconfirmed,\n      })\n      resolve(balance)\n    }).catch((e) => {\n      reducers.user.setBalanceError({ name: 'btcData' })\n      resolve(-1)\n    })\n  })\n}\n\n\nconst fetchBalance = (address) => bitcoinUtils.fetchBalance({\n  address,\n  withUnconfirmed: false,\n  NETWORK,\n})\n\n\nconst fetchTxRaw = (txId, cacheResponse) => bitcoinUtils.fetchTxRaw({\n  txId,\n  cacheResponse,\n  NETWORK,\n})\n\nconst fetchTx = (hash, cacheResponse) => bitcoinUtils.fetchTx({\n  hash,\n  NETWORK,\n  cacheResponse,\n})\n\nconst fetchTxInfo = (hash, cacheResponse, serviceFee = null) => bitcoinUtils.fetchTxInfo({\n  hash,\n  NETWORK,\n  cacheResponse,\n  hasAdminFee: serviceFee || hasAdminFee,\n})\n\n\nconst getInvoices = (address) => {\n  const { user: { btcData: { userAddress } } } = getState()\n\n  address = address || userAddress\n\n  return actions.invoices.getInvoices({\n    currency: 'BTC',\n    address,\n  })\n}\n\nconst getAllMyAddresses = () => {\n  const {\n    user: {\n      btcData,\n      btcMnemonicData,\n      btcMultisigSMSData,\n      btcMultisigUserData,\n      btcMultisigG2FAData,\n      btcMultisigPinData,\n    },\n  } = getState()\n\n  const retData = []\n  // Проверяем, был ли sweep\n  if (btcMnemonicData\n    && btcMnemonicData.address\n    && btcData\n    && btcData.address\n    && btcMnemonicData.address !== btcData.address\n  ) {\n    //@ts-ignore: strictNullChecks\n    retData.push(btcMnemonicData.address.toLowerCase())\n  }\n\n  //@ts-ignore: strictNullChecks\n  retData.push(btcData.address.toLowerCase())\n\n  //@ts-ignore: strictNullChecks\n  if (btcMultisigSMSData && btcMultisigSMSData.address) retData.push(btcMultisigSMSData.address.toLowerCase())\n  // @ToDo - SMS MultiWallet\n\n  //@ts-ignore: strictNullChecks\n  if (btcMultisigUserData && btcMultisigUserData.address) retData.push(btcMultisigUserData.address.toLowerCase())\n  if (btcMultisigUserData && btcMultisigUserData.wallets && btcMultisigUserData.wallets.length) {\n    btcMultisigUserData.wallets.map((wallet) => {\n      //@ts-ignore: strictNullChecks\n      retData.push(wallet.address.toLowerCase())\n    })\n  }\n\n  //@ts-ignore: strictNullChecks\n  if (btcMultisigPinData && btcMultisigPinData.address) retData.push(btcMultisigPinData.address.toLowerCase())\n\n  return retData\n}\n\nconst getDataByAddress = (address) => {\n  const {\n    user: {\n      btcData,\n      btcMnemonicData,\n      btcMultisigSMSData,\n      btcMultisigUserData,\n      btcMultisigG2FAData,\n    },\n  } = getState()\n\n  const founded = [\n    btcData,\n    btcMnemonicData,\n    btcMultisigSMSData,\n    btcMultisigUserData,\n    ...(\n      btcMultisigUserData\n      && btcMultisigUserData.wallets\n      && btcMultisigUserData.wallets.length\n    )\n      ? btcMultisigUserData.wallets\n      : [],\n    btcMultisigG2FAData,\n  ].filter(data => data && data.address && data.address.toLowerCase() === address.toLowerCase())\n\n  return (founded.length) ? founded[0] : false\n}\n\nconst getTransaction = (ownAddress: string = ``, ownType: string = ``) => {\n  const myAllWallets = getAllMyAddresses()\n\n  let { user: { btcData: { address: userAddress } } } = getState()\n  const address = ownAddress || userAddress\n\n  const type = (ownType) || 'btc'\n\n  if (!typeforce.isCoinAddress.BTC(address)) {\n    return new Promise((resolve) => { resolve([]) })\n  }\n  return bitcoinUtils.getTransactionBlocyper({\n    address,\n    ownType: type,\n    myWallets: myAllWallets,\n    network: btc.network,\n    NETWORK,\n  })\n}\n\nconst addressIsCorrect = (address) => {\n  try {\n    let outputScript = bitcoin.address.toOutputScript(address, btc.network)\n    if (outputScript) return true\n  } catch (e) {}\n  return false\n}\n\n\nconst send = (params) => {\n  const {\n    from,\n    to,\n    amount,\n    feeValue,\n    speed, \n    serviceFee = hasAdminFee,\n  } = params\n\n  return new Promise(async (ready, reject) => {\n    try {\n      let privateKey = null\n      try {\n        privateKey = getPrivateKeyByAddress(from)\n      } catch (ePrivateKey) {\n        reject({ message: `Fail get data for send address` + ePrivateKey.message })\n      }\n\n      let preparedFees\n\n      try {\n        preparedFees = await bitcoinUtils.prepareFees({\n          amount,\n          serviceFee,\n          feeValue,\n          speed,\n          from,\n          to,\n          NETWORK\n        })\n      } catch (prepareFeesError) {\n        reject({ message: `Fail prepare fees: ${prepareFeesError.message}` })\n      }\n      const {\n        fundValue,\n        skipValue,\n        feeFromAmount,\n        unspents,\n      } = preparedFees\n\n      let rawTx\n      try {\n        rawTx = await bitcoinUtils.prepareRawTx({\n          from,\n          to,\n          fundValue,\n          skipValue,\n          serviceFee,\n          feeFromAmount,\n          unspents,\n          privateKey,\n          network: btc.network,\n          NETWORK\n        })\n      } catch (prepareRawTxError) {\n        reject({ message: `Fail prepare raw tx: ${prepareRawTxError.message}` })\n      }\n\n      try {\n        const broadcastAnswer = await broadcastTx(rawTx)\n\n        const { txid } = broadcastAnswer\n        ready(txid)\n      } catch (eBroadcast) {\n        reject({ message: `Fail broadcast TX: `+eBroadcast })\n      }\n    } catch (error) {\n      console.log('Actions - btc - send: ', error)\n      reject(error)\n    }\n  })\n}\n\nconst sendTransaction = async ({ to, amount }) => {\n  // from main btc wallet\n\n  const { user: { btcData: { address } } } = getState()\n\n  if (false) { // fake tx - turboswaps debug\n    const txHash = '1324154f6086b6b137be8763f43096cacd5450f9561da061161638ed68ce39c3'\n    return txHash\n  }\n\n  const txHash = await send({\n    from: address,\n    to,\n    amount,\n    speed: 'fast',\n  })\n\n  return txHash\n}\n\nconst prepareUnspents = ({ amount, unspents }) => bitcoinUtils.prepareUnspents({\n  amount,\n  unspents,\n})\n\nwindow.prepareUnspents = prepareUnspents\nconst fetchUnspents = (address) => bitcoinUtils.fetchUnspents({\n  address,\n  NETWORK,\n})\n\nconst broadcastTx = (txRaw) => bitcoinUtils.broadcastTx({\n  txRaw,\n  NETWORK,\n})\n\nconst signMessage = (message, encodedPrivateKey) => {\n  const keyPair = bitcoin.ECPair.fromWIF(encodedPrivateKey, [bitcoin.networks.bitcoin, bitcoin.networks.testnet])\n  //@ts-ignore: strictNullChecks\n  const privateKeyBuff = Buffer.from(keyPair.privateKey)\n\n  const signature = bitcoinMessage.sign(message, privateKeyBuff, keyPair.compressed)\n\n  return signature.toString('base64')\n}\n\nconst getReputation = () => Promise.resolve(0)\n\nconst checkWithdraw = (scriptAddress) => bitcoinUtils.checkWithdraw({\n  scriptAddress,\n  NETWORK,\n})\n\n\nexport default {\n  login,\n  checkWithdraw,\n  getBalance,\n  getTransaction,\n  send,\n  sendTransaction,\n  fetchUnspents,\n  broadcastTx,\n  fetchTx,\n  fetchTxInfo,\n  fetchBalance,\n  signMessage,\n  getReputation,\n  getTx,\n  getLinkToInfo,\n  getInvoices,\n  getWalletByWords,\n  sweepToMnemonic,\n  isSweeped,\n  getSweepAddress,\n  getAllMyAddresses,\n  getDataByAddress,\n  getMainPublicKey,\n  getTxRouter,\n  fetchTxRaw,\n  addressIsCorrect,\n  prepareUnspents,\n}\n","import BigInteger from 'bigi'\n\nimport { BigNumber } from 'bignumber.js'\nimport * as bitcoin from 'bitcoinjs-lib'\nimport * as bip32 from 'bip32'\nimport * as bip39 from 'bip39'\n\nimport bitcoinMessage from 'bitcoinjs-message'\nimport { getState } from 'redux/core'\nimport reducers from 'redux/core/reducers'\nimport { ghost, apiLooper, constants, api } from 'helpers'\nimport actions from 'redux/actions'\nimport typeforce from 'swap.app/util/typeforce'\nimport config from 'app-config'\nconst bitcore = require('ghost-bitcore-lib');\n\nimport * as mnemonicUtils from '../../../../common/utils/mnemonic'\n\n\n\nconst hasAdminFee = (config\n  && config.opts\n  && config.opts.fee\n  && config.opts.fee.ghost\n  && config.opts.fee.ghost.fee\n  && config.opts.fee.ghost.address\n  && config.opts.fee.ghost.min\n) ? config.opts.fee.ghost : false\n\nconst sweepToMnemonic = (mnemonic, path) => {\n  const wallet = getWalletByWords(mnemonic, path)\n  localStorage.setItem(constants.privateKeyNames.ghostMnemonic, wallet.WIF)\n  return wallet.WIF\n}\n\nconst getMainPublicKey = () => {\n  const {\n    user: {\n      ghostData,\n    },\n  } = getState()\n\n  return ghostData.publicKey.toString('Hex')\n}\n\nconst isSweeped = () => {\n  const {\n    user: {\n      ghostData,\n      ghostMnemonicData,\n    },\n  } = getState()\n\n  if (ghostMnemonicData\n    && ghostMnemonicData.address\n    && ghostData\n    && ghostData.address\n    && ghostData.address.toLowerCase() !== ghostMnemonicData.address.toLowerCase()\n  ) return false\n\n  return true\n}\n\nconst getSweepAddress = () => {\n  const {\n    user: {\n      ghostMnemonicData,\n    },\n  } = getState()\n\n  if (ghostMnemonicData && ghostMnemonicData.address) return ghostMnemonicData.address\n  return false\n}\n\nconst getWalletByWords = (mnemonic: string, walletNumber: number = 0, path: string = '') => {\n  return mnemonicUtils.getGhostWallet(ghost.network, mnemonic, walletNumber, path)\n}\n\n\nconst auth = (privateKey) => {\n  if (privateKey) {\n    const hash = bitcoin.crypto.sha256(privateKey)\n    const d = BigInteger.fromBuffer(hash)\n\n    const keyPair = bitcoin.ECPair.fromWIF(privateKey, ghost.network)\n\n    const account = bitcoin.ECPair.fromWIF(privateKey, ghost.network) // eslint-disable-line\n    const { address } = bitcoin.payments.p2pkh({ pubkey: account.publicKey, network: ghost.network })\n    const { publicKey } = account\n\n    return {\n      account,\n      keyPair,\n      address,\n      privateKey,\n      publicKey,\n    }\n  }\n}\n\nconst getPrivateKeyByAddress = (address) => {\n  const {\n    user: {\n      ghostData: {\n        address: oldAddress,\n        privateKey,\n      }\n    },\n  } = getState()\n  /*\n  const ghostMnemonicData\n      ghostMnemonicData: {\n        address: mnemonicAddress,\n        privateKey: mnemonicKey,\n      },\n    },\n  } = getState()\n  */\n  if (oldAddress === address) return privateKey\n    //@ts-ignore\n  if (mnemonicAddress === address) return mnemonicKey\n}\n\nconst login = (\n  privateKey,\n  mnemonic: string | null = null,\n  mnemonicKeys: null | {\n    [key: string]: string | null\n  } = null,\n) => {\n  let sweepToMnemonicReady = false\n\n  if (privateKey\n    && mnemonic\n    && mnemonicKeys\n    //@ts-ignore: strictNullChecks\n    && mnemonicKeys.ghost === privateKey\n  ) sweepToMnemonicReady = true\n\n  if (!privateKey && mnemonic) sweepToMnemonicReady = true\n\n  if (privateKey) {\n    const hash = bitcoin.crypto.sha256(privateKey)\n    const d = BigInteger.fromBuffer(hash)\n\n    // keyPair     = bitcoin.ECPair.fromWIF(privateKey, ghost.network)\n  }\n  else {\n    console.info('Created account Ghost ...')\n    // keyPair     = bitcoin.ECPair.makeRandom({ network: ghost.network })\n    // privateKey  = keyPair.toWIF()\n    // use random 12 words\n    //@ts-ignore: strictNullChecks\n    if (!mnemonic) mnemonic = bip39.generateMnemonic()\n\n    //@ts-ignore: strictNullChecks\n    const accData = getWalletByWords(mnemonic)\n\n    privateKey = accData.WIF\n    localStorage.setItem(constants.privateKeyNames.ghostMnemonic, privateKey)\n  }\n\n  localStorage.setItem(constants.privateKeyNames.ghost, privateKey)\n\n  const data = {\n    ...auth(privateKey),\n    isMnemonic: sweepToMnemonicReady,\n    currency: 'GHOST',\n    fullName: 'ghost',\n  }\n\n  window.getGhostAddress = () => data.address\n  window.getGhostData = () => data\n\n  reducers.user.setAuthData({ name: 'ghostData', data })\n  if (!sweepToMnemonicReady) {\n    // Auth with our mnemonic account\n    if (mnemonic === `-`) {\n      console.error('Sweep. Cant auth. Need new mnemonic or enter own for re-login')\n      return\n    }\n\n    if (!mnemonicKeys\n      //@ts-ignore: strictNullChecks\n      || !mnemonicKeys.ghost\n    ) {\n      console.error('Sweep. Cant auth. Login key undefined')\n      return\n    }\n\n    const mnemonicData = {\n      //@ts-ignore: strictNullChecks\n      ...auth(mnemonicKeys.ghost),\n      isMnemonic: true,\n    }\n\n    reducers.user.addWallet({\n      name: 'ghostMnemonicData',\n      data: {\n        currency: 'GHOST',\n        fullName: 'Ghost (New)',\n        balance: 0,\n        isBalanceFetched: false,\n        balanceError: null,\n        infoAboutCurrency: null,\n        ...mnemonicData,\n      },\n    })\n    new Promise(async (resolve) => {\n      const balanceData = await fetchBalanceStatus(mnemonicData.address)\n      if (balanceData) {\n        reducers.user.setAuthData({\n          name: 'ghostMnemonicData',\n          data: {\n            //@ts-ignore\n            ...balanceData,\n            isBalanceFetched: true,\n          },\n        })\n      } else {\n        reducers.user.setBalanceError({ name: 'ghostMnemonicData' })\n      }\n      resolve(true)\n    })\n  }\n\n  return privateKey\n}\n\n\nconst getTx = (txRaw) => {\n  if (txRaw\n    && txRaw.getId\n    //@ts-ignore\n    && txRaw.getId instanceof 'function'\n  ) {\n    return txRaw.getId()\n  } else {\n    return txRaw\n  }\n}\n\nconst getTxRouter = (txId) => `/ghost/tx/${txId}`\n\nconst getLinkToInfo = (tx) => {\n\n  if (!tx) {\n    return\n  }\n\n  return `${config.link.ghostscan}/tx/${tx}`\n}\n\nconst fetchBalanceStatus = (address) => apiLooper.get('ghostscan', `/addr/${address}`, {\n  checkStatus: (answer) => {\n    try {\n      if (answer && answer.balance !== undefined) return true\n    } catch (e) { /* */console.log(e) }\n    return false\n  },\n}).then(({ balance, unconfirmedBalance }) => ({\n  address,\n  balance,\n  unconfirmedBalance,\n}))\n  .catch((e) => false)\nconst getBalance = () => {\n  const { user: { ghostData: { address } } } = getState()\n\n  return apiLooper.get('ghostscan', `/addr/${address}`, {\n    inQuery: {\n      delay: 500,\n      name: `balance`,\n    },\n    checkStatus: (answer) => {\n      try {\n        if (answer && answer.balance !== undefined) return true\n      } catch (e) { /* */ }\n      return false\n    },\n  }).then(({ balance, unconfirmedBalance }) => {\n    console.log('GHOST Balance: ', balance)\n    console.log('GHOST unconfirmedBalance Balance: ', unconfirmedBalance)\n    reducers.user.setBalance({ name: 'ghostData', amount: balance, unconfirmedBalance })\n    return balance\n  })\n    .catch((e) => {\n      reducers.user.setBalanceError({ name: 'ghostData' })\n    })\n}\n\nconst fetchBalance = (address) =>\n  apiLooper.get('ghostscan', `/addr/${address}`, {\n    checkStatus: (answer) => {\n      try {\n        if (answer && answer.balance !== undefined) return true\n      } catch (e) { /* */ }\n      return false\n    },\n  }).then(({ balance }) => balance)\n\nconst fetchTx = (hash, cacheResponse) =>\n  apiLooper.get('ghostscan', `/tx/${hash}`, {\n    cacheResponse,\n    checkStatus: (answer) => {\n      try {\n        if (answer && answer.fees !== undefined) return true\n      } catch (e) {\n        console.error(e)\n      }\n      return false\n    },\n  }).then(({ fees, ...rest }): IUniversalObj => ({\n    fees: new BigNumber(fees).multipliedBy(1e8),\n    ...rest,\n  }))\n\nconst fetchTxRaw = (txId, cacheResponse) =>\n  apiLooper.get('ghostscan', `/rawtx/${txId}`, {\n    cacheResponse,\n    checkStatus: (answer) => {\n      try {\n        if (answer && answer.rawtx !== undefined) return true\n      } catch (e) {\n        console.error(e)\n      }\n      return false\n    },\n  }).then(({ rawtx }) => rawtx)\n\nconst fetchTxInfo = (hash, cacheResponse?) =>\n  fetchTx(hash, cacheResponse)\n    .then(({ vin, vout, ...rest }) => {\n      const senderAddress = vin ? vin[0].addr : null\n      const amount = vout ? new BigNumber(vout[0].value).toNumber() : null\n\n      let afterBalance = vout && vout[1] ? new BigNumber(vout[1].value).toNumber() : null\n      let adminFee: any = false\n\n      if (hasAdminFee) {\n        const adminOutput = vout.filter((out) => (\n          out.scriptPubKey.addresses\n          && out.scriptPubKey.addresses[0] === hasAdminFee.address\n          //@ts-ignore: strictNullChecks\n          && !(new BigNumber(out.value).eq(amount))\n        ))\n\n        const afterOutput = vout.filter((out) => (\n          out.addresses\n          && out.addresses[0] !== hasAdminFee.address\n          && out.addresses[0] !== senderAddress\n        ))\n\n        if (afterOutput.length) {\n          afterBalance = new BigNumber(afterOutput[0].value).toNumber()\n        }\n\n        if (adminOutput.length) {\n          adminFee = new BigNumber(adminOutput[0].value).toNumber()\n        }\n      }\n\n      const txInfo = {\n        amount,\n        afterBalance,\n        senderAddress,\n        receiverAddress: vout ? vout[0].scriptPubKey.addresses : null,\n        confirmed: !!(rest.confirmations),\n        minerFee: rest.fees.dividedBy(1e8).toNumber(),\n        adminFee,\n        minerFeeCurrency: 'GHOST',\n        outputs: vout.map((out) => ({\n          amount: new BigNumber(out.value).toNumber(),\n          address: out.scriptPubKey.addresses || null,\n        })),\n        ...rest,\n      }\n\n      return txInfo\n    })\n\nconst getInvoices = (address) => {\n  const { user: { ghostData: { userAddress } } } = getState()\n\n  address = address || userAddress\n\n  return actions.invoices.getInvoices({\n    currency: 'GHOST',\n    address,\n  })\n}\n\nconst getAllMyAddresses = () => {\n  const {\n    user: {\n      ghostData,\n      ghostMnemonicData,\n      ghostMultisigSMSData,\n      ghostMultisigUserData,\n      ghostMultisigG2FAData,\n      ghostMultisigPinData,\n    },\n  } = getState()\n\n  const retData = []\n  // Проверяем, был ли sweep\n  if (ghostMnemonicData\n    && ghostMnemonicData.address\n    && ghostData\n    && ghostData.address\n    && ghostMnemonicData.address !== ghostData.address\n  ) {\n    //@ts-ignore: strictNullChecks\n    retData.push(ghostMnemonicData.address.toLowerCase())\n  }\n\n  //@ts-ignore: strictNullChecks\n  retData.push(ghostData.address.toLowerCase())\n\n  //@ts-ignore: strictNullChecks\n  if (ghostMultisigSMSData && ghostMultisigSMSData.address) retData.push(ghostMultisigSMSData.address.toLowerCase())\n  // @ToDo - SMS MultiWallet\n\n  //@ts-ignore: strictNullChecks\n  if (ghostMultisigUserData && ghostMultisigUserData.address) retData.push(ghostMultisigUserData.address.toLowerCase())\n  if (ghostMultisigUserData && ghostMultisigUserData.wallets && ghostMultisigUserData.wallets.length) {\n    ghostMultisigUserData.wallets.map((wallet) => {\n      //@ts-ignore: strictNullChecks\n      retData.push(wallet.address.toLowerCase())\n    })\n  }\n\n  //@ts-ignore: strictNullChecks\n  if (ghostMultisigPinData && ghostMultisigPinData.address) retData.push(ghostMultisigPinData.address.toLowerCase())\n\n  return retData\n}\n\nconst getDataByAddress = (address) => {\n  const {\n    user: {\n      ghostData,\n      ghostMnemonicData,\n      ghostMultisigSMSData,\n      ghostMultisigUserData,\n      ghostMultisigG2FAData,\n    },\n  } = getState()\n\n  const founded = [\n    ghostData,\n    ghostMnemonicData,\n    ghostMultisigSMSData,\n    ghostMultisigUserData,\n    ...(\n      ghostMultisigUserData\n      && ghostMultisigUserData.wallets\n      && ghostMultisigUserData.wallets.length\n    )\n      ? ghostMultisigUserData.wallets\n      : [],\n    ghostMultisigG2FAData,\n  ].filter(data => data && data.address && data.address.toLowerCase() === address.toLowerCase())\n\n  return (founded.length) ? founded[0] : false\n}\n\nconst getTransaction = (address: string = ``, ownType: string = ``) =>\n  new Promise((resolve) => {\n    const myAllWallets = getAllMyAddresses()\n\n    let { user: { ghostData: { address: userAddress } } } = getState()\n    address = address || userAddress\n\n    const type = (ownType) || 'ghost'\n\n    if (!typeforce.isCoinAddress.GHOST(address)) {\n      resolve([])\n    }\n\n    const url = `/txs/?address=${address}`\n\n    return apiLooper.get('ghostscan', url, {\n      checkStatus: (answer) => {\n        try {\n          if (answer && answer.txs !== undefined) return true\n        } catch (e) { /* */ }\n        return false\n      },\n      query: 'ghost_balance',\n    }).then((res: any) => {\n      const transactions = res.txs.map((item) => {\n        const direction = item.vin[0].addr !== address ? 'in' : 'out'\n\n        const isSelf = direction === 'out'\n          && item.vout.filter((item) =>\n            item.scriptPubKey.addresses[0] === address\n          ).length === item.vout.length\n\n        return ({\n          type,\n          hash: item.txid,\n          //@ts-ignore: strictNullChecks\n          canEdit: (myAllWallets.indexOf(address) !== -1),\n          confirmations: item.confirmations,\n          value: isSelf\n            ? item.fees\n            : item.vout.filter((item) => {\n              if (!item.scriptPubKey.addresses) return false\n              const currentAddress = item.scriptPubKey.addresses[0]\n\n              return direction === 'in'\n                ? (currentAddress === address)\n                : (currentAddress !== address)\n            })[0].value,\n          date: item.time * 1000,\n          direction: isSelf ? 'self' : direction,\n        })\n      })\n      resolve(transactions)\n    })\n      .catch(() => {\n        resolve([])\n      })\n  })\n\nconst send = (data) => {\n  return sendBitcore(data)\n}\n\n//@ts-ignore\nconst sendBitcore = ({ from, to, amount, feeValue, speed } = {}) => {\n  return new Promise(async (ready) => {\n    const privKey = getPrivateKeyByAddress(from)\n    const unspents = await fetchUnspents(from)\n    const fundValue = new BigNumber(String(amount)).multipliedBy(1e8).integerValue().toNumber()\n\n    const transaction = new bitcore.Transaction()\n          .from(unspents)          // Feed information about what unspent outputs one can use\n          .to(to, fundValue)  // Add an output with the given amount of satoshis\n          .change(from)      // Sets up a change address where the rest of the funds will go\n          .sign(privKey)     // Signs all the inputs it can*/\n\n\n    const broadcastAnswer = await broadcastTx(String(transaction.serialize()))\n\n    const { txid } = broadcastAnswer\n    ready(txid)\n  })\n}\n\nconst fetchUnspents = (address) => {\n  const result: any = apiLooper.get('ghostscan', `/addr/${address}/utxo`, { cacheResponse: 5000 })\n  return result\n}\n\nconst broadcastTx = (txRaw) => {\n  const result: any = apiLooper.post('ghostscan', `/tx/send`, {\n    body: {\n      rawtx: txRaw,\n    },\n  })\n  return result\n}\n\nconst signMessage = (message, encodedPrivateKey) => {\n  const keyPair = bitcoin.ECPair.fromWIF(encodedPrivateKey, [ghost.networks.mainnet, ghost.networks.testnet])\n  //@ts-ignore: strictNullChecks\n  const privateKeyBuff = Buffer.from(keyPair.privateKey)\n\n  const signature = bitcoinMessage.sign(message, privateKeyBuff, keyPair.compressed)\n\n  return signature.toString('base64')\n}\n\nconst getReputation = () => Promise.resolve(0)\n\nwindow.getMainPublicKey = getMainPublicKey\n\n/*\n  Проверяет списание со скрипта - последняя транзакция выхода\n  Возвращает txId, адресс и сумму\n*/\nconst checkWithdraw = (scriptAddress) => {\n  const url = `/txs/?address=${scriptAddress}`\n\n  return apiLooper.get('ghostscan', url, {\n    checkStatus: (answer) => {\n      try {\n        if (answer && answer.txs !== undefined) return true\n      } catch (e) { /* */ }\n      return false\n    },\n    query: 'ghost_balance',\n  }).then((res: any) => {\n    if (res.txs.length > 1\n      && res.txs[0].vout.length\n    ) {\n      const address = res.txs[0].vout[0].scriptPubKey.addresses[0]\n      const {\n        txid,\n        valueOut: amount,\n      } = res.txs[0]\n      return {\n        address,\n        txid,\n        amount,\n      }\n    }\n    return false\n  })\n}\n\nwindow.ghostCheckWithdraw = checkWithdraw\n\nexport default {\n  login,\n  checkWithdraw,\n  getBalance,\n  getTransaction,\n  send,\n  fetchUnspents,\n  broadcastTx,\n  fetchTx,\n  fetchTxInfo,\n  fetchBalance,\n  signMessage,\n  getReputation,\n  getTx,\n  getLinkToInfo,\n  getInvoices,\n  getWalletByWords,\n  sweepToMnemonic,\n  isSweeped,\n  getSweepAddress,\n  getAllMyAddresses,\n  getDataByAddress,\n  getMainPublicKey,\n  getTxRouter,\n  fetchTxRaw,\n}\n","\nimport apiLooper from '../apiLooper'\nimport { BigNumber } from 'bignumber.js'\nimport * as next from 'bitcoinjs-lib'\n\n// Use front API config\nimport { default as TESTNET } from '../../../front/config/testnet/api'\nimport { default as MAINNET } from '../../../front/config/testnet/api'\n\nconst DUST = 546\n\n// Help function - get api by network\nconst getApiNext = (network) => {\n  return {\n    name: `apiNextMain`,\n    servers: (network === `MAINNET`)\n      ? MAINNET.nextExplorer\n      : TESTNET.nextExplorer\n  }\n}\n\nconst getApiCustom = (network) => {\n  return {\n    name: `apiNextCustom`,\n    servers: (network === `MAINNET`)\n      ? MAINNET.nextExplorerCustom\n      : TESTNET.nextExplorerCustom\n  }\n}\n\nconst getCore = () => {\n  return next\n}\n\nconst fetchBalance = (options) => {\n  const {\n    address,\n    API_ENDPOINT, // nextExplorerCustom\n    NETWORK,\n  } = options\n\n\n  return apiLooper.get(API_ENDPOINT || getApiNext(NETWORK), `/address/${address}`, {\n    checkStatus: (answer) => {\n      try {\n        if (answer && answer.balance !== undefined) return true\n      } catch (e) { /* */ }\n      return false\n    },\n    ignoreErrors: true,\n    reportErrors: (answer, onSuccess, onFail) => {\n      console.log('>>>> fetchBalance reportErrors')\n      console.log(answer)\n      onSuccess({ balance: 0 })\n      return true\n    },\n  }).then(({ balance }) => balance)\n}\n\nconst fetchUnspents = (options) => {\n  const {\n    address,\n    API_ENDPOINT, // nextExplorerCustom\n    NETWORK,\n  } = options\n\n  return apiLooper.get(API_ENDPOINT || getApiCustom(NETWORK), `/address/${address}/utxo`, { cacheResponse: 5000 })\n}\n\nconst broadcastTx = (options) => {\n  const {\n    txRaw,\n    API_ENDPOINT, // nextExplorer\n    NETWORK,\n  } = options\n\n  return apiLooper.post(API_ENDPOINT || getApiNext(NETWORK), `/sendrawtransaction`, {\n    body: {\n      rawtx: txRaw,\n    },\n  })\n}\n\nconst fetchTx = (options) => {\n  const {\n    hash,\n    cacheResponse,\n    API_ENDPOINT, // nextExplorer\n    NETWORK,\n  } = options\n\n  return apiLooper.get(API_ENDPOINT || getApiNext(NETWORK), `/tx/${hash}`, {\n    cacheResponse,\n    checkStatus: (answer) => {\n      try {\n        if (answer && answer.txid !== undefined) return true\n      } catch (e) { /* */ }\n      return false\n    },\n  }).then(({ fees, ...rest }) => ({\n    fees: new BigNumber(fees).multipliedBy(1e8),\n    ...rest,\n  }))\n}\n\n/** to-to - in front has mark (not-working) - need recheck, may be will be fixed **/\nconst fetchTxInfo = (options) => {\n  const {\n    hash,\n    cacheResponse,\n    API_ENDPOINT, // nextExplorer\n    hasAdminFee,\n    NETWORK,\n  } = options\n\n  return fetchTx({\n    hash,\n    cacheResponse,\n    API_ENDPOINT,\n    NETWORK,\n  }).then((txInfo_ : any) => {\n    const { vin, vout, ...rest } = txInfo_\n    const senderAddress = vin ? vin[0].address : null\n    const amount = vout ? new BigNumber(vout[0].value).toNumber() : null\n\n    let afterBalance = vout && vout[1] ? new BigNumber(vout[1].value).toNumber() : null\n    let adminFee: any = false\n\n    if (hasAdminFee) {\n      const adminOutput = vout.filter((out) => (\n        out.scriptPubKey.addresses\n        && out.scriptPubKey.addresses[0] === hasAdminFee.address\n        //@ts-ignore: strictNullChecks\n        && !(new BigNumber(out.value).eq(amount))\n      ))\n\n      const afterOutput = vout.filter((out) => (\n        out.addresses\n        && out.addresses[0] !== hasAdminFee.address\n        && out.addresses[0] !== senderAddress\n      ))\n\n      if (afterOutput.length) {\n        afterBalance = new BigNumber(afterOutput[0].value).toNumber()\n      }\n\n      if (adminOutput.length) {\n        adminFee = new BigNumber(adminOutput[0].value).toNumber()\n      }\n    }\n\n    const txInfo = {\n      amount,\n      afterBalance,\n      senderAddress,\n      receiverAddress: vout ? vout[0].scriptPubKey.addresses : null,\n      confirmed: !!(rest.confirmations),\n      minerFee: rest.fees.dividedBy(1e8).toNumber(),\n      adminFee,\n      minerFeeCurrency: 'NEXT',\n      outputs: vout.map((out) => ({\n        amount: new BigNumber(out.value).toNumber(),\n        address: out.scriptPubKey.addresses || null,\n      })),\n      inputs: vin.map((input) => ({\n        amount: new BigNumber(input.value).toNumber(),\n        script: input.scriptSig.hex || null,\n      })),\n      ...rest,\n    }\n\n    return txInfo\n  })\n}\n\nconst checkWithdraw = (options) => {\n  const {\n    scriptAddress,\n    API_ENDPOINT, // nextExplorerCustom\n    NETWORK,\n  } = options\n\n  return apiLooper.get(API_ENDPOINT || getApiCustom(NETWORK), `/txs/${scriptAddress}`, {\n    checkStatus: (answer) => {\n      try {\n        if (answer && answer.txs !== undefined) return true\n      } catch (e) { /* */ }\n      return false\n    },\n    query: 'next_balance',\n  }).then((res : any) => {\n    if (res.txs.length > 1\n      && res.txs[0].vout.length\n    ) {\n      const address = res.txs[0].vout[0].scriptPubKey.addresses[0]\n      const amount = res.txs[0].vout[0].valueSat\n\n      const {\n        txid,\n      } = res.txs[0]\n      return {\n        address,\n        txid,\n        amount,\n      }\n    }\n    return false\n  })\n}\n\nconst fetchTxInputScript = (options) => {\n  const {\n    hash,\n    cacheResponse,\n    API_ENDPOINT,\n    NETWORK,\n  } = options\n\n  return fetchTxInfo({\n    hash,\n    cacheResponse,\n    API_ENDPOINT,\n    NETWORK,\n  }).then((inInfo: any) => {\n    if (inInfo\n      && inInfo.inputs\n      && inInfo.inputs.length === 1\n    ) {\n      return next.script.toASM(\n        //@ts-ignore: strictNullChecks\n        next.script.decompile(\n          Buffer.from(inInfo.inputs[0].script, 'hex')\n        )\n      )\n    }\n    return false\n  })\n}\n\nconst calculateTxSize = async (options) => {\n  const {\n    speed,\n    unspents: _unspents,\n    address,\n    txOut = 2,\n    fixed,\n    NETWORK,\n  } = options\n\n  const defaultTxSize = 400\n\n  if (fixed) {\n    return defaultTxSize\n  }\n\n  const unspents = _unspents || await fetchUnspents({\n    address,\n    NETWORK,\n  })\n\n\n  const txIn = unspents.length\n  const txSize = txIn > 0\n    ? txIn * 146 + txOut * 33 + (15 + txIn - txOut)\n    : defaultTxSize\n\n  return txSize\n}\n\nconst estimateFeeValue = async (options) => {\n  const {\n    feeRate: _feeRate,\n    inSatoshis,\n    speed,\n    address,\n    txSize: _txSize,\n    fixed,\n    method,\n    NETWORK,\n  } = options\n\n  const txOut = 2\n\n\n  const txSize = _txSize || await calculateTxSize({\n    address,\n    speed,\n    fixed,\n    method,\n    txOut,\n    NETWORK,\n  })\n\n  const feeRate = _feeRate  || 30 * 1e3 // fast\n\n  const calculatedFeeValue = BigNumber.maximum(\n    DUST,\n    new BigNumber(feeRate)\n      .multipliedBy(txSize)\n      .div(1024)\n      .dp(0, BigNumber.ROUND_HALF_EVEN),\n  )\n\n  // Используем комиссию больше рекомендованной на 5 сатоши\n  calculatedFeeValue.plus(20)\n\n  const finalFeeValue = inSatoshis\n    ? calculatedFeeValue.toString()\n    : calculatedFeeValue.multipliedBy(1e-8).toString()\n\n  console.log(`Next withdraw fee speed(${speed}) method (${method}) ${finalFeeValue}`)\n  return finalFeeValue\n}\n\nconst networks = {\n  mainnet: {\n    messagePrefix: 'Nextcoin Signed Message:\\n',\n    bip32: {\n      public:  0x0488B21E,\n      private: 0x0488ADE4,\n    },\n    pubKeyHash: 75,\n    scriptHash: 5,\n    wif: 128,\n  },\n  testnet: {\n    messagePrefix: 'Nextcoin Signed Message:\\n',\n    bip32: {\n      public:  0x0488B21E,\n      private: 0x0488ADE4,\n    },\n    pubKeyHash: 75,\n    scriptHash: 5,\n    wif: 128,\n  },\n}\n\nexport default {\n  fetchBalance,\n  fetchUnspents,\n  broadcastTx,\n  fetchTx,\n  fetchTxInfo,\n  checkWithdraw,\n  fetchTxInputScript,\n\n  estimateFeeValue,\n  getCore,\n  networks,\n}","import BigInteger from 'bigi'\n\nimport { BigNumber } from 'bignumber.js'\nimport * as bitcoin from 'bitcoinjs-lib'\nimport * as bip32 from 'bip32'\nimport * as bip39 from 'bip39'\n\nimport bitcoinMessage from 'bitcoinjs-message'\nimport { getState } from 'redux/core'\nimport reducers from 'redux/core/reducers'\nimport { next, apiLooper, constants, api } from 'helpers'\nimport actions from 'redux/actions'\nimport typeforce from 'swap.app/util/typeforce'\nimport config from 'app-config'\nimport bitcore from 'bitcore-lib'\nimport * as mnemonicUtils from 'common/utils/mnemonic'\nimport { default as nextUtils } from 'common/utils/coin/next'\n\n\nconst NETWORK = (process.env.MAINNET) ? `MAINNET` : `TESTNET`\n\n\nconst hasAdminFee = (config\n  && config.opts\n  && config.opts.fee\n  && config.opts.fee.next\n  && config.opts.fee.next.fee\n  && config.opts.fee.next.address\n  && config.opts.fee.next.min\n) ? config.opts.fee.next : false\n\nconst sweepToMnemonic = (mnemonic, path) => {\n  const wallet = getWalletByWords(mnemonic, path)\n  localStorage.setItem(constants.privateKeyNames.nextMnemonic, wallet.WIF)\n  return wallet.WIF\n}\n\nconst getMainPublicKey = () => {\n  const {\n    user: {\n      nextData,\n    },\n  } = getState()\n\n  return nextData.publicKey.toString('Hex')\n}\n\nconst isSweeped = () => {\n  const {\n    user: {\n      nextData,\n      nextMnemonicData,\n    },\n  } = getState()\n\n  if (nextMnemonicData\n    && nextMnemonicData.address\n    && nextData\n    && nextData.address\n    && nextData.address.toLowerCase() !== nextMnemonicData.address.toLowerCase()\n  ) return false\n\n  return true\n}\n\nconst getSweepAddress = () => {\n  const {\n    user: {\n      nextMnemonicData,\n    },\n  } = getState()\n\n  if (nextMnemonicData && nextMnemonicData.address) return nextMnemonicData.address\n  return false\n}\n\nconst getWalletByWords = (mnemonic: string, walletNumber: number = 0, path: string = '') => {\n  return mnemonicUtils.getNextWallet(next.network, mnemonic, walletNumber, path)\n}\n\n\nconst auth = (privateKey) => {\n  if (!privateKey) {\n    throw new Error('Missing privateKey')\n  }\n  //@ts-ignore\n  const keyPair = bitcoin.ECPair.fromWIF(privateKey, next.network)\n  //@ts-ignore\n  const account = bitcoin.ECPair.fromWIF(privateKey, next.network)\n  //@ts-ignore\n  const { address } = bitcoin.payments.p2pkh({\n    pubkey: account.publicKey,\n    //@ts-ignore\n    network: next.network,\n  })\n\n  const { publicKey } = account\n\n  return {\n    account,\n    keyPair,\n    address,\n    privateKey,\n    publicKey,\n  }\n}\n\nconst getPrivateKeyByAddress = (address) => {\n  const {\n    user: {\n      nextData: {\n        address: oldAddress,\n        privateKey,\n      },\n    },\n  } = getState()\n\n  if (oldAddress === address) return privateKey\n  //@ts-ignore\n  if (mnemonicAddress === address) return mnemonicKey\n}\n\nconst login = (\n  privateKey,\n  mnemonic: string | null = null,\n  mnemonicKeys: null | {\n    [key: string]: string | null\n  } = null,\n) => {\n  let sweepToMnemonicReady = false\n\n  if (privateKey\n    && mnemonic\n    && mnemonicKeys\n    //@ts-ignore: strictNullChecks\n    && mnemonicKeys.next === privateKey\n  ) sweepToMnemonicReady = true\n\n  if (!privateKey && mnemonic) sweepToMnemonicReady = true\n\n  if (privateKey) {\n    const hash = bitcoin.crypto.sha256(privateKey)\n    const d = BigInteger.fromBuffer(hash)\n\n    // keyPair     = bitcoin.ECPair.fromWIF(privateKey, next.network)\n  } else {\n    console.info('Created account Next ...')\n    // keyPair     = bitcoin.ECPair.makeRandom({ network: next.network })\n    // privateKey  = keyPair.toWIF()\n    // use random 12 words\n    //@ts-ignore: strictNullChecks\n    if (!mnemonic) mnemonic = bip39.generateMnemonic()\n    \n    //@ts-ignore: strictNullChecks\n    const accData = getWalletByWords(mnemonic)\n\n    privateKey = accData.WIF\n    localStorage.setItem(constants.privateKeyNames.nextMnemonic, privateKey)\n  }\n\n  localStorage.setItem(constants.privateKeyNames.next, privateKey)\n\n  const data = {\n    ...auth(privateKey),\n    isMnemonic: sweepToMnemonicReady,\n    currency: 'NEXT',\n    fullName: 'NEXT.coin',\n  }\n\n  window.getNextAddress = () => data.address\n  window.getNextData = () => data\n\n  reducers.user.setAuthData({\n    name: 'nextData',\n    data,\n  })\n  if (!sweepToMnemonicReady) {\n    // Auth with our mnemonic account\n    if (mnemonic === `-`) {\n      console.error('Sweep. Cant auth. Need new mnemonic or enter own for re-login')\n      return\n    }\n\n    //@ts-ignore: strictNullChecks\n    if (!mnemonicKeys || !mnemonicKeys.next) {\n      console.error('Sweep. Cant auth. Login key undefined')\n      return\n    }\n\n    const mnemonicData = {\n      //@ts-ignore: strictNullChecks\n      ...auth(mnemonicKeys.next),\n      isMnemonic: true,\n    }\n\n    reducers.user.addWallet({\n      name: 'nextMnemonicData',\n      data: {\n        currency: 'NEXT',\n        fullName: 'Next (New)',\n        balance: 0,\n        isBalanceFetched: false,\n        balanceError: null,\n        infoAboutCurrency: null,\n        ...mnemonicData,\n      },\n    })\n    new Promise(async (resolve) => {\n      const balanceData = await fetchBalanceStatus(mnemonicData.address)\n      if (balanceData) {\n        reducers.user.setAuthData({\n          name: 'nextMnemonicData',\n          data: {\n            //@ts-ignore\n            ...balanceData,\n            isBalanceFetched: true,\n          },\n        })\n      } else {\n        reducers.user.setBalanceError({ name: 'nextMnemonicData' })\n      }\n      resolve(true)\n    })\n  }\n\n  return privateKey\n}\n\n\nconst getTx = (txRaw) => {\n  if (txRaw\n    && txRaw.getId\n    //@ts-ignore\n    && txRaw.getId instanceof 'function'\n  ) {\n    return txRaw.getId()\n  } else {\n    return txRaw\n  }\n}\n\nconst getTxRouter = (txId) => `/next/tx/${txId}`\n\nconst getLinkToInfo = (tx) => {\n  if (!tx) {\n    return\n  }\n  return `${config.link.nextExplorer}/#/tx/${tx}`\n}\n\nconst fetchBalanceStatus = (address) => {\n  return apiLooper.get('nextExplorer', `/address/${address}`, {\n    checkStatus: (answer) => {\n      try {\n        if (answer && answer.balance !== undefined) return true\n      } catch (e) { /* */console.log(e) }\n      return false\n    },\n  }).then(({ balance, unconfirmedBalance }) => ({\n    address,\n    balance,\n    unconfirmedBalance,\n  })).catch((e) => false)\n}\n\nconst getBalance = () => {\n  const { user: { nextData: { address } } } = getState()\n\n  return apiLooper.get('nextExplorer', `/address/${address}`, {\n    inQuery: {\n      delay: 500,\n      name: `balance`,\n    },\n    checkStatus: (answer) => {\n      try {\n        if (answer && answer.balance !== undefined) return true\n      } catch (e) { /* */ }\n      return false\n    },\n    ignoreErrors: true,\n  }).then((answer: any) => {\n    const balance = (typeof answer.balance === 'undefined') ? 0 : answer.balance\n    const unconfirmedBalance = (typeof answer.unconfirmedBalance === 'undefined') ? 0 : answer.unconfirmedBalance\n    console.log('NEXT Balance: ', balance)\n    console.log('NEXT unconfirmedBalance Balance: ', unconfirmedBalance)\n    reducers.user.setBalance({\n      name: 'nextData',\n      amount: balance,\n      unconfirmedBalance,\n    })\n    return balance\n  }).catch((e) => {\n    reducers.user.setBalanceError({ name: 'nextData' })\n  })\n}\n\nconst fetchBalance = (address) => nextUtils.fetchBalance({\n  address,\n  NETWORK,\n})\n\nconst fetchTx = (hash, cacheResponse) => nextUtils.fetchTx({\n  hash,\n  cacheResponse,\n  NETWORK,\n})\n\nconst fetchTxRaw = (txId, cacheResponse) =>\n  apiLooper.get('nextExplorer', `/rawtx/${txId}`, {\n    cacheResponse,\n    checkStatus: (answer) => {\n      try {\n        if (answer && answer.rawtx !== undefined) return true\n      } catch (e) { /* */ }\n      return false\n    },\n  }).then(({ rawtx }) => rawtx)\n\nconst fetchTxInfo = (hash, cacheResponse) => nextUtils.fetchTxInfo({\n  hash,\n  cacheResponse,\n  NETWORK,\n})\n\nconst getInvoices = (address) => {\n  const { user: { nextData: { userAddress } } } = getState()\n\n  address = address || userAddress\n\n  return actions.invoices.getInvoices({\n    currency: 'NEXT',\n    address,\n  })\n}\n\nconst getAllMyAddresses = () => {\n  const {\n    user: {\n      nextData,\n      nextMnemonicData,\n      nextMultisigSMSData,\n      nextMultisigUserData,\n      nextMultisigG2FAData,\n      nextMultisigPinData,\n    },\n  } = getState()\n\n  const retData = []\n  // Проверяем, был ли sweep\n  if (nextMnemonicData\n    && nextMnemonicData.address\n    && nextData\n    && nextData.address\n    && nextMnemonicData.address !== nextData.address\n  ) {\n    //@ts-ignore: strictNullChecks\n    retData.push(nextMnemonicData.address.toLowerCase())\n  }\n\n  //@ts-ignore: strictNullChecks\n  retData.push(nextData.address.toLowerCase())\n\n  //@ts-ignore: strictNullChecks\n  if (nextMultisigSMSData && nextMultisigSMSData.address) retData.push(nextMultisigSMSData.address.toLowerCase())\n  // @ToDo - SMS MultiWallet\n\n  //@ts-ignore: strictNullChecks\n  if (nextMultisigUserData && nextMultisigUserData.address) retData.push(nextMultisigUserData.address.toLowerCase())\n  if (nextMultisigUserData && nextMultisigUserData.wallets && nextMultisigUserData.wallets.length) {\n    nextMultisigUserData.wallets.map((wallet) => {\n      //@ts-ignore: strictNullChecks\n      retData.push(wallet.address.toLowerCase())\n    })\n  }\n\n  //@ts-ignore: strictNullChecks\n  if (nextMultisigPinData && nextMultisigPinData.address) retData.push(nextMultisigPinData.address.toLowerCase())\n\n  return retData\n}\n\nconst getDataByAddress = (address) => {\n  const {\n    user: {\n      nextData,\n      nextMnemonicData,\n      nextMultisigSMSData,\n      nextMultisigUserData,\n      nextMultisigG2FAData,\n    },\n  } = getState()\n\n  const founded = [\n    nextData,\n    nextMnemonicData,\n    nextMultisigSMSData,\n    nextMultisigUserData,\n    ...(\n      nextMultisigUserData\n      && nextMultisigUserData.wallets\n      && nextMultisigUserData.wallets.length\n    )\n      ? nextMultisigUserData.wallets\n      : [],\n    nextMultisigG2FAData,\n  ].filter(data => data && data.address && data.address.toLowerCase() === address.toLowerCase())\n\n  return (founded.length) ? founded[0] : false\n}\n\nconst getTransaction = (address: string = ``, ownType: string = ``) =>\n  new Promise((resolve) => {\n    const myAllWallets = getAllMyAddresses()\n\n    let { user: { nextData: { address: userAddress } } } = getState()\n    address = address || userAddress\n\n    const type = (ownType) || 'next'\n\n    if (!typeforce.isCoinAddress.NEXT(address)) {\n      resolve([])\n    }\n\n    return apiLooper.get('nextExplorer', `/txs/${address}`, {\n      checkStatus: (answer) => {\n        try {\n          if (answer && answer.txs !== undefined) return true\n        } catch (e) { /* */ }\n        return false\n      },\n    }).then((res: any) => {\n      const transactions = res.txs.map((item) => {\n        const direction = item.vin[0].address !== address ? 'in' : 'out'\n\n        const isSelf = direction === 'out'\n          && item.vout.filter((item) =>\n            item.scriptPubKey.addresses[0] === address\n          ).length === item.vout.length\n\n        return ({\n          type,\n          hash: item.txid,\n          //@ts-ignore: strictNullChecks\n          canEdit: (myAllWallets.indexOf(address) !== -1),\n          confirmations: item.confirmations,\n          value: isSelf\n            ? item.fees\n            : item.vout.filter((item) => {\n              if (!item.scriptPubKey.addresses) return false\n              const currentAddress = item.scriptPubKey.addresses[0]\n\n              return direction === 'in'\n                ? (currentAddress === address)\n                : (currentAddress !== address)\n            })[0].value,\n          date: item.time * 1000,\n          direction: isSelf ? 'self' : direction,\n        })\n      })\n      resolve(transactions)\n    })\n      .catch(() => {\n        resolve([])\n      })\n  })\n\n//@ts-ignore\nconst send = ({ from, to, amount, feeValue, speed } = {}) => {\n\n  return new Promise(async (ready) => {\n    const networks = bitcore.Networks\n    const nextNetwork = {\n      name: 'next-mainnet',\n      alias: 'next-mainnet',\n      pubkeyhash: 0x4b,\n      privatekey: 0x80,\n      scripthash: 0x05,\n      xpubkey: 0x0488B21E,\n      xprivkey: 0x0488ADE4,\n      networkMagic: 0xcbe4d0a1,\n      port: 7078,\n      dnsSeeds: [\n        config.api.nextExplorer,\n      ]\n    }\n    networks.add(nextNetwork)\n\n    const bitcoreNextNetwork = networks.get('next-mainnet', 'name')\n\n    const bitcoinNetwork = networks.get('livenet', 'name')\n    // need remove because of bitcore.PrivateKey() use 'privatekey' key to get network\n    // for validation and bitcoin.livenet.privatekey === nextNetwork.privatekey\n    networks.remove(bitcoinNetwork)\n\n    const privKeyWIF = getPrivateKeyByAddress(from)\n    const privateKey = new bitcore.PrivateKey(privKeyWIF, bitcoreNextNetwork)\n    const publicKey = bitcore.PublicKey.fromPrivateKey(privateKey)\n    const addressFrom = new bitcore.Address(publicKey, bitcoreNextNetwork)\n\n    const unspents: bitcore.Transaction.UnspentOutput[] = await fetchUnspents(from) || []\n    const amountSat = new BigNumber(String(amount)).multipliedBy(1e8).integerValue().toNumber()\n\n    const transaction = new bitcore.Transaction()\n      .from(unspents)\n      .to(to, amountSat)\n      .change(addressFrom)\n      .sign(privateKey)\n\n    const rawTx = String(transaction.serialize())\n    const broadcastAnswer: any = await broadcastTx(rawTx)\n    const txid = broadcastAnswer.raw\n\n    ready(txid)\n  })\n}\n\n\nconst fetchUnspents = (address) => nextUtils.fetchUnspents({\n  address,\n  NETWORK,\n}).then((unspents: any) => unspents.map(unspent => ({\n    address: unspent.address,\n    txId: unspent.txid,\n    outputIndex: unspent.outputIndex,\n    script: unspent.script,\n    satoshis: unspent.satoshis,\n  }))\n)\n\n\nconst broadcastTx = (txRaw) => nextUtils.broadcastTx({\n  txRaw,\n  NETWORK,\n})\n\nconst signMessage = (message, encodedPrivateKey) => {\n  //@ts-ignore\n  const keyPair = bitcoin.ECPair.fromWIF(encodedPrivateKey, [next.networks.mainnet])\n  //@ts-ignore: strictNullChecks\n  const privateKeyBuff = Buffer.from(keyPair.privateKey)\n\n  const signature = bitcoinMessage.sign(message, privateKeyBuff, keyPair.compressed)\n\n  return signature.toString('base64')\n}\n\nconst getReputation = () => Promise.resolve(0)\n\nconst checkWithdraw = (scriptAddress) => nextUtils.checkWithdraw({\n  scriptAddress,\n  NETWORK,\n})\n\nexport default {\n  login,\n  checkWithdraw,\n  getBalance,\n  getTransaction,\n  send,\n  fetchUnspents,\n  broadcastTx,\n  fetchTx,\n  fetchTxInfo,\n  fetchBalance,\n  signMessage,\n  getReputation,\n  getTx,\n  getLinkToInfo,\n  getInvoices,\n  getWalletByWords,\n  sweepToMnemonic,\n  isSweeped,\n  getSweepAddress,\n  getAllMyAddresses,\n  getDataByAddress,\n  getMainPublicKey,\n  getTxRouter,\n  fetchTxRaw,\n}\n","import BigInteger from 'bigi'\n\nimport { BigNumber } from 'bignumber.js'\nimport * as bitcoin from 'bitcoinjs-lib'\nimport bitcoinMessage from 'bitcoinjs-message'\nimport { getState } from 'redux/core'\nimport reducers from 'redux/core/reducers'\nimport * as mnemonicUtils from 'common/utils/mnemonic'\nimport { apiLooper, constants, api } from 'helpers'\nimport btc from 'helpers/btc'\nimport actions from 'redux/actions'\nimport config from 'helpers/externalConfig'\nimport SwapApp from 'swap.app'\n\nimport { MnemonicKey } from './types'\n\nimport { default as bitcoinUtils } from 'common/utils/coin/btc'\n\nconst BITPAY_API = {\n  name: 'bitpay',\n  servers: config.api.bitpay,\n}\n\nconst BLOCYPER_API = {\n  name: 'blockcypher',\n  servers: config.api.blockcypher,\n}\n\nconst hasAdminFee = (\n  config\n  && config.opts\n  && config.opts.fee\n  && config.opts.fee.btc\n  && config.opts.fee.btc.fee\n  && config.opts.fee.btc.address\n  && config.opts.fee.btc.min\n) ? config.opts.fee.btc : false\n\nconst NETWORK = (process.env.MAINNET) ? `MAINNET` : `TESTNET`\n\nconst addressToWallet = (address) => {\n  const {\n    user: {\n      btcMultisigUserData: msData,\n    },\n  } = getState()\n\n  if (msData.address === address) return msData\n\n  if (msData.wallets\n    && msData.wallets.length\n  ) {\n    const founded = msData.wallets.filter((wallet) => wallet.address === address)\n    if (founded.length) return founded[0]\n  }\n\n  return false\n}\n\nconst getSmsKeyFromMnemonic = (mnemonic) => {\n  if (mnemonic) {\n    const mnemonicWallet = actions.btc.getWalletByWords(mnemonic, 1)\n    if (mnemonicWallet) {\n      return mnemonicWallet.publicKey\n    }\n  }\n}\n\nconst _loadBtcMultisigKeys = () => {\n  let savedKeys = localStorage.getItem(constants.privateKeyNames.btcMultisigOtherOwnerKey)\n  //@ts-ignore: strictNullChecks\n  try { savedKeys = JSON.parse(savedKeys) } catch (e) { }\n  //@ts-ignore\n  if (!(savedKeys instanceof Array)) {\n    //@ts-ignore\n    savedKeys = [savedKeys]\n  }\n\n  return savedKeys\n}\n\nconst signToUserMultisig = async () => {\n  const {\n    user: {\n      btcMultisigUserData,\n      btcMultisigUserData: {\n        infoAboutCurrency,\n      },\n    },\n  } = getState()\n\n  const walletAddreses = []\n\n  const walletsData = await getBtcMultisigKeys({\n    opts: {\n      dontFetchBalance: true,\n    },\n  })\n  //@ts-ignore\n  const wallets = walletsData.map((data) => ({\n    address: data.address,\n    currency: `BTC (Multisig)`,\n    fullName: `Bitcoin (Multisig)`,\n    infoAboutCurrency,\n    isUserProtected: true,\n    active: true,\n    balance: 0,\n    unconfirmedBalance: 0,\n    isBalanceFetched: false,\n    balanceError: false,\n    publicKeys: data.publicKeys,\n    publicKey: data.publicKey,\n    isBTC: true,\n  })).filter((wallet) => wallet.address !== btcMultisigUserData.address)\n\n  btcMultisigUserData.wallets = wallets\n\n  reducers.user.setAuthData({ name: 'btcMultisigUserData', data: btcMultisigUserData })\n\n  fetchMultisigBalances()\n}\n\nconst fetchMultisigBalances = () => {\n  const {\n    user: {\n      btcMultisigUserData: {\n        wallets,\n      },\n    },\n  } = getState()\n\n  if (wallets && wallets.length) {\n    wallets.map(({ address }, index) => new Promise(async (resolve) => {\n      getAddrBalance(address).then(({ balance, unconfirmedBalance }) => {\n        reducers.user.setBtcMultisigBalance({\n          address,\n          amount: balance,\n          isBalanceFetched: true,\n          unconfirmedBalance,\n        })\n        resolve({ address, balance, unconfirmedBalance })\n      }).catch((e) => {\n        //\n      })\n    }))\n  }\n}\n\nconst getBtcMultisigKeys = (params) => {\n  let opts = {}\n  if (params && params.opts) opts = params.opts\n\n  return new Promise(async (resolve, reject) => {\n    const { user: { btcMultisigUserData } } = getState()\n    const { privateKey } = btcMultisigUserData\n\n    const savedKeys = _loadBtcMultisigKeys()\n    const keysInfo = []\n    //@ts-ignore: strictNullChecks\n    if (savedKeys.length > 0) {\n      //@ts-ignore: strictNullChecks\n      for (let i = 0; i < savedKeys.length; i++) {\n        //@ts-ignore: strictNullChecks\n        if (savedKeys[i]) {\n          //@ts-ignore: strictNullChecks\n          const walletData = login_USER(privateKey, savedKeys[i], true)\n\n          walletData.index = i\n          //@ts-ignore\n          walletData.balance = (opts.dontFetchBalance) ? 0 : await fetchBalance(walletData.address)\n          //@ts-ignore: strictNullChecks\n          keysInfo.push(walletData)\n        }\n      }\n    }\n\n    resolve(keysInfo)\n  })\n}\n\nconst addBtcMultisigKey = (publicKey, isPrimary) => {\n  const savedKeys = _loadBtcMultisigKeys()\n\n  //@ts-ignore: strictNullChecks\n  if (!savedKeys.includes(publicKey)) {\n    //@ts-ignore\n    savedKeys.push(publicKey)\n  }\n\n  localStorage.setItem(constants.privateKeyNames.btcMultisigOtherOwnerKey, JSON.stringify(savedKeys))\n\n  if (isPrimary) switchBtcMultisigKey(publicKey)\n}\n\nconst switchBtcMultisigKey = (keyOrIndex) => {\n  const savedKeys = _loadBtcMultisigKeys()\n\n  let index = keyOrIndex\n  //@ts-ignore: strictNullChecks\n  if (!Number.isInteger(index)) index = savedKeys.indexOf(keyOrIndex)\n\n  //@ts-ignore: strictNullChecks\n  if ((index > -1) && (index < savedKeys.length)) {\n    if (index !== 0) {\n      //@ts-ignore\n      const newKey = savedKeys.splice(index, 1)\n      //@ts-ignore\n      savedKeys.unshift(newKey[0])\n      localStorage.setItem(constants.privateKeyNames.btcMultisigOtherOwnerKey, JSON.stringify(savedKeys))\n\n      const {\n        user: {\n          btcData: {\n            privateKey,\n          },\n        },\n      } = getState()\n      //@ts-ignore\n      login_USER(privateKey, newKey[0])\n      //@ts-ignore\n      getBalanceUser()\n    }\n  }\n}\n\nconst removeBtcMultisigNey = (keyOrIndex) => {\n  const savedKeys = _loadBtcMultisigKeys()\n\n  let index = keyOrIndex\n  //@ts-ignore: strictNullChecks\n  if (!Number.isInteger(index)) index = savedKeys.indexOf(keyOrIndex)\n\n  if (index > -1) {\n    //@ts-ignore\n    const newKey = savedKeys.splice(index, 1)\n\n    localStorage.setItem(constants.privateKeyNames.btcMultisigOtherOwnerKey, JSON.stringify(savedKeys))\n\n    if (index === 0) {\n      switchBtcMultisigKey(0)\n      return true\n    }\n  }\n}\n\nconst checkSMSActivated = () => {\n  const { user: { btcMultisigSMSData: { isRegistered } } } = getState()\n  return isRegistered\n}\n\nconst checkPINActivated = () => {\n  const { user: { btcMultisigPinData: { isRegistered } } } = getState()\n  return isRegistered\n}\n\nconst checkG2FAActivated = () => false\n\nconst checkUserActivated = () => {\n  const { user: { btcMultisigUserData: { active } } } = getState()\n  return active\n}\n\nconst isBTCSMSAddress = (address) => {\n  const {\n    user: {\n      btcData,\n      btcMultisigSMSData,\n    },\n  } = getState()\n\n  if (btcMultisigSMSData && btcMultisigSMSData.address && btcMultisigSMSData.address.toLowerCase() === address.toLowerCase()) return btcMultisigSMSData\n\n  return false\n}\n\nconst isBTCMSUserAddress = (address) => {\n  const {\n    user: {\n      btcMultisigUserData: msData,\n    },\n  } = getState()\n\n  if (msData.address === address) return true\n\n  if (msData.wallets\n    && msData.wallets.length\n  ) {\n    const founded = msData.wallets.filter((wallet) => wallet.address === address)\n    if (founded.length) return true\n  }\n\n  return false\n}\n\nconst createWallet = (privateKey, otherOwnerPublicKey) => {\n  // privateKey - key of our privary one-sign btc wallet\n  let keyPair\n\n  if (privateKey) {\n    const hash = bitcoin.crypto.sha256(privateKey)\n    const d = BigInteger.fromBuffer(hash)\n\n    keyPair = bitcoin.ECPair.fromWIF(privateKey, btc.network)\n  }\n  else {\n    console.error('Requery privateKey')\n    return false\n  }\n\n\n  const account = bitcoin.ECPair.fromWIF(privateKey, btc.network) // eslint-disable-line\n  //@ts-ignore\n  const { addressOfMyOwnWallet } = bitcoin.payments.p2wpkh({ pubkey: account.publicKey, network: btc.network })\n  const { publicKey } = account\n\n  const publicKeysRaw = [otherOwnerPublicKey, account.publicKey.toString('hex')].sort().reverse()\n\n  const publicKeys = publicKeysRaw.map(hex => Buffer.from(hex, 'hex'))\n\n  const p2ms = bitcoin.payments.p2ms({\n    m: 2,\n    n: 2,\n    pubkeys: publicKeys,\n    network: btc.network,\n  })\n  const p2sh = bitcoin.payments.p2sh({ redeem: p2ms, network: btc.network })\n\n  const { address } = p2sh\n\n\n  const data = {\n    account,\n    keyPair,\n    address,\n    addressOfMyOwnWallet,\n    currency: 'BTC (Multisig)',\n    fullName: 'Bitcoin (Multisig)',\n    privateKey,\n    publicKeys,\n    publicKey,\n    isBTC: true,\n  }\n\n  localStorage.setItem(constants.privateKeyNames.btcMultisigOtherOwnerKey, otherOwnerPublicKey)\n\n  window.getBtcMultisigData = () => data\n  window.getBtcMultisigAddress = () => data.address\n\n  reducers.user.setAuthData({ name: 'btcMultisigData', data })\n}\n\nconst login_SMS = (privateKey, otherOwnerPublicKey) => {\n  const data = login_(privateKey, otherOwnerPublicKey, false)\n\n  if (!data) return false\n\n  const isRegistered = (localStorage.getItem(`${constants.localStorage.didProtectedBtcCreated}:${data.address}`) === '1')\n\n  data.currency = 'BTC (SMS-Protected)'\n  data.fullName = 'Bitcoin (SMS-Protected)'\n  data.isRegistered = (otherOwnerPublicKey instanceof Array && otherOwnerPublicKey.length > 1) ? true : isRegistered\n  data.isSmsProtected = true\n\n  window.getBtcSmsData = () => data\n  reducers.user.setAuthData({ name: 'btcMultisigSMSData', data })\n}\n\nconst login_PIN = (privateKey, otherOwnerPublicKey) => {\n  const data = login_(privateKey, otherOwnerPublicKey, false)\n\n  if (!data) return false\n\n  const isRegistered = (localStorage.getItem(`${constants.localStorage.didPinBtcCreated}:${data.address}`) === '1')\n\n\n  data.currency = 'BTC (PIN-Protected)'\n  data.fullName = 'Bitcoin (PIN-Protected)'\n  data.isRegistered = (otherOwnerPublicKey instanceof Array && otherOwnerPublicKey.length > 1) ? true : isRegistered\n  data.isPinProtected = true\n\n  window.getBtcPinData = () => data\n  reducers.user.setAuthData({ name: 'btcMultisigPinData', data })\n}\n\nconst login_G2FA = (privateKey, otherOwnerPublicKey) => {\n  const data = login_(privateKey, otherOwnerPublicKey, false)\n\n  if (!data) return false\n\n  const isRegistered = (localStorage.getItem(`${constants.localStorage.didProtectedBtcG2FACreated}:${data.address}`) === '1')\n\n  data.currency = 'BTC (Google 2FA)'\n  data.fullName = 'Bitcoin (Google 2FA)'\n  data.isRegistered = isRegistered\n  data.isG2FAProtected = true\n\n  reducers.user.setAuthData({ name: 'btcMultisigG2FAData', data })\n}\n\nconst login_USER = (privateKey, otherOwnerPublicKey, onlyCheck) => {\n  if (otherOwnerPublicKey instanceof Array && otherOwnerPublicKey.length === 0) return\n\n  const data = login_(privateKey, (otherOwnerPublicKey instanceof Array) ? otherOwnerPublicKey[0] : otherOwnerPublicKey, true)\n\n  if (!data) return false\n\n  data.isUserProtected = true\n  if (onlyCheck) return data\n\n  reducers.user.setAuthData({ name: 'btcMultisigUserData', data })\n\n  // Setup pubsubRoom sign request\n  actions.pubsubRoom.onReady(() => {\n    const { user: { btcMultisigUserData: { address } } } = getState()\n    const onRequestEventName = `btc multisig request sign ${address}`\n    //@ts-ignore: strictNullChecks\n    SwapApp.shared().services.room.subscribe(onRequestEventName, (_data) => {\n      const { txData } = _data\n      if (txData && txData.address && txData.amount && txData.currency && txData.txRaw) {\n        //@ts-ignore: strictNullChecks\n        SwapApp.shared().services.room.sendMessagePeer(\n          _data.fromPeer,\n          {\n            event: `btc multisig accept tx ${address}`,\n            data: {},\n          }\n        )\n        actions.notifications.show('BTCMultisignRequest', txData)\n        //@ts-ignore: strictNullChecks\n        actions.modals.open(constants.modals.BtcMultisignConfirmTx, {\n          txData: txData.txRaw,\n        })\n      }\n    })\n  })\n}\n\nconst login_ = (privateKey, otherOwnerPublicKey, sortKeys) => {\n  let keyPair\n\n  if (privateKey) {\n    const hash = bitcoin.crypto.sha256(privateKey)\n    const d = BigInteger.fromBuffer(hash)\n\n    keyPair = bitcoin.ECPair.fromWIF(privateKey, btc.network)\n  }\n  else {\n    console.log('Requery privateKey')\n    return false\n  }\n\n\n  const account = bitcoin.ECPair.fromWIF(privateKey, btc.network) // eslint-disable-line\n  const { publicKey } = account\n  const publicKey_1 = account.publicKey.toString('hex')\n\n  // TODO - simple sort public keys by ABC - no primary and secondary\n  let _data\n\n  if (otherOwnerPublicKey) {\n    let publicKeysRaw = []\n    if (otherOwnerPublicKey instanceof Array) {\n      //@ts-ignore: strictNullChecks\n      otherOwnerPublicKey.forEach((key) => { publicKeysRaw.push(key) })\n    } else {\n      //@ts-ignore: strictNullChecks\n      publicKeysRaw.push(otherOwnerPublicKey)\n    }\n    //@ts-ignore: strictNullChecks\n    publicKeysRaw.push(publicKey_1)\n\n    if (sortKeys) publicKeysRaw = publicKeysRaw.sort()\n\n    const publicKeys = publicKeysRaw.map(hex => Buffer.from(hex, 'hex'))\n    const p2ms = bitcoin.payments.p2ms({\n      m: 2,\n      n: publicKeysRaw.length,\n      pubkeys: publicKeys,\n      network: btc.network,\n    })\n\n    const p2sh = bitcoin.payments.p2sh({ redeem: p2ms, network: btc.network })\n    const { address } = p2sh\n    //@ts-ignore\n    const { addressOfMyOwnWallet } = bitcoin.payments.p2wpkh({ pubkey: account.publicKey, network: btc.network })\n\n    _data = {\n      account,\n      keyPair,\n      p2sh,\n      address,\n      addressOfMyOwnWallet,\n      currency: 'BTC (Multisig)',\n      fullName: 'Bitcoin (Multisig)',\n      privateKey,\n      publicKeys,\n      publicKey,\n      isBTC: true,\n      active: true,\n    }\n  } else {\n    _data = {\n      account,\n      keyPair,\n      address: 'Not jointed',\n      addressOfMyOwnWallet: 'Not jointed',\n      currency: 'BTC (Multisig)',\n      fullName: 'Bitcoin (Multisig)',\n      privateKey,\n      publicKeys: [],\n      publicKey,\n      isBTC: true,\n      active: false,\n    }\n  }\n\n  return _data\n}\n\nconst enableWalletSMS = () => {\n  const { user: { btcMultisigSMSData } } = getState()\n  btcMultisigSMSData.isRegistered = true\n  reducers.user.setAuthData({ name: 'btcMultisigSMSData', btcMultisigSMSData })\n}\n\nconst enableWalletG2FA = () => {\n  const { user: { btcMultisigG2FAData } } = getState()\n  btcMultisigG2FAData.isRegistered = true\n  reducers.user.setAuthData({ name: 'btcMultisigG2FAData', btcMultisigG2FAData })\n}\n\nconst enableWalletUSER = () => {\n}\n\nconst onUserMultisigJoin = (data) => {\n  console.log('on user multisig join', data)\n  const {\n    user: {\n      btcMultisigUserData,\n      btcData,\n    },\n  } = getState()\n  const { fromPeer, checkKey, publicKey } = data\n\n  if (checkKey === btcData.publicKey.toString('hex') && publicKey && (publicKey.length === 66)) {\n    console.log('checks ok - connect')\n    addBtcMultisigKey(publicKey, true)\n    //@ts-ignore: strictNullChecks\n    SwapApp.shared().services.room.sendMessagePeer(fromPeer, {\n      event: 'btc multisig join ready',\n      data: {},\n    })\n  }\n}\n\n// Получили транзакцию из комнаты -  проверяем, наш это кошелек и если да. Записываем в историю транзакций с поменткой - нужно подтвердить\nconst onUserMultisigSend = (data) => {\n  console.log('on user multisig send', data)\n}\n\n// Рассылает транзакцию в комнате, если второй владелец в сети. То он сразу увидит, что ему нужно подтвердить транзакцию без передачи ссылки\nconst broadcastTX2Room = (txData, cbSuccess, cbFail) => {\n  const { user: { btcMultisigUserData: { publicKey, address } } } = getState()\n\n  const onSuccessEventName = `btc multisig accept tx ${address}`\n  let failTimer = false\n\n  const onSuccessEvent = (data) => {\n    console.log('broadcast sucess', data)\n    //@ts-ignore\n    clearTimeout(failTimer)\n    //@ts-ignore: strictNullChecks\n    SwapApp.shared().services.room.unsubscribe(onSuccessEventName, onSuccessEvent)\n    if (cbSuccess) cbSuccess()\n  }\n\n  const cancelFunc = () => {\n    console.log('broadcast multisig canceled')\n    //@ts-ignore\n    clearTimeout(failTimer)\n    //@ts-ignore: strictNullChecks\n    SwapApp.shared().services.room.unsubscribe(onSuccessEventName, onSuccessEvent)\n  }\n\n  const onFailTimer = () => {\n    console.log('broadcast multisig fail timer')\n    //@ts-ignore\n    clearTimeout(failTimer)\n    //@ts-ignore: strictNullChecks\n    SwapApp.shared().services.room.unsubscribe(onSuccessEventName, onSuccessEvent)\n    if (cbFail) cbFail()\n  }\n  //@ts-ignore\n  failTimer = setTimeout(onFailTimer, 30000)\n\n  //@ts-ignore: strictNullChecks\n  SwapApp.shared().services.room.subscribe(onSuccessEventName, onSuccessEvent)\n\n  // Broadcast TX\n  //@ts-ignore: strictNullChecks\n  SwapApp.shared().services.room.sendMessageRoom({\n    event: `btc multisig request sign ${address}`,\n    data: {\n      txData,\n      publicKey: publicKey.toString('hex'),\n    },\n  })\n  return cancelFunc\n}\n\nwindow.broadcastTX2Room = broadcastTX2Room\n\nconst _getSign = () => {\n  const { user: { btcMultisigSMSData: { account, address, keyPair, publicKey } } } = getState()\n  const message = `${address}:${publicKey.toString('hex')}`\n\n  console.log(message)\n  const sign = bitcoinMessage.sign(message, account.privateKey, keyPair.compressed)\n  return sign.toString('base64')\n}\n\nconst beginRegisterSMS = async (phone, mnemonic, ownPublicKey) => {\n  const {\n    user: {\n      btcMultisigSMSData: {\n        account,\n        keyPair,\n        publicKey,\n      },\n      btcData: {\n        address,\n      },\n    },\n  } = getState()\n\n  const publicKeys = []\n  if (mnemonic && !ownPublicKey) {\n    // 2of3 - extract public key from mnemonic\n    const mnemonicAccount = actions.btc.getWalletByWords(mnemonic, 1)\n    //@ts-ignore: strictNullChecks\n    publicKeys.push(mnemonicAccount.publicKey)\n  }\n\n  // Возможность использовать произвольный публик-кей для разблокирования\n  if (ownPublicKey) {\n    //@ts-ignore: strictNullChecks\n    publicKeys.push(ownPublicKey)\n  }\n\n  //@ts-ignore: strictNullChecks\n  publicKeys.push(publicKey.toString('Hex'))\n\n  const sign = _getSign()\n  try {\n    const result: any = await apiLooper.post('btc2FAProtected', `/register/begin/`, {\n      body: {\n        phone,\n        address,\n        publicKey: JSON.stringify(publicKeys),\n        checkSign: sign,\n        mainnet: !!process.env.MAINNET,\n        source: window.location.hostname,\n      },\n    })\n    console.log(result)\n    return result\n  } catch (error) {\n    console.error(error)\n    return false\n  }\n}\n\nconst confirmRegisterSMS = async (phone, smsCode, mnemonic, ownPublicKey) => {\n  const {\n    user: {\n      btcMultisigSMSData: {\n        account,\n        keyPair,\n        publicKey,\n      },\n      btcData: {\n        address,\n      },\n    },\n  } = getState()\n\n  const publicKeys = []\n  let mnemonicKey = false\n\n  if (mnemonic && !ownPublicKey) {\n    // 2of3 - extract public key from mnemonic\n    const mnemonicAccount = actions.btc.getWalletByWords(mnemonic, 1)\n    //@ts-ignore\n    mnemonicKey = mnemonicAccount.publicKey\n    //@ts-ignore: strictNullChecks\n    publicKeys.push(mnemonicKey)\n  }\n\n  // Возможность использовать произвольный публик-кей для разблокирования\n  if (ownPublicKey) {\n    //@ts-ignore: strictNullChecks\n    publicKeys.push(ownPublicKey)\n    mnemonicKey = ownPublicKey\n  }\n\n  //@ts-ignore: strictNullChecks\n  publicKeys.push(publicKey.toString('Hex'))\n\n  const sign = _getSign()\n\n  const newKeys = JSON.stringify(publicKeys)\n\n  try {\n    const result: any = await apiLooper.post('btc2FAProtected', `/register/confirm/`, {\n      body: {\n        phone,\n        address,\n        smsCode,\n        publicKey: newKeys,\n        checkSign: sign,\n        mainnet: !!process.env.MAINNET,\n        source: window.location.hostname,\n      },\n    })\n\n    if ((result && result.answer && result.answer === 'ok') || (result.error === 'Already registered')) {\n      localStorage.setItem(`${constants.localStorage.didProtectedBtcCreated}:${address}`, '1')\n      if (mnemonic) {\n        addSMSWallet(mnemonicKey)\n      }\n    }\n\n    return result\n  } catch (error) {\n    console.error(error)\n    return false\n  }\n}\n\nconst register_PIN = async (password, mnemonic, ownPublicKey) => {\n  const {\n    user: {\n      btcMultisigPinData: {\n        account,\n        keyPair,\n        publicKey,\n      },\n      btcData: {\n        address,\n        publicKey: mainKey,\n      },\n    },\n  } = getState()\n\n  const btcPinServerKey = config.swapContract.btcPinKey\n  const publicKeys = [btcPinServerKey]\n  let mnemonicKey = false\n\n  if (mnemonic && !ownPublicKey) {\n    // 2of3 - extract public key from mnemonic\n    const mnemonicAccount = actions.btc.getWalletByWords(mnemonic, 1)\n    //@ts-ignore\n    mnemonicKey = mnemonicAccount.publicKey\n    publicKeys.push(mnemonicKey)\n  }\n\n  // Возможность использовать произвольный публик-кей для разблокирования\n  if (ownPublicKey) {\n    publicKeys.push(ownPublicKey)\n    mnemonicKey = ownPublicKey\n  }\n\n  publicKeys.push(mainKey.toString('Hex'))\n\n  const sign = _getSign()\n\n  const newKeys = JSON.stringify(publicKeys)\n\n  try {\n    const result: any = await apiLooper.post('btcPin', `/register/`, {\n      body: {\n        address,\n        password,\n        publicKey: newKeys,\n        checkSign: sign,\n        mainnet: !!process.env.MAINNET,\n        source: window.location.hostname,\n      },\n    })\n\n    if ((result && result.answer && result.answer === 'ok') || (result.error === 'Already registered')) {\n      localStorage.setItem(`${constants.localStorage.didPinBtcCreated}:${address}`, '1')\n      addPinWallet(mnemonicKey)\n    }\n\n    return result\n  } catch (error) {\n    console.error(error)\n    return false\n  }\n}\n\nconst addPinWallet = async (mnemonicOrKey) => {\n  const {\n    user: {\n      btcData: {\n        privateKey,\n      },\n    },\n  } = getState()\n\n  let mnemonicKey = mnemonicOrKey\n  if (mnemonicUtils.validateMnemonicWords(mnemonicOrKey)) {\n    const mnemonicAccount = actions.btc.getWalletByWords(mnemonicOrKey, 1)\n    mnemonicKey = mnemonicAccount.publicKey\n  }\n\n  //@ts-ignore: strictNullChecks\n  let btcPinMnemonicKey: MnemonicKey = localStorage.getItem(constants.privateKeyNames.btcPinMnemonicKey)\n  \n  try { \n    //@ts-ignore: strictNullChecks\n    btcPinMnemonicKey = JSON.parse(btcPinMnemonicKey) \n  } catch (e) {\n    console.error(e)\n  }\n\n  if (!(btcPinMnemonicKey instanceof Array)) {\n    btcPinMnemonicKey = []\n  }\n\n  const index = btcPinMnemonicKey.indexOf(mnemonicKey)\n\n  if (index === -1) btcPinMnemonicKey.unshift(mnemonicKey)\n  if ((index > -1) && (index < btcPinMnemonicKey.length)) {\n    if (index !== 0) {\n      btcPinMnemonicKey = btcPinMnemonicKey.splice(index, 1)\n      btcPinMnemonicKey.unshift(mnemonicKey)\n    }\n  }\n\n  localStorage.setItem(constants.privateKeyNames.btcPinMnemonicKey, JSON.stringify(btcPinMnemonicKey))\n\n  const btcPinServerKey = config.swapContract.btcPinKey\n  let btcPinPublicKeys = [btcPinServerKey, mnemonicKey]\n\n  await actions.btcmultisig.login_PIN(privateKey, btcPinPublicKeys)\n  const { user: { btcMultisigPinData: { address } } } = getState()\n\n  //@ts-ignore: strictNullChecks\n  await getBalance(address, 'btcMultisigPinData')\n}\n\nconst addSMSWallet = async (mnemonicOrKey) => {\n  const {\n    user: {\n      btcData: {\n        privateKey,\n      },\n    },\n  } = getState()\n\n  let mnemonicKey = mnemonicOrKey\n  if (mnemonicUtils.validateMnemonicWords(mnemonicOrKey)) {\n    const mnemonicAccount = actions.btc.getWalletByWords(mnemonicOrKey, 1)\n    mnemonicKey = mnemonicAccount.publicKey\n  }\n\n  //@ts-ignore: strictNullChecks\n  let btcSmsMnemonicKey: MnemonicKey = localStorage.getItem(constants.privateKeyNames.btcSmsMnemonicKey)\n  \n  try { \n    //@ts-ignore: strictNullChecks\n    btcSmsMnemonicKey = JSON.parse(btcSmsMnemonicKey) \n  } catch (e) {\n    console.error(e)\n  }\n\n  if (!(btcSmsMnemonicKey instanceof Array)) {\n    btcSmsMnemonicKey = []\n  }\n\n  const index = btcSmsMnemonicKey.indexOf(mnemonicKey)\n\n  if (index === -1) btcSmsMnemonicKey.unshift(mnemonicKey)\n  if ((index > -1) && (index < btcSmsMnemonicKey.length)) {\n    if (index !== 0) {\n      btcSmsMnemonicKey = btcSmsMnemonicKey.splice(index, 1)\n      btcSmsMnemonicKey.unshift(mnemonicKey)\n    }\n  }\n\n  localStorage.setItem(constants.privateKeyNames.btcSmsMnemonicKey, JSON.stringify(btcSmsMnemonicKey))\n\n  const btcSMSServerKey = config.swapContract.protectedBtcKey\n  let btcSmsPublicKeys = [btcSMSServerKey, mnemonicKey]\n\n  await actions.btcmultisig.login_SMS(privateKey, btcSmsPublicKeys)\n  await getBalance()\n}\n\nconst getAddrBalance = (address) => {\n  return new Promise((resolve) => {\n    bitcoinUtils.fetchBalance({\n      address,\n      withUnconfirmed: true,\n      apiBitpay: BITPAY_API\n    }).then((answer) => {\n      //@ts-ignore\n      const { balance, unconfirmed } = answer\n      resolve({\n        address,\n        balance: balance,\n        unconfirmedBalance: unconfirmed,\n      })\n    }).catch((e) => {\n      resolve(false)\n    })\n  })\n}\n\nconst getBalance = (ownAddress = null, ownDataKey = null) => {\n  const { user: { btcMultisigSMSData: { address } } } = getState()\n  const checkAddress = (ownAddress) || address\n  const dataKey = (ownDataKey) || 'btcMultisigSMSData'\n\n  if (checkAddress === 'Not jointed') {\n    return new Promise((resolve) => {\n      reducers.user.setBalance({\n        name: dataKey,\n        amount: 0,\n        unconfirmedBalance: 0,\n      })\n      resolve(0)\n    })\n  }\n\n  return getAddrBalance(checkAddress).then(({ balance, unconfirmedBalance }) => {\n    reducers.user.setBalance({ name: dataKey, amount: balance, unconfirmedBalance })\n    return balance\n  })\n    .catch((e) => {\n      reducers.user.setBalanceError({ name: dataKey })\n    })\n}\n\nconst getBalancePin = () => {\n  const { user: { btcMultisigPinData: { address } } } = getState()\n\n  //@ts-ignore: strictNullChecks\n  return getBalance(address, 'btcMultisigPinData')\n}\n\nconst getBalanceUser = (checkAddress) => {\n  const { user: { btcMultisigUserData: { address } } } = getState()\n  if (!checkAddress) {\n    //@ts-ignore: strictNullChecks\n    return getBalance(address, 'btcMultisigUserData')\n  }\n  return getAddrBalance(checkAddress).then(({ balance, unconfirmedBalance }) => {\n    reducers.user.setBtcMultisigBalance({\n      address: checkAddress,\n      amount: balance,\n      isBalanceFetched: true,\n      unconfirmedBalance,\n    })\n\n    return balance\n  })\n\n}\n\nconst getBalanceG2FA = () => {\n}\n\nconst fetchBalance = (address) => bitcoinUtils.fetchBalance({\n  address,\n  withUnconfirmed: false,\n  apiBitpay: BITPAY_API,\n})\n\nconst fetchTx = (hash, cacheResponse) => bitcoinUtils.fetchTx({\n  hash,\n  apiBitpay: BITPAY_API,\n  cacheResponse,\n})\n\nconst fetchTxInfo = (hash, cacheResponse, serviceFee = null) => bitcoinUtils.fetchTxInfo({\n  hash,\n  apiBitpay: BITPAY_API,\n  cacheResponse,\n  hasAdminFee: serviceFee || hasAdminFee,\n})\n\nconst getTransactionUser = (address: string = ``) => {\n  if (!address) {\n    // Fetch all\n    return new Promise(async (resolve) => {\n      const msWallets = await getBtcMultisigKeys({\n        opts: {\n          dontFetchBalance: true,\n        },\n      })\n      //@ts-ignore\n      if (msWallets.length) {\n        //@ts-ignore\n        const promiseList = msWallets.map((walletData) => getTransactionUser(walletData.address))\n\n        const txLists = await Promise.all(promiseList)\n\n        let retValue = []\n        txLists.forEach((txs) => {\n          //@ts-ignore\n          retValue = [...retValue, ...txs]\n        })\n\n        resolve(retValue)\n      } else {\n        resolve([])\n      }\n    })\n  }\n  return getTransaction(address, 'btc (multisig)')\n\n}\n//@ts-ignore\nconst getTransactionSMS = (address: string = ``) => {\n  const {\n    user: {\n      btcMultisigSMSData: {\n        address: smsAddress,\n        isRegistered,\n      },\n    },\n  } = getState()\n  if (!isRegistered) {\n    return new Promise((resolve) => { resolve([]) })\n  }\n  return getTransaction((address || smsAddress), `btc (sms-protected)`)\n}\n\nconst getTransactionPIN = (address: string = ``) => {\n  const {\n    user: {\n      btcMultisigPinData: {\n        address: pinAddress,\n        isRegistered,\n      },\n    },\n  } = getState()\n  if (!isRegistered) {\n    return new Promise((resolve) => { resolve([]) })\n  }\n  return getTransaction((address || pinAddress), `btc (pin-protected)`)\n}\n\nconst getTransactionG2FA = () => { }\n\nconst getInvoicesSMS = () => {\n  const { user: { btcMultisigSMSData: { address } } } = getState()\n\n  return actions.invoices.getInvoices({\n    currency: 'BTC',\n    address,\n  })\n}\n\nconst getInvoicesUser = () => {\n  const { user: { btcMultisigUserData: { address } } } = getState()\n\n  return actions.invoices.getInvoices({\n    currency: 'BTC',\n    address,\n  })\n}\n\nconst getTransaction = (ownAddress, ownType) => {\n  return bitcoinUtils.getTransactionBlocyper({\n    ownAddress,\n    ownType,\n    myWallets: [ownAddress],\n    network: btc.network,\n    apiBlocyper: BLOCYPER_API,\n  })\n}\n//@ts-ignore\nconst sendSMSProtected = async ({ from, to, amount, feeValue, speed, serviceFee = hasAdminFee } = {}) => {\n  const {\n    user: {\n      btcMultisigSMSData: {\n        privateKey,\n        publicKeys,\n      },\n      btcData: {\n        address,\n      },\n    },\n  } = getState()\n\n  const method = 'send_2fa'\n\n  let preparedFees\n  try {\n    preparedFees = await bitcoinUtils.prepareFees({\n      amount,\n      serviceFee,\n      feeValue,\n      speed,\n      method,\n      from,\n      to,\n      NETWORK\n    })\n  } catch (prepareFeesError) {\n    return {\n      error: prepareFeesError.message,\n    }\n  }\n  const {\n    fundValue,\n    skipValue,\n    feeFromAmount,\n    unspents,\n  } = preparedFees\n\n\n  let rawTx\n  try {\n    rawTx = await bitcoinUtils.prepareRawTx({\n      from,\n      to,\n      fundValue,\n      skipValue,\n      serviceFee,\n      feeFromAmount,\n      method,\n      unspents,\n      privateKey,\n      publicKeys,\n      network: btc.network,\n      NETWORK\n    })\n  } catch (prepareRawTxError) {\n    return {\n      error: prepareRawTxError.message,\n    }\n  }\n\n  let authKeys = publicKeys.slice(1)\n  authKeys = JSON.stringify(authKeys.map((key) => key.toString('Hex')))\n\n  try {\n    const result: any = await apiLooper.post('btc2FAProtected', `/push/`, {\n      body: {\n        address,\n        publicKey: authKeys,\n        checkSign: _getSign,\n        rawTX: rawTx,\n        mainnet: process.env.MAINNET ? true : false,\n        source: window.location.hostname,\n      },\n      timeout: {\n        response: 0,\n        deadline: 5000,\n      },\n    })\n    return {\n      ...result,\n      rawTx,\n    }\n  } catch (apiError) {\n    return {\n      error: apiError.message,\n      rawTx,\n    }\n  }\n}\n\n//@ts-ignore\nconst sendPinProtected = async ({ from, to, amount, feeValue, speed, password, mnemonic, serviceFee = hasAdminFee } = {}) => {\n  const {\n    user: {\n      btcMultisigPinData: {\n        privateKey,\n        publicKeys,\n      },\n      btcData: {\n        address,\n      },\n    },\n  } = getState()\n\n  const method = 'send_2fa'\n\n  let preparedFees\n  try {\n    preparedFees = await bitcoinUtils.prepareFees({\n      amount,\n      serviceFee,\n      feeValue,\n      speed,\n      method,\n      from,\n      to,\n      NETWORK\n    })\n  } catch (prepareFeesError) {\n    return {\n      error: prepareFeesError.message,\n    }\n  }\n  const {\n    fundValue,\n    skipValue,\n    feeFromAmount,\n    unspents,\n  } = preparedFees\n\n\n  let rawTx\n  try {\n    rawTx = await bitcoinUtils.prepareRawTx({\n      from,\n      to,\n      fundValue,\n      skipValue,\n      serviceFee,\n      feeFromAmount,\n      method,\n      unspents,\n      privateKey,\n      publicKeys,\n      network: btc.network,\n      NETWORK\n    })\n  } catch (prepareRawTxError) {\n    return {\n      error: prepareRawTxError.message,\n    }\n  }\n\n  if (mnemonic) {\n    const mnemonicTx = await signPinMnemonic(rawTx, mnemonic)\n    const broadcastResult = await actions.btc.broadcastTx(mnemonicTx)\n    if (broadcastResult\n      && broadcastResult.txid\n    ) {\n      return {\n        answer: 'ok',\n        txId: broadcastResult.txid,\n      }\n    } else {\n      return {\n        error: `Fail sign transaction by mnemonic`,\n      }\n    }\n  }\n\n  let authKeys = publicKeys//.slice(1)\n  authKeys = JSON.stringify(authKeys.map((key) => key.toString('Hex')))\n\n  try {\n    const result: any = await apiLooper.post('btcPin', `/sign/`, {\n      body: {\n        address,\n        publicKey: authKeys,\n        checkSign: _getSign,\n        rawTX: rawTx,\n        mainnet: process.env.MAINNET ? true : false,\n        source: window.location.hostname,\n        password,\n        version: `v5`,\n      },\n      timeout: {\n        response: 0,\n        deadline: 5000,\n      },\n    })\n\n    if (result\n      && result.answer\n      && result.answer === 'ok'\n      && result.rawTX\n    ) {\n      const broadcastResult = await actions.btc.broadcastTx(result.rawTX)\n      if (broadcastResult\n        && broadcastResult.txid\n      ) {\n        return {\n          answer: 'ok',\n          txId: broadcastResult.txid,\n        }\n      } else {\n        return {\n          error: 'Fail broadcast transaction'\n        }\n      }\n    } else {\n      return {\n        ...result,\n      }\n    }\n  } catch (apiError) {\n    return {\n      error: apiError.message,\n      rawTx,\n    }\n  }\n}\n\nconst confirmSMSProtected = async (smsCode) => {\n  const {\n    user: {\n      btcMultisigSMSData: {\n        privateKey,\n        publicKeys,\n        publicKey,\n      },\n      btcData: {\n        address,\n      },\n    },\n  } = getState()\n\n  let authKeys = publicKeys.slice(1)\n  authKeys = JSON.stringify(authKeys.map((key) => key.toString('Hex')))\n\n  const result: any = await apiLooper.post('btc2FAProtected', `/sign/`, {\n    body: {\n      address,\n      version: 'v5',\n      publicKey: authKeys,\n      checkSign: _getSign,\n      code: smsCode,\n      mainnet: !!process.env.MAINNET,\n      source: window.location.hostname,\n    },\n  })\n  return result\n}\n//@ts-ignore\nconst send = async ({ from, to, amount, feeValue, speed, serviceFee = hasAdminFee } = {}) => {\n  const {\n    user: {\n      btcMultisigUserData: {\n        privateKey,\n      },\n    },\n  } = getState()\n\n  const senderWallet = addressToWallet(from)\n\n  const { address, publicKeys } = senderWallet\n\n  const method = 'send_multisig'\n\n  let preparedFees\n  try {\n    preparedFees = await bitcoinUtils.prepareFees({\n      amount,\n      serviceFee,\n      feeValue,\n      speed,\n      method,\n      from: address,\n      to,\n      NETWORK\n    })\n  } catch (prepareFeesError) {\n    return {\n      error: prepareFeesError.message,\n    }\n  }\n  const {\n    fundValue,\n    skipValue,\n    feeFromAmount,\n    unspents,\n  } = preparedFees\n\n\n  let rawTx\n  try {\n    rawTx = await bitcoinUtils.prepareRawTx({\n      from: address,\n      to,\n      fundValue,\n      skipValue,\n      serviceFee,\n      feeFromAmount,\n      method,\n      unspents,\n      privateKey,\n      publicKeys,\n      network: btc.network,\n      NETWORK\n    })\n  } catch (prepareRawTxError) {\n    return {\n      error: prepareRawTxError.message,\n    }\n  }\n\n  return rawTx\n}\n\nconst getMSWalletByScript = async (script, myBtcWallets) => {\n  //@ts-ignore\n  if (!myBtcWallets) myBtcWallets = await getBtcMultisigKeys()\n  if (typeof script !== 'string') script = bitcoin.script.toASM( script )\n\n  const wallets = myBtcWallets.filter((wallet) => {\n    const keys = wallet.publicKeys.map(buf => buf.toString('hex')).join(` `)\n    const walletScript = `OP_2 ${keys} OP_2 OP_CHECKMULTISIG`\n\n    if (walletScript === script) {\n      return true\n    }\n  }).map((wallet) => {\n    const {\n      publicKeys,\n      publicKey,\n      address,\n      balance,\n    } = wallet\n\n    return {\n      publicKeys,\n      publicKey,\n      address,\n      balance,\n    }\n  })\n\n  return (wallets.length) ? wallets[0] : false\n}\n\nconst parseRawTX = async (txHash) => {\n  //@ts-ignore\n  const myBtcWallets = await getBtcMultisigKeys()\n  //@ts-ignore\n  const myBtcAddreses = myBtcWallets.map((wallet) => wallet.address)\n\n  const psbt = bitcoin.Psbt.fromHex(txHash)\n\n  const parsedTX = {\n    psbt,\n    input: [],\n    output: [],\n    from: false,\n    to: false,\n    out: {},\n    isOur: false,\n    amount: new BigNumber(0),\n  }\n\n  await new Promise((inputParsed) => {\n    psbt.data.inputs.forEach( async (input) => {\n      const { redeemScript } = input\n\n      const inputWallet = await getMSWalletByScript( redeemScript, myBtcWallets )\n      if (inputWallet) {\n        if (inputWallet.address) parsedTX.from = inputWallet.address\n        //@ts-ignore\n        parsedTX.wallet = inputWallet\n        parsedTX.isOur = true\n      }\n    })\n    inputParsed(true)\n  }).then(() => {\n    //@ts-ignore\n    psbt.data.globalMap.unsignedTx.tx.outs.forEach(async (out) => {\n      const address = bitcoin.address.fromOutputScript(out.script, btc.network)\n      if (!parsedTX.isOur) {\n        //@ts-ignore\n        const outWallet = myBtcWallets.filter((wallet) => wallet.address === address)\n\n        if (outWallet.length) {\n          if (outWallet[0].address) parsedTX.from = outWallet[0].address\n          //@ts-ignore\n          parsedTX.wallet = outWallet[0]\n          parsedTX.isOur = true\n        }\n      }\n      //@ts-ignore\n      if (parsedTX.from !== address) {\n        if (!parsedTX.out[address]) {\n          parsedTX.out[address] = {\n            to: address,\n            amount: new BigNumber(out.value).dividedBy(1e8).toNumber(),\n          }\n        } else {\n          parsedTX.out[address].amount = parsedTX.out[address].amount.plus(new BigNumber(out.value).dividedBy(1e8).toNumber())\n        }\n        parsedTX.amount = parsedTX.amount.plus(new BigNumber(out.value).dividedBy(1e8).toNumber())\n      }\n\n      parsedTX.output.push({\n        //@ts-ignore: strictNullChecks\n        address,\n        //@ts-ignore: strictNullChecks\n        valueSatoshi: out.value,\n        //@ts-ignore: strictNullChecks\n        value: new BigNumber(out.value).dividedBy(1e8).toNumber(),\n      })\n    })\n\n    if (Object.keys(parsedTX.out).length) {\n      parsedTX.to = parsedTX.out[Object.keys(parsedTX.out)[0]].to\n    }\n  })\n\n  console.log('parsedTX', parsedTX)\n  return parsedTX\n}\n\nconst signMofNByMnemonic = async (txHash, option_M, publicKeys, mnemonic, walletNumber, ownPath) => {\n  const mnemonicWallet = actions.btc.getWalletByWords(mnemonic, walletNumber, ownPath)\n  if (mnemonicWallet) {\n    console.log(mnemonicWallet)\n    console.log(txHash)\n    let txb = bitcoin.TransactionBuilder.fromTransaction(\n      bitcoin.Transaction.fromHex(txHash),\n      btc.network\n    )\n\n    console.log('p2ms', option_M, publicKeys.length, publicKeys)\n    const p2ms = bitcoin.payments.p2ms({\n      m: option_M,\n      n: publicKeys.length,\n      pubkeys: publicKeys,\n      network: btc.network,\n    })\n\n    const p2sh = bitcoin.payments.p2sh({ redeem: p2ms, network: btc.network })\n\n    console.log(txb)\n    //@ts-ignore\n    txb.__INPUTS.forEach((input, index) => {\n      //@ts-ignore: strictNullChecks\n      txb.sign(index, bitcoin.ECPair.fromWIF(mnemonicWallet.WIF, btc.network), p2sh.redeem.output)\n    })\n\n    let tx = await txb.build()\n    const txHex = tx.toHex()\n    return txHex\n  }\n}\n\nconst signMultiSign = async (txHash, wallet) => {\n  let {\n    user: {\n      btcMultisigUserData: {\n        privateKey,\n        publicKeys,\n      },\n    },\n  } = getState()\n\n  const psbt = bitcoin.Psbt.fromHex(txHash)\n\n  psbt.signAllInputs(bitcoin.ECPair.fromWIF(privateKey, btc.network))\n\n  psbt.finalizeAllInputs();\n\n  const rawTx = psbt.extractTransaction().toHex()\n\n  return rawTx\n}\n\nconst signSmsMnemonic = (txHash, mnemonic) => {\n  const {\n    user: {\n      btcMultisigSMSData: {\n        publicKeys,\n      },\n    },\n  } = getState()\n  //@ts-ignore\n  return signMofNByMnemonic(txHash, 2, publicKeys, mnemonic, 1)\n}\n\nconst signPinMnemonic = (txHash, mnemonic) => {\n  return new Promise(async (resolve, reject) => {\n    const mnemonicWallet = actions.btc.getWalletByWords(mnemonic, 1)\n    const psbt = bitcoin.Psbt.fromHex(txHash)\n\n    psbt.signAllInputs(bitcoin.ECPair.fromWIF(mnemonicWallet.WIF, btc.network))\n\n    psbt.finalizeAllInputs();\n\n    const rawTx = psbt.extractTransaction().toHex()\n\n    if (!rawTx) {\n      reject('rawTx empty')\n    } else {\n      resolve(rawTx)\n    }\n  })\n}\n\nconst signSmsMnemonicAndBuild = (txHash, mnemonic) => {\n  return new Promise(async (resolve, reject) => {\n    const mnemonicWallet = actions.btc.getWalletByWords(mnemonic, 1)\n    const psbt = bitcoin.Psbt.fromHex(txHash)\n\n    psbt.signAllInputs(bitcoin.ECPair.fromWIF(mnemonicWallet.WIF, btc.network))\n\n    psbt.finalizeAllInputs();\n\n    const rawTx = psbt.extractTransaction().toHex()\n\n    if (!rawTx) {\n      reject('rawTx empty')\n    } else {\n      resolve(rawTx)\n    }\n  })\n}\n\nconst checkPinCanRestory = (mnemonic) => {\n  const mnemonicWallet = actions.btc.getWalletByWords(mnemonic, 1)\n  //@ts-ignore: strictNullChecks\n  let btcSmsMnemonicKey: MnemonicKey = localStorage.getItem(constants.privateKeyNames.btcSmsMnemonicKey)\n  \n  try {\n    //@ts-ignore: strictNullChecks\n    btcSmsMnemonicKey = JSON.parse(btcSmsMnemonicKey)\n  } catch (e) {\n    console.error(e)\n  }\n\n  if (btcSmsMnemonicKey instanceof Array && btcSmsMnemonicKey.length > 0) {\n    return btcSmsMnemonicKey.includes(mnemonicWallet.publicKey)\n  }\n  return false\n}\n\nconst checkPinMnemonic = (mnemonic) => {\n  const {\n    user: {\n      btcMultisigPinData: {\n        publicKeys,\n      },\n    },\n  } = getState()\n  const mnemonicWallet = actions.btc.getWalletByWords(mnemonic, 1)\n\n  if (mnemonicWallet) {\n    const matchedKeys = publicKeys.filter((key) => key.toString('Hex') === mnemonicWallet.publicKey)\n    return (matchedKeys.length > 0)\n  }\n  return false\n}\n\nconst checkSmsMnemonic = (mnemonic) => {\n  const {\n    user: {\n      btcMultisigSMSData: {\n        publicKeys,\n      },\n    },\n  } = getState()\n  const mnemonicWallet = actions.btc.getWalletByWords(mnemonic, 1)\n\n  if (mnemonicWallet) {\n    const matchedKeys = publicKeys.filter((key) => key.toString('Hex') === mnemonicWallet.publicKey)\n    return (matchedKeys.length > 0)\n  }\n  return false\n}\n\nconst fetchUnspents = (address) => {\n  const result: any = actions.btc.fetchUnspents(address)\n  return result\n}\n\nconst broadcastTx = (txRaw) => {\n  const result: any = actions.btc.broadcastTx(txRaw)\n  return result\n}\n\nconst signMessage = (message, encodedPrivateKey) => {\n  const keyPair = bitcoin.ECPair.fromWIF(encodedPrivateKey, [bitcoin.networks.bitcoin, bitcoin.networks.testnet])\n  //@ts-ignore\n  const privateKey = keyPair.d.toBuffer(32)\n\n  const signature = bitcoinMessage.sign(message, privateKey, keyPair.compressed)\n\n  return signature.toString('base64')\n}\n\nconst getReputation = () => Promise.resolve(0)\n\n\nexport default {\n  // SMS Protected\n  beginRegisterSMS,\n  confirmRegisterSMS,\n  checkSMSActivated,\n  getBalance,\n  login_SMS,\n  checkG2FAActivated,\n  checkUserActivated,\n  getTransactionSMS,\n  sendSMSProtected,\n  confirmSMSProtected,\n  enableWalletSMS,\n  signSmsMnemonic,\n  signSmsMnemonicAndBuild,\n  checkSmsMnemonic,\n  getInvoicesSMS,\n  addSMSWallet,\n  isBTCSMSAddress,\n  getSmsKeyFromMnemonic,\n\n  // Pin protected\n  login_PIN,\n  register_PIN,\n  checkPINActivated,\n  addPinWallet,\n  getBalancePin,\n  sendPinProtected,\n  checkPinMnemonic,\n  signPinMnemonic,\n  checkPinCanRestory,\n  getTransactionPIN,\n\n  // User multisig\n  login_USER,\n  getBalanceUser,\n  getTransaction,\n  getTransactionUser,\n\n  send,\n\n  fetchUnspents,\n  broadcastTx,\n  broadcastTX2Room,\n  fetchTx,\n  fetchTxInfo,\n  fetchBalance,\n  signMessage,\n  getReputation,\n  enableWalletUSER,\n\n  parseRawTX,\n  signMultiSign,\n\n  onUserMultisigJoin,\n  onUserMultisigSend,\n  getInvoicesUser,\n\n  getBtcMultisigKeys,\n  addBtcMultisigKey,\n  removeBtcMultisigNey,\n  switchBtcMultisigKey,\n\n  fetchMultisigBalances,\n\n  isBTCMSUserAddress,\n  signToUserMultisig,\n\n  // common\n  getAddrBalance,\n  addressToWallet,\n\n  // Google 2fa (draft not implements)\n  login_G2FA,\n  getBalanceG2FA,\n  getTransactionG2FA,\n  enableWalletG2FA,\n}\n","export default {\n  TOKEN_SWAP: [{ \"constant\": false, \"inputs\": [{ \"name\": \"_secret\", \"type\": \"bytes32\" }, { \"name\": \"_ownerAddress\", \"type\": \"address\" }], \"name\": \"withdraw\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [{ \"name\": \"_participantAddress\", \"type\": \"address\" }], \"name\": \"getSecret\", \"outputs\": [{ \"name\": \"\", \"type\": \"bytes32\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"_secretHash\", \"type\": \"bytes20\" }, { \"name\": \"_participantAddress\", \"type\": \"address\" }, { \"name\": \"_targetWallet\", \"type\": \"address\" }, { \"name\": \"_value\", \"type\": \"uint256\" }, { \"name\": \"_token\", \"type\": \"address\" }], \"name\": \"createSwapTarget\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"_secret\", \"type\": \"bytes32\" }, { \"name\": \"participantAddress\", \"type\": \"address\" }], \"name\": \"withdrawNoMoney\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [], \"name\": \"owner\", \"outputs\": [{ \"name\": \"\", \"type\": \"address\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [{ \"name\": \"\", \"type\": \"address\" }, { \"name\": \"\", \"type\": \"address\" }], \"name\": \"swaps\", \"outputs\": [{ \"name\": \"token\", \"type\": \"address\" }, { \"name\": \"targetWallet\", \"type\": \"address\" }, { \"name\": \"secret\", \"type\": \"bytes32\" }, { \"name\": \"secretHash\", \"type\": \"bytes20\" }, { \"name\": \"createdAt\", \"type\": \"uint256\" }, { \"name\": \"balance\", \"type\": \"uint256\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"_ownerAddress\", \"type\": \"address\" }, { \"name\": \"_participantAddress\", \"type\": \"address\" }], \"name\": \"closeSwapByAdminAfterOneYear\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"_secretHash\", \"type\": \"bytes20\" }, { \"name\": \"_participantAddress\", \"type\": \"address\" }, { \"name\": \"_value\", \"type\": \"uint256\" }, { \"name\": \"_token\", \"type\": \"address\" }], \"name\": \"createSwap\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"_secret\", \"type\": \"bytes32\" }, { \"name\": \"_ownerAddress\", \"type\": \"address\" }, { \"name\": \"participantAddress\", \"type\": \"address\" }], \"name\": \"withdrawOther\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [{ \"name\": \"tokenOwnerAddress\", \"type\": \"address\" }], \"name\": \"getTargetWallet\", \"outputs\": [{ \"name\": \"\", \"type\": \"address\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [], \"name\": \"admin\", \"outputs\": [{ \"name\": \"\", \"type\": \"address\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [{ \"name\": \"_ownerAddress\", \"type\": \"address\" }], \"name\": \"getBalance\", \"outputs\": [{ \"name\": \"\", \"type\": \"uint256\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"_participantAddress\", \"type\": \"address\" }], \"name\": \"refund\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"inputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"constructor\" }, { \"anonymous\": false, \"inputs\": [{ \"indexed\": false, \"name\": \"token\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"_buyer\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"_seller\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"_value\", \"type\": \"uint256\" }, { \"indexed\": false, \"name\": \"_secretHash\", \"type\": \"bytes20\" }, { \"indexed\": false, \"name\": \"createdAt\", \"type\": \"uint256\" }], \"name\": \"CreateSwap\", \"type\": \"event\" }, { \"anonymous\": false, \"inputs\": [{ \"indexed\": false, \"name\": \"_buyer\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"_seller\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"_secretHash\", \"type\": \"bytes20\" }, { \"indexed\": false, \"name\": \"withdrawnAt\", \"type\": \"uint256\" }], \"name\": \"Withdraw\", \"type\": \"event\" }, { \"anonymous\": false, \"inputs\": [{ \"indexed\": false, \"name\": \"_buyer\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"_seller\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"_secretHash\", \"type\": \"bytes20\" }], \"name\": \"Refund\", \"type\": \"event\" }],\n  NATIVE_COIN_SWAP: [{ \"constant\": false, \"inputs\": [{ \"name\": \"_secret\", \"type\": \"bytes32\" }, { \"name\": \"_ownerAddress\", \"type\": \"address\" }], \"name\": \"withdraw\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [{ \"name\": \"_participantAddress\", \"type\": \"address\" }], \"name\": \"getSecret\", \"outputs\": [{ \"name\": \"\", \"type\": \"bytes32\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [{ \"name\": \"\", \"type\": \"address\" }, { \"name\": \"\", \"type\": \"address\" }], \"name\": \"participantSigns\", \"outputs\": [{ \"name\": \"\", \"type\": \"uint256\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"_secret\", \"type\": \"bytes32\" }, { \"name\": \"participantAddress\", \"type\": \"address\" }], \"name\": \"withdrawNoMoney\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [], \"name\": \"owner\", \"outputs\": [{ \"name\": \"\", \"type\": \"address\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"_secretHash\", \"type\": \"bytes20\" }, { \"name\": \"_participantAddress\", \"type\": \"address\" }, { \"name\": \"_targetWallet\", \"type\": \"address\" }], \"name\": \"createSwapTarget\", \"outputs\": [], \"payable\": true, \"stateMutability\": \"payable\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [{ \"name\": \"\", \"type\": \"address\" }, { \"name\": \"\", \"type\": \"address\" }], \"name\": \"swaps\", \"outputs\": [{ \"name\": \"targetWallet\", \"type\": \"address\" }, { \"name\": \"secret\", \"type\": \"bytes32\" }, { \"name\": \"secretHash\", \"type\": \"bytes20\" }, { \"name\": \"createdAt\", \"type\": \"uint256\" }, { \"name\": \"balance\", \"type\": \"uint256\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"_ownerAddress\", \"type\": \"address\" }, { \"name\": \"_participantAddress\", \"type\": \"address\" }], \"name\": \"closeSwapByAdminAfterOneYear\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"_secretHash\", \"type\": \"bytes20\" }, { \"name\": \"_participantAddress\", \"type\": \"address\" }], \"name\": \"createSwap\", \"outputs\": [], \"payable\": true, \"stateMutability\": \"payable\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"_secret\", \"type\": \"bytes32\" }, { \"name\": \"_ownerAddress\", \"type\": \"address\" }, { \"name\": \"participantAddress\", \"type\": \"address\" }], \"name\": \"withdrawOther\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [], \"name\": \"ratingContractAddress\", \"outputs\": [{ \"name\": \"\", \"type\": \"address\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [{ \"name\": \"_ownerAddress\", \"type\": \"address\" }], \"name\": \"getTargetWallet\", \"outputs\": [{ \"name\": \"\", \"type\": \"address\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [], \"name\": \"admin\", \"outputs\": [{ \"name\": \"\", \"type\": \"address\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [{ \"name\": \"_ownerAddress\", \"type\": \"address\" }], \"name\": \"getBalance\", \"outputs\": [{ \"name\": \"\", \"type\": \"uint256\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"_participantAddress\", \"type\": \"address\" }], \"name\": \"refund\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"inputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"constructor\" }, { \"anonymous\": false, \"inputs\": [{ \"indexed\": false, \"name\": \"_buyer\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"_seller\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"_value\", \"type\": \"uint256\" }, { \"indexed\": false, \"name\": \"_secretHash\", \"type\": \"bytes20\" }, { \"indexed\": false, \"name\": \"createdAt\", \"type\": \"uint256\" }], \"name\": \"CreateSwap\", \"type\": \"event\" }, { \"anonymous\": false, \"inputs\": [{ \"indexed\": false, \"name\": \"_buyer\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"_seller\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"_secretHash\", \"type\": \"bytes20\" }, { \"indexed\": false, \"name\": \"withdrawnAt\", \"type\": \"uint256\" }], \"name\": \"Withdraw\", \"type\": \"event\" }, { \"anonymous\": false, \"inputs\": [{ \"indexed\": false, \"name\": \"_buyer\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"_seller\", \"type\": \"address\" }], \"name\": \"Close\", \"type\": \"event\" }, { \"anonymous\": false, \"inputs\": [{ \"indexed\": false, \"name\": \"_buyer\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"_seller\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"_secretHash\", \"type\": \"bytes20\" }], \"name\": \"Refund\", \"type\": \"event\" }],\n}","import Web3 from 'web3'\nimport { BigNumber } from 'bignumber.js'\nimport Transaction from 'ethereumjs-tx'\nimport { getState } from 'redux/core'\nimport actions from 'redux/actions'\nimport reducers from 'redux/core/reducers'\nimport DEFAULT_CURRENCY_PARAMETERS from 'common/helpers/constants/DEFAULT_CURRENCY_PARAMETERS'\nimport EVM_CONTRACTS_ABI from 'common/helpers/constants/EVM_CONTRACTS_ABI'\nimport ethLikeHelper from 'common/helpers/ethLikeHelper'\nimport * as mnemonicUtils from 'common/utils/mnemonic'\nimport typeforce from 'swap.app/util/typeforce'\nimport externalConfig from 'helpers/externalConfig'\nimport metamask from 'helpers/metamask'\nimport { feedback, constants, cacheStorageGet, cacheStorageSet, apiLooper } from 'helpers'\n\nclass EthLikeAction {\n  readonly coinName: string\n  readonly ticker: string // upper case (ex. ETH)\n  readonly tickerKey: string // lower case (ex. eth)\n  readonly privateKeyName: string\n  readonly explorerName: string\n  readonly explorerLink: string\n  readonly explorerApiKey: string\n  readonly chainId: number\n  readonly adminFeeObj: {\n    fee: string // percent of amount\n    address: string // where to send\n    min: string // min amount\n  }\n  readonly Web3: IUniversalObj\n  private cache = new Map([['addressIsContract', {}]])\n\n  constructor(options) {\n    const {\n      coinName,\n      ticker,\n      privateKeyName,\n      chainId,\n      explorerName,\n      explorerLink,\n      explorerApiKey,\n      adminFeeObj,\n      web3,\n    } = options\n\n    this.coinName = coinName\n    this.ticker = ticker\n    this.privateKeyName = privateKeyName.toLowerCase()\n    this.chainId = chainId\n    this.tickerKey = ticker.toLowerCase()\n    this.explorerName = explorerName\n    this.explorerLink = explorerLink\n    this.explorerApiKey = explorerApiKey\n    this.adminFeeObj = adminFeeObj\n    this.Web3 = web3\n  }\n\n  getCurrentWeb3 = () => metamask.getWeb3() || this.Web3\n\n  getWeb3 = () => {\n    return this.getCurrentWeb3()\n  }\n\n  reportError = (error) => {\n    feedback.actions.failed(\n      ''.concat(`details - ticker: ${this.ticker}, `, `error message - ${error.message} `)\n    )\n    console.group(`Actions >%c ${this.ticker}`, 'color: red;')\n    console.error('error: ', error)\n    console.groupEnd()\n  }\n\n  getPrivateKeyByAddress = (address) => {\n    const { user } = getState()\n    const currencyData = user[`${this.tickerKey}Data`]\n    const currencyMnemonicData = user[`${this.tickerKey}MnemonicData`]\n\n    if (currencyData.address === address) {\n      return currencyData.privateKey\n    }\n\n    if (currencyMnemonicData?.address === address) {\n      return currencyMnemonicData?.privateKey\n    }\n  }\n\n  getInvoices = () => {\n    const address = getState().user[`${this.tickerKey}Data`].address\n\n    return actions.invoices.getInvoices({\n      currency: this.ticker,\n      address,\n    })\n  }\n\n  getTx = (txRaw) => {\n    return txRaw.transactionHash\n  }\n\n  getTxRouter = (txId) => {\n    return `/${this.tickerKey}/tx/${txId}`\n  }\n\n  getLinkToInfo = (tx) => {\n    if (!tx) return\n    return `${this.explorerLink}/tx/${tx}`\n  }\n\n  fetchBalance = (address): Promise<number> => {\n    const Web3 = this.getCurrentWeb3()\n    return Web3.eth\n      .getBalance(address)\n      .then((result) => Number(Web3.utils.fromWei(result)))\n      .catch((error) => console.error(error))\n  }\n\n  fetchTxInfo = (hash) => {\n    const Web3 = this.getCurrentWeb3()\n    return new Promise((res, rej) => {\n      Web3.eth.getTransaction(hash)\n        .then((tx) => {\n          const { from, to, value, gas, gasPrice, blockHash } = tx\n\n          const amount = Web3.utils.fromWei(value)\n          const minerFee = new BigNumber(Web3.utils.toBN(gas).toNumber())\n            .multipliedBy(Web3.utils.toBN(gasPrice).toNumber())\n            .dividedBy(1e18)\n            .toNumber()\n\n          let adminFee: number | false = false\n\n          if (this.adminFeeObj && to !== this.adminFeeObj.address) {\n            const feeFromUsersAmount = new BigNumber(this.adminFeeObj.fee)\n              .dividedBy(100)\n              .multipliedBy(amount)\n\n            if (new BigNumber(this.adminFeeObj.min).isGreaterThan(feeFromUsersAmount)) {\n              adminFee = new BigNumber(this.adminFeeObj.min).toNumber()\n            } else {\n              adminFee = feeFromUsersAmount.toNumber()\n            }\n          }\n\n          res({\n            amount,\n            afterBalance: null,\n            receiverAddress: to,\n            senderAddress: from,\n            minerFee,\n            minerFeeCurrency: this.ticker,\n            adminFee,\n            confirmed: blockHash !== null,\n          })\n        })\n        .catch((error) => rej(error))\n    })\n  }\n\n  login = (privateKey, mnemonic = '', mnemonicKeys = {}) => {\n    let sweepToMnemonicReady = false\n\n    if (privateKey && mnemonic && mnemonicKeys && mnemonicKeys[this.tickerKey] === privateKey) {\n      sweepToMnemonicReady = true\n    }\n\n    if (!privateKey && mnemonic) {\n      sweepToMnemonicReady = true\n    }\n\n    const Web3 = this.getCurrentWeb3()\n    let data\n\n    if (privateKey) {\n      data = Web3.eth.accounts.privateKeyToAccount(privateKey)\n    } else {\n      if (!mnemonic) {\n        mnemonic = mnemonicUtils.getRandomMnemonicWords()\n      }\n\n      const accData = this.getWalletByWords(mnemonic)\n\n      privateKey = accData.privateKey\n      data = Web3.eth.accounts.privateKeyToAccount(privateKey)\n      localStorage.setItem(constants.privateKeyNames[`${this.privateKeyName}Mnemonic`], privateKey)\n\n    }\n\n    localStorage.setItem(constants.privateKeyNames[this.privateKeyName], data.privateKey)\n\n    Web3.eth.accounts.wallet.add(data.privateKey)\n    data.isMnemonic = sweepToMnemonicReady\n\n    reducers.user.setAuthData({ name: `${this.tickerKey}Data`, data })\n\n    if (!sweepToMnemonicReady) {\n      if (mnemonic === `-`) {\n        this.reportError({\n          message: 'Sweep. Can not auth. Need new mnemonic or enter own for re-login',\n        })\n        return\n      }\n\n      if (!mnemonicKeys || !mnemonicKeys[this.tickerKey]) {\n        this.reportError({\n          message: 'Sweep. Can not auth. Login key is undefined',\n        })\n        return\n      }\n\n      const mnemonicData = Web3.eth.accounts.privateKeyToAccount(mnemonicKeys[this.tickerKey])\n\n      Web3.eth.accounts.wallet.add(mnemonicKeys[this.tickerKey])\n      mnemonicData.isMnemonic = sweepToMnemonicReady\n\n      reducers.user.addWallet({\n        name: `${this.tickerKey}MnemonicData`,\n        data: {\n          currency: this.ticker,\n          fullName: `${this.coinName} (New)`,\n          balance: 0,\n          isBalanceFetched: false,\n          balanceError: null,\n          infoAboutCurrency: null,\n          ...mnemonicData,\n        },\n      })\n\n      new Promise(async (resolve) => {\n        const balance = await this.fetchBalance(mnemonicData.address)\n\n        reducers.user.setAuthData({\n          name: `${this.tickerKey}MnemonicData`,\n          data: {\n            balance,\n            isBalanceFetched: true,\n          },\n        })\n        resolve(true)\n      })\n    }\n\n    return data.privateKey\n  }\n\n  getBalance = (): Promise<number> => {\n    const address =\n      metamask.isEnabled() && metamask.isConnected()\n        ? metamask.getAddress()\n        : getState().user[`${this.tickerKey}Data`].address\n\n    const balanceInCache = cacheStorageGet('currencyBalances', `${this.tickerKey}_${address}`)\n\n    if (balanceInCache !== false) {\n      reducers.user.setBalance({\n        name: `${this.tickerKey}Data`,\n        amount: balanceInCache,\n      })\n      return balanceInCache\n    }\n\n    return this.fetchBalance(address)\n      .then((balance) => {\n        cacheStorageSet('currencyBalances', `${this.tickerKey}_${address}`, balance, 30)\n        reducers.user.setBalance({\n          name: `${this.tickerKey}Data`,\n          amount: balance,\n        })\n        return balance\n      })\n      .catch((error) => {\n        console.error(error)\n        reducers.user.setBalanceError({ name: `${this.tickerKey}Data` })\n        return 0\n      })\n  }\n\n  getAllMyAddresses = () => {\n    const { user } = getState()\n    const arrOfAddresses: string[] = []\n    const mnemonicDataAddress = user[`${this.tickerKey}MnemonicData`]?.address || ''\n    const dataAddress = user[`${this.tickerKey}Data`]?.address || ''\n    const metamaskAddress: string =\n      (metamask && metamask.isEnabled() && metamask.isConnected() && metamask.getAddress()) || ''\n\n    if (dataAddress) {\n      arrOfAddresses.push(dataAddress.toLowerCase())\n    }\n\n    if (mnemonicDataAddress.toLowerCase() !== dataAddress.toLowerCase()) {\n      arrOfAddresses.push(mnemonicDataAddress?.toLowerCase())\n    }\n\n    if (metamaskAddress && !arrOfAddresses.includes(metamaskAddress.toLowerCase())) {\n      arrOfAddresses.push(metamaskAddress.toLowerCase())\n    }\n\n    return arrOfAddresses\n  }\n\n  getTransaction = (address: string = ``, ownType: string = ``) => {\n    const ownerAddress = getState().user[`${this.tickerKey}Data`].address\n    address = address || ownerAddress\n\n    type ResponseItem = {\n      value: number\n      to: string\n      hash: string\n    }\n\n    return new Promise((resolve) => {\n      if (\n        // some blockchains don't have API\n        // don't show console errors in these cases\n        !this.explorerApiKey ||\n        !typeforce.isCoinAddress[this.ticker](address)\n      ) {\n        resolve([])\n      }\n\n      const Web3 = this.getCurrentWeb3()\n\n      const type = ownType || this.tickerKey\n      const internalUrl = `?module=account&action=txlistinternal&address=${address}&startblock=0&endblock=99999999&sort=asc&apikey=${this.explorerApiKey}`\n      const url = `?module=account&action=txlist&address=${address}&startblock=0&endblock=99999999&sort=asc&apikey=${this.explorerApiKey}`\n\n      apiLooper\n        .get(this.explorerName, internalUrl)\n        .then((response: any) => {\n          if (Array.isArray(response?.result)) {\n            const internals: ResponseItem[] = []\n  \n            response.result.map((item: ResponseItem) => {\n              const { value, to, hash } = item\n  \n              internals[hash] = {\n                value,\n                to,\n              }\n            })\n  \n            apiLooper\n              .get(this.explorerName, url)\n              .then((response: any) => {\n                if (Array.isArray(response.result)) {\n                  const transactions = response.result\n                    .filter((item: ResponseItem) => {\n                      return (\n                        item.value > 0 || (internals[item.hash] && internals[item.hash].value > 0)\n                      )\n                    })\n                    .map((item) => ({\n                      type,\n                      confirmations: item.confirmations,\n                      hash: item.hash,\n                      status: item.blockHash !== null ? 1 : 0,\n                      value: Web3.utils.fromWei(\n                        internals[item.hash] && internals[item.hash].value > 0\n                          ? internals[item.hash].value\n                          : item.value\n                      ),\n                      address: item.to,\n                      canEdit: address === ownerAddress,\n                      date: item.timeStamp * 1000,\n                      direction:\n                        internals[item.hash] &&\n                        internals[item.hash].to.toLowerCase() === address.toLowerCase()\n                          ? 'in'\n                          : address.toLowerCase() === item.to.toLowerCase()\n                          ? 'in'\n                          : 'out',\n                    }))\n                    .filter((item) => {\n                      if (item.direction === 'in') return true\n                      if (!this.adminFeeObj) return true\n                      if (address.toLowerCase() === this.adminFeeObj.address.toLowerCase())\n                        return true\n                      if (item.address.toLowerCase() === this.adminFeeObj.address.toLowerCase())\n                        return false\n  \n                      return true\n                    })\n  \n                  resolve(transactions)\n                } else {\n                  resolve([])\n                }\n              })\n              .catch((error) => {\n                this.reportError(error)\n                resolve([])\n              })\n          } else {\n            resolve([])\n          }\n        })\n        .catch((error) => {\n          resolve([])\n        })\n    })\n  }\n\n  getWalletByWords = (mnemonic: string, walletNumber: number = 0, path: string = '') => {\n    return mnemonicUtils.getEthLikeWallet({ mnemonic, walletNumber, path })\n  }\n\n  getSweepAddress = () => {\n    const { user } = getState()\n\n    if (user[`${this.tickerKey}MnemonicData`]?.address) {\n      return user[`${this.tickerKey}MnemonicData`].address\n    }\n\n    return false\n  }\n\n  checkSwapExists = async (params) => {\n    const { ownerAddress, participantAddress } = params\n    const Web3 = this.getCurrentWeb3()\n    const swapContract = new Web3.eth.Contract(EVM_CONTRACTS_ABI.NATIVE_COIN_SWAP, externalConfig.swapContract[this.tickerKey])\n\n    const swap = await swapContract.methods.swaps(ownerAddress, participantAddress).call()\n    const balance = swap && swap.balance ? parseInt(swap.balance) : 0\n\n    return balance > 0\n  }\n\n  send = async (params): Promise<{ transactionHash: string }> => {\n    let { externalAddress, externalPrivateKey, to, amount, gasPrice, gasLimit, speed } = params\n\n    // fake tx - turbo-swaps debug\n    // if (false) {\n    //   return new Promise(res => res({\n    //     transactionHash: '0x58facdbf5023a401f39998179995f0af1e54a64455145df6ed507abdecc1b0a4'\n    //   }))\n    // }\n\n    const Web3 = this.getCurrentWeb3()\n\n    const haveExternalWallet = externalAddress && !!externalPrivateKey\n    const ownerAddress = metamask.isConnected() ? metamask.getAddress() : getState().user[`${this.tickerKey}Data`].address\n    const recipientIsContract = await this.isContract(to)\n\n    gasPrice = gasPrice || (await ethLikeHelper[this.tickerKey].estimateGasPrice({ speed }))\n    gasLimit =\n      gasLimit ||\n      (recipientIsContract\n        ? DEFAULT_CURRENCY_PARAMETERS.evmLike.limit.contractInteract\n        : DEFAULT_CURRENCY_PARAMETERS.evmLike.limit.send)\n\n    if (this.ticker === 'ARBETH') {\n      gasLimit = DEFAULT_CURRENCY_PARAMETERS.arbeth.limit.send\n    }\n\n    let sendMethod = Web3.eth.sendTransaction\n    let txData: any = {\n      chainId: this.chainId,\n      from: Web3.utils.toChecksumAddress(ownerAddress),\n      to: to.trim(),\n      gasPrice,\n      gas: gasLimit,\n      value: Web3.utils.toHex(Web3.utils.toWei(String(amount), 'ether')),\n    }\n\n    let privateKey: string | undefined = undefined\n    let bufferPrivateKey: Buffer | undefined = undefined\n\n    if (haveExternalWallet) {\n      txData.from = externalAddress\n      privateKey = externalPrivateKey\n    } else {\n      privateKey = this.getPrivateKeyByAddress(ownerAddress)\n    }\n\n    if (privateKey) {\n      bufferPrivateKey = Buffer.from(privateKey?.replace('0x', ''), 'hex')\n    }\n\n    const walletData = actions.core.getWallet({\n      address: ownerAddress,\n      currency: this.ticker,\n    })\n\n    if (haveExternalWallet && !walletData?.isMetamask) {\n      txData = await this.signTransaction({\n        txData,\n        privateKey: bufferPrivateKey,\n      })\n      sendMethod = Web3.eth.sendSignedTransaction\n    }\n\n    return new Promise((res, rej) => {\n      const receipt = sendMethod(txData)\n        .on('transactionHash', (hash) => res({ transactionHash: hash }))\n        .on('error', (error) => rej(error))\n\n      if (this.adminFeeObj && !walletData.isMetamask) {\n        receipt.then(() => {\n          this.sendAdminTransaction({\n            from: txData?.from || externalAddress,\n            amount,\n            gasPrice,\n            gasLimit,\n            privateKey,\n          })\n        })\n      }\n    })\n  }\n\n  sendAdminTransaction = async (params): Promise<string> => {\n    const {\n      from,\n      amount,\n      gasPrice,\n      gasLimit,\n      privateKey,\n      externalAdminFeeObj,\n    } = params\n    const adminObj = externalAdminFeeObj || this.adminFeeObj\n    const minAmount = new BigNumber(adminObj.min)\n    const Web3 = this.getCurrentWeb3()\n    const bufferPrivateKey = Buffer.from(privateKey.replace('0x', ''), 'hex')\n\n    let feeFromUsersAmount = new BigNumber(adminObj.fee)\n      .dividedBy(100) // 100 %\n      .multipliedBy(amount)\n      .toNumber()\n\n    if (minAmount.isGreaterThan(feeFromUsersAmount)) {\n      feeFromUsersAmount = minAmount.toNumber()\n    }\n\n    const txData = {\n      chainId: this.chainId,\n      from: Web3.utils.toChecksumAddress(from),\n      to: adminObj.address.trim(),\n      gasPrice,\n      gas: gasLimit,\n      value: Web3.utils.toHex(\n        Web3.utils.toWei(String(feeFromUsersAmount),\n        'ether'\n      )),\n    }\n\n    return new Promise(async (res) => {\n      const signedTx = await this.signTransaction({\n        txData,\n        privateKey: bufferPrivateKey,\n      })\n\n      Web3.eth.sendSignedTransaction(signedTx)\n        .on('transactionHash', (hash) => {\n          console.group('%c Admin commission is sended', 'color: green;')\n          console.log('tx hash', hash)\n          console.groupEnd()\n          res(hash)\n        })\n    })\n  }\n\n  signTransaction = async (params) => {\n    const { txData, privateKey } = params\n    const Web3 = this.getCurrentWeb3()\n\n    const txCount = await Web3.eth.getTransactionCount(txData.from)\n    const nonce = Web3.utils.toHex(txCount)\n    const transaction = new Transaction({ ...txData, nonce }, { chainId: this.chainId })\n\n    transaction.sign(privateKey)\n\n    return '0x' + transaction.serialize().toString('hex')\n  }\n\n  sweepToMnemonic = (mnemonic, path?) => {\n    // ? what's that, how does it work ? Wrong arguments order. Check this.getWalletByWords method\n    const wallet = this.getWalletByWords(mnemonic, path)\n\n    window.localStorage.setItem(\n      constants.privateKeyNames[`${this.tickerKey}Mnemonic`],\n      wallet.privateKey\n    )\n\n    return wallet.privateKey\n  }\n\n  isSweeped = () => {\n    const { user } = getState()\n\n    if (\n      user[`${this.tickerKey}Data`]?.address?.toLowerCase() !==\n      user[`${this.tickerKey}MnemonicData`]?.address?.toLowerCase()\n    ) {\n      return false\n    }\n\n    return true\n  }\n\n  isContract = async (address: string): Promise<boolean> => {\n    const lowerAddress = address.toLowerCase()\n    const contractsList = this.cache.get('addressIsContract') || {}\n\n    if (contractsList && contractsList[lowerAddress]) {\n      return contractsList[lowerAddress]\n    }\n\n    const Web3 = this.getCurrentWeb3()\n\n    const codeAtAddress = await Web3.eth.getCode(address)\n    const codeIsEmpty = !codeAtAddress || codeAtAddress === '0x' || codeAtAddress === '0x0'\n\n    contractsList[lowerAddress] = !codeIsEmpty\n\n    return !codeIsEmpty\n  }\n\n  // ! Delete from project. Temporary\n  getReputation = () => Promise.resolve(0)\n}\n\nexport default {\n  ETH: new EthLikeAction({\n    coinName: 'Ethereum',\n    ticker: 'ETH',\n    privateKeyName: 'eth',\n    chainId: externalConfig.evmNetworks.ETH.chainId,\n    explorerName: 'etherscan',\n    explorerLink: externalConfig.link.etherscan,\n    explorerApiKey: externalConfig.api.etherscan_ApiKey,\n    adminFeeObj: externalConfig.opts?.fee?.eth,\n    web3: new Web3(new Web3.providers.HttpProvider(externalConfig.web3.provider)),\n  }),\n  // use an ethereum private key for EVM compatible blockchains\n  BNB: new EthLikeAction({\n    coinName: 'Binance Coin',\n    ticker: 'BNB',\n    privateKeyName: 'eth',\n    chainId: externalConfig.evmNetworks.BNB.chainId,\n    explorerName: 'bscscan',\n    explorerLink: externalConfig.link.bscscan,\n    explorerApiKey: externalConfig.api.bscscan_ApiKey,\n    adminFeeObj: externalConfig.opts?.fee?.bnb,\n    web3: new Web3(new Web3.providers.HttpProvider(externalConfig.web3.binance_provider)),\n  }),\n  MATIC: new EthLikeAction({\n    coinName: 'MATIC Token',\n    ticker: 'MATIC',\n    privateKeyName: 'eth',\n    chainId: externalConfig.evmNetworks.MATIC.chainId,\n    explorerName: 'explorer-mumbai',\n    explorerLink: externalConfig.link.maticscan,\n    explorerApiKey: externalConfig.api.polygon_ApiKey,\n    adminFeeObj: externalConfig.opts?.fee?.matic,\n    web3: new Web3(new Web3.providers.HttpProvider(externalConfig.web3.matic_provider)),\n  }),\n  ARBETH: new EthLikeAction({\n    coinName: 'Arbitrum ETH',\n    ticker: 'ARBETH',\n    privateKeyName: 'eth',\n    chainId: externalConfig.evmNetworks.ARBETH.chainId,\n    explorerName: 'rinkeby-explorer',\n    explorerLink: externalConfig.link.arbitrum,\n    explorerApiKey: '',\n    adminFeeObj: externalConfig.opts?.fee?.arbeth,\n    web3: new Web3(new Web3.providers.HttpProvider(externalConfig.web3.arbitrum_provider)),\n  }),\n}\n","import Web3 from 'web3'\nimport InputDataDecoder from 'ethereum-input-data-decoder'\nimport TokenAbi from 'human-standard-token-abi'\nimport { BigNumber } from 'bignumber.js'\nimport { getState } from 'redux/core'\nimport actions from 'redux/actions'\nimport reducers from 'redux/core/reducers'\nimport DEFAULT_CURRENCY_PARAMETERS from 'common/helpers/constants/DEFAULT_CURRENCY_PARAMETERS'\nimport EVM_CONTRACTS_ABI from 'common/helpers/constants/EVM_CONTRACTS_ABI'\nimport TOKEN_STANDARDS from 'helpers/constants/TOKEN_STANDARDS'\nimport ethLikeHelper from 'common/helpers/ethLikeHelper'\nimport erc20Like from 'common/erc20Like'\nimport { apiLooper, constants, cacheStorageGet, cacheStorageSet, feedback } from 'helpers'\nimport externalConfig from 'helpers/externalConfig'\nimport metamask from 'helpers/metamask'\nimport getCoinInfo from 'common/coins/getCoinInfo'\n\nconst NETWORK = process.env.MAINNET ? 'mainnet' : 'testnet'\nconst Decoder = new InputDataDecoder(TokenAbi)\n\n\nclass Erc20LikeAction {\n  readonly currency: string\n  readonly currencyKey: string\n  readonly standard: string // (ex. erc20, bep20, ...)\n  readonly explorerName: string\n  readonly explorerLink: string\n  readonly explorerApiKey: string\n  readonly adminFeeObj: {\n    fee: string // percent of amount\n    address: string // where to send\n    min: string // min amount\n  }\n  private Web3: IUniversalObj\n\n  constructor(params) {\n    const {\n      currency,\n      standard,\n      explorerName,\n      explorerLink,\n      explorerApiKey,\n      adminFeeObj,\n      web3,\n    } = params\n\n    this.currency = currency\n    this.currencyKey = currency.toLowerCase()\n    this.standard = standard\n    this.explorerName = explorerName\n    this.explorerLink = explorerLink\n    this.explorerApiKey = explorerApiKey\n    this.adminFeeObj = adminFeeObj\n    this.Web3 = web3\n  }\n\n  reportError = (error) => {\n    feedback.actions.failed(\n      ''.concat(`details - standard: ${this.standard}, `, `error message - ${error.message} `)\n    )\n    console.group(`Actions >%c ${this.standard}`, 'color: red;')\n    console.error('error: ', error)\n    console.log('%c Stack trace', 'color: orange;')\n    console.trace()\n    console.groupEnd()\n  }\n\n  getCurrentWeb3 = () => metamask.getWeb3() || this.Web3\n\n  addToken = (params) => {\n    const { standard, contractAddr, symbol, decimals, baseCurrency } = params\n    const customTokens = this.getCustomTokensConfig()\n    const privateKey = localStorage.getItem(constants.privateKeyNames[baseCurrency])\n\n    customTokens[NETWORK][standard][contractAddr] = {\n      address: contractAddr,\n      symbol,\n      decimals,\n      baseCurrency,\n      standard: this.standard,\n    }\n\n    localStorage.setItem(constants.localStorage.customToken, JSON.stringify(customTokens))\n    this.login(privateKey, contractAddr, symbol, decimals, symbol)\n  }\n\n  getInfoAboutToken = async (contractAddress) => {\n    const isContract = await actions[this.currencyKey].isContract(contractAddress)\n\n    try {      \n      if (isContract) {\n        const Web3 = await actions[this.currencyKey].getCurrentWeb3()\n        const contract = new Web3.eth.Contract(TokenAbi, contractAddress)\n\n        const name = await contract.methods.name().call()\n        const symbol = await contract.methods.symbol().call()\n        const decimals = await contract.methods.decimals().call()\n  \n        return {\n          name,\n          symbol,\n          decimals: Number(decimals),\n        }\n      } \n    } catch (error) {\n      this.reportError(error)\n    }\n\n    return false\n  }\n\n  getCustomTokensConfig = () => {\n    const customTokens = JSON.parse(localStorage.getItem(constants.localStorage.customToken) || '{}')\n    const fillInTokensConfig = (configName) => {\n      customTokens[configName] = {}\n\n      Object.keys(TOKEN_STANDARDS).forEach((key) => {\n        const standard = TOKEN_STANDARDS[key].standard\n\n        customTokens[configName][standard] = {}\n      })\n    }\n\n    if (!customTokens.testnet) {\n      fillInTokensConfig('testnet')\n    }\n\n    if (!customTokens.mainnet) {\n      fillInTokensConfig('mainnet')\n    }\n\n    return customTokens\n  }\n\n  getTx = (txRaw) => {\n    return txRaw.transactionHash\n  }\n\n  getTxRouter = (txId, currency) => {\n    return `/token/${currency}/tx/${txId}`\n  }\n\n  getLinkToInfo = (tx) => {\n    if (!tx) return\n    return `${this.explorerLink}/tx/${tx}`\n  }\n\n  getBalance = async (tokenName) => {\n    if (tokenName === undefined) return\n\n    const {\n      address: ownerAddress,\n      contractAddress,\n      decimals,\n      name,\n      tokenKey\n    } = this.returnTokenInfo(tokenName)\n\n    if(metamask.isConnected() && !metamask.isAvailableNetworkByCurrency(tokenKey)) return\n\n    const address = metamask.isConnected() ? metamask.getAddress() : ownerAddress\n    const balanceInCache = cacheStorageGet('currencyBalances', `token_${tokenKey}_${address}`)\n\n    if (balanceInCache !== false) {\n      reducers.user.setTokenBalance({\n        baseCurrency: this.currencyKey,\n        name,\n        amount: balanceInCache,\n      })\n      return balanceInCache\n    }\n\n    try {\n      const amount = await this.fetchBalance(address, contractAddress, decimals)\n\n      reducers.user.setTokenBalance({\n        baseCurrency: this.currencyKey,\n        name,\n        amount,\n      })\n      cacheStorageSet('currencyBalances', `token_${tokenKey}_${address}`, amount, 60)\n\n      return amount\n    } catch (error) {\n      console.error(error)\n\n      reducers.user.setTokenBalanceError({\n        baseCurrency: this.currencyKey,\n        name,\n      })\n    }\n  }\n\n  getTransaction = (ownAddress, tokenName): Promise<IUniversalObj[]> => {\n    return new Promise((res) => {\n      const { user: { tokensData } } = getState()\n      // if we have a base currency prefix then delete it\n      tokenName = tokenName.replace(/^\\{[a-z]+\\}/, '')\n      const tokenKey = `{${this.currencyKey}}${tokenName.toLowerCase()}`\n      const { address = ownAddress, contractAddress } = tokensData[tokenKey]\n\n\n      const url = ''.concat(\n        `?module=account&action=tokentx`,\n        `&contractaddress=${contractAddress}`,\n        `&address=${address}`,\n        `&startblock=0&endblock=99999999`,\n        `&sort=asc&apikey=${this.explorerApiKey}`\n      )\n\n      return apiLooper\n        .get(this.explorerName, url, {\n          cacheResponse: 30 * 1000, // 30 seconds\n        })\n        .then((response: IUniversalObj) => {\n          if (Array.isArray(response.result)) {\n            const transactions = response.result\n              .filter((item) => item.value > 0)\n              .map((item) => ({\n                confirmations: item.confirmations,\n                type: tokenName.toLowerCase(),\n                standard: this.standard,\n                baseCurrency: this.currencyKey,\n                hash: item.hash,\n                contractAddress: item.contractAddress,\n                status: item.blockHash !== null ? 1 : 0,\n                value: new BigNumber(String(item.value))\n                  .dividedBy(new BigNumber(10).pow(Number(item.tokenDecimal)))\n                  .toNumber(),\n                address: item.to,\n                date: item.timeStamp * 1000,\n                direction: address.toLowerCase() === item.to.toLowerCase() ? 'in' : 'out',\n              }))\n              .filter((item) => {\n                if (\n                  item.direction === 'in' ||\n                  !this.adminFeeObj ||\n                  address.toLowerCase() === this.adminFeeObj.address.toLowerCase()\n                ) {\n                  return true\n                }\n\n                if (item.address.toLowerCase() === this.adminFeeObj.address.toLowerCase()) {\n                  return false\n                }\n\n                return true\n              })\n\n            res(transactions)\n          } else {\n            res([])\n          }\n        })\n        .catch((error) => {\n          this.reportError(error)\n          res([])\n        })\n    })\n  }\n\n  fetchBalance = async (address, contractAddress, decimals) => {\n    const Web3 = this.getCurrentWeb3()\n    const contract = new Web3.eth.Contract(TokenAbi, contractAddress)\n    const result = await contract.methods.balanceOf(address).call()\n\n    return new BigNumber(String(result))\n      .dividedBy(new BigNumber(String(10)).pow(decimals))\n      .toNumber()\n  }\n\n  fetchTokenTxInfo = async (ticker, hash) => {\n    return new Promise(async (res) => {\n      let txInfo = await this.fetchTxInfo(hash)\n\n      if (txInfo && txInfo.isContractTx) {\n        // This is tx to contract. Fetch all txs and find this tx\n        const transactions: IUniversalObj = await this.getTransaction(txInfo.senderAddress, ticker)\n        const ourTx = transactions.filter((tx) => tx.hash.toLowerCase() === hash.toLowerCase())\n\n        if (ourTx.length) {\n          txInfo.amount = ourTx[0].value\n          txInfo.adminFee = false // Swap doesn't have service fee\n\n          if (ourTx[0].direction == `in`) {\n            txInfo = {\n              ...txInfo,\n              receiverAddress: txInfo.senderAddress,\n              senderAddress: txInfo.receiverAddress,\n            }\n          }\n        }\n      }\n\n      res(txInfo)\n    })\n  }\n\n  fetchTxInfo = async (hash): Promise<IUniversalObj | false> => {\n    return new Promise(async (res) => {\n      const {\n        user: { tokensData },\n      } = getState()\n      const Web3 = this.getCurrentWeb3()\n      Web3.eth.getTransaction(hash)\n        .then((tx) => {\n          let amount = 0\n          let receiverAddress = tx.to\n          const contractAddress = tx.to\n          let tokenDecimal = 18\n\n          for (const key in tokensData) {\n            if (\n              tokensData[key]?.decimals &&\n              tokensData[key]?.contractAddress?.toLowerCase() == contractAddress.toLowerCase()\n            ) {\n              tokenDecimal = tokensData[key].decimals\n              break\n            }\n          }\n\n          const txData = Decoder.decodeData(tx.input)\n\n          if (\n            (txData && txData.inputs?.length === 2 && txData.name === `transfer`) ||\n            txData.method === `transfer`\n          ) {\n            receiverAddress = `0x${txData.inputs[0]}`\n            amount = new BigNumber(txData.inputs[1])\n              .div(new BigNumber(10).pow(tokenDecimal))\n              .toNumber()\n          }\n\n          const { from, gas, gasPrice, blockHash } = tx\n\n          const minerFee = new BigNumber(Web3.utils.toBN(gas).toNumber())\n            .multipliedBy(Web3.utils.toBN(gasPrice).toNumber())\n            .dividedBy(1e18)\n            .toNumber()\n\n          let adminFee: number | false = false\n\n          if (this.adminFeeObj) {\n            const feeFromUsersAmount = new BigNumber(this.adminFeeObj.fee)\n              .dividedBy(100)\n              .multipliedBy(amount)\n\n            if (new BigNumber(this.adminFeeObj.min).isGreaterThan(feeFromUsersAmount)) {\n              adminFee = new BigNumber(this.adminFeeObj.min).toNumber()\n            } else {\n              adminFee = feeFromUsersAmount.toNumber()\n            }\n          }\n\n          res({\n            amount,\n            afterBalance: null,\n            receiverAddress,\n            senderAddress: from,\n            minerFee,\n            minerFeeCurrency: this.currency,\n            adminFee,\n            confirmed: blockHash !== null,\n            isContractTx:\n              contractAddress.toLowerCase() === externalConfig.swapContract[this.standard].toLowerCase(),\n          })\n        })\n        .catch((error) => {\n          this.reportError(error)\n          res(false)\n        })\n    })\n  }\n\n  fetchFees = async (params) => {\n    const { gasPrice, gasLimit, speed } = params\n    const newGasPrice = gasPrice || await ethLikeHelper[this.currencyKey].estimateGasPrice({ speed })\n    const newGasLimit = gasLimit || DEFAULT_CURRENCY_PARAMETERS.evmLikeToken.limit.send\n\n    return {\n      gas: newGasLimit,\n      gasPrice: newGasPrice,\n    }\n  }\n\n  login = (privateKey, contractAddress, nameContract, decimals, fullName) => {\n    let data\n\n    const Web3 = this.getCurrentWeb3()\n    if (privateKey) {\n      data = Web3.eth.accounts.privateKeyToAccount(privateKey)\n    } else {\n      data = Web3.eth.accounts.create()\n      Web3.eth.accounts.wallet.add(data)\n    }\n\n    Web3.eth.accounts.wallet.add(data.privateKey)\n    this.setupContract(data.address, contractAddress, nameContract, decimals, fullName)\n  }\n\n  setupContract = (ethAddress, contractAddress, nameContract, decimals, fullName) => {\n    const Web3 = this.getCurrentWeb3()\n    if (!Web3.eth.accounts.wallet[ethAddress]) {\n      throw new Error('web3 does not have given address')\n    }\n\n    const isSweeped = actions[this.currencyKey].isSweeped()\n\n    let data = {\n      address: ethAddress,\n      balance: 0,\n      name: nameContract.toLowerCase(),\n      fullName,\n      currency: nameContract.toUpperCase(),\n      contractAddress,\n      decimals,\n      isMnemonic: isSweeped,\n      isMetamask: false,\n      isConnected: false,\n      // TODO: use a standard key and delete this key\n      isERC20: this.standard === 'erc20',\n      standard: this.standard,\n      isToken: true,\n      blockchain: TOKEN_STANDARDS[this.standard].currency,\n      baseCurrency: this.currencyKey,\n      tokenKey: `{${this.currencyKey}}${nameContract.toLowerCase()}`,\n    }\n\n    if (metamask.isEnabled() && metamask.isConnected()) {\n      data = {\n        ...data,\n        address: metamask.getAddress(),\n        isMetamask: true,\n        isConnected: true,\n      }\n    }\n\n\n    reducers.user.setTokenAuthData({\n      baseCurrency: this.currencyKey,\n      name: data.name,\n      data,\n    })\n\n  }\n\n  send = async (params) => {\n    const { name, from, to, amount, ...feeConfig } = params\n    const { tokenContract, decimals } = this.returnTokenInfo(name)\n    const feeResult = await this.fetchFees({ ...feeConfig })\n    const txArguments = {\n      gas: feeResult.gas,\n      gasPrice: feeResult.gasPrice,\n      from,\n    }\n\n    const hexAmountWithDecimals = new BigNumber(amount)\n      .multipliedBy(10 ** decimals)\n      .toString(16)\n    const walletData = actions.core.getWallet({\n      address: from,\n      currency: name,\n    })\n\n    return new Promise(async (res, rej) => {\n      const receipt = tokenContract.methods\n        // hex amount fixes a BigNumber error\n        .transfer(to, '0x' + hexAmountWithDecimals)\n        .send(txArguments)\n        .on('transactionHash', (hash) => res({ transactionHash: hash }))\n        .on('error', (error) => {\n          this.reportError(error)\n          rej(error)\n        })\n\n      // Admin fee transaction\n      if (this.adminFeeObj && !walletData.isMetamask) {\n        receipt.then(() => {\n          this.sendAdminTransaction({\n            txArguments,\n            tokenContract,\n            decimals,\n            amount,\n          })\n        })\n      }\n    })\n  }\n\n  sendAdminTransaction = async (params) => {\n    const { tokenContract, amount, decimals, txArguments } = params\n    const minAmount = new BigNumber(this.adminFeeObj.min)\n    let feeFromUsersAmount = new BigNumber(this.adminFeeObj.fee)\n      .dividedBy(100) // 100 %\n      .multipliedBy(amount)\n\n    if (minAmount.isGreaterThan(feeFromUsersAmount)) {\n      feeFromUsersAmount = minAmount\n    }\n\n    const hexFeeWithDecimals = feeFromUsersAmount\n      .multipliedBy(10 ** decimals)\n      .toString(16)\n\n    return new Promise(async (res) => {\n      await tokenContract.methods\n        // hex amount fixes a BigNumber error\n        .transfer(this.adminFeeObj.address, '0x' + hexFeeWithDecimals)\n        .send(txArguments)\n        .on('transactionHash', (hash) => {\n          console.group('%c Admin commission is sended', 'color: green;')\n          console.log('standard', this.standard)\n          console.log('tx hash', hash)\n          console.groupEnd()\n          res(hash)\n        })\n    })\n  }\n\n  approve = async (params) => {\n    const { name, to, amount } = params\n    const { tokenContract, decimals } = this.returnTokenInfo(name)\n    const feeResult = await this.fetchFees({ speed: 'fast' })\n\n    const exp = new BigNumber(10).pow(decimals)\n    const weiAmount = new BigNumber(amount).times(exp).toString()\n\n    return new Promise(async (res, rej) => {\n      const receipt = await tokenContract.methods\n        .approve(to, weiAmount)\n        .send(feeResult)\n        .on('transactionHash', (hash) => {\n          console.group('Actions >%c approve the token', 'color: green')\n          console.log(`standard: ${this.standard}; name: ${name}`)\n          console.log('tx hash: ', hash)\n          console.groupEnd()\n        })\n        .catch((error) => {\n          this.reportError(error)\n          rej(error)\n        })\n\n      res(receipt.transactionHash)\n    })\n  }\n\n  checkSwapExists = async (params) => {\n    const { ownerAddress, participantAddress } = params\n    const Web3 = this.getCurrentWeb3()\n    const swapContract = new Web3.eth.Contract(EVM_CONTRACTS_ABI.TOKEN_SWAP, externalConfig.swapContract[this.standard])\n\n    const swap = await swapContract.methods.swaps(ownerAddress, participantAddress).call()\n    const balance = swap && swap.balance ? parseInt(swap.balance) : 0\n\n    return balance > 0\n  }\n\n  setAllowance = async (params) => {\n    const { name, to, targetAllowance } = params\n    const { decimals, address, contractAddress } = this.returnTokenInfo(name)\n\n    try {\n      const allowance = await erc20Like[this.standard].checkAllowance({\n        tokenOwnerAddress: address,\n        tokenContractAddress: contractAddress,\n        decimals,\n      })\n\n      // if contract has enough allowance then skip\n      if (new BigNumber(targetAllowance).isLessThanOrEqualTo(allowance)) {\n        return Promise.resolve()\n      }\n\n      return this.approve({ name, to, amount: targetAllowance })\n    } catch (error) {\n      this.reportError(error)\n    }\n  }\n\n  returnTokenInfo = (name) => {\n    if (!name) throw new Error(`${this.standard} actions; returnTokenInfo(name): name is undefined`)\n    const Web3 = this.getCurrentWeb3()\n\n    try {\n      const { user: { tokensData } } = getState()\n      const tokenInfo = getCoinInfo(name)\n      const tokenKey = !tokenInfo.blockchain ? `{${this.currencyKey}}${name.toLowerCase()}` : name.toLowerCase()\n\n      const { address, contractAddress, decimals, name: tokenName } = tokensData[tokenKey]\n\n      const tokenContract = new Web3.eth.Contract(TokenAbi, contractAddress, {\n        from: address,\n      })\n\n      return {\n        address,\n        name: tokenName,\n        tokenKey,\n        contractAddress,\n        tokenContract,\n        decimals,\n      }\n    } catch (error) {\n      this.reportError(error)\n      throw new Error(error)\n    }\n  }\n}\n\nexport default {\n  erc20: new Erc20LikeAction({\n    currency: 'ETH',\n    standard: 'erc20',\n    explorerName: 'etherscan',\n    explorerLink: externalConfig.link.etherscan,\n    explorerApiKey: externalConfig.api.etherscan_ApiKey,\n    adminFeeObj: externalConfig.opts?.fee?.erc20,\n    web3: new Web3( new Web3.providers.HttpProvider(externalConfig.web3.provider) ),\n  }),\n  bep20: new Erc20LikeAction({\n    currency: 'BNB',\n    standard: 'bep20',\n    explorerName: 'bscscan',\n    explorerLink: externalConfig.link.bscscan,\n    explorerApiKey: externalConfig.api.bscscan_ApiKey,\n    adminFeeObj: externalConfig.opts?.fee?.bep20,\n    web3: new Web3( new Web3.providers.HttpProvider(externalConfig.web3.binance_provider) ),\n  }),\n  erc20matic: new Erc20LikeAction({\n    currency: 'MATIC',\n    standard: 'erc20matic',\n    explorerName: 'explorer-mumbai',\n    explorerLink: externalConfig.link.maticscan,\n    explorerApiKey: externalConfig.api.polygon_ApiKey,\n    adminFeeObj: externalConfig.opts?.fee?.erc20matic,\n    web3: new Web3( new Web3.providers.HttpProvider(externalConfig.web3.matic_provider) ),\n  })\n}\n","import reducers from 'redux/core/reducers'\nimport config from 'app-config'\n\n\n\n\nconst checkServers = () => {\n  reducers.api.setChecked(false)\n  return Promise.all(\n    Object.keys(config.apiAlternatives).map(provider => Promise.race(\n      config.apiAlternatives[provider].map(\n        (server) => new Promise((resolve, reject) => {\n          fetch(`${server}/status`).then(() => resolve(server)).catch(e => reject(e))\n        })\n      )\n    ).then(chosen => {\n      reducers.api.setApiServer(provider, chosen)\n      console.log(`[${provider}] ${chosen} is OK, using it`)\n    })\n    )\n  ).then(() => {\n    reducers.api.setChecked(true)\n    console.log('All servers is OK.')\n  }).catch(e => reducers.api.setErrors(true))\n}\n\nexport default {\n  checkServers,\n}\n","import { getState } from 'redux/core'\nimport reducers from 'redux/core/reducers'\nimport config from 'app-config'\nimport { parsePair } from 'shared/pages/Exchange/Orders/Pair'\nimport TRADE_TICKERS from 'helpers/constants/TRADE_TICKERS'\nimport actions from 'redux/actions'\n\ntype Currency = {\n  fullTitle: string\n  icon: string\n  name: string\n  title: string\n  value: string\n}\n\nconst filter = (value, tikers, items): Currency[] => {\n  const selectedPairsBase = tikers\n    .map(ticker => parsePair(ticker))\n    .filter(({ BASE }) => BASE.toLowerCase() === value.toLowerCase())\n    .map(({ MAIN, BASE }) => MAIN)\n\n  const selectedPairsMain = tikers\n    .map(ticker => parsePair(ticker))\n    .filter(({ MAIN }) => MAIN.toLowerCase() === value.toLowerCase())\n    .map(({ MAIN, BASE }) => BASE)\n\n  const pairs = selectedPairsBase.concat(selectedPairsMain)\n\n  const selectedItems = items\n    .filter(item => pairs.includes(item.value.toUpperCase()))\n    .concat(items.filter(item => item.value.toLowerCase() === value.toLowerCase()))\n\n  return selectedItems\n}\n\nconst selectPair = (value) => { // addOffer drop down\n  const { currencies:{ items } } = getState()\n\n  const pairs = actions.pairs.filter(value, TRADE_TICKERS, items)\n  reducers.currencies.addSelectedItems(pairs)\n\n  return pairs\n}\n\n// partial drop down\nconst selectPairPartial = (value): Currency[] | [] => {\n  const partialItems = getState().currencies.partialItems // eslint-disable-line\n  const pairs = actions.pairs.filter(value, TRADE_TICKERS, partialItems)\n\n  reducers.currencies.addPartialItems(pairs)\n\n  return pairs\n}\n\nexport default {\n  selectPair,\n  filter,\n  selectPairPartial,\n}\n","const getGtag = () =>  window.gtag || null\n\n//@ts-ignore\nconst dataEvent = ({ action, label } = {}) => {\n  const gtag = getGtag()\n\n  if (!action || !gtag) {\n    return\n  }\n\n  gtag('event', action, {\n    'label': label,\n  })\n}\n\n//@ts-ignore\nconst balanceEvent = ({ action, currency, balance } = {}) => {\n  const gtag = getGtag()\n\n  if (!action || !gtag) {\n    return\n  }\n\n  gtag('event', `balance-${action}`, {\n    'currency': currency,\n    'balance': balance,\n  })\n}\n\nconst errorEvent = (eventAction) => {\n  const gtag = getGtag()\n\n  if (!gtag) {\n    return\n  }\n\n  return null // TODO: add gtag for errorEvent\n}\n\nconst swapEvent = (eventAction, eventLabel) => {\n  const gtag = getGtag()\n\n  if (!gtag) {\n    return\n  }\n\n  return null // TODO: add gtag for swapEvent\n}\n\nconst getTracker = () => {\n  if (!window.ga) {\n    return\n  }\n\n  try {\n    return window.ga.getAll()[0]\n  } catch (error) {\n    console.error(error)\n  }\n  return null\n}\n\nconst getClientId = () => {\n  const tracker = getTracker()\n\n  if (!tracker) {\n    return\n  }\n  return tracker.get('clientId')\n}\n\n\nexport default {\n  getTracker,\n  getClientId,\n  dataEvent,\n  errorEvent,\n  swapEvent,\n  balanceEvent,\n}\n","import reducers from 'redux/core/reducers'\nimport { getState } from 'redux/core'\nimport SwapApp from 'swap.app'\n\n\nconst set = payload => {\n  reducers.pubsubRoom.set(payload)\n}\n\nconst userJoined = () => {\n  reducers.pubsubRoom.userJoined()\n}\n\nconst userLeft = () => {\n  reducers.pubsubRoom.userLeft()\n}\n\nconst allPeersLoaded = () => {\n  reducers.pubsubRoom.allPeersLoaded()\n}\n\nconst onReady = (cb) => {\n  const _checkFunc = () => {\n    const { pubsubRoom : { isOnline } } = getState()\n    if (isOnline) {\n      cb()\n    } else {\n      setTimeout(_checkFunc, 100)\n    }\n  }\n  _checkFunc()\n}\n\nconst waitPeer = (peer, cbSuccess, cbFail, timeOut) => {\n  onReady(() => {\n    let isWaiting = true\n\n    const failtTimer = setTimeout(() => {\n      isWaiting = false\n      if (cbFail) cbFail()\n    }, timeOut)\n\n    const waitFunc = () => {\n      if (isWaiting) {\n        //@ts-ignore: strictNullChecks\n        if (SwapApp.shared().services.room.connection.hasPeer(peer)) {\n          clearTimeout(failtTimer)\n          if (cbSuccess) cbSuccess()\n        } else {\n          setTimeout(waitFunc, 100)\n        }\n      }\n    }\n    waitFunc()\n  })\n}\n\nexport default {\n  set,\n  userJoined,\n  userLeft,\n  allPeersLoaded,\n  onReady,\n  waitPeer,\n}\n","import BigInteger from 'bigi'\n\nimport { BigNumber } from 'bignumber.js'\nimport * as bitcoin from 'bitcoinjs-lib'\nimport bitcoinMessage from 'bitcoinjs-message'\nimport { getState } from 'redux/core'\nimport reducers from 'redux/core/reducers'\nimport { btc, apiLooper, constants, api } from 'helpers'\nimport actions from 'redux/actions'\nimport config from 'helpers/externalConfig'\nimport getCurrencyKey from 'helpers/getCurrencyKey'\n\n\nconst validateData = (data) => {\n  if (!data) return false\n  if (!data.currency) return false\n  // if (!data.toAddress) return false\n  if (!data.fromAddress) return false\n  if (!data.amount) return false\n\n\n  return true\n}\n\nconst addInvoice = (data) => {\n  const { user: { btcData } } = getState()\n\n  if (!validateData(data)) return false\n\n  const currency = getCurrencyKey(data.currency, true)\n\n  const requestData = {\n    currency: currency.toUpperCase(),\n    toAddress: data.toAddress,\n    fromAddress: data.fromAddress,\n    amount: data.amount,\n    contact: data.contact,\n    label: (data.label) ? data.label : '',\n    address: btcData.address,\n    pubkey: btcData.publicKey.toString('hex'),\n    mainnet: (process.env.MAINNET) ? '1' : '0',\n    destination: (data.destination) ? data.destination : '',\n  }\n\n  return apiLooper.post('invoiceApi', `/invoice/push/`, {\n    body: requestData,\n  })\n}\n\nconst cancelInvoice = (invoiceId) => new Promise((resolve) => apiLooper.post('invoiceApi', `/invoice/cancel/`,\n  {\n    body: {\n      invoiceId,\n    },\n  })\n  .then((res: any) => {\n    resolve(res && res.answer && res.answer === 'ok')\n  })\n  .catch(() => { resolve(false) }))\n\nconst markInvoice = (invoiceId, mark, txid, address) => new Promise((resolve) => apiLooper.post('invoiceApi', `/invoice/mark/`,\n  {\n    body: {\n      invoiceId,\n      mark,\n      txid,\n      address,\n    },\n  })\n  .then((res: any) => {\n    resolve(res && res.answer && res.answer === 'ok')\n  })\n  .catch(() => { resolve(false) }))\n\nconst getInvoice = (hash) => {\n  if (!config.opts.invoiceEnabled) {\n    return new Promise((resolve) => { resolve(false) })\n  }\n\n  return new Promise((resolve) => {\n\n    apiLooper.post('invoiceApi', `/invoice/get`, {\n      body: {\n        hash,\n      },\n    }).then((res: any) => {\n      console.log('fetced answer from invoice api', res)\n      if (res && res.answer && res.answer === 'ok' && res.item) {\n        const {\n          item,\n          item: {\n            amount,\n            utx,\n          },\n        } = res\n\n        const direction = (actions.user.isOwner(item.toAddress, item.type)) ? 'in' : 'out'\n        const isOwner = (actions.user.isOwner(item.fromAddress, item.type))\n\n        resolve({\n          invoiceData: item,\n          isOwner,\n          hasPayer: !(!item.toAddress),\n          hash: 'no hash',\n          confirmations: 1,\n          value: amount,\n          date: utx * 1000,\n          direction,\n        })\n      } else {\n        resolve(false)\n      }\n    }).catch(() => {\n      resolve(false)\n    })\n  })\n}\n\nconst getManyInvoices = (data) => {\n  if (!config.opts.invoiceEnabled) {\n    return new Promise((resolve) => { resolve([]) })\n  }\n\n  return new Promise((resolve) => {\n\n    const walletsHashMap = {}\n    const wallets = data.map((item) => {\n      if (item && item.type && item.address) {\n        const {\n          type: rawType,\n          address,\n        } = item\n\n        const type = getCurrencyKey(rawType, true).toUpperCase()\n        walletsHashMap[`${type}:${address.toLowerCase()}`] = {\n          type,\n          address,\n        }\n\n        return {\n          type,\n          address,\n        }\n      }\n    })\n\n    apiLooper.post('invoiceApi', `/invoice/fetchmany/`, {\n      body: {\n        wallets,\n        mainnet: (process.env.MAINNET) ? '1' : '0',\n      },\n    }).then((res: any) => {\n      if (res && res.answer && res.answer === 'ok') {\n        const invoices = res.items.map((item) => {\n          const walletHash = `${item.type}:${item.toAddress.toLowerCase()}`\n\n          const direction = (walletsHashMap[walletHash] !== undefined) ? 'in' : 'out'\n\n          return ({\n            type: item.type,\n            txType: 'INVOICE',\n            invoiceData: item,\n            hash: 'no hash',\n            confirmations: 1,\n            value: item.amount,\n            date: item.utx * 1000,\n            direction,\n          })\n        })\n\n        resolve(invoices)\n      } else {\n        resolve([])\n      }\n    })\n      .catch(() => {\n        resolve([])\n      })\n  })\n}\n\nconst getInvoices = (data) => {\n  if (!config.opts.invoiceEnabled) {\n    return new Promise((resolve) => { resolve([]) })\n  }\n\n  if (data.address === 'Not jointed') {\n    return new Promise((resolve) => {\n      resolve([])\n    })\n  }\n\n  const { user: { btcData } } = getState()\n  if (!data || !data.currency || !data.address) return false\n\n  return new Promise((resolve) => {\n\n    apiLooper.post('invoiceApi', `/invoice/fetch/`, {\n      body: {\n        currency: getCurrencyKey(data.currency, true).toUpperCase(),\n        address: data.address,\n        mainnet: (process.env.MAINNET) ? '1' : '0',\n      },\n    }).then((res: any) => {\n      if (res && res.answer && res.answer === 'ok') {\n        const transactions = res.items.map((item) => {\n          const direction = item.toAddress === data.address ? 'in' : 'out'\n\n          return ({\n            type: getCurrencyKey(data.currency, true),\n            txType: 'INVOICE',\n            invoiceData: item,\n            hash: 'no hash',\n            confirmations: 1,\n            value: item.amount,\n            date: item.utx * 1000,\n            direction,\n          })\n        })\n\n        resolve(transactions)\n      } else {\n        resolve([])\n      }\n    })\n      .catch(() => {\n        resolve([])\n      })\n  })\n}\n\nexport default {\n  addInvoice,\n  getInvoices,\n  getInvoice,\n  getManyInvoices,\n  cancelInvoice,\n  markInvoice,\n}\n","const getComment = (key) => getComments()[key] || undefined;\n\nconst setComment = ({ comment, key }) => {\n  const historyComments = getComments()\n  const newComment = { [`${key}`]: `${comment}`.replace(/(\\r\\n|\\n|\\r)/gm, \" \") }\n  console.log('newComment', { comment, key })\n\n  localStorage.setItem('historyComments', JSON.stringify(\n    {\n      ...historyComments,\n      ...newComment,\n    },\n  ))\n}\n\n//@ts-ignore: strictNullChecks\nconst getComments = () => JSON.parse(localStorage.getItem('historyComments')) || {}\n\nconst returnDefaultComment = (hiddenList, ind) => {\n  const newData = hiddenList ? hiddenList[ind] || '' : ''\n\n  return newData\n}\n\nexport default {\n  getComment,\n  returnDefaultComment,\n  setComment,\n  getComments\n}\n","export default {\n  enter: 'enter',\n  reject: 'reject',\n  switch: 'switch',\n  preventSwitch: 'preventSwitch',\n  wasOnWallet: 'wasOnWallet',\n  savedOrders: 'savedOrders',\n  deletedOrders: 'deletedOrders',\n  didWidgetsDataSend: 'didWidgetsDataSend',\n  activeTabId: 'activeTabId',\n  testnetSkip: 'testnetSkip',\n  storageRevision: '_revision',\n  wasCautionPassed: 'wasCautionPassed',\n  hiddenCoinsList: 'hiddenCoinsList',\n  privateKeysSaved: 'privateKeysSaved',\n  demoMoneyReceived: 'demoMoneyReceived',\n  wasOnExchange: 'wasOnExchange',\n  isWalletCreate: 'isWalletCreate',\n  lastCheckBalance: 'lastCheckBalance',\n  startSwap: 'startSwap',\n  didProtectedBtcCreated: 'protectedBtcCreated',\n  didPinBtcCreated: `${process.env.ENTRY}:pinBtcCreated`,\n  didProtectedBtcG2FACreated: 'protectedBtcG2FA',\n  walletTitle: 'walletTitle',\n  customToken: 'customToken',\n  balanceActiveCurrency: 'balanceActiveCurrency',\n  isSweepReady: 'isSweepReady',\n  signedUpWithPush: 'signedUpWithPush',\n  backups: `${process.env.ENTRY}:backups`,\n  backups_prefix: `${process.env.ENTRY}:backup:`,\n  invoicesEnabled: `${process.env.ENTRY}:invoicesEnabled`,\n  wasOnWidgetWallet: 'wasOnWidgetWallet',\n  isDark: 'isDark',\n  isLight: 'isLight',\n  testnetSkipPKCheck: 'testnetSkipPKCheck',\n  prevWPUser: 'wp_widget_prev_userid',\n  exchangeSettings: 'exchangeSettings',\n  extensionLastActivity: 'extensionLastActivity',\n}\n","export default {\n  btcMnemonic: `${process.env.ENTRY}:btc:mnemonicKey`,\n  ethMnemonic: `${process.env.ENTRY}:eth:mnemonicKey`,\n  bnbMnemonic: `${process.env.ENTRY}:bnb:mnemonicKey`,\n  maticMnemonic: `${process.env.ENTRY}:matic:mnemonicKey`,\n  arbitrumMnemonic: `${process.env.ENTRY}:arbitrum:mnemonicKey`,\n  ghostMnemonic: `${process.env.ENTRY}:ghost:mnemonicKey`,\n  nextMnemonic: `${process.env.ENTRY}:next:mnemonicKey`,\n  eth: `${process.env.ENTRY}:eth:privateKey`,\n  bnb: `${process.env.ENTRY}:bnb:privateKey`,\n  matic: `${process.env.ENTRY}:matic:privateKey`,\n  arbitrum: `${process.env.ENTRY}:arbitrum:privateKey`,\n  btc: `${process.env.ENTRY}:btc:privateKey`,\n  ghost: `${process.env.ENTRY}:ghost:privateKey`,\n  next: `${process.env.ENTRY}:next:privateKey`,\n  ethOld: `${process.env.ENTRY}:eth:privateKey:old`, // Sweep\n  btcOld: `${process.env.ENTRY}:btc:privateKey:old`, // Sweep\n  ghostOld: `${process.env.ENTRY}:ghost:privateKey:old`, // Sweep\n  nextOld: `${process.env.ENTRY}:next:privateKey:old`, // Sweep\n  twentywords: `${process.env.ENTRY}:twentywords`,\n  btcMultisig: `${process.env.ENTRY}:btcMultisig:privateKey`,\n  btcMultisigOtherOwnerKey: `${process.env.ENTRY}:btcMultisig:otherOwnerKey`,\n  btcMultisigOtherOwnerKeyMnemonic: `${process.env.ENTRY}:btcMultisig:otherOwnerKey:Mnemonic`, // Sweep\n  btcMultisigOtherOwnerKeyOld: `${process.env.ENTRY}:btcMultisig:otherOwnerKey:old`, // Sweep\n  btcSmsMnemonicKey: `${process.env.ENTRY}:btcSmsMnemonicKey`,\n  btcSmsMnemonicKeyGenerated: `${process.env.ENTRY}:btcSmsMnemonicKeyGenerated`,\n  btcSmsMnemonicKeyMnemonic: `${process.env.ENTRY}:btcSmsMnemonicKey:Mnemonic`, // Sweep\n  btcSmsMnemonicKeyOld: `${process.env.ENTRY}:btcSmsMnemonicKey:old`, // Sweep\n\n  btcPinMnemonicKey: `${process.env.ENTRY}:btcPinMnemonicKey`,\n}\n","import localStorage from './localStorage'\nimport privateKeyNames from './privateKeyNames'\nimport notifications from './notifications'\nimport modals from './modals'\nimport tradeTicker from './TRADE_TICKERS'\nimport tokenDecimals from './TOKEN_DECIMALS'\nimport pairTypes from './PAIR_TYPES'\nimport tokenStandards from './TOKEN_STANDARDS'\n\nexport default {\n  localStorage,\n  tradeTicker,\n  privateKeyNames,\n  tokenDecimals,\n  notifications,\n  pairTypes,\n  modals,\n  tokenStandards,\n}\n","export default {\n  SuccessWithdraw: 'SuccessWithdraw',\n  Message: 'Message',\n  ErrorNotification: 'ErrorNotification',\n  BTCMultisignRequest: 'BTCMultisignRequest',\n}\n","export default {\n  Withdraw: 'WithdrawModal',\n  WithdrawMultisig: 'WithdrawModalMultisig',\n  Offer: 'OfferModal',\n  PrivateKeys: 'PrivateKeysModal',\n  ReceiveModal: 'ReceiveModal',\n  DownloadModal: 'DownloadModal',\n  Confirm: 'Confirm',\n  DeclineOrdersModal: 'DeclineOrdersModal',\n  IncompletedSwaps: 'IncompletedSwaps',\n  ConfirmBeginSwap: 'ConfirmBeginSwap',\n  RegisterSMSProtected: 'RegisterSMSProtected',\n  MultisignJoinLink: 'MultisignJoinLink',\n  WithdrawMultisigSMS: 'WithdrawModalMultisig',\n  WithdrawMultisigUser: 'WithdrawModalMultisigUser',\n  CurrencyAction: 'CurrencyAction',\n  InvoiceModal: 'InvoiceModal',\n  InvoiceLinkModal: 'InvoiceLinkModal',\n  AlertModal: 'AlertModal',\n  AddCustomToken: 'AddCustomToken',\n  BtcMultisignSwitch: 'BtcMultisignSwitch',\n  Share: 'ShareModal',\n  BtcMultisignConfirmTx: 'BtcMultisignConfirmTx',\n  SaveMnemonicModal: 'SaveMnemonicModal',\n  RestoryMnemonicWallet: 'RestoryMnemonicWallet',\n  HowToWithdrawModal: 'HowToWithdrawModal',\n  InfoInvoice: 'InfoInvoice',\n  PrivateKeysModal: 'PrivateKeysModal',\n  RegisterPINProtected: 'RegisterPINProtected',\n  WithdrawBtcPin: 'WithdrawBtcPin',\n  WalletAddressModal: 'WalletAddressModal',\n  AlertWindow: 'AlertWindow',\n  WithdrawBtcSms: 'WithdrawBtcSms',\n  WithdrawBtcMultisig: 'WithdrawBtcMultisig',\n  ConnectWalletModal: 'ConnectWalletModal',\n}\n","import axios from 'axios'\nimport config from 'helpers/externalConfig'\nimport { constants } from 'helpers'\n\n\nconst localStorage = window.localStorage\nconst lsCurrentUser = `${process.env.ENTRY}:wp_currentUserId`\n\nconst backupUserData = {\n  isUserLoggedIn: () => {\n    return (window && window.WPuserUid && config.opts.WPuserHash)\n  },\n  isFirstBackup: () => {\n    const currentUser = localStorage.getItem(lsCurrentUser)\n    return (!currentUser) ? true : false\n  },\n  hasServerBackup: () => {\n    return new Promise((resolve) => {\n      const plugins = config?.opts?.plugins\n\n      if (\n        plugins?.backupPlugin\n        && plugins?.restorePluginUrl\n        && window\n        && window.WPuserUid\n        && config.opts.WPuserHash\n      ) {\n        axios.post(config.opts.plugins.restorePluginUrl, {\n          WPuserUid: window.WPuserUid,\n          WPuserHash: config.opts.WPuserHash,\n        }).then((req) => {\n          if (req\n            && req.data\n            && req.data.answer\n            && req.data.answer === `ok`\n            && req.data.data\n          ) {\n            resolve(true)\n          } else {\n            resolve(false)\n          }\n        }).catch((e) => {\n          resolve(false)\n        })\n      } else {\n        resolve(false)\n      }\n    })\n  },\n  isUserChanged: () => {\n    const currentUser = localStorage.getItem(lsCurrentUser)\n\n    return (currentUser !== `${window.WPuserUid}` && window.WPuserUid) ? true : false\n  },\n  backupUser: () => {\n    return new Promise((resolve) => {\n      const plugins = config?.opts?.plugins\n\n      if (\n        plugins?.backupPlugin\n        && plugins?.backupPluginUrl\n        && window\n        && window.WPuserUid\n        && config.opts.WPuserHash\n      ) {\n        const get = (key) => localStorage.getItem(constants.privateKeyNames[key])\n\n        const backup = {\n          btcMnemonic:                      get(`btcMnemonic`),\n          ethMnemonic:                      get(`ethMnemonic`),\n          bnbMnemonic:                      get(`bnbMnemonic`),\n          maticMnemonic:                    get(`maticMnemonic`),\n          arbethMnemonic:                   get(`arbethMnemonic`),\n          eth:                              get(`eth`),\n          bnb:                              get(`bnb`),\n          matic:                            get(`matic`),\n          arbeth:                           get(`arbeth`),\n          btc:                              get(`btc`),\n          ghost:                            get(`ghost`),\n          next:                             get(`next`),\n          ethOld:                           get(`ethOld`),\n          btcOld:                           get(`btcOld`),\n          twentywords:                      get(`twentywords`),\n          btcMultisig:                      get(`btcMultisig`),\n          btcMultisigOtherOwnerKey:         get(`btcMultisigOtherOwnerKey`),\n          btcMultisigOtherOwnerKeyMnemonic: get(`btcMultisigOtherOwnerKeyMnemonic`),\n          btcMultisigOtherOwnerKeyOld:      get(`btcMultisigOtherOwnerKeyOld`),\n          btcSmsMnemonicKey:                get(`btcSmsMnemonicKey`),\n          btcSmsMnemonicKeyGenerated:       get(`btcSmsMnemonicKeyGenerated`),\n          btcSmsMnemonicKeyMnemonic:        get(`btcSmsMnemonicKeyMnemonic`),\n          btcSmsMnemonicKeyOld:             get(`btcSmsMnemonicKeyOld`),\n          btcPinMnemonicKey:                get(`btcPinMnemonicKey`),\n          hiddenCoinsList:                  localStorage.getItem(constants.localStorage.hiddenCoinsList),\n          isWalletCreate:                   localStorage.getItem(constants.localStorage.isWalletCreate),\n          didProtectedBtcCreated:           localStorage.getItem(constants.localStorage.didProtectedBtcCreated),\n          didPinBtcCreated:                 localStorage.getItem(constants.localStorage.didPinBtcCreated),\n        }\n\n        axios.post(config.opts.plugins.backupPluginUrl, {\n          ...backup,\n          WPuserUid: window.WPuserUid,\n          WPuserHash: config.opts.WPuserHash,\n        }).then((answer) => {\n          const data = answer.data\n          if (data\n            && data.answer\n            && data.answer === `ok`\n          ) {\n            localStorage.setItem(lsCurrentUser, window.WPuserUid)\n            //@ts-ignore\n            resolve(true, true)\n          } else {\n            //@ts-ignore\n            resolve(false, true)\n          }\n        }).catch((e) => {\n          //@ts-ignore\n          resolve(false, true)\n        })\n      } else {\n        //@ts-ignore\n        resolve(false, false)\n      }\n    })\n  },\n  cleanupSeed: () => {\n    return new Promise((resolve) => {\n      const plugins = config?.opts?.plugins\n\n      if (\n        plugins?.backupPlugin\n        && plugins?.backupPluginUrl\n        && window\n        && window.WPuserUid\n        && config.opts.WPuserHash\n      ) {\n        axios.post(plugins.backupPluginUrl, {\n          WPuserUid: window.WPuserUid,\n          WPuserHash: config.opts.WPuserHash,\n          action: 'cleanup',\n        }).then((req) => {\n          if (req\n            && req.data\n            && req.data.answer\n            && req.data.answer === `ok`\n          ) {\n            resolve(true)\n          } else {\n            resolve(false)\n          }\n        }).catch((e) => {\n          resolve(false)\n        })\n      } else {\n        resolve(false)\n      }\n    })\n  },\n  restoreUser: () => {\n    return new Promise((resolve) => {\n      const plugins = config?.opts?.plugins\n\n      if (\n        plugins?.backupPlugin\n        && plugins?.restorePluginUrl\n        && window\n        && window.WPuserUid\n        && config.opts.WPuserHash\n      ) {\n        const set = (key, value) => {\n          if (value) localStorage.setItem(constants.privateKeyNames[key], value)\n        }\n\n        axios.post(plugins.restorePluginUrl, {\n          WPuserUid: window.WPuserUid,\n          WPuserHash: config.opts.WPuserHash,\n        }).then((req) => {\n          if (req\n            && req.data\n            && req.data.answer\n            && req.data.answer === `ok`\n            && req.data.data\n          ) {\n            const data = req.data.data\n\n            set(`btc`, data.btc)\n            set(`ghost`, data.ghost)\n            set(`next`, data.next)\n            set(`btcMnemonic`, data.btcMnemonic)\n            set(`btcMultisig`, data.btcMultisig)\n            set(`btcMultisigOtherOwnerKey`, data.btcMultisigOtherOwnerKey)\n            set(`btcMultisigOtherOwnerKeyMnemonic`, data.btcMultisigOtherOwnerKeyMnemonic)\n            set(`btcMultisigOtherOwnerKeyOld`, data.btcMultisigOtherOwnerKeyOld)\n            set(`btcOld`, data.btcOld)\n            set(`btcPinMnemonicKey`, data.btcPinMnemonicKey)\n            set(`btcSmsMnemonicKey`, data.btcSmsMnemonicKey)\n            set(`btcSmsMnemonicKeyGenerated`, data.btcSmsMnemonicKeyGenerated)\n            set(`btcSmsMnemonicKeyMnemonic`, data.btcSmsMnemonicKeyMnemonic)\n            set(`btcSmsMnemonicKeyOld`, data.btcSmsMnemonicKeyOld)\n            set(`eth`, data.eth)\n            set(`ethMnemonic`, data.ethMnemonic)\n            set(`ethOld`, data.ethOld)\n            set(`bnb`, data.bnb)\n            set(`bnbMnemonic`, data.bnbMnemonic)\n            set(`matic`, data.matic)\n            set(`maticMnemonic`, data.maticMnemonic)\n            set(`arbeth`, data.arbeth)\n            set(`arbethMnemonic`, data.arbethMnemonic)\n            set(`twentywords`, data.twentywords)\n\n            // set other params to true (user has on tour and other pages)\n            localStorage.setItem(constants.localStorage.hiddenCoinsList, data.hiddenCoinsList)\n            localStorage.setItem(constants.localStorage.isWalletCreate, 'true')\n            localStorage.setItem(constants.localStorage.wasOnExchange, 'true')\n            localStorage.setItem(constants.localStorage.wasOnWidgetWallet, 'true')\n            localStorage.setItem(constants.localStorage.wasCautionPassed, 'true')\n            localStorage.setItem(constants.localStorage.wasOnWallet, 'true')\n            localStorage.setItem(constants.localStorage.didProtectedBtcCreated, data.didProtectedBtcCreated)\n            localStorage.setItem(constants.localStorage.didPinBtcCreated, data.didPinBtcCreated)\n            localStorage.setItem(lsCurrentUser, window.WPuserUid)\n\n\n            resolve(true)\n          } else {\n            resolve(false)\n          }\n        })\n      } else {\n        resolve(false)\n      }\n    })\n  }\n}\n\nexport default backupUserData\n","import constants from 'helpers/constants'\nimport getUnixTimeStamp from 'common/utils/getUnixTimeStamp'\nimport config from 'helpers/externalConfig'\nimport backupUserData from 'plugins/backupUserData'\n\n\nconst backupFields = [\n  constants.privateKeyNames.btcMnemonic,\n  constants.privateKeyNames.ethMnemonic,\n  constants.privateKeyNames.bnbMnemonic,\n  constants.privateKeyNames.maticMnemonic,\n  constants.privateKeyNames.eth,\n  constants.privateKeyNames.bnb,\n  constants.privateKeyNames.matic,\n  constants.privateKeyNames.btc,\n  constants.privateKeyNames.btcMultisig,\n  constants.privateKeyNames.btcMultisigOtherOwnerKey,\n  constants.privateKeyNames.btcMultisigOtherOwnerKeyMnemonic,\n  constants.privateKeyNames.btcSmsMnemonicKey,\n  constants.privateKeyNames.btcSmsMnemonicKeyGenerated,\n  constants.privateKeyNames.btcSmsMnemonicKeyMnemonic,\n  constants.privateKeyNames.btcPinMnemonicKey,\n]\n\n\nconst serverBackup = () => {\n  return backupUserData.backupUser()\n}\n\nconst serverCleanupSeed = () => {\n  if (config\n    && config.opts\n    && config.opts.plugins\n    && config.opts.plugins.backupPlugin\n  ) {\n    backupUserData.cleanupSeed()\n  }\n}\n\nconst backup = (mark, label, overide) => {\n  if (!label) label = new Date().toString()\n  if (!mark) mark = getUnixTimeStamp()\n\n  const data = {}\n  backupFields.forEach((lsKey) => {\n    const value = localStorage.getItem(lsKey)\n    if (value) {\n      data[lsKey] = value\n    }\n  })\n\n  const backupData = {\n    mark,\n    label,\n    utx: getUnixTimeStamp(),\n    data,\n  }\n\n  let backups = localStorage.getItem(constants.localStorage.backups)\n  //@ts-ignore: strictNullChecks\n  try { backups = JSON.parse(backups) } catch (e) { }\n  //@ts-ignore\n  if (!(backups instanceof Array)) {\n    //@ts-ignore\n    backups = []\n  }\n\n  //@ts-ignore: strictNullChecks\n  if ((backups.indexOf(mark) !== -1) && !overide) return `exists`\n  //@ts-ignore\n  backups.unshift(mark)\n\n  localStorage.setItem(constants.localStorage.backups, JSON.stringify(backups))\n  const backupKey = `${constants.localStorage.backups_prefix}:${mark}`\n  localStorage.setItem(`${constants.localStorage.backups_prefix}:${mark}`, JSON.stringify(backupData))\n\n  return backup\n}\n\nconst importBackup = (backup) => {\n  if (backup\n    && backup.mark\n    && backup.utx\n    && backup.label\n    && backup.data\n  ) {\n    Object.keys(backup.data).forEach((lsKey) => {\n      localStorage.setItem(lsKey, backup.data[lsKey])\n    })\n  } else {\n    return false\n  }\n}\n\nconst restory = (mark) => {\n  const backup = exists(mark)\n  if (backup) {\n    return importBackup(backup)\n  }\n  return false\n}\n\nconst list = () => {\n  let backups = localStorage.getItem(constants.localStorage.backups)\n  //@ts-ignore: strictNullChecks\n  try { backups = JSON.parse(backups) } catch (e) { }\n  //@ts-ignore\n  if (!(backups instanceof Array)) {\n    //@ts-ignore\n    backups = []\n  }\n  //@ts-ignore\n  backups = backups.map((mark) => {\n    let backupData = localStorage.getItem(`${constants.localStorage.backups_prefix}:${mark}`)\n    //@ts-ignore: strictNullChecks\n    try { backupData = JSON.parse(backupData) } catch (e) { }\n    if (backupData\n      //@ts-ignore\n      && backupData.mark\n      //@ts-ignore\n      && backupData.utx\n      //@ts-ignore\n      && backupData.label\n      //@ts-ignore\n      && backupData.data\n    ) {\n      return backupData\n    }\n    return false\n  }).filter(backupData => backupData && backupData.mark)\n\n  return backups\n}\n\nconst exists = (mark) => {\n  let backupData = localStorage.getItem(`${constants.localStorage.backups_prefix}:${mark}`)\n  //@ts-ignore: strictNullChecks\n  try { backupData = JSON.parse(backupData) } catch (e) { }\n  if (backupData\n    //@ts-ignore\n    && backupData.mark\n    //@ts-ignore\n    && backupData.utx\n    //@ts-ignore\n    && backupData.label\n    //@ts-ignore\n    && backupData.data\n  ) {\n    return backupData\n  }\n  return false\n}\n\nconst backupManager = {\n  backup,\n  restory,\n  importBackup,\n  list,\n  exists,\n  get: exists,\n\n  serverBackup,\n  serverCleanupSeed,\n}\n\nexport default backupManager\n","import { apiLooper, constants, api, redirectTo } from 'helpers'\nimport config from 'app-config'\nimport actions from 'redux/actions'\nimport { getState } from 'redux/core'\nimport reducers from 'redux/core/reducers'\nimport { ITransactionStatus } from './types'\n\n\nconst broadcast = ({ sender, destination, amount, fee, rawTx, invoice }) => {\n  const { user: { btcData } } = getState()\n\n  const senderWallet = actions.btcmultisig.addressToWallet(sender)\n\n  if (senderWallet) {\n    const requestData = {\n      address: btcData.address,\n      pubkey: btcData.publicKey.toString('hex'),\n      mainnet: (process.env.MAINNET) ? '1' : '0',\n\n      sender,\n      destination,\n      amount,\n      fee,\n      rawTx,\n      invoice,\n\n      keys: senderWallet.publicKeys.map((key) => key.toString('hex')),\n    }\n\n    return apiLooper.post('multisig', `/broadcast/`, {\n      body: requestData,\n    }).then(({ txId }) => txId)\n  }\n  console.error(`Btc-Multisig. Cant detect sender wallet`)\n  return false\n\n}\n\nconst fetchTx = (txId) => apiLooper\n  .get('multisig', `/tx/${txId}`)\n  .then((txData) => txData)\n\nconst confirmTx = (address, msTxId, signedTx, txId) => {\n  const senderWallet = actions.btcmultisig.addressToWallet(address)\n\n  if (senderWallet) {\n    return apiLooper.post('multisig', `/confirmtx/`, {\n      body: {\n        msTxId,\n        keys: senderWallet.publicKeys.map((key) => key.toString('hex')),\n        signedTx,\n        txId,\n      },\n    }).then((data) => data)\n  }\n}\n\nconst rejectTx = (address, txId) => {\n  const senderWallet = actions.btcmultisig.addressToWallet(address)\n\n  if (senderWallet) {\n    return apiLooper.post('multisig', `/rejecttx/`, {\n      body: {\n        txId,\n        keys: senderWallet.publicKeys.map((key) => key.toString('hex')),\n      },\n    }).then((data) => data)\n  }\n}\n\nconst fetchRawTx = (address, txId) => {\n  const senderWallet = actions.btcmultisig.addressToWallet(address)\n\n  if (senderWallet) {\n    return apiLooper.post('multisig', `/rawtx/`, {\n      body: {\n        txId,\n        keys: senderWallet.publicKeys.map((key) => key.toString('hex')),\n      },\n    }).then((data) => data)\n  }\n}\n\nconst fetch = (address) => {\n  const { user: { btcData } } = getState()\n  const holderKey = btcData.publicKey.toString('hex')\n\n  return apiLooper.post('multisig', `/txs/`, {\n    body: {\n      address,\n    },\n    query: 'multisigTx',\n  }).then((res: any) => {\n    if (res\n      && res.answer\n    ) {\n      const senderWallet = actions.btcmultisig.addressToWallet(address)\n\n      const pendingTransactions: any[]\n        = res.items\n             .filter(\n                ({status}) => status === ITransactionStatus.pending\n             )\n\n      // @ToDo - (draft) use api request for fetch status of address list\n      let firstPendingTransaction = pendingTransactions[0] ? ({\n        address,\n        item: pendingTransactions[0]\n      }) : false\n\n      const transactions = res.items.map((item) => {\n        let { status } = item\n\n        switch (status) {\n          case ITransactionStatus.pending: status = 'pending'\n            break\n          case ITransactionStatus.ready:   status = 'ready'\n            break\n          case ITransactionStatus.reject:  status = 'reject'\n            break\n          case ITransactionStatus.cancel:  status = 'cancel'\n            break\n        }\n\n        return ({\n          type: 'btc',\n          hash: item.uniqhash,\n          canEdit: false,\n          txType: 'CONFIRM',\n          confirmTx: {\n            ...item,\n            status,\n            isHolder: (holderKey === item.holder),\n          },\n          confirmations: 0,\n          value: item.amount,\n          date: item.utx * 1000,\n          direction: 'out',\n        })\n      })\n\n      // @ToDo - (draft) use api request for fetch status of address list\n      reducers.user.updateMultisigStatus({\n        address,\n        last: firstPendingTransaction,\n        total: pendingTransactions.length,\n      })\n\n      return transactions\n    } return []\n  }).catch((e) => [])\n}\n\nconst goToLastWallet = () => {\n  const {\n    user: {\n      multisigStatus,\n    },\n  } = getState()\n\n  const walletsWithRequests = Object.keys(multisigStatus).map((walletAddress) => ({\n    walletAddress,\n    ...multisigStatus[walletAddress],\n  })).filter((item) => {\n    const {\n      count,\n      pending,\n    } = item\n\n    return count\n  })\n\n  if (walletsWithRequests.length) {\n    window.location.hash = `/btc/${walletsWithRequests[0].walletAddress}`\n  }\n}\n\n\nexport default {\n  broadcast,\n  fetch,\n\n  fetchTx,\n  fetchRawTx,\n  confirmTx,\n  rejectTx,\n\n  goToLastWallet,\n}\n","import * as types from './types'\n\nimport modals from './modals'\nimport loader from './loader'\nimport notifications from './notifications'\n\nimport user from './user'\nimport history from './history'\nimport feed from './feed'\nimport core from './core'\nimport ui from './ui'\nimport filter from './filter'\n\nimport btc from './btc'\nimport ghost from './ghost'\nimport next from './next'\nimport btcmultisig from './btcmultisig'\nimport EthLikeAction from './ethLikeAction'\nimport Erc20LikeAction from './erc20LikeAction'\n\nimport api from './api'\nimport pairs from './pairs'\nimport analytics from './analytics'\n\nimport pubsubRoom from './pubsubRoom'\n\nimport invoices from './invoices'\nimport comments from './comments'\n\nimport backupManager from './backupManager'\n\nimport multisigTx from './multisigTx'\n\nexport default {\n  types,\n  filter,\n  modals,\n  loader,\n  notifications,\n  user,\n  history,\n  core,\n  ui,\n\n  btc,\n  btcmultisig,\n  eth: EthLikeAction.ETH,\n  bnb: EthLikeAction.BNB,\n  matic: EthLikeAction.MATIC,\n  arbeth: EthLikeAction.ARBETH,\n  erc20: Erc20LikeAction.erc20,\n  bep20: Erc20LikeAction.bep20,\n  erc20matic: Erc20LikeAction.erc20matic,\n  ghost,\n  next,\n\n  feed,\n  analytics,\n  pubsubRoom,\n  api,\n  pairs,\n  invoices,\n  comments,\n\n  // Local storage backups manager\n  backupManager,\n\n  multisigTx,\n}\n","import { getState } from 'redux/core'\nimport actions from 'redux/actions'\nimport config from './externalConfig'\nimport DEFAULT_CURRENCY_PARAMETERS from 'common/helpers/constants/DEFAULT_CURRENCY_PARAMETERS'\nimport constants from 'common/helpers/constants'\nimport request from 'common/utils/request'\nimport BigNumber from 'bignumber.js'\n\n\nconst networks = {\n  mainnet: {\n    messagePrefix: '\\x18Bitcoin Signed Message:\\n',\n    bech32: 'gp',\n    bip32: {\n      public:  0x68DF7CBD,\n      private: 0x8E8EA8EA,\n    },\n    pubKeyHash: 0x26,\n    scriptHash: 0x61,\n    wif: 0xA6,\n  },\n  testnet: {\n    messagePrefix: '\\x18Bitcoin Signed Message:\\n',\n    bech32: 'tghost',\n    bip32: {\n      public: 0xe1427800,\n      private: 0x04889478,\n    },\n    pubKeyHash: 0x4B,\n    scriptHash: 0x89,\n    wif: 0x2e,\n  }\n}\n\n\nconst hasAdminFee = (\n  config\n    && config.opts\n    && config.opts.fee\n    && config.opts.fee.ghost\n    && config.opts.fee.ghost.fee\n) ? config.opts.fee.ghost : false\n\nconst network = process.env.MAINNET\n  ? networks.mainnet\n  : networks.testnet\n\nconst DUST = 546 // description in ./btc.ts\n\n// getByteCount({'MULTISIG-P2SH:2-4':45},{'P2PKH':1}) Means \"45 inputs of P2SH Multisig and 1 output of P2PKH\"\n// getByteCount({'P2PKH':1,'MULTISIG-P2SH:2-3':2},{'P2PKH':2}) means \"1 P2PKH input and 2 Multisig P2SH (2 of 3) inputs along with 2 P2PKH outputs\"\nconst getByteCount = (inputs, outputs) => {\n  const { TRANSACTION } = constants\n  let totalWeight = 0\n  let hasWitness = false\n  let inputCount = 0\n  let outputCount = 0\n  // assumes compressed pubkeys in all cases.\n  const types = {\n    'inputs': {\n      'MULTISIG-P2SH': TRANSACTION.MULTISIG_P2SH_IN_SIZE * 4,\n      'MULTISIG-P2WSH': TRANSACTION.MULTISIG_P2WSH_IN_SIZE + (41 * 4),\n      'MULTISIG-P2SH-P2WSH': TRANSACTION.MULTISIG_P2SH_P2WSH_IN_SIZE + (76 * 4),\n      'P2PKH': TRANSACTION.P2PKH_IN_SIZE * 4,\n      'P2WPKH': TRANSACTION.P2WPKH_IN_SIZE + (41 * 4),\n      'P2SH-P2WPKH': TRANSACTION.P2SH_P2WPKH_IN_SIZE + (64 * 4),\n    },\n    'outputs': {\n      'P2SH': TRANSACTION.P2SH_OUT_SIZE * 4,\n      'P2PKH': TRANSACTION.P2PKH_OUT_SIZE * 4,\n      'P2WPKH': TRANSACTION.P2WPKH_OUT_SIZE * 4,\n      'P2WSH': TRANSACTION.P2WSH_OUT_SIZE * 4,\n    },\n  }\n\n  const checkUInt53 = (n) => {\n    if (n < 0 || n > Number.MAX_SAFE_INTEGER || n % 1 !== 0) throw new RangeError('value out of range')\n  }\n\n  const varIntLength = (number) => {\n    checkUInt53(number)\n\n    return (\n      number < 0xfd ? 1\n        : number <= 0xffff ? 3\n          : number <= 0xffffffff ? 5\n            : 9\n    )\n  }\n\n  Object.keys(inputs).forEach((key) => {\n    checkUInt53(inputs[key])\n    if (key.slice(0, 8) === 'MULTISIG') {\n      // ex. \"MULTISIG-P2SH:2-3\" would mean 2 of 3 P2SH MULTISIG\n      const keyParts = key.split(':')\n      if (keyParts.length !== 2) throw new Error(`invalid input: ${key}`)\n      const newKey = keyParts[0]\n      const mAndN = keyParts[1].split('-').map((item) => parseInt(item))\n\n      totalWeight += types.inputs[newKey] * inputs[key]\n      const multiplyer = (newKey === 'MULTISIG-P2SH') ? 4 : 1\n      totalWeight += ((73 * mAndN[0]) + (34 * mAndN[1])) * multiplyer * inputs[key]\n    } else {\n      totalWeight += types.inputs[key] * inputs[key]\n    }\n    inputCount += inputs[key]\n    if (key.indexOf('W') >= 0) hasWitness = true\n  })\n\n  Object.keys(outputs).forEach((key) => {\n    checkUInt53(outputs[key])\n    totalWeight += types.outputs[key] * outputs[key]\n    outputCount += outputs[key]\n  })\n\n  if (hasWitness) totalWeight += 2\n\n  totalWeight += 8 * 4\n  totalWeight += varIntLength(inputCount) * 4\n  totalWeight += varIntLength(outputCount) * 4\n\n  return Math.ceil(totalWeight / 4)\n}\n\n//@ts-ignore\nconst calculateTxSize = async ({ speed, unspents, address, txOut = 2, method = 'send', fixed } = {}) => {\n  const { TRANSACTION } = constants\n  const defaultTxSize = DEFAULT_CURRENCY_PARAMETERS.ghost.size[method]\n\n  if (fixed) {\n    return defaultTxSize\n  }\n\n  unspents = unspents || await actions.ghost.fetchUnspents(address)\n\n  const txIn = unspents.length\n  let txSize = defaultTxSize\n  \n  if (txIn > 0) {\n    txSize =\n      txIn * TRANSACTION.P2PKH_IN_SIZE +\n      txOut * TRANSACTION.P2PKH_OUT_SIZE +\n      (TRANSACTION.TX_SIZE + txIn - txOut)\n  }\n\n  if (method === 'send_multisig') {\n    const msuSize = getByteCount(\n      { 'MULTISIG-P2SH-P2WSH:2-2': 1 },\n      { 'P2PKH': (hasAdminFee) ? 3 : 2 }\n    )\n    const msutxSize =\n      txIn * msuSize +\n      txOut * TRANSACTION.P2PKH_OUT_SIZE +\n      (TRANSACTION.TX_SIZE + txIn - txOut)\n\n    return msutxSize\n  }\n\n  if (method === 'send_2fa') {\n    const msSize = getByteCount(\n      { 'MULTISIG-P2SH-P2WSH:2-3': 1 },\n      { 'P2PKH': (hasAdminFee) ? 3 : 2 }\n    )\n    const mstxSize =\n      txIn * msSize +\n      txOut * TRANSACTION.P2PKH_OUT_SIZE +\n      (TRANSACTION.TX_SIZE + txIn - txOut)\n\n    return mstxSize\n  }\n\n  return txSize\n}\n\ntype EstimateFeeValueOptions = {\n  method?: string\n  speed: 'fast' | 'normal' | 'slow'\n  feeRate?: number\n  inSatoshis?: boolean\n  address?: string\n  txSize?: number\n  fixed?: string\n}\n\nconst estimateFeeValue = async (options: EstimateFeeValueOptions) => {\n  let { feeRate, inSatoshis, speed, address, txSize, fixed, method } = options\n  const {\n    user: {\n      ghostData,\n      ghostMultisigSMSData,\n      ghostMultisigUserData,\n    },\n  } = getState()\n\n  const txOut = hasAdminFee\n    ? method === 'send'\n      ? 3\n      : 2\n    : 2\n\n  if (!address) {\n    address = ghostData.address\n    //@ts-ignore\n    if (method === 'send_2fa') address = ghostMultisigSMS\n    if (method === 'send_multisig') address = ghostMultisigUserData.address\n  }\n\n  //@ts-ignore\n  txSize = txSize || await calculateTxSize({ address, speed, fixed, method, txOut })\n  feeRate = feeRate || await estimateFeeRate({ speed })\n\n  const calculatedFeeValue = BigNumber.maximum(\n    DUST,\n    //@ts-ignore: strictNullChecks\n    new BigNumber(feeRate)\n      //@ts-ignore: strictNullChecks\n      .multipliedBy(txSize)\n      .div(1024) // divide by one kilobyte\n      .dp(0, BigNumber.ROUND_HALF_EVEN),\n  )\n\n  const finalFeeValue = inSatoshis\n    ? calculatedFeeValue.toString()\n    : calculatedFeeValue.multipliedBy(1e-8).toString()\n\n  console.log(`Ghost withdraw fee speed(${speed}) method (${method}) ${finalFeeValue}`)\n  return finalFeeValue\n}\n\nconst estimateFeeRate = async ({ speed = 'fast' } = {}) => {\n  const link = config.feeRates.ghost\n  const defaultRate = DEFAULT_CURRENCY_PARAMETERS.ghost.rate\n\n  if (!link) {\n    return defaultRate[speed]\n  }\n\n  let apiResult\n\n  try {\n    apiResult = await request.get(link, { cacheResponse: 60000 })\n  } catch (err) {\n    console.error(`EstimateFeeRate: ${err.message}`)\n    return defaultRate[speed]\n  }\n\n  const apiSpeeds = {\n    slow: 'low_fee_per_kb',\n    normal: 'medium_fee_per_kb',\n    fast: 'high_fee_per_kb',\n  }\n\n  const apiSpeed = apiSpeeds[speed] || apiSpeeds.normal\n  const apiRate = new BigNumber(apiResult[apiSpeed])\n\n  return apiRate.isGreaterThanOrEqualTo(DUST)\n    ? apiRate.toString()\n    : defaultRate[speed]\n}\n\nexport default {\n  calculateTxSize,\n  estimateFeeValue,\n  estimateFeeRate,\n  network,\n  networks,\n}\n","import { getState } from 'redux/core'\nimport actions from 'redux/actions'\nimport config from './externalConfig'\nimport DEFAULT_CURRENCY_PARAMETERS from 'common/helpers/constants/DEFAULT_CURRENCY_PARAMETERS'\nimport constants from 'common/helpers/constants'\nimport request from 'common/utils/request'\nimport BigNumber from 'bignumber.js'\n\nconst networks = {\n  mainnet: {\n    messagePrefix: 'Nextcoin Signed Message:\\n',\n    bip32: {\n      public:  0x0488B21E,\n      private: 0x0488ADE4,\n    },\n    pubKeyHash: 75,\n    scriptHash: 5,\n    wif: 128,\n  },\n  /*testnet: {\n    messagePrefix: '\\x18Bitcoin Signed Message:\\n',\n    bip32: {\n      public: 0xe1427800,\n      private: 0x04889478,\n    },\n    pubKeyHash: 0x4B,\n    scriptHash: 0x89,\n    wif: 0x2e,\n  }*/\n}\n\n\nconst hasAdminFee = (\n  config\n    && config.opts\n    && config.opts.fee\n    && config.opts.fee.next\n    && config.opts.fee.next.fee\n) ? config.opts.fee.next : false\n\n/*const network = process.env.MAINNET\n  ? networks.mainnet\n  : networks.testnet*/\nconst network = networks.mainnet\n\nconst DUST = 546 // description in ./btc.ts\n\n// getByteCount({'MULTISIG-P2SH:2-4':45},{'P2PKH':1}) Means \"45 inputs of P2SH Multisig and 1 output of P2PKH\"\n// getByteCount({'P2PKH':1,'MULTISIG-P2SH:2-3':2},{'P2PKH':2}) means \"1 P2PKH input and 2 Multisig P2SH (2 of 3) inputs along with 2 P2PKH outputs\"\nconst getByteCount = (inputs, outputs) => {\n  const { TRANSACTION } = constants\n  let totalWeight = 0\n  let hasWitness = false\n  let inputCount = 0\n  let outputCount = 0\n  // assumes compressed pubkeys in all cases.\n  const types = {\n    'inputs': {\n      'MULTISIG-P2SH': TRANSACTION.MULTISIG_P2SH_IN_SIZE * 4,\n      'MULTISIG-P2WSH': TRANSACTION.MULTISIG_P2WSH_IN_SIZE + (41 * 4),\n      'MULTISIG-P2SH-P2WSH': TRANSACTION.MULTISIG_P2SH_P2WSH_IN_SIZE + (76 * 4),\n      'P2PKH': TRANSACTION.P2PKH_IN_SIZE * 4,\n      'P2WPKH': TRANSACTION.P2WPKH_IN_SIZE + (41 * 4),\n      'P2SH-P2WPKH': TRANSACTION.P2SH_P2WPKH_IN_SIZE + (64 * 4),\n    },\n    'outputs': {\n      'P2SH': TRANSACTION.P2SH_OUT_SIZE * 4,\n      'P2PKH': TRANSACTION.P2PKH_OUT_SIZE * 4,\n      'P2WPKH': TRANSACTION.P2WPKH_OUT_SIZE * 4,\n      'P2WSH': TRANSACTION.P2WSH_OUT_SIZE * 4,\n    },\n  }\n\n  const checkUInt53 = (n) => {\n    if (n < 0 || n > Number.MAX_SAFE_INTEGER || n % 1 !== 0) throw new RangeError('value out of range')\n  }\n\n  const varIntLength = (number) => {\n    checkUInt53(number)\n\n    return (\n      number < 0xfd ? 1\n        : number <= 0xffff ? 3\n          : number <= 0xffffffff ? 5\n            : 9\n    )\n  }\n\n  Object.keys(inputs).forEach((key) => {\n    checkUInt53(inputs[key])\n    if (key.slice(0, 8) === 'MULTISIG') {\n      // ex. \"MULTISIG-P2SH:2-3\" would mean 2 of 3 P2SH MULTISIG\n      const keyParts = key.split(':')\n      if (keyParts.length !== 2) throw new Error(`invalid input: ${key}`)\n      const newKey = keyParts[0]\n      const mAndN = keyParts[1].split('-').map((item) => parseInt(item))\n\n      totalWeight += types.inputs[newKey] * inputs[key]\n      const multiplyer = (newKey === 'MULTISIG-P2SH') ? 4 : 1\n      totalWeight += ((73 * mAndN[0]) + (34 * mAndN[1])) * multiplyer * inputs[key]\n    } else {\n      totalWeight += types.inputs[key] * inputs[key]\n    }\n    inputCount += inputs[key]\n    if (key.indexOf('W') >= 0) hasWitness = true\n  })\n\n  Object.keys(outputs).forEach((key) => {\n    checkUInt53(outputs[key])\n    totalWeight += types.outputs[key] * outputs[key]\n    outputCount += outputs[key]\n  })\n\n  if (hasWitness) totalWeight += 2\n\n  totalWeight += 8 * 4\n  totalWeight += varIntLength(inputCount) * 4\n  totalWeight += varIntLength(outputCount) * 4\n\n  return Math.ceil(totalWeight / 4)\n}\n\n//@ts-ignore\nconst calculateTxSize = async ({ speed, unspents, address, txOut = 2, method = 'send', fixed } = {}) => {\n  const { TRANSACTION } = constants\n  const defaultTxSize = DEFAULT_CURRENCY_PARAMETERS.next.size[method]\n\n  if (fixed) {\n    return defaultTxSize\n  }\n\n  unspents = unspents || await actions.next.fetchUnspents(address)\n\n  const txIn = unspents.length\n  let txSize = defaultTxSize\n\n  if (txIn > 0) {\n    txSize =\n      txIn * TRANSACTION.P2PKH_IN_SIZE +\n      txOut * TRANSACTION.P2PKH_OUT_SIZE +\n      (TRANSACTION.TX_SIZE + txIn - txOut)\n  }\n\n  if (method === 'send_multisig') {\n    const msuSize = getByteCount(\n      { 'MULTISIG-P2SH-P2WSH:2-2': 1 },\n      { 'P2PKH': (hasAdminFee) ? 3 : 2 }\n    )\n    const msutxSize =\n      txIn * msuSize +\n      txOut * TRANSACTION.P2PKH_OUT_SIZE +\n      (TRANSACTION.TX_SIZE + txIn - txOut)\n\n    return msutxSize\n  }\n\n  if (method === 'send_2fa') {\n    const msSize = getByteCount(\n      { 'MULTISIG-P2SH-P2WSH:2-3': 1 },\n      { 'P2PKH': (hasAdminFee) ? 3 : 2 }\n    )\n    const mstxSize =\n      txIn * msSize +\n      txOut * TRANSACTION.P2PKH_OUT_SIZE +\n      (TRANSACTION.TX_SIZE + txIn - txOut)\n\n    return mstxSize\n  }\n\n  return txSize\n}\n\ntype EstimateFeeValueOptions = {\n  method?: string\n  speed: 'fast' | 'normal' | 'slow'\n  feeRate?: number\n  inSatoshis?: boolean\n  address?: string\n  txSize?: number\n  fixed?: string\n}\n\nconst estimateFeeValue = async (options: EstimateFeeValueOptions) => {\n  let { feeRate, inSatoshis, speed, address, txSize, fixed, method } = options\n  const {\n    user: {\n      nextData,\n      nextMultisigSMSData,\n      nextMultisigUserData,\n    },\n  } = getState()\n\n  const txOut = hasAdminFee\n    ? method === 'send'\n      ? 3\n      : 2\n    : 2\n\n  if (!address) {\n    address = nextData.address\n    //@ts-ignore\n    if (method === 'send_2fa') address = nextMultisigSMS\n    if (method === 'send_multisig') address = nextMultisigUserData.address\n  }\n\n  //@ts-ignore\n  txSize = txSize || await calculateTxSize({ address, speed, fixed, method, txOut })\n  feeRate = feeRate || await estimateFeeRate({ speed })\n\n  const calculatedFeeValue = BigNumber.maximum(\n    DUST,\n    //@ts-ignore: strictNullChecks\n    new BigNumber(feeRate)\n      //@ts-ignore: strictNullChecks\n      .multipliedBy(txSize)\n      .div(1024) // divide by one kilobyte\n      .dp(0, BigNumber.ROUND_HALF_EVEN),\n  )\n\n  const finalFeeValue = inSatoshis\n    ? calculatedFeeValue.toString()\n    : calculatedFeeValue.multipliedBy(1e-8).toString()\n\n  console.log(`Next withdraw fee speed(${speed}) method (${method}) ${finalFeeValue}`)\n  return finalFeeValue\n}\n\nconst estimateFeeRate = async ({ speed = 'fast' } = {}) => {\n  const link = config.feeRates.next\n  const defaultRate = DEFAULT_CURRENCY_PARAMETERS.next.rate\n\n  if (!link) {\n    return defaultRate[speed]\n  }\n\n  let apiResult\n\n  try {\n    apiResult = await request.get(link, { cacheResponse: 60000 })\n  } catch (err) {\n    console.error(`EstimateFeeRate: ${err.message}`)\n    return defaultRate[speed]\n  }\n\n  const apiSpeeds = {\n    slow: 'low_fee_per_kb',\n    normal: 'medium_fee_per_kb',\n    fast: 'high_fee_per_kb',\n  }\n\n\n  const apiSpeed = apiSpeeds[speed] || apiSpeeds.normal\n  const apiRate = new BigNumber(apiResult[apiSpeed])\n\n  return apiRate.isGreaterThanOrEqualTo(DUST)\n    ? apiRate.toString()\n    : defaultRate[speed]\n}\n\nexport default {\n  calculateTxSize,\n  estimateFeeValue,\n  estimateFeeRate,\n  network,\n  networks,\n}\n","import ethLikeHelper from 'common/helpers/ethLikeHelper'\n\n// TODO: =================================\n\n// ! Deprecated. Use common/helpers/ethLikeHelper.eth\n\n// TODO: =================================\n\ntype EstimateFeeParams = {\n  method: string\n}\n\nconst estimateFeeValue = async (params: EstimateFeeParams) => {\n  return ethLikeHelper.eth.estimateFeeValue(params)\n}\n\nconst estimateGasPrice = async (): Promise<number> => {\n  return ethLikeHelper.eth.estimateGasPrice()\n}\n\nexport default {\n  estimateFeeValue,\n  estimateGasPrice,\n}\n","import ethLikeHelper from 'common/helpers/ethLikeHelper'\n\n// TODO: =================================\n\n// ! Deprecated. Use common/helpers/ethLikeHelper.bnb\n\n// TODO: =================================\n\ntype EstimateFeeParams = {\n  method: string\n}\n\nconst estimateFeeValue = async (params: EstimateFeeParams) => {\n  return ethLikeHelper.bnb.estimateFeeValue(params)\n}\n\nconst estimateGasPrice = async (): Promise<number> => {\n  return ethLikeHelper.bnb.estimateGasPrice()\n}\n\nexport default {\n  estimateFeeValue,\n  estimateGasPrice,\n}\n","import ethLikeHelper from 'common/helpers/ethLikeHelper'\n\n// TODO: =================================\n\n// ! Deprecated. Use common/helpers/ethLikeHelper.matic\n\n// TODO: =================================\n\ntype EstimateFeeParams = {\n  method: string\n}\n\nconst estimateFeeValue = async (params: EstimateFeeParams) => {\n  return ethLikeHelper.matic.estimateFeeValue(params)\n}\n\nconst estimateGasPrice = async (): Promise<number> => {\n  return ethLikeHelper.matic.estimateGasPrice()\n}\n\nexport default {\n  estimateFeeValue,\n  estimateGasPrice,\n}\n","import ethLikeHelper from 'common/helpers/ethLikeHelper'\n\n// TODO: =================================\n\n// ! Deprecated. Use common/helpers/ethLikeHelper.arbitrum\n\n// TODO: =================================\n\ntype EstimateFeeParams = {\n  method: string\n}\n\nconst estimateFeeValue = async (params: EstimateFeeParams) => {\n  return ethLikeHelper.arbeth.estimateFeeValue(params)\n}\n\nconst estimateGasPrice = async (): Promise<number> => {\n  return ethLikeHelper.arbeth.estimateGasPrice()\n}\n\nexport default {\n  estimateFeeValue,\n  estimateGasPrice,\n}\n","import config from './externalConfig'\nimport erc20Like from 'common/erc20Like'\n\n// TODO: =================================\n\n// ! Deprecated. Use common/erc20Like\n\n// TODO: =================================\n\nconst isEthOrEthToken = ({ name }) => Object.keys(config.erc20).concat('eth').includes(name.toLowerCase())\n\ntype EstimateFeeOptions = {\n  method: string\n  swapABMethod?: 'withdraw' | 'deposit'\n  speed: 'fast' | 'normal' | 'slow'\n}\n\nconst estimateFeeValue = async (options: EstimateFeeOptions) => {\n  return erc20Like.erc20.estimateFeeValue(options)\n}\n\nconst estimateGasPrice = (params) => {\n  return erc20Like.erc20.estimateFeeValue(params)\n}\n\nexport default {\n  estimateFeeValue,\n  estimateGasPrice,\n  isEthOrEthToken,\n}\n","const linksManager = {\n  home: '/',\n  hashHome: '#/',\n\n  exchange: '/exchange',\n\n  // Market maker page - for run parallel swaps in background\n  marketmaker: '/marketmaker',\n  marketmaker_short: '/mm',\n\n  history: '/history',\n  createWallet: '/createWallet',\n  restoreWallet: '/restoreWallet',\n  connectWallet: '/connectWallet',\n  invoices: '/invoices',\n  invoice: '/invoice',\n  farm: 'https://farm.wpmix.net/',\n  localStorage: '/localStorage',\n\n  wallets: '/wallets',\n  send: '/withdraw',\n  savePrivateSeed: '/savePrivateSeed',\n  savePrivateKeys: '/savePrivateKeys',\n  currencyWallet: '/wallet',\n  atomicSwap: '/atomic-swaps',\n  turboSwap: '/turbo-swaps',\n  feed: '/feed',\n  test: 'https://testnet.swaponline.io',\n  main: 'https://swaponline.io/',\n  wallet: '/wallet',\n  notFound: '/NotFound',\n  multisign: '/multisign',\n  createInvoice: '/createinvoice',\n\n  // social networks\n  medium: '#',\n  twitter: 'https://twitter.com/SwapOnlineTeam',\n  facebook: '#',\n  github: 'https://github.com/swaponline/MultiCurrencyWallet',\n  telegram: 'https://t.me/swaponline',\n  bitcointalk: '#',\n  discord: '#',\n  reddit: '#',\n  youtube: '#',\n\n  transactionRate: 'https://en.bitcoin.it/wiki/Maximum_transaction_rate#:~:text=Each%20transaction%20input%20requires%20at,the%20minimum-sized%20Bitcoin%20transaction',\n  impermanentLoss: 'https://academy.binance.com/en/articles/impermanent-loss-explained',\n  swapAudit: 'https://medium.com/swaponline/technical-audit-of-swap-core-is-finished-successfully-65a67bc5f58a',\n\n  // footer links\n  etherdelta: 'https://etherdelta.com/#0x14a52cf6b4f68431bd5d9524e4fcd6f41ce4ade9-ETH',\n  button: 'https://wiki.swaponline.io/about-swap-online/#b2b',\n  about: 'https://wiki.swaponline.io/about-swap-online/',\n  extension: 'https://chrome.google.com/webstore/detail/swaponline/oldojieloelkkfeacfinhcngmbkepnlm',\n  career: 'https://wiki.swaponline.io/careers-swap-online/',\n  contacts: 'https://wiki.swaponline.io/contacts-swap-online/',\n  concept: 'https://wiki.swaponline.io/en.pdf',\n  description: 'https://docs.google.com/document/d/1MWrDR5pc3FB7AiWBO0GyBWBSci3VuDKNvknkPHtTzl8/edit#heading=h.tml4qc7dhie9',\n  research: 'https://docs.google.com/spreadsheets/d/1qWFLK2y8oMH5Gfam-iwqXPzLtwNabzp_EL6QFxjSBc0/edit?usp=sharing',\n  wiki: 'https://wiki.swaponline.io',\n  bitcointalkSendTx: 'https://bitcointalk.org/index.php?topic=1938621.0',\n  privacyPolicy: 'https://drive.google.com/file/d/1LdsCOfX_pOJAMqlL4g6DfUpZrGF5eRe9/view?usp=sharing',\n  privacyPolicyDoc: 'https://drive.google.com/file/d/0Bz2ZwZCmFtj_N29fQVk4bV9tUXRscjFEcUkxVkFXdF9tY0ow/view?usp=sharing',\n  terms: 'https://drive.google.com/file/d/0Bz2ZwZCmFtj_Nm9qSm0tUm9Ia1kwVGhWRlVlVXRJTGZtYW5N/view?usp=sharing',\n  legalOpinion: 'https://drive.google.com/file/d/0Bz2ZwZCmFtj_WlNkY0ZYN0ZpNUo2VFVEeW9rWEVoTlNja0VZ/view?usp=sharing',\n  licence: 'https://www.teatmik.ee/en/personlegal/14477421-Swap-Online-O%C3%9C',\n  faq: [\n    {\n      question: 'What is the price of SWAP token?',\n      link: 'https://wiki.swaponline.io/faq/#swap-faq-1',\n    },\n    {\n      question: 'I don\\'t see the Order, although the others can see it (or it can be seen from a different browser)',\n      link: 'https://wiki.swaponline.io/faq/#swap-faq-2',\n    },\n    {\n      question: 'Where are my private keys stored?',\n      link: 'https://wiki.swaponline.io/faq/#swap-faq-3',\n    },\n    {\n      question: 'Is KYC required?',\n      link: 'https://wiki.swaponline.io/faq/#swap-faq-4',\n    },\n    {\n      question: 'What swap pairs are available?',\n      link: 'https://wiki.swaponline.io/faq/#swap-faq-5',\n    },\n    {\n      question: 'Is there fee for trade?',\n      link: 'https://wiki.swaponline.io/faq/#swap-faq-6',\n    },\n    {\n      question: 'How much gas is being spent for swap?',\n      link: 'https://wiki.swaponline.io/faq/#swap-faq-7',\n    },\n    {\n      question: 'Min sum to trade?',\n      link: 'https://wiki.swaponline.io/faq/#swap-faq-8',\n    },\n    {\n      question: 'My swap got stuck and my Bitcoin has already been sent to the swap. What should I do?',\n      link: 'https://wiki.swaponline.io/faq/#swap-faq-9',\n    },\n    {\n      question: 'In what language is this written, and where I can find source code?',\n      link: 'https://wiki.swaponline.io/faq/#swap-faq-10',\n    },\n    {\n      question: 'Swap.Online token',\n      link: 'https://wiki.swaponline.io/faq/#swap-faq-11',\n    },\n    {\n      question: 'What is Swap.Button?',\n      link: 'https://wiki.swaponline.io/faq/#swap-faq-12',\n    },\n    {\n      question: 'Advantages of using the exchanger based on Swap.Online DEP',\n      link: 'https://wiki.swaponline.io/faq/#swap-faq-13',\n    },\n    {\n      question: 'Request is declined. Why?',\n      link: 'https://wiki.swaponline.io/faq/#swap-faq-5738',\n      id: 'requestDeclimed',\n    },\n  ],\n  // footer new links\n  footer: {\n    exchange: 'https://swap.online/exchange',\n    wallet: 'https://swap.online',\n    widget: 'https://widget.swap.online/',\n    chromeextantion: 'https://chrome.google.com/webstore/detail/swaponline/oldojieloelkkfeacfinhcngmbkepnlm',\n    forstablecoin: 'https://wiki.swaponline.io/for_stablecoins/',\n    fordexses: 'https://wiki.swaponline.io/for_dexs/',\n    forblockchains: 'https://wiki.swaponline.io/for_blockchains/',\n    whitepaper: 'https://wiki.swaponline.io/en.pdf',\n    wiki: 'https://wiki.swaponline.io/',\n    github: 'https://github.com/swaponline',\n    about: 'https://wiki.swaponline.io/about-swap-online/',\n    agreements: 'https://drive.google.com/file/d/0Bz2ZwZCmFtj_Nm9qSm0tUm9Ia1kwVGhWRlVlVXRJTGZtYW5N/view?usp=sharing',\n    privacypolicy: 'https://drive.google.com/file/d/1LdsCOfX_pOJAMqlL4g6DfUpZrGF5eRe9/view?usp=sharing',\n    legal: 'https://drive.google.com/file/d/0Bz2ZwZCmFtj_WlNkY0ZYN0ZpNUo2VFVEeW9rWEVoTlNja0VZ/view?usp=sharing',\n    contacts: 'https://wiki.swaponline.io/contacts-swap-online/',\n    comparsion: 'https://docs.google.com/spreadsheets/d/1HVWjTKexfPjan_LFnCwMazEZTvcVtYl_3NWFKQ0L3ZM/edit?usp=drive_web&ouid=100012339553469619949',\n    bankdashboard: 'https://wiki.swaponline.io/crypto_banking/',\n    lnresearch: 'https://wiki.swaponline.io/lightninghack-berlin-june2018/',\n  },\n\n  getFaqLink(faqID) {\n    for (let i = 0; i < this.faq.length; i++) {\n      if (this.faq[i].id\n        && (this.faq[i].id === faqID)\n      ) {\n        return this.faq[i].link\n      }\n    }\n    return false\n  },\n}\n\nexport const getFullOrigin = () => `${location.origin}${location.pathname}#`\n\n\nexport default linksManager\n","import axios from 'axios'\nimport { constants, localStorage } from 'helpers'\nimport config from 'helpers/externalConfig'\n\n\nconst saveUserData = function saveUserData(data) {\n  const { key, value } = data\n  window.localStorage.setItem(key, JSON.stringify(value))\n\n  const interval = window.setInterval(() => {\n    const isWalletCreate = localStorage.getItem(constants.localStorage.isWalletCreate)\n\n    if (isWalletCreate\n      && config\n      && config.opts\n      && config.opts.plugins\n      && config.opts.plugins.userDataPluginApi\n      && window.WPuserUid\n      && config.opts.WPuserHash\n    ) {\n      const { user } = localStorage.getItem('redux-store')\n\n      const curKeys = Object.keys(user).filter(el => {\n        if (el !== 'tokensData') {\n          return el.includes('Data')\n        }\n        return false\n      })\n\n      const data = {}\n      curKeys.forEach(el => {\n        const { address, balance } = user[el]\n\n        if (address) {\n          data[el] = {\n            address,\n            balance,\n          }\n        }\n\n      })\n\n      Object.keys(user.tokensData).forEach((key) => {\n        const { balance, address } = user.tokensData[key]\n        if (address) {\n          data[key] = {\n            balance,\n            address,\n          }\n        }\n      })\n\n      if (data && Object.values(data).length) {\n        axios.post(config.opts.plugins.userDataPluginApi, {\n          ...data,\n          WPuserUid: window.WPuserUid,\n          WPuserHash: config.opts.WPuserHash,\n        })\n      }\n      window.clearInterval(interval)\n    }\n  }, 10000)\n}\n\nexport default saveUserData\n","import saveUserData from './saveUserData'\nimport backupUserData from './backupUserData'\n\n\n// put plugin function into this obj\nexport default {\n  saveUserData,\n  backupUserData,\n}\n","//@ts-ignore\nimport plugins from 'plugins';\nimport config from 'helpers/externalConfig'\n\n\nlet isLocalStorageEnabled\n\ntry {\n  window.localStorage.setItem('test', 'test')\n  window.localStorage.removeItem('test')\n  isLocalStorageEnabled = true\n} catch (e) {\n  isLocalStorageEnabled = false\n}\n\nconst getPluginMethod = (name, data) => {\n  if (plugins && plugins[name] && typeof plugins[name] === 'function') {\n    return plugins[name](data)\n  }\n  throw new Error(`plugin code error or plugin function is not exist, check ${name} function in plugins derectory`)\n}\n\nconst setItem = (key, value) => {\n  if (isLocalStorageEnabled) {\n    const setItemPlugin = config?.opts?.plugins?.setItemPlugin || false\n\n    if (setItemPlugin) {\n      getPluginMethod(setItemPlugin, { key, value })\n    } else {\n      window.localStorage.setItem(key, JSON.stringify(value))\n    }\n  }\n}\n\nconst getItem = (key) => {\n  if (isLocalStorageEnabled) {\n    const { localStorage } = window\n    const getItemPlugin = config?.opts?.plugins?.getItemPlugin || false\n\n    if (getItemPlugin) {\n      return getPluginMethod(getItemPlugin, { key })\n    }\n\n    const value = localStorage.getItem(key)\n\n    try {\n      //@ts-ignore: strictNullChecks\n      return JSON.parse(value)\n    } catch (err) {\n      console.group('helpers >%c localStorage', 'color: red;')\n      console.error('getItem parse error: ', err)\n      console.groupEnd()\n\n      return value\n    }\n  }\n\n  return undefined\n}\n\nconst removeItem = (key) => {\n  if (isLocalStorageEnabled) {\n    return window.localStorage.removeItem(key)\n  }\n}\n\nconst clear = () => {\n  if (isLocalStorageEnabled) {\n    window.localStorage.clear()\n  }\n}\n\nconst subscribe = (key, originalListener) => {\n  const listener = (event) => {\n    if (event.storageArea === window.localStorage && event.key === key) {\n      originalListener(event.newValue, event.oldValue)\n    }\n  }\n  window.addEventListener('storage', listener, false)\n  return listener\n}\n\nconst unsubscribe = (listener) => {\n  window.removeEventListener('storage', listener, false)\n}\n\nexport default {\n  setItem,\n  getItem,\n  removeItem,\n  clear,\n  subscribe,\n  unsubscribe,\n}\n","/* eslint-disable */\nimport path from 'path'\nimport fs from 'fs'\n\nexport const removeRepo = (pathToRepo) => {\n  /**\n   * Check NODE_ENV if env = test or window === undefined\n   * return this function\n   * else delete REPO directory\n   */\n  if (\n    typeof window !== 'undefined' ||\n    !fs.existsSync(pathToRepo)\n  ) {\n    console.log('ENV === test or start with browser or file not exists with path')\n    return\n  }\n\n  try {\n    /**\n     * check files in directory\n     * and call functions for each of them\n     */\n    for (let file of fs.readdirSync(pathToRepo)) {\n      /**\n       * Create path to file inner directory\n       */\n      const curPath = path.join(pathToRepo, file)\n\n      /**\n       * if file or directory not exist\n       * then missing this path\n       */\n      if (!fs.existsSync(curPath)) {\n        continue\n      }\n\n      /**\n       * if check path on directory then\n       * recursive call else delete file\n       */\n      (fs.lstatSync(curPath).isDirectory())\n        ? removeRepo(curPath)\n        : fs.unlinkSync(curPath)\n    }\n\n    /** If not files then remove directory */\n    fs.rmdirSync(pathToRepo)\n  } catch (err) {\n    console.error(err)\n    process.exit(1)\n  }\n}\n\nexport const exitListener = () => {\n  /**\n   * listening for array signalls\n   * and call funct wich argument\n   */\n  [ 'SIGINT', 'SIGTERM', 'SIGBREAK' ]\n    .forEach(SIGNAL => {\n      process.on(SIGNAL, () => {\n        console.log('Process out...')\n        process.kill(0, 'SIGKILL')\n        process.exit()\n      })\n    })\n}\n\nexport const createRepo = (dirpath = `./data/`) => {\n  // dirpath += Math.ceil(Math.random() * 10000)\n  return path.resolve(dirpath)\n}\n\nexport function getCookie(cname) {\n  var name = cname + \"=\";\n  var ca = document.cookie.split(';');\n  for(var i = 0; i < ca.length; i++) {\n    var c = ca[i];\n    while (c.charAt(0) == ' ') {\n      c = c.substring(1);\n    }\n    if (c.indexOf(name) == 0) {\n      return c.substring(name.length, c.length);\n    }\n  }\n  return \"\";\n}\n\nexport function setCookie(name, value, options) {\n  options = options || {};\n\n  var expires = options.expires;\n\n  if (typeof expires == \"number\" && expires) {\n    var d = new Date();\n    d.setTime(d.getTime() + expires * 1000);\n    expires = options.expires = d;\n  }\n  if (expires && expires.toUTCString) {\n    options.expires = expires.toUTCString();\n  }\n\n  value = encodeURIComponent(value);\n\n  var updatedCookie = name + \"=\" + value;\n\n  for (var propName in options) {\n    updatedCookie += \"; \" + propName;\n    var propValue = options[propName];\n    if (propValue !== true) {\n      updatedCookie += \"=\" + propValue;\n    }\n  }\n\n  document.cookie = updatedCookie;\n}\n","import SwapApp, { util } from 'swap.app'\nimport actions from 'redux/actions'\nimport moment from 'moment/moment'\n\n\nconst getSwapByIdSafe = (swapID) => {\n  try {\n    const returnedSwap = actions.core.getSwapById(swapID)\n    return returnedSwap\n  } catch (noFlowError) {\n    return false\n  }\n}\nconst getDeclinedExistedSwapIndex = ({ currency, decline }) => {\n  const date = Date.now() / 1000\n\n  const indexOfDecline = decline.length - 1\n\n  if (indexOfDecline >= 0) {\n    for (let i = 0; i <= indexOfDecline; i++) {\n      const declineSwap = getSwapByIdSafe(decline[i])\n\n      if (declineSwap) {\n        const itemState = declineSwap.flow.state\n        const values = itemState.utxoScriptValues\n\n        if (values) {\n          const { isFinished, isRefunded, isStoppedSwap } = itemState\n\n          //@ts-ignore\n          const lockTime = moment.unix(values.lockTime || date)._i / 1000\n          const timeSinceLock = date - lockTime\n\n          if (isFinished || isRefunded || isStoppedSwap || timeSinceLock > 259200) { // 259200 3 дня в секундах\n            actions.core.forgetOrders(decline[i])\n          } else if (declineSwap.sellCurrency === currency.toUpperCase()\n            //@ts-ignore\n            && !declineSwap.isSwapExist\n            && !declineSwap.isMy) {\n            return i\n          }\n        }\n      }\n    }\n  }\n  return false\n}\n\nexport default {\n  getDeclinedExistedSwapIndex,\n}\n","const getTopLocation = (): any => {\n  try {\n    const topLocation: any = window.top.location\n    const tryGetHost: any = topLocation.host\n    const tryGetHostname: any = topLocation.hostname\n    return topLocation\n  } catch (e) {\n    return window.location\n  }\n}\n\n\nexport default getTopLocation","import axios from 'axios'\nimport getTopLocation from 'helpers/getTopLocation'\n\n\nconst isFeedbackEnabled = !window?.STATISTIC_DISABLED\n\n\nconst sendMessage = ({ appPart, eventName, details }) => {\n  if (!isFeedbackEnabled) {\n    return\n  }\n\n  const host = getTopLocation().host || window.location.hostname || document.location.host\n\n  let prefixMark = ''\n  \n  if (eventName === 'failed') prefixMark = '🛑'\n  if (eventName === 'warning') prefixMark = '🔥'\n\n  const textToSend = `${prefixMark} [${host}] ${appPart} - ${eventName}${details ? ` {${details}}` : ``} |`\n\n  if (host && host.includes('localhost')) {\n    console.log(`📩 (muted) ${textToSend}`)\n    return\n  }\n\n  console.log(`📩 ${textToSend}`)\n\n  try {\n    axios({\n      url: `https://noxon.wpmix.net/counter.php?msg=${encodeURI(textToSend)}&todevs=1`,\n      method: 'post',\n    }).catch(e => console.error(e))\n  } catch (error) {\n    console.error(error)\n  }\n}\n\nconst events = {\n  app: {\n    started: 'started',\n    otherTabsClosed: 'otherTabsClosed',\n    //closed: 'closed',\n    failed: 'failed',\n    warning: 'warning',\n  },\n  createWallet: {\n    //started: 'started',\n    currencySelected: 'currencySelected',\n    securitySelected: 'securitySelected',\n    finished: 'finished',\n  },\n  wallet: {\n    clickedBanner: 'clickedBanner',\n    pressedAddCurrency: 'pressedAddCurrency',\n  },\n  createInvoice: {\n    failed: 'failed',\n  },\n  faq: {\n    opened: 'opened',\n    failed: 'failed',\n  },\n  backup: {\n    started: 'started',\n    finished: 'finished',\n  },\n  restore: {\n    started: 'started',\n    finished: 'finished',\n  },\n  withdraw: {\n    entered: 'entered',\n    started: 'started',\n    finished: 'finished',\n    failed: 'failed',\n  },\n  exchangeForm: {\n    flipped: 'flipped',\n    selectedAddress: 'selectedAddress',\n    redirectedCreateWallet: 'redirectedCreateWallet',\n    requestedSwap: 'requestedSwap',\n    failed: 'failed',\n  },\n  createOffer: {\n    started: 'started',\n    finished: 'finished',\n  },\n  offers: {\n    //shared: 'shared',\n    deleted: 'deleted',\n    buyPressed: 'buyPressed',\n    swapRequested: 'swapRequested',\n  },\n  swap: {\n    started: 'started',\n    stopped: 'stopped',\n    finished: 'finished',\n  },\n  marketmaking: {\n    enteredPromo: 'enteredPromo',\n    selected: 'selected',\n    enteredSettings: 'enteredSettings',\n    faqOpened: 'faqOpened',\n    prevented: 'prevented',\n    enabled: 'enabled',\n    disabled: 'disabled',\n  },\n  theme: {\n    switched: 'switched',\n  },\n  i18n: {\n    switched: 'switched',\n  },\n  actions: {\n    failed: 'failed'\n  },\n  helpers: {\n    failed: 'failed'\n  },\n}\n\ninterface IFeedback {\n  [key: string]: {\n    [key: string]: (object?) => void\n  }\n}\n\nconst feedback: IFeedback = {}\n\nObject.keys(events).forEach(appPart => {\n  if (!feedback[appPart]) {\n    feedback[appPart] = {}\n  }\n  const appPartEvents = events[appPart]\n  Object.keys(appPartEvents).forEach(eventName => {\n    feedback[appPart][eventName] = function(details) {\n      sendMessage({ appPart, eventName, details })\n    }\n  })\n})\n\nexport default feedback\n","import { localStorage, constants } from 'helpers'\n\n\nconst name = 'Initial migration'\nconst run = () => {\n  localStorage.setItem(constants.localStorage.hiddenCoinsList, [])\n  return Promise.resolve()\n}\n\nexport default {\n  name,\n  run,\n}\n","import { localStorage, constants } from 'helpers'\nimport { COIN_DATA, COIN_TYPE } from 'swap.app/constants/COINS'\nimport getCoinInfo from 'common/coins/getCoinInfo'\n\nconst storageKey = constants.localStorage.hiddenCoinsList\n\n\nconst name = 'Update hiddenCoinsList - add baseCurrency to tokens'\nconst run = () => {\n  const hiddenCoinsList = localStorage.getItem(storageKey) || '[]'\n\n  const similarTokens: {\n    ticker: string\n    name: string\n    type: string\n    blockchain: string\n    model: string\n    precision: number\n    standard?: string\n  }[] = []\n\n  const hiddenNativeCoinsList = hiddenCoinsList.filter(coin => {\n    let currency = coin.toUpperCase()\n\n    if (coin.includes(':')) {\n      const [coinName, coinAddress] = coin.split(':')\n      currency = coinName.toUpperCase()\n    }\n\n    switch (currency.toLowerCase()) {\n      case 'btc (multisig)':\n      case 'btc (sms-protected)':\n      case 'btc (pin-protected)':\n        currency = 'BTC'\n        break\n    }\n\n    if (COIN_DATA[currency]?.type === COIN_TYPE.NATIVE) return true\n\n    const {\n      coin: tokenName\n    } = getCoinInfo(currency)\n\n    Object.keys(COIN_DATA).map(tokenKey => {\n      const tokenInfo = getCoinInfo(tokenKey)\n      if (tokenInfo.coin === tokenName) {\n        similarTokens.push(COIN_DATA[tokenKey])\n      }\n    })\n\n    return false\n  })\n\n  const hiddenTokensList: string[] = []\n\n  similarTokens.forEach(token => {\n    const baseCurrency = token.blockchain\n    const ticker = token.ticker\n    const tokenValue = `{${baseCurrency}}${ticker}`\n\n    !hiddenTokensList.includes(tokenValue) && hiddenTokensList.push(tokenValue)\n  })\n\n  const updatedHiddenCoinsList = [...hiddenNativeCoinsList, ...hiddenTokensList]\n\n  localStorage.setItem(storageKey, updatedHiddenCoinsList)\n\n  localStorage.setItem('shouldUpdatePageAfterMigration', true)\n  return Promise.resolve()\n}\n\nexport default {\n  name,\n  run,\n}","import { constants, localStorage } from 'helpers'\nimport initMigration from './001_initMigration'\nimport addBaseCurrencyToTokensInHiddenCoinsList from './002_updateHiddenCoinsList'\n\n\nconst migrations = [\n  initMigration,\n  addBaseCurrencyToTokensInHiddenCoinsList,\n  // don't break an order of migrations, add only to end of array\n]\n\nexport const migrate = () => {\n  let revision = parseInt(localStorage.getItem(constants.localStorage.storageRevision), 10) || 0\n  if (migrations.length === revision) {\n    console.log('Your storage is up-to-date')\n    return Promise.resolve()\n  }\n  console.log(`Your current storage revision is ${revision}, need to run ${migrations.length - revision} migrations`)\n\n  return migrations.splice(revision).reduce((queue, migration) =>\n    queue.then(() => new Promise((resolve, reject) => {\n      try {\n        migration.run()\n          .then(() => {\n            console.log(`Migration \"${migration.name}\" (#${revision + 1}) successfully done.`)\n            revision++\n            resolve()\n          }).catch(e => {\n            console.error(e)\n            reject(`Migration \"${migration.name}\" (#${revision + 1}) is failed.`)\n          })\n      } catch (e) {\n        console.error(e)\n        reject(`Migration \"${migration.name}\" (#${revision + 1}) is failed.`)\n      }\n    }\n    )), Promise.resolve()).then(() => {\n    console.log('All migrations done.')\n  }).catch(e => console.error(e))\n    .finally(() => {\n      localStorage.setItem(constants.localStorage.storageRevision, revision)\n    })\n}\n","import getUnixTimeStamp from 'common/utils/getUnixTimeStamp'\n\nconst cacheStorage = {}\n\nconst cacheStorageGet = (cachePart, cacheKey) => {\n  if (cacheStorage[cachePart]\n    && cacheStorage[cachePart][cacheKey]\n    && (cacheStorage[cachePart][cacheKey].timeout > getUnixTimeStamp())\n  ) {\n    return cacheStorage[cachePart][cacheKey].value\n  }\n  return false\n}\n\nconst cacheStorageSet = (cachePart, cacheKey, cacheValue, cacheTimeout) => {\n  if (!cacheStorage[cachePart]) cacheStorage[cachePart] = {}\n  cacheStorage[cachePart][cacheKey] = {\n    timeout: getUnixTimeStamp() + cacheTimeout,\n    value: cacheValue,\n  }\n}\n\nconst cacheStorageClear = (cachePart, cacheKey) => {\n  if (cacheStorage[cachePart]) {\n    cacheStorage[cachePart][cacheKey] = false\n  }\n}\n\nconst cacheStorageClearPart = (cachePart) => {\n  cacheStorage[cachePart] = false\n}\n\nexport {\n  cacheStorageGet,\n  cacheStorageSet,\n  cacheStorageClear,\n  cacheStorageClearPart,\n}\n","import { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\nimport actions from 'redux/actions'\nimport { constants } from 'helpers'\n\n\nconst alertTexts = defineMessages({\n  title: {\n    id: 'WidgetExitAlertTitle',\n    defaultMessage: 'One more step',\n  },\n  message: {\n    id: 'widgetExitAlertMessage',\n    defaultMessage: 'Save your secret phrase before exit!',\n  },\n})\n\n\nconst confirmTexts = defineMessages({\n  title: {\n    id: 'WidgetExitTitle3',\n    defaultMessage: 'Confirm exit',\n  },\n  message: {\n    id: 'widgetApproveMessage',\n    defaultMessage: 'Are you sure you want to logout?',\n  },\n  no: {\n    id: 'widgetApproveCancel',\n    defaultMessage: 'Cancel',\n  },\n  yes: {\n    id: 'widgetApproveApprove',\n    defaultMessage: 'Yes',\n  },\n})\n\nconst handleShowMnemonic = () => {\n  actions.modals.open(constants.modals.SaveMnemonicModal)\n}\n\nconst handleConfirm = () => {\n  //@ts-ignore\n  actions.backupManager.serverBackup().then((backupReady, hasBackupPlugin) => {\n    console.log('Backup ready', backupReady)\n    if (hasBackupPlugin) {\n      if (backupReady) window.localStorage.clear()\n    } else {\n      window.localStorage.clear()\n    }\n\n    window.location = (window && window.logoutUrl) ? window.logoutUrl : '/wp-login.php?action=logout'\n  })\n}\n\nconst wpLogoutModal = (onCancelHandle, intl) => {\n  const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\n  const mnemonicSaved = (mnemonic === `-`)\n  if (!mnemonicSaved)  {\n    //@ts-ignore: strictNullChecks\n    actions.modals.open(constants.modals.AlertModal, {\n      title: intl.formatMessage(alertTexts.title),\n      message: intl.formatMessage(alertTexts.message),\n      onClose: () => handleShowMnemonic(),\n    })\n  } else {\n    //@ts-ignore: strictNullChecks\n    actions.modals.open(constants.modals.Confirm, {\n      title: intl.formatMessage(confirmTexts.title),\n      message: intl.formatMessage(confirmTexts.message),\n      labelNo: intl.formatMessage(confirmTexts.no),\n      labelYes: intl.formatMessage(confirmTexts.yes),\n      onCancel: onCancelHandle,\n      onClose: onCancelHandle,\n      onAccept: () => handleConfirm(),\n    })\n  }\n}\n\n\nexport default wpLogoutModal","\n\nconst redirectTo = (url) => {\n  if (url) {\n    if (url.substr(0, 1) !== `#`) url = `#${url}`\n    window.location.hash = url\n  }\n}\n\nexport default redirectTo\n","import getCurrencyKey from './getCurrencyKey'\nimport config from './externalConfig'\nimport { BigNumber } from 'bignumber.js'\n\n\nconst isEnabled = (currency) => {\n  currency = getCurrencyKey(currency, false).toLowerCase()\n\n  if (config?.opts?.fee) {\n    if (\n      currency === `token` &&\n      config.opts.fee.erc20?.fee &&\n      config.opts.fee.erc20?.address &&\n      config.opts.fee.erc20?.min\n    ) {\n      return config.opts.fee.erc20\n    } else {\n      if (config.opts.fee[currency]) {\n        return config.opts.fee[currency]\n      }\n    }\n  }\n\n  return false\n}\n\nconst calc = (currency, amount) => {\n  const usedAdminFee = isEnabled(currency)\n\n  if (usedAdminFee) {\n    let fee = (usedAdminFee.min) ? new BigNumber(usedAdminFee.min).toNumber() : 0\n\n    if (amount && new BigNumber(amount).isGreaterThan(0)) {\n      let feeFromAmount = new BigNumber(usedAdminFee.fee).dividedBy(100).multipliedBy(amount)\n\n      if (new BigNumber(usedAdminFee.min).isGreaterThan(feeFromAmount)) feeFromAmount = new BigNumber(usedAdminFee.min)\n\n      fee = feeFromAmount.toNumber() // Admin fee in satoshi\n    }\n\n    return fee\n  }\n\n  return 0\n}\n\nexport default {\n  isEnabled,\n  calc,\n}\n","import config from 'helpers/externalConfig'\n\nconst allowedCoins = [\n  ...(!config.opts.blockchainSwapEnabled || config.opts.blockchainSwapEnabled.btc ? ['BTC'] : []),\n  ...(!config.opts.blockchainSwapEnabled || config.opts.blockchainSwapEnabled.eth ? ['ETH'] : []),\n  ...(!config.opts.blockchainSwapEnabled || config.opts.blockchainSwapEnabled.bnb ? ['BNB'] : []),\n  ...(!config.opts.blockchainSwapEnabled || config.opts.blockchainSwapEnabled.matic ? ['MATIC'] : []),\n  ...(!config.opts.blockchainSwapEnabled || config.opts.blockchainSwapEnabled.arbeth ? ['ARBETH'] : []),\n  ...(!config.opts.blockchainSwapEnabled || config.opts.blockchainSwapEnabled.ghost ? ['GHOST'] : []),\n  ...(!config.opts.blockchainSwapEnabled || config.opts.blockchainSwapEnabled.next ? ['NEXT'] : []),\n]\n\nconst isExchangeAllowed = (currencies) =>\n  currencies.filter((c) => {\n    const isErc = Object.keys(config.erc20)\n      .map((i) => `{eth}${i.toLowerCase()}`)\n      .includes(`${c.value}`.toLowerCase())\n    const isBep = Object.keys(config.bep20)\n      .map((i) => `{bnb}${i.toLowerCase()}`)\n      .includes(`${c.value}`.toLowerCase())\n    const isErcMatic = Object.keys(config.erc20matic)\n      .map((i) => `{matic}${i.toLowerCase()}`)\n      .includes(`${c.value}`.toLowerCase())\n\n    const isAllowedCoin = allowedCoins.map((i) => i.toLowerCase()).includes(c.value.toLowerCase())\n\n    return isAllowedCoin || isErc || isBep || isErcMatic\n  })\n\nconst filterIsPartial = (orders) =>\n  orders\n    .filter((order) => order.isPartial && !order.isProcessing && !order.isHidden)\n    .filter((order) => order.sellAmount !== 0 && order.sellAmount.isGreaterThan(0)) // WTF sellAmount can be not BigNumber\n    .filter((order) => order.buyAmount !== 0 && order.buyAmount.isGreaterThan(0)) // WTF buyAmount can be not BigNumber too - need fix this\n\nexport default {\n  isExchangeAllowed,\n  filterIsPartial,\n}","import axios from 'axios'\nimport { request, gql } from 'graphql-request'\n\n\nconst addUserMut = gql`\n  # input WalletDataInput {\n  #   symbol: String!\n  #   type: String\n\n  #   address: String!\n  #   balance: Float\n\n  #   public_key: String!\n\n  #   # unesessary fields\n  #   nounce: Int\n  #   signatures_required: Int\n  #   signatories: [String]\n  # }\n\n  # \"\"\"Data consumed from user's activity\"\"\"\n  # input UserDataInput {\n  #   locale: String\n  #   user_description: String\n  #   gift_referrer: String\n  #   gift: Boolean\n  #   gift_date: String\n  #   ip: String\n  #   messaging_token: String\n  #   widget_url: String\n  #   wallets: [WalletDataInput]\n  # }\n\n  mutation addUserMutation(\n    $createdBy: String!,\n    $domain: String!\n    $data: UserDataInput\n  ){\n    addUser(created_by: $createdBy, domain: $domain, data: $data) {\n      id\n      created_by\n      created_at\n      updated_at\n      domain_at_creation\n      domain_last_accessed_from\n      data {\n        locale\n        user_description\n        ip\n        messaging_token\n        widget_url\n        wallets {\n          symbol\n          type\n          address\n          balance\n          public_key\n          nounce\n          signatories\n          signatures_required\n        }\n      }\n    }\n  }\n`\n\nconst updUserMut = gql`\n  mutation updUserMutation(\n    $createdBy: String!,\n    $domain: String!\n    $data: UserDataInput\n  ){\n    updateUser(created_by: $createdBy, domain: $domain, data: $data) {\n      id\n      created_by\n      created_at\n      updated_at\n      domain_at_creation\n      domain_last_accessed_from\n      data {\n        locale\n        user_description\n        ip\n        messaging_token\n        widget_url\n        wallets {\n          symbol\n          type\n          address\n          balance\n          public_key\n          nounce\n          signatories\n          signatures_required\n        }\n      }\n    }\n  }\n`\n\n/**\n *\n * @param {ethAddress} createdBy\n * @param {domain} domain\n * @param {json} data\n */\n\nlet serverBaseUrl = 'http://localhost:5050/graphql'\nif (process.env.NODE_ENV === 'production') {\n  serverBaseUrl = 'https://analysis.swaponline.io/graphql'\n}\n\nconst addUser = async (createdBy, domain, data) => {\n  try {\n    const res = await request(serverBaseUrl, addUserMut, { createdBy, domain, data })\n    return res\n  } catch (error) {\n    console.error('Error on add user to stat.swaponline:', error)\n  }\n}\n\n/**\n *\n * @param {ethAddress} createdBy\n * @param {domain} domain\n * @param {json} data\n */\n\nconst updateUser = async (createdBy, domain, data) => {\n  try {\n    const res = await request(serverBaseUrl, updUserMut, { createdBy, domain, data })\n    return res\n  } catch (error) {\n    if (\n      !error.response.data &&\n      error.response.errors[0].message === 'This user does not exists' &&\n      error.response.errors[0].extensions.code === 'UNAUTHENTICATED'\n    ) {\n      console.warn('Error on update user to stat.swaponline, trying to add user instead...', error)\n      const res = await addUser(createdBy, domain, data)\n      return res\n    }\n    console.error('Error on update user to stat.swaponline:', error)\n  }\n}\n\nconst getIPInfo = () => {\n  try {\n    return axios\n      .get('https://json.geoiplookup.io')\n      .then((result) => {\n        // eslint-disable-next-line camelcase\n        const { ip, country_code } = result.data\n        // eslint-disable-next-line camelcase\n        if (!ip || !country_code) {\n          return ({\n            ip: 'json.geoiplookup.io didn\\'t respond with a result, so setting locale EN by default',\n            locale: 'EN',\n          })\n        }\n        return ({\n          ip,\n          locale: country_code,\n        })\n      })\n      .catch((error) => {\n        console.error('getIPInfo:', error)\n\n        return {\n          ip: 'None',\n          locale: 'EN',\n        }\n      })\n  } catch (error) {\n    console.error(error)\n  }\n  return {\n    ip: 'None',\n    locale: 'EN',\n  }\n}\n\nexport default {\n  addUser,\n  updateUser,\n  getIPInfo,\n}\n","import { COIN_DATA, COIN_MODEL, COIN_TYPE } from 'swap.app/constants/COINS'\nimport helpers from 'helpers'\nimport getCoinInfo from 'common/coins/getCoinInfo'\nimport erc20Like from 'common/erc20Like'\n\n\nconst reportAboutProblem = (params) => {\n  const { isError = false, info } = params\n\n  console.group(\n    'HELPERS > %c getPairFees.ts',\n    `color: ${isError ? 'red' : 'orange'};`\n  )\n  isError ? console.error(info) : console.warn(info)\n  console.groupEnd()\n}\n\ntype CoinFee = {\n  coin: string\n  fee: number\n  isUTXO: boolean\n}\n\nexport interface IPairFees {\n  sell: CoinFee\n  buy: CoinFee\n  have: CoinFee\n  get: CoinFee\n  byCoins: {\n    [key: string]: CoinFee\n  }\n}\n\nconst feeCache = {\n  isEnabled: true,\n}\n\nconst fetchCoinFee = (params): Promise<CoinFee> => {\n  const { coinName , action, updateCacheValue } = params\n\n  return new Promise(async (feeResolved) => {\n    const hasFeeInCache = !updateCacheValue && feeCache[action] && feeCache[action][coinName]\n    const coinData = COIN_DATA[coinName.toUpperCase()]\n\n    let isBuyingUTXO = action === 'buy' && coinData.model === COIN_MODEL.UTXO\n    let isBuyingAB = action === 'buy' && coinData.model === COIN_MODEL.AB\n\n    let obtainedResult = undefined\n\n    if (hasFeeInCache) {\n      feeResolved(feeCache[action][coinName])\n      return\n    }\n    // first off enable cache for every request\n    // but if with currency something wrong\n    // we disable this\n    feeCache.isEnabled = true\n\n    const doResolve = (result) => {\n      if (feeCache.isEnabled && result) {\n        feeCache[action] = {\n          ...feeCache[action],\n          [coinName]: result,\n        }\n      }\n\n      feeResolved(result)\n    }\n\n    if (coinData) {\n      switch (coinData.type) {\n        case COIN_TYPE.NATIVE:\n          //@ts-ignore: strictNullChecks\n          obtainedResult = await fetchFeeForNativeCoin({\n            coinData,\n            swapUTXOMethod: isBuyingUTXO ? 'withdraw' : 'deposit',\n            swapABMethod: isBuyingAB ? 'withdraw' : 'deposit',\n          })\n          doResolve(obtainedResult)\n          break\n        case COIN_TYPE.BNB_TOKEN:\n        case COIN_TYPE.ETH_TOKEN:\n        case COIN_TYPE.MATIC_TOKEN:\n          //@ts-ignore: strictNullChecks\n          obtainedResult = await fetchFeeForEthLikeToken({\n            coinData,\n            swapABMethod: isBuyingAB ? 'withdraw' : 'deposit',\n          })\n          doResolve(obtainedResult)\n          break\n        default:\n          reportAboutProblem({\n            info: `Unknown coin type (${coinData.type}) for coin (${coinData.ticker})`,\n          })\n      }\n    } else {\n      reportAboutProblem({\n        info: `Unknown coin (${coinName})`,\n      })\n    }\n  })\n}\n\nconst fetchFeeForNativeCoin = (params) => {\n  const { coinData, swapUTXOMethod, swapABMethod } = params\n  const coinTicker = coinData.ticker.toLowerCase()\n  \n  return new Promise((resolve) => {\n    if (helpers[coinTicker]) {\n      helpers[coinTicker]\n        .estimateFeeValue({\n          method: 'swap',\n          swapUTXOMethod,\n          swapABMethod,\n        })\n        .then((coinFee) =>\n          resolve({\n            coin: coinData.ticker,\n            fee: coinFee,\n            isUTXO: coinData.model === COIN_MODEL.UTXO,\n          })\n        )\n        .catch((err) => {\n          reportAboutProblem({\n            info: `Fail fetch fee for coin ${coinData.ticker}. ${err}`,\n            isError: true,\n          })\n          feeCache.isEnabled = false\n          resolve({\n            coin: coinData.ticker,\n            fee: 0,\n            isUTXO: coinData.model === COIN_MODEL.UTXO,\n          })\n        })\n    } else {\n      reportAboutProblem({\n        info: `No helper 'estimateFeeValue' for coin ${coinData.ticker}`,\n      })\n    }\n  })\n}\n\nconst fetchFeeForEthLikeToken = (params) => {\n  const { coinData, swapABMethod } = params\n\n  return new Promise((resolve) => {\n    erc20Like[coinData.standard.toLowerCase()]\n      .estimateFeeValue({\n        method: 'swap',\n        speed: 'fast',\n        swapABMethod,\n      })\n      .then((basecoinFee) =>\n        resolve({\n          coin: coinData.blockchain,\n          fee: basecoinFee,\n          isUTXO: false,\n        })\n      )\n      .catch((err) => {\n        reportAboutProblem({\n          info: `Fail fetch fee for token ${coinData.ticker} (${coinData.blockchain}). ${err}`,\n          isError: true,\n        })\n        feeCache.isEnabled = false\n        resolve({\n          coin: coinData.blockchain,\n          fee: 0,\n          isUTXO: false,\n        })\n      })\n  })\n}\n\ntype PairFeesParams = {\n  sellCurrency: string\n  buyCurrency: string\n  updateCacheValue?: boolean\n}\n\nexport const getPairFees = (params: PairFeesParams): Promise<IPairFees> => {\n  let { sellCurrency, buyCurrency, updateCacheValue = false } = params\n\n  const {\n    coin: sellCurrencyName,\n    blockchain: sellCurrencyBlockchain,\n  } = getCoinInfo(sellCurrency.toUpperCase())\n\n  const {\n    coin: buyCurrencyName,\n    blockchain: buyCurrencyBlockchain,\n  } = getCoinInfo(buyCurrency.toUpperCase())\n\n  return new Promise(async (feeResolved) => {\n    const sell = await fetchCoinFee({\n      coinName: sellCurrencyBlockchain || sellCurrencyName,\n      action: 'sell',\n      updateCacheValue,\n    })\n    const buy = await fetchCoinFee({\n      coinName: buyCurrencyBlockchain || buyCurrencyName,\n      action: 'buy',\n      updateCacheValue,\n    })\n\n    const byCoins = {\n      [buy.coin]: buy,\n      [sell.coin]: sell,\n    }\n\n    const result = {\n      sell,\n      have: sell,\n      buy,\n      get: buy,\n      byCoins,\n    }\n\n    feeResolved(result)\n  })\n}\n","\nexport const getItezUrl = ({ user, locale, url }) => {\n  if (!user && !locale) return url\n\n  const { activeFiat, btcMnemonicData, btcMultisigG2FAData, btcMultisigSMSData, btcMultisigPinData, btcMultisigUserData, btcData } = user\n\n  let getActuallyFiatAddress = [btcMnemonicData, btcMultisigG2FAData, btcMultisigSMSData, btcMultisigUserData, btcData].find((data) => data && data.balance > 0)\n\n  //@ts-ignore: strictNullChecks\n  const hiddenCoinsList = JSON.parse(localStorage.getItem('hiddenCoinsList')) || []\n\n  /*\n  if (!getActuallyFiatAddress && !hiddenCoinsList.includes('BTC (SMS-Protected)')) getActuallyFiatAddress = btcMultisigSMSData\n  if (!getActuallyFiatAddress && !hiddenCoinsList.includes('BTC (PIN-Protected)')) getActuallyFiatAddress = btcMultisigPinData\n  if (!getActuallyFiatAddress && !hiddenCoinsList.includes('BTC (Multisig)')) getActuallyFiatAddress = btcMultisigUserData\n\n  if (!getActuallyFiatAddress) {\n    getActuallyFiatAddress = btcData\n  }\n  */\n  getActuallyFiatAddress = btcData\n\n  const shieldingСomingFiat = /%7BDEFAULT_FIAT%7D/gi\n  const shieldingСomingLocale = /%7Blocale%7D/gi\n  const shieldingСomingAddress = /%7Bbtcaddress%7D/gi\n\n  const comingFiat = /{DEFAULT_FIAT}/gi\n  const comingLocale = /{locale}/gi\n  const comingAddress = /{btcaddress}/gi\n\n  let returned = url\n\n  if (url.includes('btcaddress')) {\n    returned = returned.replace(comingAddress, getActuallyFiatAddress.address)\n    returned = returned.replace(shieldingСomingAddress, getActuallyFiatAddress.address)\n  }\n  if (url.includes('DEFAULT_FIAT')) {\n    returned = returned.replace(comingFiat, activeFiat)\n    returned = returned.replace(shieldingСomingFiat, activeFiat)\n  }\n\n  if (url.includes('locale')) {\n    returned = returned.replace(comingLocale, locale)\n    returned = returned.replace(shieldingСomingLocale, locale)\n  }\n\n  return returned\n}\n","import btc from './btc'\nimport ghost from './ghost'\nimport next from './next'\nimport eth from './eth'\nimport bnb from './bnb'\nimport matic from './matic'\nimport arbeth from './arbeth'\nimport ethToken from './ethToken'\nimport * as user from './user'\nimport web3 from './web3'\nimport links from './links'\nimport getCurrencyKey from './getCurrencyKey'\nimport constants from './constants'\nimport localStorage from './localStorage'\nimport api from './api'\nimport * as utils from './utils'\n// Methods\nimport ignoreProps from './ignoreProps'\nimport handleGoTrade from './handleGoTrade'\n// Getters\nimport externalConfig from './externalConfig'\nimport feedback from './feedback'\nimport getPageOffset from './getPageOffset'\nimport transactions from './transactions'\n\nimport { migrate } from './migrations/'\n\nimport { cacheStorageGet, cacheStorageSet } from './cache'\n\nimport apiLooper from './apiLooper'\nimport wpLogoutModal from './wpLogoutModal'\n\n\nimport metamask from './metamask'\n\nimport getWalletLink from './getWalletLink'\n\nimport redirectTo from './redirectTo'\n\nimport adminFee from './adminFee'\n\nimport swaps from './swaps'\n\nimport stats from './stats.swaponline'\n\nimport { getPairFees } from './getPairFees'\n\n\nexport default {\n  btc,\n  eth,\n  bnb,\n  matic,\n  arbeth,\n  ghost,\n  next,\n  ethToken,\n  getCurrencyKey,\n  handleGoTrade,\n  transactions,\n}\n\nexport {\n  btc,\n  eth,\n  bnb,\n  matic,\n  arbeth,\n  ghost,\n  next,\n  ethToken,\n  user,\n  web3,\n  utils,\n  links,\n  constants,\n  localStorage,\n  api,\n  migrate,\n  // Methods\n  ignoreProps,\n  handleGoTrade,\n\n  // Getters\n  getPageOffset,\n  externalConfig,\n\n  feedback,\n  cacheStorageGet,\n  cacheStorageSet,\n\n  apiLooper,\n\n  metamask,\n\n  getWalletLink,\n\n  redirectTo,\n\n  adminFee,\n\n  swaps,\n\n  stats,\n\n  wpLogoutModal,\n\n  getPairFees,\n}\nexport { getItezUrl } from './getItezUrl'\n","import React, { useState, useEffect } from 'react'\nimport CopyToClipboard from 'react-copy-to-clipboard'\nimport CSSModules from 'react-css-modules'\nimport styles from './LocalStorage.scss'\nimport { FormattedMessage } from 'react-intl'\n\nfunction LocalStorage() {\n  const [isCopied, setCopied] = useState(false)\n  const [localStorage, setLocalStorage] = useState(JSON.stringify({}))\n  const dumpAll = true\n\n  const timeoutCopied = () => {\n    setCopied(true)\n    setTimeout(() => setCopied(false), 1000) // copy-tip animation time\n  }\n\n  useEffect(() => {\n    const newStorage = {}\n    const privateDataRegExp = /(mnemonic|private|twentywords|backup|peeridjson)/i;\n\n    for (let key in window.localStorage) {\n      if ((key !== 'redux-store' && key.match(privateDataRegExp) === null)\n        || (dumpAll && (key !== 'redux-store'))\n      ) {\n        newStorage[key] = window.localStorage[key]\n      }\n    }\n    setLocalStorage(JSON.stringify(newStorage, undefined, 2))\n  })\n\n  return (\n    <section styleName=\"localStorage\">\n      {!dumpAll && (\n        <h3>\n          <FormattedMessage\n            id=\"localStorageUserNotification\"\n            defaultMessage=\"✔️ This data doesn't contain your private keys\"\n          />\n        </h3>\n      )}\n\n      <div styleName='localStorage__buttons-container'>\n        <button styleName='localStorage__btn' onClick={() => {\n          window.history.back()\n        }}>\n          <FormattedMessage\n            id=\"localStorageBtnBack\"\n            defaultMessage=\"Back\"\n          />\n        </button>\n        <CopyToClipboard text={localStorage} >\n          <button styleName='localStorage__btn' onClick={timeoutCopied}>\n            {isCopied && <span styleName='localStorage__copy-tip'>Copied!</span>}\n            <FormattedMessage id=\"localStorageBtnCopy\" defaultMessage=\"Copy\" />\n          </button>\n        </CopyToClipboard>\n      </div>\n\n      <pre styleName='localStorage__json-output'>\n        {localStorage}\n      </pre>\n    </section>\n  )\n}\n\nexport default CSSModules(LocalStorage, styles)","// extracted by mini-css-extract-plugin\nexport default {\"localStorage\":\"_3jJkNfY7XGg3ZEQ5cvSLFJ\",\"localStorage__buttons-container\":\"P0S2ya3yGeohHK_FR3Qts\",\"localStorage__btn\":\"_3F8QjouVWP5m_0DmI7rN57\",\"localStorage__copy-tip\":\"_3u_9PgqF3qrNCaUf6Kue0G\",\"show-tip\":\"_2Aohc77loJYuxMOVNkW2yl\",\"localStorage__json-output\":\"_2fKHCo4VeydqhzrTdVEX4S\",\"localStorageDark\":\"J8GWiTFNzUGc6TL6z2aCs\"};","// extracted by mini-css-extract-plugin\nexport default {\"swap\":\"k0dAkjk7-zf6G5bHeQ6TT\",\"swapMobile\":\"zbFI9G70VrBSngBWWNbNc\",\"swapContainer\":\"_34azMdRx2vjHpYsTLEdjdu\",\"reloadText\":\"_3n_UIGIFjtW92km1xDnNHz\",\"swapContainerInfo\":\"_3NgErHRdk1xooUshB1LN88\",\"linkText\":\"_14UahTBCHoe2qjDi7ehZbB\",\"canceled\":\"ZY6g7qDgvtv0m8QSQUJ6D\",\"canceledSwapInfo\":\"_2YcisN7TUet4P5HbX5fFa1\",\"pseudolink\":\"_3VmplYY-2XI-wTKUAhI7vp\",\"included\":\"_1Aj8UQhUvOxSThTD8CUOA9\",\"swapInfo\":\"_15mLS2AUMLxNuWABhs-Ukv\",\"onlineIndicator\":\"LLXi584UAvCB7fhFy9G2F\",\"online\":\"KQJnSPac8Om7v1kpPQNef\",\"offline\":\"_3F-vf3X9bmAvQHOAU2zJ8l\",\"loaderHolder\":\"ETqJZZ3c_QXKAQ-4I8GlF\",\"topUpLink\":\"_32cLQrYrf84r_aCoQr3hMm\",\"top\":\"_2be7PsJ_WZ-8q_bzCN6Q34\",\"qrImg\":\"gbJ3jSm2O1ibUgL3mtXO7\",\"message\":\"_3US2akeuAw4qa6_hJW30b4\",\"btcMessage\":\"_2DQtxduFA7ywKX0Gpy93kp\",\"qr\":\"_3hmM01EHoMDBTGsg5yxe9P\",\"linkTransactions\":\"_2EMfHr_jwBvWkyu40yNWnk\",\"lockTime\":\"CGlubQHm9mbWzYLObTvwe\",\"copyText\":\"_1Lgm7eIbFsSXDPAo7WBRHX\",\"linkAddress\":\"QsJeO6mJ_ZdcImA9hHpm2\",\"fa-copy-in\":\"_146PhtGBfPzbGzOjDBHQZh\",\"button\":\"xr_sWu49jya8xaVynFfP-\",\"transaction\":\"_3Ck8CyyIjfxa_pxGUjsLgO\",\"information\":\"_1mzHTctCdecyWOozSKQtfH\",\"icon\":\"_2CtC474BlcLfeN9eQ4cHRT\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"_1Z4_Gy5w6mN1egMBb3o2vS\",\"metamask_attention\":\"_3y4cDLa89o1isyo1n-osx3\",\"attention\":\"_24PiPhfigbbQ3pT224X2ox\",\"blink-animation\":\"_3IzNex_7eIS_NP-0-ZaC9x\",\"info\":\"_3dcmx8MDSE6qQWwFbCBtFv\",\"title\":\"_10kX-SRhgN54ou7SFpxZzc\",\"uppercase\":\"_2vaietLkmeNJoDQlz6J-Nd\",\"closeButton\":\"_12OLAjBFOSOFLNuTquu90-\",\"header\":\"_3okfKebr4tEmQPUze_Dkq7\",\"saveSecretKey\":\"_23IWol922vR4dD1tQtAC03\",\"stepContainer\":\"_36sFTWxKroSk9pPBwkOEJg\",\"stepInfo\":\"_3g3akAPc0SKndirPje7J1Z\",\"swapInfo\":\"B-TmCoj9Pjk0fYSLMAXho\",\"transaction\":\"_3KcJmw22qXiFESxPDHl417\",\"btnRefund\":\"_2nTy5j4SOvwg193p35HZe6\",\"tryAgain\":\"_3-mz-4bA8_KurSXmAlQeoI\",\"timerRefund\":\"_3R2DtxHetKG3z5beygLDZi\",\"finishButtonsHolder\":\"oGGGNqFoTb0pjPad_hGGS\",\"dontLeave\":\"_39EaS9gNZ35bVFmf4ETMsu\",\"refundTransaction\":\"_2gSRHLP-NDr8riEkgVS3jZ\",\"refundTransactionHash\":\"_1M841LYbUxKjl0JLZYSXwS\",\"overlay\":\"mTDhsGaUnuyUdSb3xSVDk\"};","import React, { Fragment } from 'react'\n\nimport CSSModules from 'react-css-modules'\nimport styles from './Timer.scss'\nimport { FormattedMessage } from 'react-intl'\n\ninterface TimerProps {\n  lockTime: number\n  cancelTime?: number\n  enabledButton?: any\n  isRefund?: boolean\n  defaultMessage?: boolean\n}\n\ninterface TimerState {\n  lockTime: number\n  cancelTime: number\n  timeLeft: null | number\n  cancelTimeLeft: null | number\n}\n\n@CSSModules(styles)\nexport default class Timer extends React.Component<TimerProps, TimerState> {\n  timer = null\n\n  constructor(props: TimerProps) {\n    super(props)\n    const { lockTime, cancelTime } = props\n\n    this.state = {\n      lockTime,\n      //@ts-ignore: strictNullChecks\n      cancelTime,\n      timeLeft: null,\n      cancelTimeLeft: null,\n    }\n  }\n\n  componentDidMount() {\n    this.tick()\n  }\n\n  componentWillMount() {\n    const { lockTime, cancelTime } = this.state\n\n    const dateNow = new Date().getTime()\n    const timeLeft = lockTime - dateNow\n    const cancelTimeLeft = cancelTime - dateNow\n\n    this.setState({\n      timeLeft,\n      cancelTimeLeft,\n    })\n  }\n\n  tick = () => {\n    const { timeLeft, cancelTimeLeft } = this.state\n    const { enabledButton } = this.props\n    //@ts-ignore: strictNullChecks\n    const newTimeLeft = timeLeft - 1000\n    //@ts-ignore: strictNullChecks\n    const newCancelTimeLeft = cancelTimeLeft - 1000\n\n    if (newTimeLeft <= 0 && typeof enabledButton === 'function') {\n      enabledButton()\n    } else {\n      //@ts-ignore: strictNullChecks\n      this.timer = setTimeout(this.tick, 1000)\n      this.setState({\n        timeLeft: newTimeLeft,\n        cancelTimeLeft: newCancelTimeLeft,\n      })\n    }\n  }\n\n  render() {\n    const { timeLeft, cancelTimeLeft, cancelTime } = this.state\n    const { isRefund, defaultMessage } = this.props\n    //@ts-ignore: strictNullChecks\n    const min = Math.ceil(timeLeft / 1000 / 60)\n    //@ts-ignore: strictNullChecks\n    const minToCancel = Math.ceil(cancelTimeLeft / 1000 / 60)\n\n    return (\n      <Fragment>\n        {/* @ts-ignore: strictNullChecks */}\n        {cancelTime && cancelTimeLeft > 0 && !isRefund ? (\n          <div styleName=\"timer\">\n            <FormattedMessage\n              id=\"timerTimeToCancel\"\n              defaultMessage=\"You have {min} min to make a payment\"\n              values={{ min: `${minToCancel}` }}\n            />\n          </div>\n        ) : (\n          <Fragment>\n            {/* @ts-ignore: strictNullChecks */}\n            {cancelTime && cancelTimeLeft <= 0 && (\n              <div styleName=\"timer\">\n                <FormattedMessage\n                  id=\"timerSwapIsCancelled\"\n                  defaultMessage=\"Swap canceled due to time out\"\n                />\n              </div>\n            )}\n            <div styleName=\"timer\">\n              {defaultMessage === false ? (\n                <span>{min}</span>\n              ) : min > 0 ? (\n                <span>\n                  <FormattedMessage\n                    id=\"timer671\"\n                    defaultMessage=\"{min} minute left for refund\"\n                    values={{ min: `${min}` }}\n                  />\n                </span>\n              ) : (\n                <FormattedMessage id=\"timer68\" defaultMessage=\"refund ready\" />\n              )}\n            </div>\n          </Fragment>\n        )}\n      </Fragment>\n    )\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"timer\":\"oVXItReNXxry1kOtTCIbC\"};","import React from 'react'\nimport CSSModules from 'react-css-modules'\nimport styles from './Toggle.scss'\n\ntype ComponentProps = {\n  checked: boolean\n  onChange: (arg: boolean) => void\n  dataTut?: string\n  isDisabled?: boolean\n}\n\nconst Toggle = (props: ComponentProps) => {\n  const { checked, onChange, dataTut = null, isDisabled = false } = props\n  \n  return (\n    <label styleName={`Switch ${isDisabled ? 'disabled' : ''}`} data-tut={dataTut} >\n      <input type=\"checkbox\" onChange={({ target }) => onChange(target.checked)} checked={checked} disabled={isDisabled} />\n      <span /> {/* need for button */}\n    </label>\n  )\n}\n\nexport default CSSModules(Toggle, styles, { allowMultiple: true })\n","// extracted by mini-css-extract-plugin\nexport default {\"Switch\":\"EQe5QTsT765MsCUMTA1_D\",\"disabled\":\"_3BokHNhz_qmFCGER62VSpW\"};","import React from \"react\";\nimport { constants } from 'helpers'\nimport cx from \"classnames\";\nimport { FormattedMessage } from 'react-intl'\nimport cssModules from 'react-css-modules'\nimport styles from './Button.scss'\n\ntype ButtonProps = {\n  dataTut?: any\n  children?: any\n  fullWidth?: boolean\n  autoHeight?: boolean\n  transparent?: boolean\n  brand?: boolean\n  blue?: boolean\n  gray?: boolean\n  big?: boolean\n  small?: boolean\n  empty?: boolean\n  link?: boolean\n  fill?: boolean\n  disabled?: boolean\n  pending?: boolean\n  className?: string\n  id?: string\n  onClick?: () => void\n}\n\nconst Button = (props: ButtonProps) => {\n  const {\n    children,\n    className,\n    fullWidth,\n    brand,\n    transparent,\n    blue,\n    gray,\n    disabled,\n    pending,\n    big,\n    small,\n    empty,\n    link,\n    autoHeight,\n    onClick,\n    id = '',\n    fill,\n    dataTut,\n  } = props\n\n  const styleName = cx('button', {\n    fill,\n    fullWidth,\n    brand,\n    transparent,\n    blue,\n    gray,\n    big,\n    small,\n    empty,\n    link,\n    autoHeight,\n    disabled,\n  })\n\n  return (\n    <button\n      data-tut={dataTut}\n      styleName={styleName}\n      className={className}\n      onClick={onClick}\n      id={id}\n      disabled={disabled}\n      data-tip\n      data-for={id}\n    >\n      {pending ? (\n          <span styleName=\"pending\">\n            <FormattedMessage id=\"ButtonPendingState\" defaultMessage=\"Pending\" />\n          </span>\n        ) : children\n      }\n    </button>\n  )\n}\n\nexport default cssModules(Button, styles, { allowMultiple: true })\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"_728hU7kBUfoA8-WOZFgv\",\"pending\":\"_2BljqjFsqe9ZZo8ZwjJtoE\",\"ellipsis\":\"_1yBBVhk8HM3N97THcRhi6E\",\"fullWidth\":\"_3AUn7xYkX9qKn9xrKFq39\",\"fill\":\"_5SHReR7JnsR8xDgxHRlTD\",\"big\":\"_1x_qeElwt6EoPusuU4Sapw\",\"brand\":\"_1vwWNHP7kVwl1NdGpXuvmE\",\"blue\":\"JXeOkZ8VAfDtAo-w3tYmi\",\"small\":\"_3ACFMS9pL6tTSFuKsaCwH0\",\"empty\":\"pGG0N53C25VcOpPxYCDkq\",\"link\":\"GKpNKE0Pw8wRXv2d7Duo1\",\"transparent\":\"_1DWzQLlemFeYLGAMo9QgRn\",\"gray\":\"atbkcH7ROYiIHlBZEIE29\",\"disabled\":\"_1z7XpbwSEziMGpwUYVKwpL\",\"autoHeight\":\"_9r1BdmvNtwT7usScG8IHi\"};","import { Component } from 'react'\n\ntype ComponentProps = {\n  timeLeft?: number // seconds\n  handleClick: () => void\n}\n\ntype ComponentState = {\n  timeLeft: number\n}\n\nexport default class TimerButton extends Component<ComponentProps, ComponentState> {\n  timer = null\n\n  constructor(props) {\n    super(props)\n\n    const { timeLeft = 10 } = props\n\n    this.state = {\n      timeLeft,\n    }\n  }\n\n  componentDidMount() {\n    this.tick()\n  }\n\n  componentWillUnmount() {\n    //@ts-ignore: strictNullChecks\n    clearTimeout(this.timer)\n  }\n\n  tick = () => {\n    const { timeLeft } = this.state\n    const newTimeLeft = timeLeft - 1\n\n    if (newTimeLeft <= 0) {\n      this.props.handleClick()\n    }\n    else {\n      //@ts-ignore: strictNullChecks\n      this.timer = setTimeout(this.tick, 1000)\n      this.setState({\n        timeLeft: newTimeLeft,\n      })\n    }\n  }\n\n  render() {\n    const { timeLeft } = this.state\n\n    return timeLeft\n  }\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nimport Button from 'components/controls/Button/Button'\nimport Timer from 'components/Timer/Timer'\n\n\nexport default class TimerButton extends Component<any, any> {\n\n  static propTypes = {\n    onClick: PropTypes.func.isRequired,\n    timeLeft: PropTypes.number.isRequired,\n    className: PropTypes.string,\n    disabledTimer: PropTypes.bool,\n    forceClick: PropTypes.bool,\n  }\n\n  static defaultProps = {\n    disabledTimer: false,\n  }\n\n  componentDidMount() {\n    const {\n      forceClick,\n      onClick,\n    } = this.props\n\n    if (forceClick) onClick()\n  }\n\n  render() {\n    const { children, disabledTimer, timeLeft, className, onClick, ...rest } = this.props\n    const { forceClick } = this.props\n\n    if (forceClick) return null\n\n    return (\n      <Button className={className} onClick={onClick} {...rest} >\n        {children}\n        {` `}\n        {!disabledTimer && <Timer timeLeft={timeLeft} handleClick={onClick} />}\n      </Button>\n    )\n\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"HolderLinkShorter\":\"_3Dlh877DchIwMIYsntBznr\",\"shareLinkTextarea\":\"_2bJa2BFy1xi6lhFGX6gJSU\",\"HolderQRCode\":\"_3gmM7-pWJqi_mKOAH149jj\",\"loader\":\"E_rLRjK02xhNGgrYRmNsx\",\"qrLoaded\":\"OZHlvLv7AeTjAE7C6O9_Q\",\"ButtonsHolder\":\"uxebFffHSVsffM4kwE4Kn\",\"CopyLinkButton\":\"ekbNP-qEt_W4mVgT69UGA\",\"ShareButtonHolder\":\"_18jcRQtS21MUy9nVDDG7bF\",\"WrapShareButton\":\"Ec9Qdxgqg3_RYxjz73DXc\",\"shareLinkHolder\":\"_1nusUIWfoQQrdV5BdcONI4\",\"linkHolder\":\"_1cXuR88SHYRDbGGRQmkEza\"};","export default __webpack_public_path__ + \"images/icon_4020c3.svg\";","import React from \"react\";\nimport styles from \"./ShareButton.scss\";\nimport shareIcon from './images/icon.svg';\nimport actions from \"redux/actions\";\nimport CSSModules from 'react-css-modules'\nimport { constants } from \"helpers\";\nimport Button from 'components/controls/Button/Button'\n\n@CSSModules(styles, { allowMultiple: true })\n\nexport default class ShareButton extends React.Component<any, any> {\n  openShareModal = () => {\n    const { link, title } = this.props\n    //@ts-ignore: strictNullChecks\n    actions.modals.open(constants.modals.Share, {\n      link: link,\n      title: title\n    })\n  }\n\n  render() {\n    const {\n      halfWidth,\n      fullWidth,\n      minWidth,\n    } = this.props\n\n    const classes = [`WrapShareButton`]\n    if (halfWidth) classes.push(`halfWidth`)\n    if (fullWidth) classes.push(`fullWidth`)\n\n    return (\n      <div styleName={classes.join(' ')}>\n        <Button blue onClick={this.openShareModal} type=\"button\" title=\"Share this article\">\n          <span>\n            <img src={shareIcon} alt='Share' />\n            Share\n          </span>\n        </Button>\n      </div>\n    );\n  }\n}\n\n\n","// extracted by mini-css-extract-plugin\nexport default {\"WrapShareButton\":\"_N00KSnvYdQgs_938jdRN\",\"halfWidth\":\"_3B9PbhtZBTj0clcb5VHbnC\",\"fullWidth\":\"_1QaAagI1liPguNC3-9B716\"};","import React from 'react'\n\nimport cssModules from 'react-css-modules'\nimport styles from './InlineLoader.scss'\n\n\nconst InlineLoader = () => (\n  <div styleName=\"ellipsis\">\n    <div />\n    <div />\n    <div />\n    <div />\n  </div>\n)\n\nexport default cssModules(InlineLoader, styles)\n","// extracted by mini-css-extract-plugin\nexport default {\"ellipsis\":\"_22_rChv42AQI0OsIQyQovL\",\"ellipsis1\":\"_32JkdArL2fMq2A2OmNbwgq\",\"ellipsis2\":\"_131jr-xx_aDuMoiVAencd1\",\"ellipsis3\":\"_2hoWASL-xFwGmHDMmMcXih\"};","import React from \"react\";\nimport styles from \"./ShareLink.scss\";\nimport actions from \"redux/actions\";\nimport CSSModules from 'react-css-modules'\nimport { constants } from \"helpers\";\nimport Button from 'components/controls/Button/Button'\nimport CopyToClipboard from 'react-copy-to-clipboard'\nimport { FormattedMessage, defineMessages, injectIntl } from 'react-intl'\nimport ShareButton from 'components/controls/ShareButton/ShareButton'\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\n\n\n@CSSModules(styles, { allowMultiple: true })\nexport default class ShareLink extends React.Component<any, any> {\n  qrLoaderTimer = null\n\n  constructor(props) {\n    super(props)\n    console.log('ShareLink', props)\n    this.state = {\n      isLinkCopied: false,\n      qrLoaded: false,\n    }\n  }\n\n  componentDidMount() {\n    //@ts-ignore: strictNullChecks\n    this.qrLoaderTimer = setTimeout(() => {\n      this.setState({\n        qrLoaded: true,\n      })\n    }, 5000)\n  }\n\n  componentWillUnmount() {\n    //@ts-ignore: strictNullChecks\n    clearTimeout(this.qrLoaderTimer)\n  }\n\n  handleCopyLink = () => {\n    this.setState({\n      isLinkCopied: true,\n    }, () => {\n      setTimeout(() => {\n        this.setState({\n          isLinkCopied: false,\n        })\n      }, 1000)\n    })\n  }\n\n  handleQrLoaded = () => {\n    this.setState({\n      qrLoaded: true,\n    })\n  }\n\n  render() {\n    let {\n      link,\n      size,\n      altText,\n    } = this.props\n\n    const {\n      fullSize,\n    } = this.props\n\n    const {\n      isLinkCopied,\n      qrLoaded,\n    } = this.state\n\n    if (!size) size = 250\n    if (!altText) altText = ``;\n\n    return (\n      <div styleName=\"shareLinkHolder\">\n        <CopyToClipboard\n          text={link}\n          onCopy={this.handleCopyLink}\n        >\n          <div styleName=\"linkHolder\" onClick={this.handleCopyLink}>\n            <div styleName={`HolderQRCode ${(qrLoaded) ? 'qrLoaded' : ''}`}>\n              {!qrLoaded && (\n                <div styleName=\"loader\">\n                  <InlineLoader />\n                </div>\n              )}\n              <img onClick={this.handleCopyLink}\n                src={`https://chart.googleapis.com/chart?chs=${size}x${size}&cht=qr&chl=${encodeURIComponent(link)}`}\n                alt={`${altText}`}\n                onLoad={this.handleQrLoaded}\n              />\n            </div>\n            {(fullSize) ? (\n              <textarea styleName=\"shareLinkTextarea\" value={link} readOnly>{link}</textarea>\n            ) : (\n              <div styleName=\"HolderLinkShorter\">\n                <span>{link}</span>\n                <span>{link}</span>\n              </div>\n            )}\n          </div>\n        </CopyToClipboard>\n        <div styleName=\"ButtonsHolder\">\n          <CopyToClipboard text={link} onCopy={this.handleCopyLink}>\n            <Button blue fullWidth disabled={isLinkCopied} styleName=\"CopyLinkButton\">\n              {isLinkCopied ?\n                <FormattedMessage id=\"ControlShareLink_LinkCopied\" defaultMessage=\"Link copied\" /> :\n                <FormattedMessage id=\"ControlShareLink_CopyLink\" defaultMessage=\"Copy link\" />\n              }\n            </Button>\n          </CopyToClipboard>\n          <div styleName=\"ShareButtonHolder\">\n            <ShareButton link={link} title={``}></ShareButton>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n}\n\n\n","import React from 'react'\nimport CSSModules from 'react-css-modules'\nimport styles from './Switching.scss'\nimport cx from 'classnames'\n\ntype SwitchingProps = {\n  onClick: () => void\n  noneBorder?: boolean\n}\n\nconst Switching = (props: SwitchingProps) => {\n  const { onClick, noneBorder = false } = props\n\n  const styleName = cx('switching', {\n    'noneBorder': noneBorder,\n  })\n\n  return (\n    <button onClick={onClick} styleName={styleName} className=\"fas fa-exchange-alt\" />\n  )\n}\n\nexport default CSSModules(Switching, styles, { allowMultiple: true })\n","// extracted by mini-css-extract-plugin\nexport default {\"switching\":\"_2EWvqmm0d1PgeZoL1QVDdt\",\"noneBorder\":\"nWUXPMW8RtekHXZp6_bI5\"};","import React from 'react'\nimport CSSModules from 'react-css-modules'\nimport styles from './Flip.scss'\n\ntype ComponentProps = {\n  onClick: () => void\n  className?: string\n}\n\nconst Flip = (props: ComponentProps) => {\n  const { onClick, className = '' } = props\n\n  return (\n    <button\n      alt=\"flip currency\"\n      onClick={onClick}\n      className={className}\n      styleName=\"trade-panel__change\"\n    />\n  )\n}\n\nexport default CSSModules(Flip, styles)\n","// extracted by mini-css-extract-plugin\nexport default {\"trade-panel__change\":\"_13hQHqGLcQt4xopdeM88IZ\"};","import React from 'react'\nimport CSSModules from 'react-css-modules'\nimport styles from './index.scss'\n\ntype RemoveButtonProps = {\n  onClick: () => void\n  brand?: boolean\n}\n\nconst RemoveButton = (props: RemoveButtonProps) => {\n  const { brand = false, onClick } = props\n\n  return (\n    <button\n      styleName={`removeButton ${brand ? 'brand' : ''}`}\n      onClick={onClick}\n    />\n  )\n}\n\nexport default CSSModules(RemoveButton, styles, { allowMultiple: true })\n","// extracted by mini-css-extract-plugin\nexport default {\"removeButton\":\"mBh9fu5fjs7hUdf7gRIek\",\"brand\":\"aKaCGzF2EAzxz77HIqHB8\"};","import React from 'react'\nimport cx from 'classnames'\nimport CSSModules from 'react-css-modules'\nimport styles from './WithdrawButton.scss'\n\ntype ComponentProps = {\n  onClick: () => void\n  disable: boolean\n  children: JSX.Element | JSX.Element[]\n}\n\nconst WithdrawButton = (props: ComponentProps) => {\n  const {\n    onClick,\n    children,\n    disable,\n    ...rest\n  } = props\n\n  const doNothing = () => undefined\n\n  const styleName = cx('withdrawButton', {\n    'disable': disable,\n  })\n\n  return (\n    <button onClick={!disable ? onClick : doNothing} styleName={styleName} {...rest}>\n      {children}\n    </button>\n  )\n}\n\nexport default CSSModules(WithdrawButton, styles, { allowMultiple: true })\n","// extracted by mini-css-extract-plugin\nexport default {\"withdrawButton\":\"_19Q6k_xtGZXQVo7ECpO-tS\",\"disable\":\"_2Z3t9wm4jgBpQ42ndHuLkr\"};","import React, { Component } from 'react'\nimport CopyToClipboard from 'react-copy-to-clipboard'\nimport { FormattedMessage, injectIntl } from 'react-intl'\nimport CSSModules from 'react-css-modules'\nimport styles from './Copy.scss'\n\n@CSSModules(styles, { allowMultiple: true })\nclass Copy extends Component<any, any> {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      showTip: false,\n    }\n  }\n\n  handleCopyLink = () => {\n    if (this.state.showTip) {\n      return\n    }\n    this.setState({\n      showTip: true,\n    }, () => {\n      setTimeout(() => {\n        this.setState({\n          showTip: false,\n        })\n      }, 1000)\n    })\n  }\n\n  render() {\n    const { text, children } = this.props\n    const { showTip } = this.state\n\n    return (\n      <div styleName=\"copyWrapper\" title=\"Copy\">\n        {showTip &&\n        <div styleName=\"copyTip\">\n          <FormattedMessage id=\"RowFeeds64\" defaultMessage=\"Copied!\" />\n        </div>\n        }\n        <CopyToClipboard\n          onCopy={this.handleCopyLink}\n          text={text}\n        >\n          {children}\n        </CopyToClipboard>\n      </div>\n    )\n  }\n}\n\nexport default injectIntl(Copy)\n","// extracted by mini-css-extract-plugin\nexport default {\"copyWrapper\":\"_1sxTTRNIRA6ej2ugvZBeEk\",\"copyTip\":\"_1oA1M60-UQdeTICu-lsrZa\",\"show-and-hide\":\"_4EbROJJtGgVoeqei15gjv\"};","import React from \"react\"\nimport ReactTooltop from \"react-tooltip\"\n\n// A react tooltip wrapper to define a tooltip type depending on the theme\nexport default function ThemeTooltip(params) {\n  const { type, children, ...props } = params\n  const isDark = document.body.dataset.scheme === 'dark'\n  const defaultType = isDark ? \"light\" : \"dark\"\n\n  return (\n    <ReactTooltop type={type || defaultType} {...props}>\n      {children}\n    </ReactTooltop>\n  )\n}\n","import React, { Fragment } from 'react'\nimport CSSModules from 'react-css-modules'\nimport { FormattedMessage } from 'react-intl'\nimport ThemeTooltip from './ThemeTooltip'\nimport styles from './Tooltip.scss'\n\n\nconst Tooltip = ({ mark = true, children, id, dontHideMobile = false, place = null }) => (\n  <Fragment>\n    {mark ?\n      <span data-tip data-for={id} styleName={`tooltip isMark ${dontHideMobile ? 'tooltip_truesight' : ''}`}>\n        <FormattedMessage id=\"Tooltip11\" defaultMessage=\"?\" />\n      </span>\n      :\n      <div data-tip data-for={id} styleName=\"tooltip noMark\"></div>\n    }\n\n    <ThemeTooltip\n      styleName=\"r-tooltip\"\n      id={id}\n      effect=\"solid\"\n      multiline\n      {...{ place }}\n    >\n      {children}\n    </ThemeTooltip>\n  </Fragment>\n)\n\nexport default CSSModules(Tooltip, styles, { allowMultiple: true })\n","// extracted by mini-css-extract-plugin\nexport default {\"tooltip\":\"_3nT3TTqHUPO6s9AvTLcK9v\",\"isMark\":\"_3LVIEinUby6OKyAyDmpvJh\",\"noMark\":\"_1IbLJ8QNTEyAnxVtJTc9Wn\",\"r-tooltip\":\"HKCAycrYVBLrzannYC0WH\",\"tooltip_truesight\":\"_2ohhC2fQAslfEAjCybc23x\"};","import React, { Fragment } from 'react'\nimport { FormattedMessage } from 'react-intl'\nimport CSSModules from 'react-css-modules'\nimport Copy from 'components/ui/Copy/Copy'\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\nimport styles from './SwapProgress.scss'\nimport { constants } from 'helpers'\n\n\nconst mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\nconst showWIF = (mnemonic && mnemonic !== `-`)\nconst swapWIF = localStorage.getItem(constants.privateKeyNames.ghost)\n\nconst PleaseDontLeaveWrapper = (props) => {\n  const { children, isBtcLike } = props\n\n  return (\n    <Fragment>\n      {children}\n      <div styleName=\"dontLeave\">\n        <FormattedMessage id=\"swapprogressDONTLEAVE\" defaultMessage=\"Please do not leave this page \" />\n        <Tooltip\n          id=\"swapjsdontleave\"\n          dontHideMobile={true}\n        >\n          <p>\n            <FormattedMessage\n              id=\"swapjsdontleave\"\n              defaultMessage=\"The exchange requires signing with private keys that only your browser knows.\"\n            />\n          </p>\n          {(isBtcLike) && (\n            <p>\n              <FormattedMessage\n                id=\"swapjsdontleavesavesecret\"\n                defaultMessage=\"If you want to leave this page please save the secret.\" />\n            </p>\n          )}\n        </Tooltip>\n        {(isBtcLike) && (\n          <strong styleName=\"saveSecretKey\">\n            <FormattedMessage id=\"swapprogressDONTLEAVEBTC\" defaultMessage=\"Or save this SECRET before you leave:\" />\n\n            <Copy text={isBtcLike}>\n              <em>{isBtcLike}</em>\n            </Copy>\n\n            {(showWIF) && (\n              <Copy text={swapWIF}>\n                <em>{swapWIF}</em>\n              </Copy>\n            )}\n          </strong>\n        )}\n      </div>\n    </Fragment>\n  )\n}\n\nexport default CSSModules(PleaseDontLeaveWrapper, styles, { allowMultiple: true })\n","export const reduceMessages = result =>\n  result.reduce(\n    (acc, msg) => ({ ...acc, [msg.id]: msg.message || msg.defaultMessage }),\n    {}\n  )\n\nexport const defaultLocale = () => navigator.language.split('-')[0]\n\nconst prepareUrl = (link = '') => link.replace(/^\\/|\\/$/g, '')\n\nexport const localisedUrl = (locale, link = '') => `/${prepareUrl(link)}`","import React, { Component, Fragment } from 'react'\nimport styles from './SwapProgress.scss'\nimport CSSModules from 'react-css-modules'\nimport crypto from 'crypto'\n\nimport { BigNumber } from 'bignumber.js'\nimport { Link as LinkTo } from 'react-router-dom'\nimport { injectIntl, FormattedMessage } from 'react-intl'\n\nimport Timer from '../../Timer/Timer'\nimport { Button, TimerButton } from 'components/controls'\nimport PleaseDontLeaveWrapper from './PleaseDontLeaveWrapper'\n\nimport { constants, links, ethToken } from 'helpers'\nimport { localisedUrl } from 'helpers/locale'\nimport metamask from 'helpers/metamask'\n\ntype ComponentProps = {\n  flow: IUniversalObj\n  swap: IUniversalObj\n  history: IUniversalObj\n  signed: boolean\n  locale: string\n  wallets: { [key: string]: string }\n  fields: { [key: string]: string }\n}\n\ntype ComponentState = {\n  flow: IUniversalObj\n  swap: IUniversalObj\n  signed: boolean\n  enabledButton: boolean\n  refundError: boolean\n  steps: Function[]\n  buyCurrency: string\n  sellCurrency: string\n  secret: string\n  stepValue: number\n}\n\n@CSSModules(styles, { allowMultiple: true })\nclass SwapProgress extends Component<ComponentProps, ComponentState> {\n  swap = null\n  _fields = null\n  wallets = null\n  history = null\n  locale = null\n  timer = null\n  isSellCurrencyEthOrEthToken = null\n\n  static defaultProps = {\n    flow: {},\n    whiteLogo: false,\n  }\n\n  constructor(props) {\n    super(props)\n    const {\n      flow,\n      swap,\n      signed,\n      wallets,\n      history,\n      locale,\n      fields,\n    } = props\n\n    this._fields = fields\n    this.swap = swap\n    this.wallets = wallets\n    this.history = history\n    this.locale = locale\n\n    //@ts-ignore: strictNullChecks\n    this.isSellCurrencyEthOrEthToken = ethToken.isEthOrEthToken({ name: swap.sellCurrency })\n\n    this.state = {\n      swap,\n      signed,\n      enabledButton: false,\n      refundError: false,\n      flow,\n      steps: flow.steps,\n      buyCurrency: swap.buyCurrency,\n      sellCurrency: swap.sellCurrency,\n      secret: crypto.randomBytes(32).toString('hex'),\n      stepValue: 0,\n    }\n  }\n\n  onPushGoToWallet = () => {\n    //@ts-ignore: strictNullChecks\n    this.history.push(localisedUrl(this.locale, '/wallet'))\n  }\n\n  onPushGoToTxPage = () => {\n    const {\n      state: {\n        flow,\n        swap,\n      },\n      _fields: {\n        //@ts-ignore: strictNullChecks\n        currencyName,\n        //@ts-ignore: strictNullChecks\n        withdrawTransactionHash,\n        //@ts-ignore: strictNullChecks\n        explorerLink,\n        //@ts-ignore: strictNullChecks\n        etherscanLink,\n      },\n    } = this\n\n    if (flow.ethSwapWithdrawTransactionHash && swap.sellCurrency === currencyName) {\n      window.open(`${etherscanLink}/tx/${flow.ethSwapWithdrawTransactionHash}`, '_blank')\n    }\n    if (flow[withdrawTransactionHash]) {\n      window.open(`${explorerLink}/tx/${flow[withdrawTransactionHash]}`, '_blank')\n    }\n  }\n\n  handleBarProgress = () => {\n    const {\n      state: {\n        swap: {\n          sellCurrency,\n          flow: {\n            stepNumbers,\n            state: {\n              step,\n            },\n          },\n        },\n      },\n      _fields: {\n        //@ts-ignore: strictNullChecks\n        currencyName,\n      }\n    } = this\n\n    const first = stepNumbers.sign\n    const sixth = sellCurrency === currencyName ? stepNumbers[`withdraw-eth`] : stepNumbers[`wait-withdraw-eth`]\n    const seventh = sellCurrency === currencyName ? stepNumbers.finish : stepNumbers[`withdraw-${currencyName.toLowerCase()}`]\n    const eighth = sellCurrency === currencyName ? stepNumbers.end : stepNumbers.finish\n\n    if (step >= first && step < sixth) {\n      this.setState({\n        stepValue: 1,\n      })\n    }\n    if (step === sixth) {\n      this.setState({\n        stepValue: 2,\n      })\n    }\n    if (step === seventh) {\n      this.setState({\n        stepValue: 3,\n      })\n    }\n    if (step >= eighth) {\n      this.setState({\n        stepValue: 4,\n      })\n    }\n  }\n\n  componentDidMount() {\n    //@ts-ignore: strictNullChecks\n    this.swap.on('state update', this.handleFlowStateUpdate)\n    this.handleBarProgress()\n    localStorage.setItem(constants.localStorage.startSwap, Date.now().toString())\n    this.reloadPage()\n  }\n\n  componentWillUnmount() {\n    //@ts-ignore: strictNullChecks\n    this.swap.off('state update', this.handleFlowStateUpdate)\n    //@ts-ignore: strictNullChecks\n    clearTimeout(this.timer)\n  }\n\n  reloadPage = () => {\n    //@ts-ignore: strictNullChecks\n    this.timer = setTimeout(() => {\n      //@ts-ignore: strictNullChecks\n      const startSwapTime: number = new BigNumber(localStorage.getItem(constants.localStorage.startSwap)).toNumber()\n\n      //@ts-ignore: strictNullChecks\n      if (this.swap.flow.isFinished) {\n        //@ts-ignore: strictNullChecks\n        clearTimeout(this.timer)\n      }\n\n      const isSwapPage = window.location.pathname.includes(\"swaps\")\n\n      if (((Date.now() - startSwapTime) > 600 * 1000) && isSwapPage) {\n        console.warn('UPS!!! SWAP IS FROZEN - RELOAD')\n        localStorage.removeItem(constants.localStorage.startSwap)\n        //@ts-ignore: strictNullChecks\n        clearTimeout(this.timer)\n        window.location.reload()\n      }\n    }, 1000)\n  }\n\n  checkCanRefund = () => {\n    const { sellCurrency, buyCurrency, swap } = this.state\n\n    if (!swap) {\n      return false\n    }\n\n    const { state, stepNumbers } = swap.flow\n\n    const {\n      //@ts-ignore: strictNullChecks\n      scriptCreatingTransactionHash,\n      //@ts-ignore: strictNullChecks\n      withdrawTransactionHash,\n    } = this._fields\n\n    const getFinalCurrency = (currency) => {\n      const isCurrencyEthOrEthToken = ethToken.isEthOrEthToken({ name: currency })\n\n      if (isCurrencyEthOrEthToken) {\n        return 'Eth'\n      }\n\n      return currency.charAt(0).toUpperCase() + currency.slice(1).toLowerCase()\n    }\n\n    const finalBuyCurrency = getFinalCurrency(buyCurrency)\n    const finalSellCurrency = getFinalCurrency(sellCurrency)\n\n    const isStartStepForRefund = state.step >= stepNumbers[`lock-${finalSellCurrency.toLowerCase()}`]\n    const isEndStepForRefund = state.step < stepNumbers[`withdraw-${finalBuyCurrency.toLowerCase()}`]\n\n    const isStepForRefund = isStartStepForRefund && isEndStepForRefund\n\n    const isNotFinished = !state.isFinished && !state.isRefunded\n\n    const isCurrencyFunded = this.isSellCurrencyEthOrEthToken\n      ? state.ethSwapCreationTransactionHash\n      : state[scriptCreatingTransactionHash]\n\n    const isCurrencyWithdrawn = this.isSellCurrencyEthOrEthToken\n      ? state[withdrawTransactionHash]\n      : state.ethSwapWithdrawTransactionHash\n\n    const canRefund = isStepForRefund\n      && isCurrencyFunded\n      && isNotFinished\n      && !isCurrencyWithdrawn\n\n    return canRefund\n  }\n\n  handleFlowStateUpdate = (values) => {\n    this.setState(() => ({\n      flow: values,\n    }))\n\n    this.handleBarProgress()\n  }\n\n  tryRefund = async () => {\n    //@ts-ignore: strictNullChecks\n    const { flow } = this.swap\n\n    await flow.tryRefund()\n      .then((result) => {\n        if (!result) {\n          this.setState(() => ({ refundError: true }))\n          setTimeout(() => this.setState(() => ({ refundError: false })), 5000)\n          return\n        }\n\n        this.setState(() => ({ enabledButton: false }))\n      })\n  }\n\n  willEnable = () => {\n    this.setState(() => ({ enabledButton: true }))\n  }\n\n  submitSecret = () => {\n    const { secret } = this.state\n\n    // this.swap.flow.submitSecret(secret)\n  }\n\n  confirmScriptChecked = () => {\n    const {\n      //@ts-ignore: strictNullChecks\n      verifyScriptFunc,\n    } = this._fields\n    // this.swap.flow[verifyScriptFunc]()\n  }\n\n  render() {\n    const {\n      steps,\n      flow,\n      swap,\n      swap: {\n        flow: {\n          isTakerMakerModel,\n          isUTXOSide,\n          state :{\n            isEthContractFunded,\n            utxoScriptValues,\n            scriptBalance,\n            isFinished,\n            isRefunded,\n            isStoppedSwap\n          }\n        },\n      },\n      signed,\n      buyCurrency,\n      sellCurrency,\n      enabledButton,\n      refundError,\n    } = this.state\n\n    const {\n      //@ts-ignore: strictNullChecks\n      currencyName,\n      //@ts-ignore: strictNullChecks\n      scriptValues,\n      //@ts-ignore: strictNullChecks\n      explorerLink,\n      //@ts-ignore: strictNullChecks\n      etherscanLink,\n      //@ts-ignore: strictNullChecks\n      withdrawTransactionHash,\n    } = this._fields\n\n    //@ts-ignore: strictNullChecks\n    const showWalletButton = (!this.swap.destinationBuyAddress)\n      //@ts-ignore: strictNullChecks\n      || (this.swap.destinationBuyAddress === this.wallets[buyCurrency.toUpperCase()])\n\n    const canRefund = this.checkCanRefund()\n\n    let _refundTx = false\n\n    if (flow.refundTransactionHash) {\n      _refundTx = flow.refundTransactionHash.transactionHash || flow.refundTransactionHash\n    }\n\n    const canBeRefunded = utxoScriptValues && (isUTXOSide ? scriptBalance > 0 : isEthContractFunded)\n    const isDeletedSwap = isFinished || isRefunded\n\n    return (\n      <div styleName=\"overlay\">\n        <div styleName=\"container\">\n          <div styleName=\"stepContainer\">\n            <div styleName=\"stepInfo\">\n              {!isDeletedSwap && canBeRefunded && (\n                  <Timer lockTime={utxoScriptValues.lockTime * 1000} />\n                )\n              }\n\n              {signed && flow.step < 4 && (\n                <div>\n                  <strong>\n                    <a href={`${etherscanLink}/tx/${flow.signTransactionHash}`} target=\"_blank\" rel=\"noopener noreferrer\">\n                      <FormattedMessage id=\"swappropgress193\" defaultMessage=\"Sign ETH transaction: {transaction}\" values={{ transaction: flow.signTransactionHash }} />\n                    </a>\n                  </strong>\n                </div>\n              )}\n\n              {(flow.utxoScriptValues && !flow.isFinished && !flow.isEthWithdrawn) && flow.refundTxHex && (\n                <div>\n                  <a\n                    href=\"https://wiki.swaponline.io/faq/my-swap-got-stuck-and-my-bitcoin-has-been-withdrawn-what-to-do/\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    <FormattedMessage id=\"swappropgress192\" defaultMessage=\"How to refund your money ?\" />\n                  </a>\n                  <FormattedMessage id=\"swappropgress333\" defaultMessage=\"Refund hex transaction: \" />\n                  <code> {flow.refundTxHex} </code>\n                </div>\n              )}\n\n              {\n                _refundTx && (\n                  <div styleName=\"refundTransaction\">\n                    <strong>\n                      <a\n                        href={swap.sellCurrency === currencyName\n                          ? `${explorerLink}/tx/${_refundTx}`\n                          : `${etherscanLink}/tx/${_refundTx}`\n                        }\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                      >\n                        <FormattedMessage id=\"swapprogress254\" defaultMessage=\"Refund transaction: \" />\n                        <span styleName=\"refundTransactionHash\">{_refundTx}</span>\n                      </a>\n                    </strong>\n                  </div>\n                )\n              }\n\n              {canRefund &&\n                <Fragment>\n                  {enabledButton\n                    ? (\n                      <Fragment>\n                        <div styleName=\"btnRefund\">\n                          <Button gray onClick={this.tryRefund}>\n                            <FormattedMessage id=\"swapprogress270\" defaultMessage=\"Try refund\" />\n                          </Button>\n                        </div>\n                        {refundError &&\n                          <span styleName=\"tryAgain\">\n                            <FormattedMessage id=\"swapprogress271\" defaultMessage=\"Try again in a few minutes\" />\n                          </span>\n                        }\n                      </Fragment>\n                    )\n                    : (\n                      <div styleName=\"timerRefund\">\n                        <Timer\n                          isRefund\n                          lockTime={flow[scriptValues].lockTime * 1000}\n                          cancelTime={(flow[scriptValues].lockTime - 7200) * 1000}\n                          enabledButton={this.willEnable}\n                        />\n                      </div>\n                    )\n                  }\n                </Fragment>\n              }\n\n              {flow.step === 2 && !this.isSellCurrencyEthOrEthToken && (\n                <TimerButton brand onClick={this.submitSecret.bind(this)} timeLeft={180} forceClick={true}>\n                  <FormattedMessage id=\"swapFinishedGoHome289\" defaultMessage=\"Submit the Secret\" />\n                </TimerButton>\n              )}\n              {flow.step === 3 && this.isSellCurrencyEthOrEthToken && (\n                <TimerButton brand onClick={this.confirmScriptChecked.bind(this)} timeLeft={180} forceClick={true}>\n                  <FormattedMessage id=\"swapFinishedGoHome298\" defaultMessage=\"Everything is OK. Continue\" />\n                </TimerButton>\n              )}\n              {flow.step === 4 && flow.waitUnlockUTXO && (\n                <strong styleName=\"attention\">\n                  <FormattedMessage\n                    id=\"Swap_OwnerHasLockedUTX\"\n                    defaultMessage=\"Swap paused because you has unconfirmed transaction in mempool. Waiting confirm\"\n                  />\n                </strong>\n              )}\n              {flow.step <= 5 && flow.participantHasLockedUTXO && (\n                <strong styleName=\"attention\">\n                  <FormattedMessage\n                    id=\"Swap_SellerHasLockedUTX\"\n                    defaultMessage=\"Swap paused because owner has unconfirmed transaction in mempool. Waiting confirm\"\n                  />\n                </strong>\n              )}\n              {flow.step <= 5 && flow.utxoFundError && (\n                <strong styleName=\"attention\">\n                  <FormattedMessage\n                    id=\"Swap_UtxoBroadcastError\"\n                    defaultMessage=\"Swap paused because broadcast tx ended with error &quot;{error}&quot;\"\n                    values={{\n                      error: flow.utxoFundError,\n                    }}\n                  />\n                </strong>\n              )}\n              {metamask.isConnected() && (\n                (!this.isSellCurrencyEthOrEthToken && flow.step === 6)\n                || (this.isSellCurrencyEthOrEthToken && flow.step === 5 && flow.isUTXOScriptOk)\n              ) && (\n                <strong styleName=\"metamask_attention\">\n                  <FormattedMessage\n                    id=\"Swap_MetamaskAttention\"\n                    defaultMessage=\"Please confirm the transaction in your &quot;{walletName}&quot; wallet\"\n                    values={{\n                      walletName: metamask.web3connect.getProviderTitle(),\n                    }}\n                  />\n                </strong>\n              )}\n              {flow.step > 3 && !flow.isRefunded && !flow.isFinished  && !this.isSellCurrencyEthOrEthToken &&\n                <PleaseDontLeaveWrapper isBtcLike={flow.secret ? flow.secret : false} />\n              }\n            </div>\n\n            {flow.ethSwapWithdrawTransactionHash && !this.isSellCurrencyEthOrEthToken && (\n              <strong styleName=\"transaction\">\n                <a\n                  href={`${etherscanLink}/tx/${flow.ethSwapWithdrawTransactionHash}`}\n                  target=\"_blank\"\n                  rel=\"noreferrer noopener\"\n                >\n                  <FormattedMessage id=\"swappropgress207\" defaultMessage=\"{transaction}\" values={{ transaction: flow.ethSwapWithdrawTransactionHash }} />\n                </a>\n              </strong>\n            )}\n            {flow[withdrawTransactionHash] && this.isSellCurrencyEthOrEthToken && (\n              <strong styleName=\"transaction\">\n                <a\n                  href={`${explorerLink}/tx/${flow[withdrawTransactionHash]}`}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  <FormattedMessage id=\"swappropgress218\" defaultMessage=\"{transaction}\" values={{ transaction: flow[withdrawTransactionHash] }} />\n                </a>\n              </strong>\n            )}\n            {flow.isFinished && (\n              <div styleName=\"finishButtonsHolder\">\n                {showWalletButton && (\n                  <LinkTo to=\"/wallet\">\n                    <Button brand onClick={this.onPushGoToWallet}>\n                      <FormattedMessage id=\"swapProgressGoToWallet\" defaultMessage=\"Check balance\" />\n                    </Button>\n                  </LinkTo>\n                )}\n                <Button gray onClick={this.onPushGoToTxPage}>\n                  <FormattedMessage id=\"swapProgressGoToTxPage\" defaultMessage=\"View TX in explorer\" />\n                </Button>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default injectIntl(SwapProgress)","// extracted by mini-css-extract-plugin\nexport default {\"stepList\":\"_1dvPWmKkmAuRlBfI-ckXe6\",\"stepItem\":\"_2pqjRq84Tye1qyWyXKntHD\",\"stepNumber\":\"PnRuLcmn75S9ZD502X_M7\",\"stepText\":\"_1lqSg7f7olbyqVGVPOH4CM\",\"cancelSwap\":\"_2cHH3tWllKFNGq-FvZpqO6\",\"tooltip\":\"_3a5IKNPyqlRn37BnAoJ1CZ\",\"active\":\"_3QtE-MjUfLZP3VyR_qjkqN\",\"checked\":\"mGf5co2H-VrrIndPk3LNd\",\"transactionInStep\":\"_3UIpQqpR6yIf7P9l2Rg3--\",\"checkedIcon\":\"_1loDchYiJrGaYJ-fqpf65t\",\"stepHeading\":\"_3R72AXsVJA1YV22____9SQ\",\"swapDepositWindow\":\"_5HkMK3TQIo-7Lf0uAVI0z\",\"isMobile\":\"_2zlzGbRC-bCl4_fiAmCGG3\"};","// extracted by mini-css-extract-plugin\nexport default {\"animate-fetching\":\"_3UP1X18_529U-XxR2pyKrt\",\"animate\":\"-TB0Vw-sQ9BHW-DR12Aii\"};","// extracted by mini-css-extract-plugin\nexport default {\"relativeWrapper\":\"_3SkC1ZuQyxNLxEUMqBBxPn\",\"imageWrapper\":\"_1TnGtKcML3QfShp9IFFHvW\",\"imageLoader\":\"LstHv0C5suN1if2fyCSag\",\"hiddenEl\":\"_2AvgoGoEN4m6R9YoeVnvd3\"};","import React, { Component } from 'react'\nimport CSSModules from 'react-css-modules'\nimport cx from 'classnames'\nimport animateFetching from 'components/loaders/ContentLoader/ElementLoading.scss'\n\nimport styles from './QR.scss'\n\ntype ComponentProps = {\n  address: string\n}\n\ntype ComponentState = {\n  renderQr: boolean\n}\n\n@CSSModules({ ...styles, ...animateFetching }, { allowMultiple: true })\nexport default class QR extends Component<ComponentProps, ComponentState> {\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      renderQr: false,\n    }\n  }\n\n  componentDidMount() {\n    setTimeout(() => {\n      this.setState({ renderQr: true })\n    }, 3000)\n  }\n\n  render() {\n    const { address } = this.props\n    const size = 270\n    return (\n      <React.Fragment>\n        <div className={styles.relativeWrapper}>\n          <div className={styles.imageWrapper}>\n            <img\n              src={`https://chart.googleapis.com/chart?chs=${size}x${size}&cht=qr&chl=${address}`}\n              alt={address}\n            />\n            <span className={cx({\n              [styles.imageLoader]: true,\n              [animateFetching['animate-fetching']]: !this.state.renderQr,\n              [styles.hiddenEl]: this.state.renderQr,\n            })} />\n          </div>\n        </div>\n      </React.Fragment>\n    )\n  }\n}\n","import React, { Fragment, Component } from 'react'\n\nimport config from 'app-config'\nimport { COIN_DATA, COIN_MODEL } from 'swap.app/constants/COINS'\nimport actions from 'redux/actions'\nimport helpers from 'helpers'\nimport erc20Like from 'common/erc20Like'\nimport CSSModules from 'react-css-modules'\nimport styles from '../../Swap.scss'\nimport { BigNumber } from 'bignumber.js'\n\nimport { FormattedMessage } from 'react-intl'\nimport Copy from 'components/ui/Copy/Copy'\nimport Button from 'components/controls/Button/Button'\nimport QR from 'components/QR/QR'\nimport Timer from '../../Timer/Timer'\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\nimport COINS_WITH_DYNAMIC_FEE from 'common/helpers/constants/COINS_WITH_DYNAMIC_FEE'\n\ntype ComponentState = {\n  swap: IUniversalObj\n  dynamicFee: number\n  remainingBalance: number\n  flow: IUniversalObj\n  isBalanceEnough: boolean\n  isBalanceFetching: boolean\n  isSellCurrencyToken: boolean\n  isSellCurrencyEvmCoin: boolean\n  balance: number\n  address: string\n  sellAmount: number\n  requiredAmount: number\n}\n\n@CSSModules(styles)\nexport default class DepositWindow extends Component<any, ComponentState> {\n  _fields = null\n  swap = null\n  currency = null\n\n  constructor(props) {\n    super(props)\n    const {\n      swap,\n      flow,\n      currencyData,\n      fields,\n    } = props\n\n    this._fields = fields\n\n    this.swap = swap\n\n    this.currency = swap.sellCurrency.toLowerCase()\n\n    const isSellCurrencyToken = erc20Like.isToken({ name: swap.sellCurrency })\n    const isSellCurrencyEvmCoin = COIN_DATA[swap.sellCurrency].model === COIN_MODEL.AB\n\n    this.state = {\n      swap,\n      dynamicFee: 0,\n      //@ts-ignore: strictNullChecks\n      remainingBalance: this.swap.sellAmount,\n      flow: swap.flow.state,\n      isBalanceEnough: false,\n      isBalanceFetching: false,\n      isSellCurrencyToken,\n      isSellCurrencyEvmCoin,\n      balance: isSellCurrencyToken || isSellCurrencyEvmCoin\n        ? currencyData.balance - (currencyData.unconfirmedBalance || 0)\n        : flow.scriptBalance,\n      address: isSellCurrencyToken || isSellCurrencyEvmCoin\n        ? currencyData.address\n        : flow.scriptAddress,\n      //@ts-ignore: strictNullChecks\n      sellAmount: this.swap.sellAmount,\n      requiredAmount: 0,\n    }\n  }\n\n  updateBalance = async () => {\n    const {\n      swap,\n      address,\n      isSellCurrencyToken,\n      isSellCurrencyEvmCoin,\n    } = this.state\n\n    let actualBalance\n    const sellBlockchain = swap.sellBlockchain\n\n    if (isSellCurrencyToken || isSellCurrencyEvmCoin) {\n      if (isSellCurrencyToken) {\n        const tokenKey = `{${sellBlockchain}}${swap.sellCurrency}`.toUpperCase()\n        const standard = COIN_DATA[tokenKey].standard.toLowerCase()\n\n        actualBalance = await actions[standard].getBalance(this.currency)\n      } else {\n        actualBalance = await actions[sellBlockchain.toLowerCase()].getBalance()\n      }\n    } else {\n      //@ts-ignore: strictNullChecks\n      const unspents = await actions[this.currency].fetchUnspents(address)\n      const totalUnspent = unspents.reduce((summ, { satoshis }) => summ + satoshis, 0)\n      actualBalance = new BigNumber(totalUnspent).dividedBy(1e8)\n    }\n\n    this.setState(() => ({\n      balance: actualBalance,\n    }))\n  }\n\n  updateRemainingBalance = async () => {\n    const { sellAmount, balance, dynamicFee, isSellCurrencyToken } = this.state\n\n    let remainingBalance = new BigNumber(sellAmount).minus(balance)\n\n    if (!isSellCurrencyToken) {\n      remainingBalance = remainingBalance.plus(dynamicFee)\n    }\n\n    this.setState(() => ({\n      remainingBalance: remainingBalance.dp(6, BigNumber.ROUND_UP).toNumber(),\n    }))\n  }\n\n  getRequiredAmount = async () => {\n    const { swap } = this.props\n    const { sellAmount } = this.state\n\n    let dynamicFee = 0\n    //@ts-ignore: strictNullChecks\n    if (COINS_WITH_DYNAMIC_FEE.includes(this.currency)) {\n      //@ts-ignore: strictNullChecks\n      dynamicFee = await helpers[this.currency].estimateFeeValue({ method: 'swap', fixed: true })\n\n      this.setState(() => ({\n        dynamicFee,\n      }))\n    }\n\n    const requiredAmount = new BigNumber(sellAmount)\n      .plus(dynamicFee)\n      .dp(6, BigNumber.ROUND_CEIL)\n      .toNumber()\n\n    this.setState(() => ({\n      requiredAmount,\n    }))\n\n    this.updateRemainingBalance()\n  }\n\n  checkThePayment = () => {\n    const {\n      swap,\n      dynamicFee,\n      sellAmount,\n      balance,\n      isSellCurrencyToken,\n      isSellCurrencyEvmCoin,\n    } = this.state\n\n    if (new BigNumber(sellAmount).plus(dynamicFee).isLessThanOrEqualTo(balance)) {\n      this.setState(() => ({\n        isBalanceEnough: true,\n      }))\n\n      if (isSellCurrencyToken || isSellCurrencyEvmCoin) {\n        swap.flow.syncBalance()\n      } else {\n        swap.flow.skipSyncBalance()\n      }\n    }\n  }\n\n  createCycleUpdatingBalance = async () => {\n    //@ts-ignore: strictNullChecks\n    const { scriptValues } = this._fields\n\n    let checker\n    await this.getRequiredAmount()\n    await this.updateRemainingBalance()\n\n    const balanceCheckHandler = async () => {\n      const {\n        swap: {\n          flow,\n          flow: {\n            state: flowState,\n          }\n        },\n      } = this.props\n      const { isBalanceEnough } = this.state\n\n      const utcNow = Math.floor(Date.now() / 1000)\n      const timeLeft = Math.ceil((flowState[scriptValues].lockTime - utcNow) / 60)\n\n      if (timeLeft <= 0) {\n        console.group('%c UTXO swap deposit modal', 'color: yellow;')\n        console.log('Stop swap process in DepositWindow')\n        console.log('timeLeft: ', timeLeft)\n        console.groupEnd()\n\n        flow.stopSwapProcess()\n\n        return true\n      }\n\n      if (isBalanceEnough) {\n        return true\n      }\n\n      await this.updateBalance()\n      this.checkThePayment()\n\n      return false\n    }\n\n    await balanceCheckHandler()\n\n    checker = setInterval(async () => {\n      const needStop = await balanceCheckHandler()\n\n      if (needStop) {\n        clearInterval(checker)\n      }\n    }, 5000)\n  }\n\n  handleReloadBalance = async () => {\n    this.updateBalance()\n\n    this.setState({\n      isBalanceFetching: true,\n    }, () => {\n      setTimeout(() => {\n        this.setState({\n          isBalanceFetching: false,\n        })\n      }, 500)\n    })\n  }\n\n  componentDidMount() {\n    this.createCycleUpdatingBalance()\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.balance !== prevState.balance) {\n      this.updateRemainingBalance()\n    }\n  }\n\n  render() {\n    const {\n      swap,\n      flow,\n      balance,\n      address,\n      dynamicFee,\n      requiredAmount,\n      isBalanceEnough,\n      remainingBalance,\n      isBalanceFetching,\n    } = this.state\n\n    const isWidgetBuild = config && config.isWidget\n\n    const DontHaveEnoughtFoundsValues = {\n      missingBalance: (\n        <div>\n          {remainingBalance > 0 ?\n            <strong>{`${remainingBalance}`} {swap.sellCurrency}{'  '}</strong>\n            :\n            <span styleName=\"loaderHolder\">\n              <InlineLoader />\n            </span>\n          }\n          <Tooltip id=\"dep170\">\n            <div>\n              {/* eslint-disable */}\n              <FormattedMessage\n                id=\"deposit177\"\n                defaultMessage=\"Do not top up the contract with the greater amount than recommended. The remaining balance will be send to the counter party. You can send {tokenName} from a wallet of any exchange\"\n                values={{\n                  amount: `${swap.sellAmount}`,\n                  tokenName: swap.sellCurrency,\n                  br: <br />,\n                }}\n              />\n              {/* eslint-enable */}\n            </div>\n          </Tooltip>\n        </div>\n      ),\n      amount: `${swap.sellAmount}`,\n      tokenName: swap.sellCurrency,\n      br: <br />,\n    }\n\n    //@ts-ignore: strictNullChecks\n    const { currencyName, explorerLink, scriptValues } = this._fields\n\n    return (\n      <Fragment>\n        <div\n          styleName=\"topUpLink\"\n        >\n          <div styleName=\"top\">\n            <div styleName=\"btcMessage\">\n              {isWidgetBuild ? (\n                <FormattedMessage\n                  id=\"deposit165widget\"\n                  defaultMessage=\"Copy the address below and top it up with the recommended amount of {missingBalance} \"\n                  values={DontHaveEnoughtFoundsValues}\n                />\n              ) : (\n                  <FormattedMessage\n                    id=\"deposit165\"\n                    defaultMessage=\"To continue the swap copy this address and top it up with {missingBalance}\"\n                    values={DontHaveEnoughtFoundsValues}\n                  />\n                )}\n            </div>\n          </div>\n          <div styleName=\"qrImg\">\n              <QR address={`${address}?amount=${remainingBalance}`} />\n            </div>\n          <Copy text={address}>\n            <div>\n              <a styleName=\"linkText\">\n                <FormattedMessage\n                  id=\"deposit256\"\n                  defaultMessage=\"The address of {tokenName} smart contract \"\n                  values={{\n                    tokenName: swap.sellCurrency,\n                  }}\n                />\n              </a>\n              <div styleName=\"linkTransactions\">\n                <strong>\n                  <a\n                    href={swap.sellCurrency === currencyName\n                      ? `${explorerLink}/address/${address}`\n                      : `${config.link.etherscan}/address/${address}`\n                    }\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    <FormattedMessage id=\"deposit297\" defaultMessage=\"view in explorer\" />\n                  </a>\n                </strong>\n              </div>\n              <div styleName=\"qr\">\n                <a styleName=\"linkAddress\">\n                  {address}\n                </a>\n                <Button brand fullWidth>\n                  <i className=\"fas fa-copy\" />\n                  <span className=\"copyText\">\n                    <FormattedMessage id=\"deposit312\" defaultMessage=\"copy\" />\n                  </span>\n                </Button>\n              </div>\n            </div>\n          </Copy>\n          <div>\n            <i className=\"fas fa-sync-alt\" styleName=\"icon\" onClick={this.handleReloadBalance} />\n            {/* eslint-disable */}\n            {isBalanceFetching\n              ? (\n                <a styleName=\"loaderHolder\">\n                  <InlineLoader />\n                </a>\n              ) : (\n                <FormattedMessage\n                  id=\"deposit300\"\n                  defaultMessage=\"Received {balance} / {need} {tooltip}\"\n                  values={{\n                    br: <br />,\n                    balance: <strong>{balance === undefined ? this.updateBalance : `${new BigNumber(balance).dp(6, BigNumber.ROUND_HALF_CEIL)}`} {swap.sellCurrency}{'  '}</strong>,\n                    need: <strong>{`${requiredAmount}`} {swap.sellCurrency}</strong>,\n                    tooltip:\n                      <Tooltip id=\"dep226\">\n                        <FormattedMessage\n                          id=\"deposit239\"\n                          defaultMessage=\"Swap will continue after {tokenName} contract receives the funds. Is usually takes less than 10 min\"\n                          values={{\n                            tokenName: swap.sellCurrency,\n                            br: <br />\n                          }}\n                        />\n                      </Tooltip>\n                  }}\n                />\n              )}\n            {isBalanceEnough\n              ? <FormattedMessage id=\"deposit198.1\" defaultMessage=\"create Ethereum Contract.{br}Please wait, it can take a few minutes...\" values={{ br: <br /> }} />\n              : <FormattedMessage id=\"deposit198\" defaultMessage=\"waiting for payment...\" />\n            }\n            <a styleName=\"loaderHolder\">\n              <InlineLoader />\n            </a>\n            {dynamicFee > 0 &&\n              <a styleName=\"included\">\n                <FormattedMessage\n                  id=\"deposit320\"\n                  defaultMessage=\"(included {mineerFee} {sellCurrency} miners fee) \"\n                  values={{\n                    mineerFee: dynamicFee,\n                    sellCurrency: swap.sellCurrency,\n                  }}\n                />\n              </a>}\n            <div>\n            </div>\n            {/* eslint-enable */}\n          </div>\n          {flow[scriptValues] !== null &&\n            <div styleName=\"lockTime\">\n              <i className=\"far fa-clock\" />\n              <Timer cancelTime={(flow[scriptValues].lockTime - 7200) * 1000} lockTime={flow[scriptValues].lockTime * 1000} />\n            </div>}\n        </div>\n      </Fragment>\n    )\n  }\n}","import React from 'react'\n\nimport CSSModules from 'react-css-modules'\nimport styles from '../SwapList.scss'\n\nimport { FormattedMessage } from 'react-intl'\n\n\nconst FirstStep = ({ isFirstStepActive, text }) => (\n  <div styleName={ isFirstStepActive ? 'stepItem active' : 'stepItem active checked'}>\n    <span styleName=\"stepNumber\">{isFirstStepActive ? 1 : <i id=\"firtsStepDoneIcon\" className=\"fas fa-check\" />}</span>\n    <p styleName=\"stepText\">\n      <FormattedMessage\n        id=\"Confirmation14\"\n        defaultMessage=\"Confirmation\"\n      />\n    </p>\n    {isFirstStepActive && (\n      <span styleName=\"stepHeading\">\n        {text}\n      </span>\n    )}\n  </div>\n)\n\nexport default CSSModules(FirstStep, styles, { allowMultiple: true })\n","import React from 'react'\n\nimport CSSModules from 'react-css-modules'\nimport styles from '../SwapList.scss'\nimport { isMobile } from 'react-device-detect'\n\nimport { FormattedMessage } from 'react-intl'\n\n\nconst FourthStep = (props) => {\n  const {\n    isFourthStepActive,\n    text,\n  } = props\n\n  const fourthStepPadding = (isFourthStepActive && isMobile) ? 150 : 0\n\n  return (\n    <div\n      style={{ paddingTop: fourthStepPadding }}\n      styleName={isFourthStepActive ? 'stepItem active checked' : 'stepItem'}>\n      <span styleName=\"stepNumber\">{isFourthStepActive ? <i className=\"fas fa-check\" /> : 4}</span>\n      <p id=\"swapCompleted\" styleName=\"stepText\">\n        <FormattedMessage\n          id=\"BtcToEthToken123\"\n          defaultMessage=\"The swap is finish!\" />\n      </p>\n      {isFourthStepActive && (\n        <span styleName=\"stepHeading\">\n          {text}\n        </span>\n      )}\n    </div>\n  )\n}\n\nexport default CSSModules(FourthStep, styles, { allowMultiple: true })\n","export default __webpack_public_path__ + \"images/unknown_18ca88.svg\";","export default __webpack_public_path__ + \"images/opera_ec1b2f.svg\";","export default __webpack_public_path__ + \"images/walletconnect_a4166a.svg\";","export default __webpack_public_path__ + \"images/liquality_151856.png\";","export default __webpack_public_path__ + \"images/metamask_45038d.svg\";","export default __webpack_public_path__ + \"images/trust_bc8bdd.svg\";","export default __webpack_public_path__ + \"images/close_71fc38.svg\";","export default __webpack_public_path__ + \"images/ok_c2b0a9.svg\";","export default __webpack_public_path__ + \"images/checked_e770f7.svg\";","import iconDefault from './unknown.svg'\nimport iconOpera from './opera.svg'\nimport iconWalletConnect from './walletconnect.svg'\nimport iconLiquality from './liquality.png'\nimport iconMetamask from './metamask.svg'\nimport iconTrustWallet from './trust.svg'\nimport iconClose from './close.svg'\nimport iconOk from './ok.svg'\nimport iconChecked from './checked.svg'\n\nexport const regularIcons = {\n  CLOSE: iconClose,\n  OK: iconOk,\n  CHECKED: iconChecked,\n}\n\nconst web3Icons = {\n  METAMASK: iconMetamask,\n  TRUST: iconTrustWallet,\n  OPERA: iconOpera,\n  NONE: iconDefault,\n  UNKNOWN: iconDefault,\n  LIQUALITY: iconLiquality,\n  WALLETCONNECT: iconWalletConnect,\n}\n\nexport default web3Icons\n","import React, { useState, useEffect } from 'react'\n\nimport CSSModules from 'react-css-modules'\nimport styles from '../../SwapList.scss'\n\nimport actions from 'redux/actions'\nimport { isMobile } from 'react-device-detect'\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\nimport { FormattedMessage } from 'react-intl'\nimport { regularIcons } from 'images'\n\nlet _mounted = false\nconst timeoutIds: NodeJS.Timeout[] = []\n\nconst SecondStep = (props) => {\n  const {\n    showDepositWindow,\n    isFirstStepActive,\n    isSecondStepActive,\n    swap: {\n      sellCurrency,\n      buyCurrency,\n      flow: {\n        state: {\n          ethSwapCreationTransactionHash,\n          utxoScriptCreatingTransactionHash,\n        },\n      },\n    },\n    fields: {\n      explorerLink,\n      etherscanLink,\n      currencyName,\n      ethLikeCoin,\n    },\n    text,\n  } = props\n\n  const [scriptHashIsConfirmed, setScriptHashIsConfirmed] = useState(false)\n  const [ethSwapHashIsConfirmed, setEthSwapHashIsConfirmed] = useState(false)\n  const [ethSwapHash, setEthSwapHash] = useState('')\n  const [scriptHash, setScriptHash] = useState('')\n\n  if (ethSwapCreationTransactionHash && !ethSwapHash) {\n    setEthSwapHash(ethSwapCreationTransactionHash)\n  }\n\n  if (utxoScriptCreatingTransactionHash && !scriptHash) {\n    setScriptHash(utxoScriptCreatingTransactionHash)\n  }\n\n  const checkTransactionHash = (txHash, currencyName, refreshTime) => {\n    const timeoutId = setTimeout(async () => {\n      if (!_mounted) return\n\n      try {\n        let fetchedTx: any\n\n        if (currencyName === ethLikeCoin.toLowerCase()) { // TODO: needs to be improved when adding BNB\n          fetchedTx = await actions[ethLikeCoin.toLowerCase()].fetchTxInfo(txHash)\n\n          if (fetchedTx && fetchedTx.confirmed) {\n            return setEthSwapHashIsConfirmed(true)\n          } else {\n            return checkTransactionHash(txHash, currencyName, refreshTime)\n          }\n        }\n\n        fetchedTx = await actions[currencyName.toLowerCase()].fetchTx(txHash, (refreshTime - 5) * 1000)\n\n        if (fetchedTx && fetchedTx.confirmations >= 1) {\n          return setScriptHashIsConfirmed(true)\n        } else {\n          return checkTransactionHash(txHash, currencyName, refreshTime)\n        }\n      } catch (e) {\n        console.error(e)\n        return checkTransactionHash(txHash, currencyName, refreshTime)\n      }\n    }, refreshTime * 1000)\n    timeoutIds.push(timeoutId)\n  }\n\n  useEffect(() => {\n    _mounted = true\n    if (scriptHash && !scriptHashIsConfirmed){\n      checkTransactionHash(scriptHash, currencyName, 20)\n    }\n  }, [scriptHash])\n\n  useEffect(() => {\n    _mounted = true\n    if (ethSwapHash && !ethSwapHashIsConfirmed){\n      checkTransactionHash(ethSwapHash, ethLikeCoin.toLowerCase(), 20)\n    }\n  }, [ethSwapHash])\n\n  useEffect(() => {\n    _mounted = true\n    return () => {\n      _mounted = false\n      timeoutIds.map((id) => clearInterval(id))\n    }\n  }, [])\n\n  const showStepNumber = isFirstStepActive || isSecondStepActive\n  const isStepActive = isMobile ? showStepNumber : isSecondStepActive\n\n  return (\n    <div\n      styleName={(isStepActive && 'stepItem active') || (isFirstStepActive && 'stepItem') || 'stepItem active checked'}>\n      <span styleName=\"stepNumber\">{!isMobile ? (showStepNumber ? 2 : <i className=\"fas fa-check\" />) : (showStepNumber ? 1 : <i className=\"fas fa-check\" />) }</span>\n      <p styleName=\"stepText\">\n        <FormattedMessage id=\"BtcToEthToken24\" defaultMessage=\"Deposit\" />\n      </p>\n      {utxoScriptCreatingTransactionHash && (\n        <strong styleName=\"transactionInStep\">\n          <a\n            id=\"utxoDepositHashLink\"\n            title={`${explorerLink}/tx/${utxoScriptCreatingTransactionHash}`}\n            href={`${explorerLink}/tx/${utxoScriptCreatingTransactionHash}`}\n            target=\"_blank\"\n            rel=\"noreferrer noopener\"\n          >\n            <FormattedMessage id=\"FourthStep37BtcLike\" defaultMessage=\"({currencyName} tx)\" values={{ currencyName : currencyName.toLowerCase() }} />\n            {scriptHashIsConfirmed ? (\n              <img\n                id=\"checkedUtxoDepositHashIcon\"\n                styleName=\"checkedIcon\"\n                src={regularIcons.CHECKED}\n                alt='checked'\n              />\n            ) : <InlineLoader />}\n            <i className=\"fas fa-link\" />\n          </a>\n        </strong>\n      )}\n      {ethSwapCreationTransactionHash && (\n        <strong styleName=\"transactionInStep\">\n          <a\n            id=\"evmDepositHashLink\"\n            href={`${etherscanLink}/tx/${ethSwapCreationTransactionHash}`}\n            target=\"_blank\"\n            rel=\"noreferrer noopener\"\n          >\n            <FormattedMessage\n              id=\"FourthStep52\"\n              defaultMessage=\"({otherCurrency} tx)\"\n              values={{ otherCurrency: sellCurrency.toLowerCase() === currencyName.toLowerCase() ? buyCurrency.toLowerCase() : sellCurrency.toLowerCase() }}\n            />\n            <i className=\"fas fa-link\" />\n            {ethSwapHashIsConfirmed ? (\n              <img\n                id=\"checkedEvmDepositHashIcon\"\n                styleName=\"checkedIcon\"\n                src={regularIcons.CHECKED}\n                alt='checked'\n              />\n            ) : <InlineLoader />}\n          </a>\n        </strong>\n      )}\n      <div styleName=\"tooltip\">\n        <Tooltip id=\"SecondStep\">\n          <FormattedMessage\n            id=\"SecondStep\"\n            defaultMessage=\"On this step, the crypto goes not to your wallet {br}or to the wallet of your counterparty but directly to the swap contract\"\n            values={{ br: <br /> }}\n          />\n        </Tooltip >\n      </div>\n      {showDepositWindow ? '' : isStepActive && (\n        <span styleName=\"stepHeading\">\n          {text}\n        </span>\n      )}\n    </div>\n  )\n}\nexport default CSSModules(SecondStep, styles, { allowMultiple: true })\n","import React, { useState, useEffect } from 'react'\n\nimport CSSModules from 'react-css-modules'\nimport styles from '../../SwapList.scss'\n\nimport actions from 'redux/actions'\nimport { isMobile } from 'react-device-detect'\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\nimport { FormattedMessage } from 'react-intl'\nimport { regularIcons } from 'images'\n\nlet _mounted = false\nconst timeoutIds: NodeJS.Timeout[] = []\n\nconst ThirdStep = (props) => {\n  const {\n    isFirstStepActive,\n    isSecondStepActive,\n    isThirdStepActive,\n    swap: {\n      sellCurrency,\n      buyCurrency,\n      flow: {\n        state: {\n          ethSwapWithdrawTransactionHash,\n          utxoSwapWithdrawTransactionHash,\n        },\n      },\n    },\n    fields: {\n      currencyName,\n      explorerLink,\n      ethLikeCoin,\n      etherscanLink,\n    },\n    text,\n  } = props\n\n  const [withdrawHashIsConfirmed, setWithdrawHashIsConfirmed] = useState(false)\n  const [ethSwapWithdrawHashIsConfirmed, setEthSwapWithdrawHashIsConfirmed] = useState(false)\n  const [ethSwapWithdrawHash, setEthSwapWithdrawHash] = useState('')\n  const [withdrawHash, setWithdrawHash] = useState('')\n\n  if (ethSwapWithdrawTransactionHash && !ethSwapWithdrawHash) {\n    setEthSwapWithdrawHash(ethSwapWithdrawTransactionHash)\n  }\n\n  if (utxoSwapWithdrawTransactionHash && !withdrawHash) {\n    setWithdrawHash(utxoSwapWithdrawTransactionHash)\n  }\n\n  const checkTransactionHash = (txHash, currencyName, refreshTime) => {\n    const timeoutId = setTimeout(async () => {\n      if (!_mounted) return\n\n      try {\n        let fetchedTx: any\n\n        if (currencyName === ethLikeCoin.toLowerCase()) { // TODO: needs to be improved when adding BNB\n          fetchedTx = await actions[ethLikeCoin.toLowerCase()].fetchTxInfo(txHash)\n\n          if (fetchedTx && fetchedTx.confirmed) {\n            return setEthSwapWithdrawHashIsConfirmed(true)\n          } else {\n            return checkTransactionHash(txHash, currencyName, refreshTime)\n          }\n        }\n\n        fetchedTx = await actions[currencyName.toLowerCase()].fetchTx(txHash, (refreshTime - 5) * 1000)\n\n        if (fetchedTx && fetchedTx.confirmations >= 1) {\n          return setWithdrawHashIsConfirmed(true)\n        } else {\n          return checkTransactionHash(txHash, currencyName, refreshTime)\n        }\n      } catch (e) {\n        console.error(e)\n        return checkTransactionHash(txHash, currencyName, refreshTime)\n      }\n    }, refreshTime * 1000)\n    timeoutIds.push(timeoutId)\n  }\n\n  useEffect(() => {\n    _mounted = true\n    if (withdrawHash && !withdrawHashIsConfirmed){\n      checkTransactionHash(withdrawHash, currencyName, 20)\n    }\n  }, [withdrawHash])\n\n  useEffect(() => {\n    _mounted = true\n    if (ethSwapWithdrawHash && !ethSwapWithdrawHashIsConfirmed){\n      checkTransactionHash(ethSwapWithdrawHash, ethLikeCoin.toLowerCase(), 20)\n    }\n  }, [ethSwapWithdrawHash])\n\n  useEffect(() => {\n    _mounted = true\n    return () => {\n      _mounted = false\n      timeoutIds.map((id) => clearInterval(id))\n    }\n  }, [])\n\n  const isLowStep = isFirstStepActive || isSecondStepActive\n  const showStepNumber = isThirdStepActive || isLowStep\n  const isStepActive = isMobile ? showStepNumber : isThirdStepActive\n\n  return (\n    <div\n      styleName={(isStepActive && 'stepItem active') || (isLowStep && 'stepItem') || 'stepItem active checked'}>\n      <span styleName=\"stepNumber\">{!isMobile ? (showStepNumber ? 3 : <i className=\"fas fa-check\" />) : (showStepNumber ? 2 : <i className=\"fas fa-check\" />)}</span>\n      <p styleName=\"stepText\">\n        <FormattedMessage id=\"thirdStep24\" defaultMessage=\"WITHDRAW\" />\n      </p>\n      {ethSwapWithdrawTransactionHash && (\n        <strong styleName=\"transactionInStep\">\n          <a\n            id=\"evmWithdrawalHashLink\"\n            href={`${etherscanLink}/tx/${ethSwapWithdrawTransactionHash}`}\n            target=\"_blank\"\n            rel=\"noreferrer noopener\"\n          >\n            <FormattedMessage\n              id=\"FourthStep34\"\n              defaultMessage=\"({sell} tx)\"\n              values={{ sell: sellCurrency.toLowerCase() === currencyName.toLowerCase() ? buyCurrency.toLowerCase() : sellCurrency.toLowerCase()  }}\n            />\n            <i className=\"fas fa-link\" />\n            {ethSwapWithdrawHashIsConfirmed ? (\n              <img\n                id=\"checkedEvmWithdrawalHashIcon\"\n                styleName=\"checkedIcon\"\n                src={regularIcons.CHECKED}\n                alt='checked'\n              />\n            ) : <InlineLoader />}\n          </a>\n        </strong>\n      )}\n      {utxoSwapWithdrawTransactionHash && (\n        <strong styleName=\"transactionInStep\">\n          <a\n            id=\"utxoWithdrawalHashLink\"\n            href={`${explorerLink}/tx/${utxoSwapWithdrawTransactionHash}`}\n            target=\"_blank\"\n            rel=\"noreferrer noopener\"\n          >\n            <FormattedMessage id=\"FourthStep37_BtcLike\" defaultMessage=\"({currencyName} tx)\" values={{ currencyName: currencyName.toLowerCase() }} />\n            <i className=\"fas fa-link\" />\n            {withdrawHashIsConfirmed ? (\n              <img\n                id=\"checkedUtxoWithdrawalHashIcon\"\n                styleName=\"checkedIcon\"\n                src={regularIcons.CHECKED}\n                alt='checked'\n              />\n            ) : <InlineLoader />}\n          </a>\n        </strong>\n      )}\n      <div styleName=\"tooltip\">\n        <Tooltip id=\"thirdStep\">\n          <FormattedMessage\n            id=\"thirdStep\"\n            defaultMessage=\"Оn this step crypto is transferred from {br}the contract to your wallet and to the wallet {br} of your counterparty {br}\"\n            values={{ br: <br /> }}\n          />\n        </Tooltip >\n      </div>\n      {isStepActive && (\n        <span styleName=\"stepHeading\">\n          {text}\n        </span>\n      )}\n    </div>\n  )\n}\n\nexport default CSSModules(ThirdStep, styles, { allowMultiple: true })\n","import React, { useState, useEffect } from 'react'\n\nimport CSSModules from 'react-css-modules'\nimport styles from '../../SwapList.scss'\n\nimport actions from 'redux/actions'\nimport { isMobile } from 'react-device-detect'\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\nimport { FormattedMessage } from 'react-intl'\nimport { regularIcons } from 'images'\n\nlet _mounted = false\nconst timeoutIds: NodeJS.Timeout[] = []\n\nconst SecondStep = (props) => {\n  const {\n    showDepositWindow,\n    isFirstStepActive,\n    isSecondStepActive,\n    swap: {\n      sellCurrency,\n      buyCurrency,\n      flow: {\n        state: {\n          ethSwapCreationTransactionHash,\n          utxoScriptCreatingTransactionHash,\n        },\n      },\n    },\n    fields: {\n      explorerLink,\n      etherscanLink,\n      currencyName,\n      ethLikeCoin,\n    },\n    text,\n  } = props\n\n  const [scriptHashIsConfirmed, setScriptHashIsConfirmed] = useState(false)\n  const [ethSwapHashIsConfirmed, setEthSwapHashIsConfirmed] = useState(false)\n  const [ethSwapHash, setEthSwapHash] = useState('')\n  const [scriptHash, setScriptHash] = useState('')\n\n  if (ethSwapCreationTransactionHash && !ethSwapHash) {\n    setEthSwapHash(ethSwapCreationTransactionHash)\n  }\n\n  if (utxoScriptCreatingTransactionHash && !scriptHash) {\n    setScriptHash(utxoScriptCreatingTransactionHash)\n  }\n\n  const checkTransactionHash = (txHash, currencyName, refreshTime) => {\n    const timeoutId = setTimeout(async () => {\n      if (!_mounted) return\n\n      try {\n        let fetchedTx: any\n\n        if (currencyName === ethLikeCoin.toLowerCase()) {\n          fetchedTx = await actions[ethLikeCoin.toLowerCase()].fetchTxInfo(txHash)\n\n          if (fetchedTx && fetchedTx.confirmed) {\n            return setEthSwapHashIsConfirmed(true)\n          } else {\n            return checkTransactionHash(txHash, currencyName, refreshTime)\n          }\n        }\n\n        fetchedTx = await actions[currencyName.toLowerCase()].fetchTx(txHash, (refreshTime - 5) * 1000)\n\n        if (fetchedTx && fetchedTx.confirmations >= 1) {\n          return setScriptHashIsConfirmed(true)\n        } else {\n          return checkTransactionHash(txHash, currencyName, refreshTime)\n        }\n      } catch (e) {\n        console.error(e)\n        return checkTransactionHash(txHash, currencyName, refreshTime)\n      }\n    }, refreshTime * 1000)\n    timeoutIds.push(timeoutId)\n  }\n\n  useEffect(() => {\n    _mounted = true\n    if (scriptHash && !scriptHashIsConfirmed){\n      checkTransactionHash(scriptHash, currencyName, 20)\n    }\n  }, [scriptHash])\n\n  useEffect(() => {\n    _mounted = true\n    if (ethSwapHash && !ethSwapHashIsConfirmed){\n      checkTransactionHash(ethSwapHash, ethLikeCoin.toLowerCase(), 20)\n    }\n  }, [ethSwapHash])\n\n  useEffect(() => {\n    _mounted = true\n    return () => {\n      _mounted = false\n      timeoutIds.map((id) => clearInterval(id))\n    }\n  }, [])\n\n  const showStepNumber = isFirstStepActive || isSecondStepActive\n  const isStepActive = isMobile ? showStepNumber : isSecondStepActive\n\n  return (\n    <div\n      styleName={((isStepActive) && 'stepItem active') || (isFirstStepActive && 'stepItem') || 'stepItem active checked'}>\n      <span styleName=\"stepNumber\">{!isMobile ? (showStepNumber ? 2 : <i className=\"fas fa-check\" />) : (showStepNumber ? 1 : <i className=\"fas fa-check\" />) }</span>\n      <p styleName=\"stepText\">\n        <FormattedMessage id=\"BtcToEthToken24\" defaultMessage=\"Deposit\" />\n      </p>\n      {ethSwapCreationTransactionHash && (\n        <strong styleName=\"transactionInStep\">\n          <a\n            id=\"evmDepositHashLink\"\n            href={`${etherscanLink}/tx/${ethSwapCreationTransactionHash}`}\n            target=\"_blank\"\n            rel=\"noreferrer noopener\"\n          >\n            <FormattedMessage\n              id=\"FourthStep52\"\n              defaultMessage=\"({otherCurrency} tx)\"\n              values={{ otherCurrency: sellCurrency.toLowerCase() === currencyName.toLowerCase() ? buyCurrency.toLowerCase() : sellCurrency.toLowerCase() }}\n            />\n            <i className=\"fas fa-link\" />\n            {ethSwapHashIsConfirmed ? (\n              <img\n                id=\"checkedEvmDepositHashIcon\"\n                styleName=\"checkedIcon\"\n                src={regularIcons.CHECKED}\n                alt='checked'\n              />\n            ) : <InlineLoader />}\n          </a>\n        </strong>\n      )}\n      {utxoScriptCreatingTransactionHash && (\n        <strong styleName=\"transactionInStep\">\n          <a\n            id=\"utxoDepositHashLink\"\n            title={`${explorerLink}/tx/${utxoScriptCreatingTransactionHash}`}\n            href={`${explorerLink}/tx/${utxoScriptCreatingTransactionHash}`}\n            target=\"_blank\"\n            rel=\"noreferrer noopener\"\n          >\n            <FormattedMessage id=\"FourthStep37BtcLike\" defaultMessage=\"({currencyName} tx)\" values={{ currencyName : currencyName.toLowerCase() }} />\n            <i className=\"fas fa-link\" />\n            {scriptHashIsConfirmed ? (\n              <img\n                id=\"checkedUtxoDepositHashIcon\"\n                styleName=\"checkedIcon\"\n                src={regularIcons.CHECKED}\n                alt='checked'\n              />\n            ) : <InlineLoader />}\n          </a>\n        </strong>\n      )}\n      <div styleName=\"tooltip\">\n        <Tooltip id=\"SecondStep\">\n          <FormattedMessage\n            id=\"SecondStep\"\n            defaultMessage=\"On this step, the crypto goes not to your wallet {br}or to the wallet of your counterparty but directly to the swap contract\"\n            values={{ br: <br /> }}\n          />\n        </Tooltip >\n      </div>\n      {showDepositWindow ? '' : isStepActive && (\n        <span styleName=\"stepHeading\">\n          {text}\n        </span>\n      )}\n    </div>\n  )\n}\nexport default CSSModules(SecondStep, styles, { allowMultiple: true })\n","import React, { useState, useEffect } from 'react'\n\nimport CSSModules from 'react-css-modules'\nimport styles from '../../SwapList.scss'\n\nimport actions from 'redux/actions'\nimport { isMobile } from 'react-device-detect'\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\nimport { FormattedMessage } from 'react-intl'\nimport { regularIcons } from 'images'\n\nlet _mounted = false\nconst timeoutIds: NodeJS.Timeout[] = []\n\nconst ThirdStep = (props) => {\n  const {\n    isFirstStepActive,\n    isSecondStepActive,\n    isThirdStepActive,\n    swap: {\n      sellCurrency,\n      buyCurrency,\n      flow: {\n        state: {\n          ethSwapWithdrawTransactionHash,\n          utxoSwapWithdrawTransactionHash,\n        },\n      },\n    },\n    fields: {\n      currencyName,\n      explorerLink,\n      ethLikeCoin,\n      etherscanLink,\n    },\n    text,\n  } = props\n\n  const [withdrawHashIsConfirmed, setWithdrawHashIsConfirmed] = useState(false)\n  const [ethSwapWithdrawHashIsConfirmed, setEthSwapWithdrawHashIsConfirmed] = useState(false)\n  const [ethSwapWithdrawHash, setEthSwapWithdrawHash] = useState('')\n  const [withdrawHash, setWithdrawHash] = useState('')\n\n  if (ethSwapWithdrawTransactionHash && !ethSwapWithdrawHash) {\n    setEthSwapWithdrawHash(ethSwapWithdrawTransactionHash)\n  }\n\n  if (utxoSwapWithdrawTransactionHash && !withdrawHash) {\n    setWithdrawHash(utxoSwapWithdrawTransactionHash)\n  }\n\n  const checkTransactionHash = (txHash, currencyName, refreshTime) => {\n    const timeoutId = setTimeout(async () => {\n      if (!_mounted) return\n\n      try {\n        let fetchedTx: any\n\n        if (currencyName === ethLikeCoin.toLowerCase()) { // TODO: needs to be improved when adding BNB\n          fetchedTx = await actions[ethLikeCoin.toLowerCase()].fetchTxInfo(txHash)\n\n          if (fetchedTx && fetchedTx.confirmed) {\n            return setEthSwapWithdrawHashIsConfirmed(true)\n          } else {\n            return checkTransactionHash(txHash, currencyName, refreshTime)\n          }\n        }\n\n        fetchedTx = await actions[currencyName.toLowerCase()].fetchTx(txHash, (refreshTime - 5) * 1000)\n\n        if (fetchedTx && fetchedTx.confirmations >= 1) {\n          return setWithdrawHashIsConfirmed(true)\n        } else {\n          return checkTransactionHash(txHash, currencyName, refreshTime)\n        }\n      } catch (e) {\n        console.error(e)\n        return checkTransactionHash(txHash, currencyName, refreshTime)\n      }\n    }, refreshTime * 1000)\n    timeoutIds.push(timeoutId)\n  }\n\n  useEffect(() => {\n    _mounted = true\n    if (withdrawHash && !withdrawHashIsConfirmed){\n      checkTransactionHash(withdrawHash, currencyName, 20)\n    }\n  }, [withdrawHash])\n\n  useEffect(() => {\n    _mounted = true\n    if (ethSwapWithdrawHash && !ethSwapWithdrawHashIsConfirmed){\n      checkTransactionHash(ethSwapWithdrawHash, ethLikeCoin.toLowerCase(), 20)\n    }\n  }, [ethSwapWithdrawHash])\n\n  useEffect(() => {\n    _mounted = true\n    return () => {\n      _mounted = false\n      timeoutIds.map((id) => clearInterval(id))\n    }\n  }, [])\n\n  const isLowStep = isFirstStepActive || isSecondStepActive\n  const showStepNumber = isThirdStepActive || isLowStep\n  const isStepActive = isMobile ? showStepNumber : isThirdStepActive\n\n  return (\n    <div\n      styleName={(isStepActive && 'stepItem active') || (isLowStep && 'stepItem') || 'stepItem active checked'}>\n      <span styleName=\"stepNumber\">{!isMobile ? (showStepNumber ? 3 : <i className=\"fas fa-check\" />) : (showStepNumber ? 2 : <i className=\"fas fa-check\" />)}</span>\n      <p styleName=\"stepText\">\n        <FormattedMessage id=\"thirdStep24\" defaultMessage=\"WITHDRAW\" />\n      </p>\n      {utxoSwapWithdrawTransactionHash && (\n        <strong styleName=\"transactionInStep\">\n          <a\n            id=\"utxoWithdrawalHashLink\"\n            href={`${explorerLink}/tx/${utxoSwapWithdrawTransactionHash}`}\n            target=\"_blank\"\n            rel=\"noreferrer noopener\"\n          >\n            <FormattedMessage id=\"FourthStep37_BtcLike\" defaultMessage=\"({currencyName} tx)\" values={{ currencyName: currencyName.toLowerCase() }} />\n            <i className=\"fas fa-link\" />\n            {withdrawHashIsConfirmed ? (\n              <img\n                id=\"checkedUtxoWithdrawalHashIcon\"\n                styleName=\"checkedIcon\"\n                src={regularIcons.CHECKED}\n                alt='checked'\n              />\n            ) : <InlineLoader />}\n          </a>\n        </strong>\n      )}\n      {ethSwapWithdrawTransactionHash && (\n        <strong styleName=\"transactionInStep\">\n          <a\n            id=\"evmWithdrawalHashLink\"\n            href={`${etherscanLink}/tx/${ethSwapWithdrawTransactionHash}`}\n            target=\"_blank\"\n            rel=\"noreferrer noopener\"\n          >\n            <FormattedMessage\n              id=\"FourthStep34\"\n              defaultMessage=\"({sell} tx)\"\n              values={{ sell: sellCurrency.toLowerCase() === currencyName.toLowerCase() ? buyCurrency.toLowerCase() : sellCurrency.toLowerCase()  }}\n            />\n            <i className=\"fas fa-link\" />\n            {ethSwapWithdrawHashIsConfirmed ? (\n              <img\n                id=\"checkedEvmWithdrawalHashIcon\"\n                styleName=\"checkedIcon\"\n                src={regularIcons.CHECKED}\n                alt='checked'\n              />\n            ) : <InlineLoader />}\n          </a>\n        </strong>\n      )}\n      <div styleName=\"tooltip\">\n        <Tooltip id=\"thirdStep\">\n          <FormattedMessage\n            id=\"thirdStep\"\n            defaultMessage=\"Оn this step crypto is transferred from {br}the contract to your wallet and to the wallet {br} of your counterparty {br}\"\n            values={{ br: <br /> }}\n          />\n        </Tooltip >\n      </div>\n      {isStepActive && (\n        <span styleName=\"stepHeading\">\n          {text}\n        </span>\n      )}\n    </div>\n  )\n}\n\nexport default CSSModules(ThirdStep, styles, { allowMultiple: true })\n","import React, { Component } from 'react'\n\nimport { FormattedMessage } from 'react-intl'\n\nexport default class MakerUtxoToAbTexts extends Component<any, any> {\n  getMakerUtxoToAbTextText = (stepName) => {\n    switch (stepName) {\n      case 'sign':\n        return (\n          <FormattedMessage\n            id=\"SwapProgressText_FirstStep\"\n            defaultMessage=\"Please wait\"\n          />\n        )\n      case 'sync-balance':\n        return (\n          <FormattedMessage\n            id=\"SwapProgressText_CheckingBalance\"\n            defaultMessage=\"Checking balance..\"\n          />\n        )\n      case 'wait-lock-eth':\n        return (\n          <FormattedMessage\n            id=\"SwapProgressText_WaitPatricipantDeposit\"\n            defaultMessage=\"Waiting for other participant to deposit {buyCurrency}\"\n            values={{\n              buyCurrency: `${this.props.swap.buyCurrency}`\n            }}\n          />\n        )\n      case 'lock-utxo':\n        return (\n          <FormattedMessage\n            id=\"SwapProgressText_DepositingYourSide\"\n            defaultMessage=\"Depositing {sellCurrency}.{br}It can take a few minutes\"\n            values={{\n              br: <br />,\n              sellCurrency: `${this.props.swap.sellCurrency}`\n            }}\n          />\n        )\n      case 'wait-withdraw-utxo':\n        return (\n          <FormattedMessage\n            id=\"SwapProgressText_MakerWaitTakerWithdraw\"\n            defaultMessage=\"Waiting for {buyCurrency} Owner to add a Secret Key to {sellCurrency} Contact\"\n            values={{\n              buyCurrency: `${this.props.swap.buyCurrency}`,\n              sellCurrency: `${this.props.swap.sellCurrency}`\n            }}\n          />\n        )\n      case 'withdraw-eth':\n        return (\n          <FormattedMessage\n            id=\"SwapProgressText_WithdrawRequest\"\n            defaultMessage=\"Requesting withdrawal from {buyCurrency} Contract\"\n            values={{\n              buyCurrency: `${this.props.swap.buyCurrency}`\n            }}\n          />\n        )\n      case 'finish':\n        return (\n          <FormattedMessage\n            id=\"SwapProgressText_Finish\"\n            defaultMessage=\"{buyCurrency} tokens was transferred to your wallet. Check the balance\"\n            values={{\n              buyCurrency: `${this.props.swap.buyCurrency}`\n            }}\n          />\n        )\n      case 'end':\n        return (\n          <FormattedMessage id=\"SwapProgressText_End\" defaultMessage=\"Thank you for using Swap.Online!\" />\n        )\n      default:\n        return null\n    }\n  }\n\n  render() {\n\n    return this.getMakerUtxoToAbTextText(this.props.stepName)\n  }\n}\n","import React, { Component } from 'react'\n\nimport { FormattedMessage } from 'react-intl'\n\nexport default class TakerUtxoToAbTexts extends Component<any, any> {\n  getTakerUtxoToAbTextText = (stepName) => {\n    switch (stepName) {\n      case 'sign':\n        return (\n          <FormattedMessage\n            id=\"SwapProgressText_FirstStep\"\n            defaultMessage=\"Please wait\"\n          />\n        )\n      case 'submit-secret':\n        return (\n          <FormattedMessage\n            id=\"SwapProgressText_CreateSecret\"\n            defaultMessage=\"Create a secret key\"\n          />\n        )\n      case 'sync-balance':\n        return (\n          <FormattedMessage\n            id=\"SwapProgressText_CheckingBalance\"\n            defaultMessage=\"Checking balance..\"\n          />\n        )\n      case 'lock-utxo':\n        return (\n          <FormattedMessage\n            id=\"SwapProgressText_DepositingYourSide\"\n            defaultMessage=\"Depositing {sellCurrency}.{br}It can take a few minutes\"\n            values={{\n              br: <br />,\n              sellCurrency: `${this.props.swap.sellCurrency}`\n            }}\n          />\n        )\n      case 'wait-lock-eth':\n        return (\n          <FormattedMessage\n            id=\"SwapProgressText_WaitPatricipantDeposit\"\n            defaultMessage=\"Waiting for other participant to deposit {buyCurrency}\"\n            values={{\n              buyCurrency: `${this.props.swap.buyCurrency}`\n            }}\n          />\n        )\n      case 'withdraw-eth':\n        return (\n          <FormattedMessage\n            id=\"SwapProgressText_WithdrawRequest\"\n            defaultMessage=\"Requesting withdrawal from {buyCurrency} Contract\"\n            values={{\n              buyCurrency: `${this.props.swap.buyCurrency}`\n            }}\n          />\n        )\n      case 'finish':\n        return (\n          <FormattedMessage\n            id=\"SwapProgressText_Finish\"\n            defaultMessage=\"{buyCurrency} tokens was transferred to your wallet. Check the balance\"\n            values={{\n              buyCurrency: `${this.props.swap.buyCurrency}`\n            }}\n          />\n        )\n      case 'end':\n        return (\n          <FormattedMessage id=\"SwapProgressText_End\" defaultMessage=\"Thank you for using Swap.Online!\" />\n        )\n      default:\n        return null\n    }\n  }\n\n  render() {\n\n    return this.getTakerUtxoToAbTextText(this.props.stepName)\n  }\n}\n","import React, { Component } from 'react'\n\nimport { FormattedMessage } from 'react-intl'\n\nexport default class MakerAbToUtxoTexts extends Component<any, any> {\n  getMakerAbToUtxoText = (stepName) => {\n\n    switch (stepName) {\n      case 'sign':\n        return (\n          <FormattedMessage\n            id=\"SwapProgressText_FirstStep\"\n            defaultMessage=\"Please wait\"\n          />\n        )\n      case 'wait-lock-utxo':\n        return (\n          <FormattedMessage\n            id=\"SwapProgressText_WaitPatricipantDeposit\"\n            defaultMessage=\"Waiting for other participant to deposit {buyCurrency}\"\n            values={{\n              buyCurrency: `${this.props.swap.buyCurrency}`\n            }}\n          />\n        )\n      case 'verify-script':\n        return (\n          <FormattedMessage\n            id=\"SwapProgressText_VerifyScript\"\n            defaultMessage=\"The {buyCurrency} Script was created and charged\"\n            values={{\n              buyCurrency: `${this.props.swap.buyCurrency}`\n            }}\n          />\n        )\n      case 'sync-balance':\n        return (\n          <FormattedMessage\n            id=\"SwapProgressText_CheckingBalance\"\n            defaultMessage=\"Checking balance..\"\n          />\n        )\n      case 'lock-eth':\n        return (\n          <FormattedMessage\n            id=\"SwapProgressText_DepositingYourSide\"\n            defaultMessage=\"Depositing {sellCurrency}.{br}It can take a few minutes\"\n            values={{\n              br: <br />,\n              sellCurrency: `${this.props.swap.sellCurrency}`\n            }}\n          />\n        )\n      case 'wait-withdraw-eth':\n        return (\n          <FormattedMessage\n            id=\"SwapProgressText_MakerWaitTakerWithdraw\"\n            defaultMessage=\"Waiting for {buyCurrency} Owner to add a Secret Key to {sellCurrency} Contact\"\n            values={{\n              buyCurrency: `${this.props.swap.buyCurrency}`,\n              sellCurrency: `${this.props.swap.sellCurrency}`\n            }}\n          />\n        )\n      case 'withdraw-utxo':\n        return (\n          <FormattedMessage\n            id=\"SwapProgressText_WithdrawRequest\"\n            defaultMessage=\"Requesting withdrawal from {buyCurrency} Contract\"\n            values={{\n              buyCurrency: `${this.props.swap.buyCurrency}`\n            }}\n          />\n        )\n      case 'finish':\n        return (\n          <FormattedMessage\n            id=\"SwapProgressText_Finish\"\n            defaultMessage=\"{buyCurrency} tokens was transferred to your wallet. Check the balance\"\n            values={{\n              buyCurrency: `${this.props.swap.buyCurrency}`\n            }}\n          />\n        )\n      case 'end':\n        return (\n          <FormattedMessage id=\"SwapProgressText_End\" defaultMessage=\"Thank you for using Swap.Online!\" />\n        )\n      default:\n        return null\n    }\n  }\n\n  render() {\n\n    return this.getMakerAbToUtxoText(this.props.stepName)\n  }\n}\n","import React, { Component } from 'react'\n\nimport { FormattedMessage } from 'react-intl'\n\nexport default class TakerAbToUtxoTexts extends Component<any, any> {\n  getTakerAbToUtxoText = (step) => {\n\n    switch (step) {\n      case 'sign':\n        return (\n          <FormattedMessage\n            id=\"SwapProgressText_FirstStep\"\n            defaultMessage=\"Please wait\"\n          />\n        )\n      case 'sync-balance':\n        return (\n          <FormattedMessage\n            id=\"SwapProgressText_CheckingBalance\"\n            defaultMessage=\"Checking balance..\"\n          />\n        )\n      case 'lock-eth':\n        return (\n          <FormattedMessage\n            id=\"SwapProgressText_DepositingYourSide\"\n            defaultMessage=\"Depositing {sellCurrency}.{br}It can take a few minutes\"\n            values={{\n              br: <br />,\n              sellCurrency: `${this.props.swap.sellCurrency}`\n            }}\n          />\n        )\n      case 'wait-lock-utxo':\n        return (\n          <FormattedMessage\n            id=\"SwapProgressText_WaitPatricipantDeposit\"\n            defaultMessage=\"Waiting for other participant to deposit {buyCurrency}\"\n            values={{\n              buyCurrency: `${this.props.swap.buyCurrency}`\n            }}\n          />\n        )\n      case 'withdraw-utxo':\n        return (\n          <FormattedMessage\n            id=\"SwapProgressText_WithdrawRequest\"\n            defaultMessage=\"Requesting withdrawal from {buyCurrency} Contract\"\n            values={{\n              buyCurrency: `${this.props.swap.buyCurrency}`\n            }}\n          />\n        )\n      case 'finish':\n        return (\n          <FormattedMessage\n            id=\"SwapProgressText_Finish\"\n            defaultMessage=\"{buyCurrency} tokens was transferred to your wallet. Check the balance\"\n            values={{\n              buyCurrency: `${this.props.swap.buyCurrency}`\n            }}\n          />\n        )\n      case 'end':\n        return (\n          <FormattedMessage id=\"SwapProgressText_End\" defaultMessage=\"Thank you for using Swap.Online!\" />\n        )\n      default:\n        return null\n    }\n  }\n\n  render() {\n\n    return this.getTakerAbToUtxoText(this.props.step)\n  }\n}\n","import React, { Fragment } from 'react'\n\nimport { isMobile } from 'react-device-detect'\n\nimport CSSModules from 'react-css-modules'\nimport styles from './SwapList.scss'\n\nimport DepositWindow from '../DepositWindow/DepositWindow'\n\nimport FirstStep from './SwapSteps/FirstStep'\nimport FourthStep from './SwapSteps/FourthStep'\n\nimport UTXOSecondStep from './SwapSteps/UTXOSteps/SecondStep'\nimport UTXOThirdStep from './SwapSteps/UTXOSteps/ThirdStep'\n\nimport ABSecondStep from './SwapSteps/ABSteps/SecondStep'\nimport ABThirdStep from './SwapSteps/ABSteps/ThirdStep'\n\nimport MakerUtxoToAbtTexts from './SwapProgressTexts/MakerUtxoToAb'\nimport TakerUtxoToAbTexts from './SwapProgressTexts/TakerUtxoToAb'\nimport MakerAbToUtxoTexts from './SwapProgressTexts/MakerAbToUtxo'\nimport TakerAbToUtxoTexts from './SwapProgressTexts/TakerAbToUtxo'\n\nimport SWAP_STEPS from 'common/helpers/constants/SWAP_STEPS'\n\nconst {\n  FIRST_STEP,\n  TAKER_UTXO_SECOND_STEPS,\n  MAKER_UTXO_SECOND_STEPS,\n  TAKER_EVM_SECOND_STEPS,\n  MAKER_EVM_SECOND_STEPS,\n  TAKER_UTXO_THIRD_STEPS,\n  MAKER_UTXO_THIRD_STEPS,\n  TAKER_EVM_THIRD_STEPS,\n  MAKER_EVM_THIRD_STEPS,\n  FOURTH_STEP\n} = SWAP_STEPS\n\n\n@CSSModules(styles, { allowMultiple: true })\nexport default class SwapList extends React.PureComponent<any, any> {\n\n  _fields = null\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      stepName: this.getStepName()\n    }\n\n    this._fields = props.fields\n\n    console.group('SwapList >%c constructor', 'color: green;')\n    console.log('fields: ', this._fields)\n    console.groupEnd()\n  }\n\n  getStepName = () => {\n    const {\n      swap: {\n        flow: {\n          stepNumbers\n        }\n      },\n      flow: {\n        step\n      }\n     } = this.props\n\n     let stepName = ''\n\n    Object.keys(stepNumbers).forEach((key) => {\n      if (stepNumbers[key] === step) {\n        stepName = key\n      }\n    })\n\n    console.log('stepName', stepName)\n\n    return stepName\n  }\n\n  componentDidUpdate(prevProps) {\n    const { flow: { step: prevStep } } = prevProps\n    const { flow: { step } } = this.props\n\n    if(prevStep !== step) {\n      this.setState({\n        stepName: this.getStepName()\n      })\n    }\n  }\n\n  render() {\n    const {\n      swap: {\n        flow: {\n          isTakerMakerModel,\n        },\n        flow: flowClass,\n      },\n      flow,\n      swap,\n      enoughBalance,\n      currencyData,\n      tokenItems\n    } = this.props\n\n    const { stepName } = this.state\n\n    const isUTXOSide = flowClass.isUTXOSide\n\n    const SecondStep = (isUTXOSide) ? UTXOSecondStep : ABSecondStep\n    const ThirdStep = (isUTXOSide) ? UTXOThirdStep : ABThirdStep\n\n    const secondActiveStep = isUTXOSide ?\n      flow.isTaker ? TAKER_UTXO_SECOND_STEPS : MAKER_UTXO_SECOND_STEPS\n      :\n      flow.isTaker ? TAKER_EVM_SECOND_STEPS : MAKER_EVM_SECOND_STEPS\n\n    const thirdActiveStep = isUTXOSide ?\n      flow.isTaker ? TAKER_UTXO_THIRD_STEPS : MAKER_UTXO_THIRD_STEPS\n      :\n      flow.isTaker ? TAKER_EVM_THIRD_STEPS : MAKER_EVM_THIRD_STEPS\n\n    const isFirstStepActive = (FIRST_STEP.includes(stepName))\n    const isSecondStepActive = (secondActiveStep.includes(stepName))\n    const isThirdStepActive = (thirdActiveStep.includes(stepName))\n    const isFourthStepActive = (FOURTH_STEP.includes(stepName))\n\n    const UtxoToAbTexts = (flow.isTaker) ? TakerUtxoToAbTexts : MakerUtxoToAbtTexts\n    const AbToUtxoTexts = (flow.isTaker) ? TakerAbToUtxoTexts : MakerAbToUtxoTexts\n\n    const swapTexts = (\n      <Fragment>\n        {\n          ['BtcLikeToEth', 'BtcLikeToEthToken'].includes(this.props.swapName) &&\n            <UtxoToAbTexts flow={flow} swap={swap} stepName={stepName} />\n        }\n        {\n          ['EthToBtcLike', 'EthTokenToBtcLike'].includes(this.props.swapName) &&\n            <AbToUtxoTexts flow={flow} swap={swap} stepName={stepName} />\n        }\n      </Fragment>\n    )\n\n    const showDepositWindow = !enoughBalance && stepName === 'sync-balance'\n\n    return (\n      <div styleName={`${isMobile ? 'stepList isMobile' : 'stepList'}`}>\n        {!isMobile && <FirstStep text={swapTexts} isFirstStepActive={isFirstStepActive} />}\n        <SecondStep\n          isFirstStepActive={isFirstStepActive}\n          isSecondStepActive={isSecondStepActive}\n          text={swapTexts}\n          showDepositWindow={showDepositWindow}\n          swap={swap}\n          fields={this._fields}\n        />\n        {\n          showDepositWindow &&\n            <div styleName=\"swapDepositWindow\">\n              <DepositWindow currencyData={currencyData} swap={swap} flow={flow} tokenItems={tokenItems} fields={this._fields} />\n            </div>\n        }\n        <ThirdStep\n          isFirstStepActive={isFirstStepActive}\n          isSecondStepActive={isSecondStepActive}\n          isThirdStepActive={isThirdStepActive}\n          swap={swap}\n          fields={this._fields}\n          text={swapTexts}\n        />\n        {!isMobile && <FourthStep isFourthStepActive={isFourthStepActive} text={swapTexts} />}\n      </div>\n    )\n  }\n}\n","export default {\n    FIRST_STEP:                 ['sign'],\n\n    TAKER_UTXO_SECOND_STEPS:    ['submit-secret', 'sync-balance', 'lock-utxo', 'wait-lock-eth'],\n    MAKER_UTXO_SECOND_STEPS:    ['sync-balance', 'wait-lock-eth', 'lock-utxo'],\n    TAKER_EVM_SECOND_STEPS:      ['submit-secret', 'sync-balance', 'lock-eth', 'wait-lock-utxo'],\n    MAKER_EVM_SECOND_STEPS:      ['wait-lock-utxo', 'verify-script', 'sync-balance', 'lock-eth'],\n\n    TAKER_UTXO_THIRD_STEPS:     ['withdraw-eth'],\n    MAKER_UTXO_THIRD_STEPS:     ['wait-withdraw-utxo', 'withdraw-eth'],\n    TAKER_EVM_THIRD_STEPS:       ['withdraw-utxo'],\n    MAKER_EVM_THIRD_STEPS:       ['wait-withdraw-eth', 'withdraw-utxo'],\n\n    FOURTH_STEP:                ['finish', 'end']\n}","import React, { Component, Fragment } from 'react'\n\nimport styles from './FeeControler.scss'\nimport cssModules from 'react-css-modules'\n\nimport CopyToClipboard from 'react-copy-to-clipboard'\nimport { FormattedMessage } from 'react-intl'\n\nimport Button from 'components/controls/Button/Button'\n\n@cssModules(styles, { allowMultiple: true })\nexport default class FeeControler extends Component<any, any> {\n\n  state = {\n    isAddressCopied: false,\n  }\n\n  handleCopy = () => {\n    this.setState({\n      isAddressCopied: true,\n    }, () => {\n      setTimeout(() => {\n        this.setState({\n          isAddressCopied: false,\n        })\n      }, 500)\n    })\n  }\n\n  render() {\n    const { ethAddress, gasAmountNeeded } = this.props\n    const { isAddressCopied } = this.state\n\n    return (\n      <div styleName=\"FeeController\">\n        <CopyToClipboard text={ethAddress}>\n          <div>\n            <div styleName=\"warning\">\n              <i className=\"fas fa-exclamation-triangle\" />\n            </div>\n            <Fragment>\n              <h3 styleName=\"feeHeading\">\n                <FormattedMessage\n                  id=\"FeeControler68\"\n                  defaultMessage=\"Not enough ETH on your balance for miner fee.{br}{br}Deposit {gasAmountNeeded} ETH to your account\"\n                  values={{\n                    br: <br />,\n                    gasAmountNeeded: <strong>{gasAmountNeeded * 5}</strong>, // 1 for approving, 4 for creating swap\n                  }}\n                />\n              </h3>\n              <p styleName=\"address\">\n                {ethAddress}\n              </p>\n              <Button brand styleName=\"button\" onClick={this.handleCopy}>\n                {isAddressCopied\n                  ? <FormattedMessage id=\"FeeControler48\" defaultMessage=\"Copied\" />\n                  : <FormattedMessage id=\"FeeControler49\" defaultMessage=\"Copy\" />\n                }\n              </Button>\n            </Fragment>\n          </div>\n        </CopyToClipboard>\n      </div>\n    )\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"FeeController\":\"_2G1fjrhbxVk2s2qdgZ-pVQ\",\"address\":\"_1QHmIUWk_wKnHyRiRRXLfp\",\"feeHeading\":\"_2g86C9nKNWQqIN2VHOH0R3\",\"warning\":\"_29v3Ahq0yZQFM5HyBa-1w5\",\"button\":\"ZrUFiIJmnxocNv258xMIV\"};","import React from 'react'\n\nimport { FormattedMessage } from 'react-intl'\n\nimport CSSModules from 'react-css-modules'\nimport styles from './Swap.scss'\n\n\n@CSSModules(styles)\nclass SwapController extends React.PureComponent<any, any> {\n\n  swap: any\n  mount: any\n\n  constructor(props) {\n    super(props)\n\n    const { swap } = props\n\n    this.swap = swap\n\n    this.mount = true\n\n    this.state = {\n      online: true,\n    }\n  }\n\n  componentDidMount() {\n    this.swap.events.subscribe('check status', this.checkStatusUser)\n    this.dispatchEvent('check status')\n\n    const checkStatusUserTimer = setInterval(() => {\n      if (!this.mount) {\n        clearInterval(checkStatusUserTimer)\n        return\n      }\n\n      this.checkStatusUser()\n    }, 5000)\n  }\n\n  componentWillUnmount() {\n    this.dispatchEvent('check status')\n    this.swap.events.unsubscribe('check status', this.checkStatusUser)\n    this.mount = false\n  }\n\n  dispatchEvent = (event) => {\n    this.swap.events.dispatch(event)\n  }\n\n  checkStatusUser = () => {\n    const { online } = this.state\n    const status = this.swap.room.getOnlineParticipant()\n\n    this.setState(() => ({\n      online: status,\n    }))\n  }\n\n  render() {\n    const { online } = this.state\n\n    return (\n      <div styleName=\"onlineIndicator\">\n        {\n          online ? (\n            <p styleName=\"online\">\n              <FormattedMessage id=\"SwapController54\" defaultMessage=\"Another participant is online\" />\n            </p>\n          ) : (\n            <p styleName=\"offline\">\n              <FormattedMessage id=\"SwapController60\" defaultMessage=\"Another participant is offline\" />\n            </p>\n          )\n        }\n      </div>\n    )\n  }\n}\n\nexport default SwapController\n","import React from 'react'\nimport CSSModules from 'react-css-modules'\nimport styles from '../Swap.scss'\n\nimport getCoinInfo from 'common/coins/getCoinInfo'\n\ntype ISwapPairInfoProps = {\n  swap: IUniversalObj\n}\n\nconst SwapPairInfo = (props: ISwapPairInfoProps) => {\n  const {\n      swap: {\n        sellAmount,\n        buyAmount,\n        flow: {\n            _flowName: flowName\n        }\n      },\n    } = props\n\n  const [ sellCurrency, buyCurrency ] = flowName.split('2')\n\n  const { coin: sellCurrencyName, blockchain: sellCurrencyBlockchain } = getCoinInfo(sellCurrency)\n  const { coin: buyCurrencyName, blockchain: buyCurrencyBlockchain } = getCoinInfo(buyCurrency)\n\n  return (\n    <div styleName=\"swapInfo\">\n      <strong>\n        {sellAmount.toFixed(6)}\n        {' '}\n        {sellCurrencyBlockchain ? `${sellCurrencyName} (${sellCurrencyBlockchain})` : sellCurrencyName} &#10230; {' '}\n        {buyAmount.toFixed(6)}\n        {' '}\n        {buyCurrencyBlockchain ? `${buyCurrencyName} (${buyCurrencyBlockchain})` : buyCurrencyName}\n      </strong>\n    </div>\n  )\n}\n\nexport default CSSModules(SwapPairInfo, styles)","import React, { Component } from 'react'\n\nimport CSSModules from 'react-css-modules'\nimport styles from '../Swap.scss'\n\nimport crypto from 'crypto'\nimport SwapApp from 'swap.app'\n\nimport SwapProgress from './SwapProgress/SwapProgress'\nimport SwapList from './SwapList/SwapList'\nimport FeeControler from '../FeeControler/FeeControler'\nimport SwapController from '../SwapController'\nimport SwapPairInfo from './SwapPairInfo'\n\n\n@CSSModules(styles)\nexport default class UTXOToEthToken extends Component<any, any> {\n  swap = null\n  _fields = null\n  confirmAddressTimer = null\n  ParticipantTimer = null\n\n  constructor(props) {\n    super(props)\n    const { swap, currencyData, ethData, enoughBalance, styles, depositWindow, fields } = props\n\n    this.swap = swap\n\n    this.state = {\n      swap,\n      depositWindow,\n      enoughBalance,\n      isPressCtrl: false,\n      enabledButton: false,\n      isAddressCopied: false,\n      //@ts-ignore: strictNullChecks\n      flow: this.swap.flow.state,\n      destinationAddressTimer: true,\n      isShowingScript: false,\n      currencyAddress: currencyData.address,\n      ethAddress: ethData.map(item => item.address),\n      secret: crypto.randomBytes(32).toString('hex'),\n      //@ts-ignore: strictNullChecks\n      destinationBuyAddress: (this.swap.destinationBuyAddress) ? this.swap.destinationBuyAddress : SwapApp.shared().services.auth.accounts.eth.address,\n    }\n\n    this._fields = fields\n  }\n\n  componentWillMount() {\n    //@ts-ignore: strictNullChecks\n    this.swap.on('state update', this.handleFlowStateUpdate)\n  }\n\n  componentWillUnmount() {\n    //@ts-ignore: strictNullChecks\n    this.swap.off('state update', this.handleFlowStateUpdate)\n  }\n\n  componentDidMount() {\n    const { swap, flow: { step, isParticipantSigned, isStoppedSwap } } = this.state\n    if (isStoppedSwap) return\n    //@ts-ignore: strictNullChecks\n    this.ParticipantTimer = setInterval(() => {\n      if (this.state.flow.isParticipantSigned && this.state.destinationBuyAddress) {\n        this.submitSecret()\n      }\n      else {\n        //@ts-ignore: strictNullChecks\n        clearInterval(this.ParticipantTimer)\n      }\n    }, 3000)\n  }\n\n  submitSecret = () => {\n    const { secret } = this.state\n    // this.swap.flow.submitSecret(secret)\n  }\n\n\n  handleFlowStateUpdate = (values) => {\n    this.setState({\n      flow: values,\n    })\n  }\n\n  toggleScript = () => {\n    this.setState({\n      isShowingScript: !this.state.isShowingScript,\n    })\n  }\n\n  onCopyAddress = (e) => {\n    e.preventDefault()\n    this.setState({\n      isPressCtrl: true,\n    })\n  }\n\n  render() {\n    const {\n      children,\n      disabledTimer,\n      currencyData,\n      continueSwap,\n      enoughBalance,\n      history,\n      tokenItems,\n      waitWithdrawOther,\n      onClickCancelSwap,\n      locale,\n      wallets,\n    } = this.props\n\n    const {\n      swap,\n      flow,\n      secret,\n      ethAddress,\n      isShowingScript,\n    } = this.state\n\n    const feeControllerView = (\n      <FeeControler\n        ethAddress={ethAddress}\n        fields={this._fields}\n      />\n    )\n    const swapProgressView = (\n      <SwapProgress\n        flow={flow}\n        swap={this.props.swap}\n        history={history}\n        locale={locale}\n        wallets={wallets}\n        tokenItems={tokenItems}\n        fields={this._fields}\n      />\n    )\n\n    return (\n      <div>\n        <div styleName=\"swapContainer\">\n          <div>\n            {swap.id && <SwapPairInfo swap={swap} />}\n            <SwapController swap={swap} />\n            <SwapList\n              flow={this.state.swap.flow.state}\n              enoughBalance={enoughBalance}\n              currencyData={currencyData}\n              tokenItems={tokenItems}\n              swap={this.props.swap}\n              onClickCancelSwap={onClickCancelSwap}\n              fields={this._fields}\n              swapName=\"BtcLikeToEthToken\"\n            />\n            {!continueSwap\n              ? ((!waitWithdrawOther) ? feeControllerView : swapProgressView)\n              : swapProgressView\n            }\n          </div>\n        </div>\n        {children && <div styleName=\"swapContainerInfo\">{children}</div>}\n      </div>\n    )\n  }\n}","import React, { Component, Fragment } from 'react'\n\nimport styles from './FailControler.scss'\nimport cssModules from 'react-css-modules'\n\nimport CopyToClipboard from 'react-copy-to-clipboard'\nimport { FormattedMessage } from 'react-intl'\n\n@cssModules(styles, { allowMultiple: true })\nexport default class FailControler extends Component<any, any> {\n  render() {\n    const { ethAddress, message } = this.props\n\n    return (\n      <div styleName=\"FailControler\" >\n        <CopyToClipboard text={ethAddress}>\n          <div>\n            <div styleName=\"warning\">\n              <i className=\"fas fa-exclamation-triangle\" />\n            </div>\n            <Fragment>\n              <h3 styleName=\"failHeading\">\n                <FormattedMessage\n                  id=\"FailControler68\"\n                  defaultMessage=\"Error in the execution of the token contract!{br}{br}Perhaps there is an additional commission on the contract side or the error occured for another reason{br}{br}{message}\"\n                  values={{\n                    br: <br />,\n                    message: message,\n                  }}\n                />\n              </h3>\n            </Fragment>\n          </div>\n        </CopyToClipboard>\n      </div>\n    )\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"FailControler\":\"_34JwXrP16C0utGPCl4QI5e\",\"failHeading\":\"_1U83vZ9NdtVZbvwK9lZ_3z\",\"warning\":\"_3oI3FP6AAUVUjlpyhCKN1I\",\"button\":\"_4N9lXESXoR7qFUieYftMA\",\"address\":\"_21wcvvOlcJmyBeLBkqsO-o\"};","import React, { Component, Fragment } from 'react'\n\nimport actions from 'redux/actions'\n\nimport CSSModules from 'react-css-modules'\nimport styles from '../Swap.scss'\n\nimport SwapProgress from './SwapProgress/SwapProgress'\nimport SwapList from './SwapList/SwapList'\nimport FeeControler from '../FeeControler/FeeControler'\nimport FailControler from '../FailControler/FailControler'\nimport SwapController from '../SwapController'\nimport SwapPairInfo from './SwapPairInfo'\n\n\n@CSSModules(styles)\nexport default class EthTokenToUTXO extends Component<any, any> {\n\n  _fields = null\n  swap = null\n  signTimer = null\n  confirmTimer = null\n\n  constructor(props) {\n    super(props)\n\n    const {\n      swap,\n      currencyData,\n      tokenItems,\n      fields,\n    } = props\n\n    this.swap = swap\n\n    this.state = {\n      swap,\n      currencyData,\n      tokenItems,\n      signed: false,\n      enabledButton: false,\n      isAddressCopied: false,\n      //@ts-ignore: strictNullChecks\n      flow: this.swap.flow.state,\n      currencyAddress: currencyData.address,\n    }\n\n    this._fields = fields\n  }\n\n  componentWillMount() {\n    //@ts-ignore: strictNullChecks\n    this.swap.on('state update', this.handleFlowStateUpdate)\n  }\n\n  componentWillUnmount() {\n    //@ts-ignore: strictNullChecks\n    this.swap.off('state update', this.handleFlowStateUpdate)\n  }\n\n  componentDidMount() {\n    const { flow: { isStoppedSwap } } = this.state\n    if (isStoppedSwap) return\n\n    this.requestMaxAllowance()\n  }\n\n  reportError = (error) => {\n    console.group('%c EthTokenToUTXO swap', 'color: red;')\n    console.error('error: ', error)\n    console.log('%c Stack trace', 'color: orange;')\n    console.trace()\n    console.groupEnd()\n\n    throw new Error(error)\n  }\n\n  confirmScriptChecked = () => {\n    //@ts-ignore: strictNullChecks\n    this.swap.flow[this._fields.verifyScriptFunc]()\n  }\n\n  handleFlowStateUpdate = (values) => {\n    this.setState({\n      flow: values,\n    })\n  }\n\n  requestMaxAllowance = () => {\n    //@ts-ignore: strictNullChecks\n    const { sellCurrency, sellAmount, flow } = this.swap\n    const { ethTokenSwap } = flow\n    const { standard } = ethTokenSwap.options\n\n    try {\n      actions[standard].setAllowance({\n        name: sellCurrency,\n        to: ethTokenSwap.address, // swap contract address\n        targetAllowance: String(sellAmount),\n      })\n    } catch (error) {\n      this.reportError(error)\n    }\n  }\n\n  render() {\n    const {\n      children,\n      continueSwap,\n      enoughBalance,\n      history,\n      ethAddress,\n      onClickCancelSwap,\n      locale,\n      wallets,\n    }  = this.props\n\n    const {\n      flow,\n      currencyData,\n      tokenItems,\n      signed,\n      swap,\n    } = this.state\n\n    const { canCreateEthTransaction, isFailedTransaction, isFailedTransactionError, gasAmountNeeded } = flow\n\n    return (\n      <div>\n        <div styleName=\"swapContainer\">\n          <div>\n            {swap.id && <SwapPairInfo swap={swap} />}\n            <SwapController swap={swap} />\n            <SwapList\n              enoughBalance={enoughBalance}\n              currencyData={currencyData}\n              tokenItems={tokenItems}\n              flow={flow}\n              swap={swap}\n              onClickCancelSwap={onClickCancelSwap}\n              fields={this._fields}\n              swapName=\"EthTokenToBtcLike\"\n            />\n            {!continueSwap\n              ? (\n                <Fragment>\n                  {\n                    !canCreateEthTransaction && (\n                      <FeeControler ethAddress={ethAddress} gasAmountNeeded={gasAmountNeeded} fields={this._fields} />\n                    )\n                  }\n                  {\n                    isFailedTransaction && (\n                      <FailControler ethAddress={ethAddress} message={isFailedTransactionError} fields={this._fields} />\n                    )\n                  }\n                </Fragment>\n              )\n              : (\n                <SwapProgress\n                  flow={flow}\n                  swap={swap}\n                  tokenItems={tokenItems}\n                  history={history}\n                  locale={locale}\n                  wallets={wallets}\n                  signed={signed}\n                  fields={this._fields}\n                />\n              )\n            }\n          </div>\n        </div>\n        {children && <div styleName=\"swapContainerInfo\">{children}</div>}\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\n\nimport crypto from 'crypto'\n\nimport CSSModules from 'react-css-modules'\nimport styles from '../Swap.scss'\n\nimport { isMobile } from 'react-device-detect'\n\nimport SwapProgress from './SwapProgress/SwapProgress'\nimport FeeControler from '../FeeControler/FeeControler'\nimport SwapList from './SwapList/SwapList'\nimport SwapController from '../SwapController'\nimport SwapPairInfo from './SwapPairInfo'\n\n\n@CSSModules(styles)\nexport default class UTXOToEthLike extends Component<any, any> {\n  swap = null\n  _fields = null\n  ParticipantTimer = null\n  ethLikeCoin = null\n\n  constructor(props) {\n    super(props)\n    const { swap, currencyData, fields } = props\n\n    this.swap = swap\n\n    this._fields = fields\n    this.ethLikeCoin = fields.ethLikeCoin\n\n    this.state = {\n      currencyData,\n      enabledButton: false,\n      //@ts-ignore: strictNullChecks\n      flow: this.swap.flow.state,\n      currencyAddress: currencyData.address,\n      secret: crypto.randomBytes(32).toString('hex'),\n    }\n  }\n\n  componentWillMount() {\n    //@ts-ignore: strictNullChecks\n    this.swap.on('state update', this.handleFlowStateUpdate)\n  }\n\n  componentDidMount() {\n    const { flow: { isSignFetching, isMeSigned, step, isParticipantSigned, isStoppedSwap } } = this.state\n    if (isStoppedSwap) return\n    window.addEventListener('resize', this.updateWindowDimensions)\n    this.updateWindowDimensions()\n    //@ts-ignore: strictNullChecks\n    this.ParticipantTimer = setInterval(() => {\n      if (this.state.flow.isParticipantSigned && this.state.destinationBuyAddress) {\n        //this.submitSecret()\n      }\n      else {\n        //@ts-ignore: strictNullChecks\n        clearInterval(this.ParticipantTimer)\n      }\n    }, 3000)\n  }\n\n  componentWillUnmount() {\n    const { swap, flow: { isMeSigned } } = this.state\n    window.removeEventListener('resize', this.updateWindowDimensions)\n    //@ts-ignore: strictNullChecks\n    this.swap.off('state update', this.handleFlowStateUpdate)\n    //@ts-ignore: strictNullChecks\n    clearInterval(this.ParticipantTimer)\n  }\n\n  updateWindowDimensions = () => {\n    this.setState({ windowWidth: window.innerWidth })\n  }\n\n  submitSecret = () => {\n    const { secret } = this.state\n    //@ts-ignore: strictNullChecks\n    this.swap.flow.submitSecret(secret)\n  }\n\n  handleFlowStateUpdate = (values) => {\n    this.setState({\n      flow: values,\n    })\n  }\n\n  updateBalance = () => {\n    //@ts-ignore: strictNullChecks\n    this.swap.flow.syncBalance()\n  }\n\n  tryRefund = () => {\n    //@ts-ignore: strictNullChecks\n    this.swap.flow.tryRefund()\n    this.setState(() => ({ enabledButton: false }))\n  }\n\n  getRefundTxHex = () => {\n    const { flow } = this.state\n\n    //@ts-ignore: strictNullChecks\n    const { scriptValues } = this._fields\n\n    if (flow.refundTxHex) {\n      return flow.refundTxHex\n    }\n    else if (flow[scriptValues]) {\n      //@ts-ignore: strictNullChecks\n      this.swap.flow.getRefundTxHex()\n    }\n  }\n\n\n  render() {\n    const {\n      continueSwap,\n      enoughBalance,\n      swap,\n      history,\n      tokenItems,\n      ethAddress,\n      children,\n      onClickCancelSwap,\n      locale,\n      wallets,\n    }  = this.props\n\n    const { flow, isShowingGhostScript, currencyData, windowWidth } = this.state\n\n    return (\n      <div>\n        <div\n          styleName=\"swapContainer\"\n          style={(isMobile && (windowWidth < 569))\n            ? { paddingTop: 120 }\n            : { paddingTop: 0 }\n          }>\n          <div>\n            {swap.id && <SwapPairInfo swap={swap} />}\n            <SwapController swap={swap} />\n            <SwapList\n              enoughBalance={enoughBalance}\n              currencyData={currencyData}\n              tokenItems={tokenItems}\n              flow={flow}\n              onClickCancelSwap={onClickCancelSwap}\n              windowWidth={windowWidth}\n              name={swap.sellCurrency}\n              swap={swap}\n              fields={this._fields}\n              swapName=\"BtcLikeToEth\"\n            />\n            <div>\n              {!continueSwap\n                ? <FeeControler ethAddress={ethAddress} />\n                : (\n                  <SwapProgress\n                    flow={flow}\n                    swap={swap}\n                    history={history}\n                    locale={locale}\n                    wallets={wallets}\n                    tokenItems={tokenItems}\n                    fields={this._fields}\n                  />\n                )\n              }\n            </div>\n          </div>\n          {children && <div styleName=\"swapContainerInfo\">{children}</div>}\n        </div>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\n\nimport CSSModules from 'react-css-modules'\nimport styles from '../Swap.scss'\n\nimport { isMobile } from 'react-device-detect'\n\nimport FeeControler from '../FeeControler/FeeControler'\nimport SwapProgress from './SwapProgress/SwapProgress'\nimport SwapList from './SwapList/SwapList'\nimport SwapController from '../SwapController'\nimport SwapPairInfo from './SwapPairInfo'\n\n\n@CSSModules(styles)\nexport default class EthLikeToUTXO extends Component<any, any> {\n  _fields = null\n  swap = null\n  signTimer = null\n  confirmTimer = null\n  ethLikeCoin = null\n\n  constructor(props) {\n    super(props)\n    const {\n      swap,\n      currencyData,\n      depositWindow,\n      enoughBalance,\n      fields,\n    } = props\n\n    this._fields = fields\n    this.ethLikeCoin = fields.ethLikeCoin\n\n    this.swap = swap\n\n    this.state = {\n      swap,\n      currencyData,\n      enoughBalance,\n      signed: false,\n      depositWindow,\n      enabledButton: false,\n      isAddressCopied: false,\n      //@ts-ignore: strictNullChecks\n      flow: this.swap.flow.state,\n      isShowingGhostScript: false,\n      currencyAddress: currencyData.address,\n    }\n  }\n\n  componentWillMount() {\n    //@ts-ignore: strictNullChecks\n    this.swap.on('state update', this.handleFlowStateUpdate)\n\n  }\n\n  componentDidMount() {\n    const { flow: { isStoppedSwap } } = this.state\n    if (isStoppedSwap) return\n    window.addEventListener('resize', this.updateWindowDimensions)\n    this.updateWindowDimensions()\n  }\n\n  componentWillUnmount() {\n    //@ts-ignore: strictNullChecks\n    this.swap.off('state update', this.handleFlowStateUpdate)\n    window.removeEventListener('resize', this.updateWindowDimensions)\n  }\n\n  updateWindowDimensions = () => {\n    this.setState({ windowWidth: window.innerWidth })\n  }\n\n  confirmScriptChecked = () => {\n    const {\n      //@ts-ignore: strictNullChecks\n      verifyScriptFunc,\n    } = this._fields\n\n    //@ts-ignore: strictNullChecks\n    this.swap.flow[verifyScriptFunc]()\n  }\n\n  handleFlowStateUpdate = (values) => {\n\n    this.setState({\n      flow: values,\n    })\n\n  }\n\n  render() {\n    const {\n      tokenItems,\n      continueSwap,\n      enoughBalance,\n      history,\n      ethAddress,\n      children,\n      requestToFaucetSended,\n      onClickCancelSwap,\n      locale,\n      wallets,\n    } = this.props\n\n    const { flow, swap, currencyData, signed, windowWidth } = this.state\n\n    return (\n      <div>\n        <div styleName=\"swapContainer\" style={(isMobile && (windowWidth < 569)) ? { paddingTop: 120 } : { paddingTop: 0 }}>\n          <div>\n            {swap.id && <SwapPairInfo swap={swap} />}\n            <SwapController swap={swap} />\n            <SwapList\n              enoughBalance={enoughBalance}\n              currencyData={currencyData}\n              tokenItems={tokenItems}\n              flow={flow}\n              name={swap.sellCurrency}\n              windowWidth={windowWidth}\n              onClickCancelSwap={onClickCancelSwap}\n              swap={swap}\n              fields={this._fields}\n              swapName=\"EthToBtcLike\"\n            />\n            {!continueSwap\n              ? <FeeControler ethAddress={ethAddress} requestToFaucetSended={requestToFaucetSended} />\n              : (\n                <SwapProgress\n                  flow={flow}\n                  swap={swap}\n                  history={history}\n                  signed={signed}\n                  locale={locale}\n                  wallets={wallets}\n                  tokenItems={tokenItems}\n                  fields={this._fields}\n                />\n              )\n            }\n          </div>\n          {children && <div styleName=\"swapContainerInfo\">{children}</div>}\n        </div>\n      </div>\n    )\n  }\n}\n","import config from 'app-config'\nimport UTXOToEthToken from '../UTXOSwap/UTXOToEthToken'\nimport EthTokenToUTXO from '../UTXOSwap/EthTokenToUTXO'\nimport UTXOToEthLike from '../UTXOSwap/UTXOToEthLike'\nimport EthLikeToUTXO from '../UTXOSwap/EthLikeToUTXO'\n\n\nconst UTXO_to_ERC20 = (coinName) => {\n  class _UTXO_to_ERC20 extends UTXOToEthToken {\n    constructor(props) {\n      super({\n        ...props,\n        fields: {\n          currencyName: coinName,\n          ethLikeCoin: `ETH`,\n          etherscanLink: config.link.etherscan,\n          ...config.swapConfig[coinName],\n        },\n      })\n    }\n  }\n  return _UTXO_to_ERC20\n}\n\nconst UTXO_to_BEP20 = (coinName) => {\n  class _UTXO_to_BEP20 extends UTXOToEthToken {\n    constructor(props) {\n      super({\n        ...props,\n        fields: {\n          currencyName: coinName,\n          ethLikeCoin: `BNB`,\n          etherscanLink: config.link.bscscan,\n          ...config.swapConfig[coinName],\n        },\n      })\n    }\n  }\n  return _UTXO_to_BEP20\n}\nconst UTXO_to_ERC20MATIC = (coinName) => {\n  class _UTXO_to_ERC20MATIC extends UTXOToEthToken {\n    constructor(props) {\n      super({\n        ...props,\n        fields: {\n          currencyName: coinName,\n          ethLikeCoin: `MATIC`,\n          etherscanLink: config.link.maticscan,\n          ...config.swapConfig[coinName],\n        },\n      })\n    }\n  }\n  return _UTXO_to_ERC20MATIC\n}\n\nconst ERC20_to_UTXO = (coinName) => {\n  class _ERC20_to_UTXO extends EthTokenToUTXO {\n    constructor(props) {\n      super({\n        ...props,\n        fields: {\n          currencyName: coinName,\n          ethLikeCoin: `ETH`,\n          etherscanLink: config.link.etherscan,\n          ...config.swapConfig[coinName],\n        },\n      })\n    }\n  }\n  return _ERC20_to_UTXO\n}\n\nconst BEP20_to_UTXO = (coinName) => {\n  class _BEP20_to_UTXO extends EthTokenToUTXO {\n    constructor(props) {\n      super({\n        ...props,\n        fields: {\n          currencyName: coinName,\n          ethLikeCoin: `BNB`,\n          etherscanLink: config.link.bscscan,\n          ...config.swapConfig[coinName],\n        },\n      })\n    }\n  }\n  return _BEP20_to_UTXO\n}\n\nconst ERC20MATIC_to_UTXO = (coinName) => {\n  class _ERC20MATIC_to_UTXO extends EthTokenToUTXO {\n    constructor(props) {\n      super({\n        ...props,\n        fields: {\n          currencyName: coinName,\n          ethLikeCoin: `MATIC`,\n          etherscanLink: config.link.maticscan,\n          ...config.swapConfig[coinName],\n        },\n      })\n    }\n  }\n  return _ERC20MATIC_to_UTXO\n}\n\nconst UTXO_to_ETH = (coinName) => {\n  class _UTXO_to_ETH extends UTXOToEthLike {\n    constructor(props) {\n      super({\n        ...props,\n        fields: {\n          currencyName: coinName,\n          ethLikeCoin: `ETH`,\n          etherscanLink: config.link.etherscan,\n          ...config.swapConfig[coinName],\n        },\n      })\n    }\n  }\n  return _UTXO_to_ETH\n}\n\nconst UTXO_to_BNB = (coinName) => {\n  class _UTXO_to_BNB extends UTXOToEthLike {\n    constructor(props) {\n      super({\n        ...props,\n        fields: {\n          currencyName: coinName,\n          ethLikeCoin: `BNB`,\n          etherscanLink: config.link.bscscan,\n          ...config.swapConfig[coinName],\n        },\n      })\n    }\n  }\n  return _UTXO_to_BNB\n}\n\nconst UTXO_to_MATIC = (coinName) => {\n  class _UTXO_to_MATIC extends UTXOToEthLike {\n    constructor(props) {\n      super({\n        ...props,\n        fields: {\n          currencyName: coinName,\n          ethLikeCoin: `MATIC`,\n          etherscanLink: config.link.maticscan,\n          ...config.swapConfig[coinName],\n        },\n      })\n    }\n  }\n  return _UTXO_to_MATIC\n}\n\nconst UTXO_to_ARBITRUM = (coinName) => {\n  class _UTXO_to_ARBITRUM extends UTXOToEthLike {\n    constructor(props) {\n      super({\n        ...props,\n        fields: {\n          currencyName: coinName,\n          ethLikeCoin: `ARBITRUM`,\n          etherscanLink: config.link.arbitrum,\n          ...config.swapConfig[coinName],\n        },\n      })\n    }\n  }\n  return _UTXO_to_ARBITRUM\n}\n\nconst ETH_to_UTXO = (coinName) => {\n  class _ETH_to_UTXO extends EthLikeToUTXO {\n    constructor(props) {\n      super({\n        ...props,\n        fields: {\n          currencyName: coinName,\n          ethLikeCoin: `ETH`,\n          etherscanLink: config.link.etherscan,\n          ...config.swapConfig[coinName],\n        },\n      })\n    }\n  }\n  return _ETH_to_UTXO\n}\n\nconst BNB_to_UTXO = (coinName) => {\n  class _BNB_to_UTXO extends EthLikeToUTXO {\n    constructor(props) {\n      super({\n        ...props,\n        fields: {\n          currencyName: coinName,\n          ethLikeCoin: `BNB`,\n          etherscanLink: config.link.bscscan,\n          ...config.swapConfig[coinName],\n        },\n      })\n    }\n  }\n  return _BNB_to_UTXO\n}\n\nconst MATIC_to_UTXO = (coinName) => {\n  class _MATIC_to_UTXO extends EthLikeToUTXO {\n    constructor(props) {\n      super({\n        ...props,\n        fields: {\n          currencyName: coinName,\n          ethLikeCoin: `MATIC`,\n          etherscanLink: config.link.maticscan,\n          ...config.swapConfig[coinName],\n        },\n      })\n    }\n  }\n  return _MATIC_to_UTXO\n}\n\nconst ARBITRUM_to_UTXO = (coinName) => {\n  class _ARBITRUM_to_UTXO extends EthLikeToUTXO {\n    constructor(props) {\n      super({\n        ...props,\n        fields: {\n          currencyName: coinName,\n          ethLikeCoin: `ARBITRUM`,\n          etherscanLink: config.link.arbitrum,\n          ...config.swapConfig[coinName],\n        },\n      })\n    }\n  }\n  return _ARBITRUM_to_UTXO\n}\n\nexport {\n  UTXO_to_ERC20,\n  UTXO_to_BEP20,\n  UTXO_to_ERC20MATIC,\n  ERC20_to_UTXO,\n  BEP20_to_UTXO,\n  ERC20MATIC_to_UTXO,\n\n  UTXO_to_ETH,\n  UTXO_to_BNB,\n  UTXO_to_MATIC,\n  UTXO_to_ARBITRUM,\n  ETH_to_UTXO,\n  BNB_to_UTXO,\n  MATIC_to_UTXO,\n  ARBITRUM_to_UTXO,\n}","import config from 'app-config'\n\nimport {\n  UTXO_to_ERC20,\n  UTXO_to_BEP20,\n  UTXO_to_ERC20MATIC,\n  ERC20_to_UTXO,\n  BEP20_to_UTXO,\n  ERC20MATIC_to_UTXO,\n\n  UTXO_to_ETH,\n  UTXO_to_BNB,\n  UTXO_to_MATIC,\n  UTXO_to_ARBITRUM,\n  ETH_to_UTXO,\n  BNB_to_UTXO,\n  MATIC_to_UTXO,\n  ARBITRUM_to_UTXO,\n} from './build'\n\n\nconst swapComponents = {}\nswapComponents[`BTC2BNB`] = UTXO_to_BNB(`btc`)\nswapComponents[`BNB2BTC`] = BNB_to_UTXO(`btc`)\nswapComponents[`BTC2MATIC`] = UTXO_to_MATIC(`btc`)\nswapComponents[`MATIC2BTC`] = MATIC_to_UTXO(`btc`)\nswapComponents[`BTC2ARBITRUM`] = UTXO_to_ARBITRUM(`btc`)\nswapComponents[`ARBITRUM2BTC`] = ARBITRUM_to_UTXO(`btc`)\n\nObject.keys(config.swapConfig).forEach(coin => {\n  swapComponents[`${coin.toUpperCase()}2ETH`] = UTXO_to_ETH(coin)\n  swapComponents[`ETH2${coin.toUpperCase()}`] = ETH_to_UTXO(coin)\n\n  Object.keys(config.erc20).forEach(tokenName => {\n    swapComponents[`{ETH}${tokenName.toUpperCase()}2${coin.toUpperCase()}`] = ERC20_to_UTXO(coin)\n    swapComponents[`${coin.toUpperCase()}2{ETH}${tokenName.toUpperCase()}`] = UTXO_to_ERC20(coin)\n  })\n})\n\nObject.keys(config.bep20).forEach(tokenName => {\n  swapComponents[`{BNB}${tokenName.toUpperCase()}2BTC`] = BEP20_to_UTXO(`BTC`)\n  swapComponents[`BTC2{BNB}${tokenName.toUpperCase()}`] = UTXO_to_BEP20(`BTC`)\n})\nObject.keys(config.erc20matic).forEach(tokenName => {\n  swapComponents[`{MATIC}${tokenName.toUpperCase()}2BTC`] = ERC20MATIC_to_UTXO(`BTC`)\n  swapComponents[`BTC2{MATIC}${tokenName.toUpperCase()}`] = UTXO_to_ERC20MATIC(`BTC`)\n})\n\nwindow.swapComponents = swapComponents\nexport {\n  swapComponents,\n}\n","const PROTOCOL = 'ipfs-pubsub-room/v2'\n\nexport {\n  PROTOCOL,\n}\n","'use strict'\n\nexport default (_message) => {\n  let message = _message\n  if (!Buffer.isBuffer(message)) {\n    message = Buffer.from(message)\n  }\n  return message\n}\n","'use strict'\n\nimport { EventEmitter } from 'events'\nimport pipe from 'it-pipe'\n\n\nimport { PROTOCOL } from './protocol'\nimport encoding from './encoding'\n\nimport debug from 'debug'\n\n\nexport default class Connection extends EventEmitter {\n\n  _remoteId: any\n  _libp2p: any\n  _room: any\n  _connection: any\n  _connecting: any\n\n  constructor (remoteId, libp2p, room) {\n    super()\n    this._remoteId = remoteId\n    this._libp2p = libp2p\n    this._room = room\n    this._connection = null\n    this._connecting = false\n  }\n\n  push(message) {\n    if (this._connection) {\n      this._connection.push(encoding(message))\n\n      return\n    }\n\n    this.once('connect', () => {\n      this.push(message)\n    })\n\n    if (!this._connecting) {\n      this._connect()\n    }\n  }\n\n  stop() {\n    if (this._connection) {\n      this._connection.end()\n    }\n  }\n\n  async _connect() {\n    this._connecting = true\n\n    if (!this._isConnectedToRemote()) {\n      this.emit('disconnect')\n      this._connecting = false\n      return // early\n    }\n\n    const peerInfo = this._libp2p.peerStore.get(this._remoteId)\n\n    const dial = await this._libp2p.dialProtocol(peerInfo.id, PROTOCOL)\n\n    const { stream } = dial\n\n    this._connection = new FiFoMessageQueue()\n\n    pipe(this._connection, stream, async (source) => {\n      this._connecting = false\n      this.emit('connect', this._connection)\n\n      for await (const message of source) {\n        this.emit('message', message)\n      }\n    })\n      .then(() => {\n        this.emit('disconnect')\n      }, async (err) => {\n        try {\n          await this._connect()\n        } catch (e) {\n          console.log('Fail reconnect')\n        }\n      })\n  }\n\n  _isConnectedToRemote() {\n    for (const peerId of this._libp2p.connections.keys()) {\n      if (peerId === this._remoteId._idB58String) {\n        return true\n      }\n    }\n  }\n}\n\nclass FiFoMessageQueue {\n\n  _queue: any[]\n  _ended: boolean\n  _resolve: any\n\n  constructor () {\n    this._queue = []\n  }\n\n  [Symbol.asyncIterator] () {\n    return this\n  }\n\n  push(message) {\n    if (this._ended) {\n      throw new Error('Message queue ended')\n    }\n\n    if (this._resolve) {\n      return this._resolve({\n        done: false,\n        value: message\n      })\n    }\n\n    this._queue.push(message)\n  }\n\n  end() {\n    this._ended = true\n    if (this._resolve) {\n      this._resolve({\n        done: true\n      })\n    }\n  }\n\n  next() {\n    if (this._ended) {\n      return {\n        done: true\n      }\n    }\n\n    if (this._queue.length) {\n      return {\n        done: false,\n        value: this._queue.shift()\n      }\n    }\n\n    return new Promise((resolve) => {\n      this._resolve = resolve\n    })\n  }\n}\n","'use strict'\nimport debug from 'debug'\nimport EventEmitter from 'events'\nimport pipe from 'it-pipe'\n\nconst emitter = new EventEmitter()\n\nfunction handler ({ connection, stream }) {\n  const peerId = connection.remotePeer.toB58String()\n\n  pipe(\n    stream,\n    async function (source) {\n      for await (const message of source) {\n        let msg\n\n        try {\n          msg = JSON.parse(message.toString())\n        } catch (err) {\n          emitter.emit('warning', err.message)\n          continue // early\n        }\n\n        if (peerId !== msg.from.id) {\n          emitter.emit('warning', 'no peerid match ' + msg.from)\n          continue // early\n        }\n\n        const topicIDs = msg.topicIDs\n        if (!Array.isArray(topicIDs)) {\n          emitter.emit('warning', 'no topic IDs')\n          continue // early\n        }\n\n        msg.data = Buffer.from(msg.data, 'hex')\n        msg.seqno = Buffer.from(msg.seqno, 'hex')\n\n        topicIDs.forEach((topic) => {\n          emitter.emit(topic, msg)\n        })\n      }\n    }\n  )\n}\n\nexport default {\n  handler: handler,\n  emitter: emitter\n}\n","const namedQuery = {}\nconst namedQueryTimers = {}\nconst namedQueryTicks = 10\n\nconst namedQueryTimer = (queryName) => {\n  if (namedQuery[queryName].length) {\n    const queryChunk = namedQuery[queryName].shift()\n    const {\n      resolve: onResolve,\n      error: onError,\n      delay,\n      func,\n      isAsync,\n    } = queryChunk\n\n    new Promise(async (resolve, reject) => {\n      try {\n        const ret = await func()\n\n        if (typeof onResolve === `function`) onResolve(ret)\n        namedQueryTimers[queryName] = setTimeout(() => {\n          namedQueryTimer(queryName)\n        }, delay)\n      } catch (err) {\n        if (typeof onError === `function`) onError(err)\n        namedQueryTimers[queryName] = setTimeout(() => {\n          namedQueryTimer(queryName)\n        }, delay)\n      }\n    })\n  } else {\n    namedQueryTimers[queryName] = setTimeout(() => {\n      namedQueryTimer(queryName)\n    }, namedQueryTicks)\n  }\n}\n\nconst namedQueryInit = (queryName) => {\n  if (!namedQuery[queryName]) namedQuery[queryName] = []\n  if (!namedQueryTimers[queryName]) { \n    namedQueryTimers[queryName] = setTimeout(() => {\n      namedQueryTimer(queryName)\n    }, namedQueryTicks)\n  }\n}\n\nconst namedQueryRun = (options) => {\n  const {\n    name: queryName,\n    resolve,\n    error,\n    delay,\n    func,\n    isAsync,\n  } = options\n\n\n  namedQueryInit(queryName)\n  namedQuery[queryName].push(options)\n}\n\nexport default namedQueryRun","import diff from 'hyperdiff'\nimport EventEmitter from 'events'\nimport { cloneDeep as clone } from 'lodash'\nimport PeerId from 'peer-id'\n\nimport debug from 'debug'\n\nimport { PROTOCOL } from './protocol'\nimport Connection from './connection'\nimport encoding from './encoding'\nimport directConnection from './direct-connection-handler'\nimport namedQueryRun from '../../utils/namedQuery'\n\nconst DEFAULT_OPTIONS = {\n  pollInterval: 1000\n}\n\nlet index = 0\n\nexport default class PubSubRoom extends EventEmitter {\n  _libp2p: any\n  _topic: any\n  _options: any\n  _peers: any[]\n  _connections: any\n  _handleMessage: any\n  _interval: NodeJS.Timeout\n  _idx: number\n\n  constructor (libp2p, topic, options) {\n    super()\n    this._libp2p = libp2p.libp2p || libp2p\n    this._topic = topic\n    this._options = Object.assign({}, clone(DEFAULT_OPTIONS), clone(options))\n    this._peers = []\n    this._connections = {}\n\n    this._handleDirectMessage = this._handleDirectMessage.bind(this)\n    this._handleMessage = this._onMessage.bind(this)\n\n    if (!this._libp2p.pubsub) {\n      throw new Error('pubsub has not been configured')\n    }\n\n    this._interval = setInterval(\n      this._pollPeers.bind(this),\n      this._options.pollInterval\n    )\n\n    this._libp2p.handle(PROTOCOL, directConnection.handler)\n    directConnection.emitter.on(this._topic, this._handleDirectMessage)\n\n    this._libp2p.pubsub.subscribe(this._topic, this._handleMessage)\n\n    this._libp2p.on('peer:discovery', async (peerId) => {\n      const tryConnect = async (peerId, tryNumber, tryCounts) => {\n        try {\n          await this._libp2p.dialer.connectToPeer(peerId)\n        } catch (e) {\n          if (tryNumber > tryCounts) return\n          setTimeout(async () => {\n            await tryConnect(peerId, tryNumber+1, tryCounts)\n          }, 1000)\n        }\n      }\n      await tryConnect(peerId, 0, 1)\n    })\n\n    this._libp2p.on('error', (error) => {\n      console.log('Libp2p error', error)\n    })\n\n    this._idx = index++\n  }\n\n  getPeers () {\n    return this._peers.slice(0)\n  }\n\n  hasPeer (peer) {\n    return Boolean(this._peers.find(p => p.toString() === peer.toString()))\n  }\n\n  async leave () {\n    clearInterval(this._interval)\n    Object.keys(this._connections).forEach((peer) => {\n      this._connections[peer].stop()\n    })\n    directConnection.emitter.removeListener(this._topic, this._handleDirectMessage)\n    this._libp2p.unhandle(PROTOCOL, directConnection.handler)\n    await this._libp2p.pubsub.unsubscribe(this._topic, this._handleMessage)\n  }\n\n  async broadcast (_message) {\n    const message = encoding(_message)\n\n    const peersInTopic = this._libp2p.pubsub.topics.get(this._topic)\n    if (peersInTopic) {\n      peersInTopic.forEach((peerId) => {\n        this.sendTo(peerId, _message)\n      })\n    }\n  }\n\n  sendTo (peer, message) {\n    namedQueryRun({\n      name: `libp2p_peer_${peer}`,\n      delay: 100,\n      func: async () => {\n        if (!this._libp2p.peerStore.keyBook.data.has(peer)) {\n          return\n        }\n        const toPeer = this._libp2p.peerStore.keyBook.data.get(peer)\n\n        let conn = this._connections[peer]\n\n        if (!conn) {\n          conn = new Connection(toPeer, this._libp2p, this)\n          conn.on('error', (err) => this.emit('error', err))\n          this._connections[peer] = conn\n\n          conn.once('disconnect', () => {\n            delete this._connections[peer]\n            this._peers = this._peers.filter((p) => p.toString() !== peer.toString())\n            this.emit('peer left', peer)\n          })\n        }\n\n        const seqno = Buffer.from([0])\n\n        const msg = {\n          to: toPeer,\n          from: this._libp2p.peerId,\n          data: Buffer.from(message).toString('hex'),\n          seqno: seqno.toString('hex'),\n          topicIDs: [this._topic],\n          topicCIDs: [this._topic]\n        }\n\n        conn.push(Buffer.from(JSON.stringify(msg)))\n      },\n    })\n  }\n\n  async _pollPeers () {\n    const newPeers = (await this._libp2p.pubsub.getSubscribers(this._topic)).sort()\n\n    if (this._emitChanges(newPeers)) {\n      this._peers = newPeers\n    }\n  }\n\n  _emitChanges (newPeers) {\n    const differences = diff(this._peers, newPeers)\n\n    differences.added.forEach((peer) => this.emit('peer joined', peer))\n    differences.removed.forEach((peer) => this.emit('peer left', peer))\n\n    return differences.added.length > 0 || differences.removed.length > 0\n  }\n\n  _onMessage (message) {\n\n    this.emit('message', message)\n  }\n\n  _handleDirectMessage (message) {\n    if (message.to.id === this._libp2p.peerId._idB58String) {\n      const m = Object.assign({}, message)\n      delete m.to\n\n      this.emit('message', m)\n    }\n  }\n}\n","import debug from 'debug'\nimport SwapApp, { constants, Events, ServiceInterface } from 'swap.app'\n\nimport createP2PNode from '../../common/messaging/pubsubRoom/createP2PNode'\nimport p2pRoom from '../../common/messaging/pubsubRoom'\n\n\nclass SwapRoom extends ServiceInterface {\n\n  _serviceName: string\n  _config: any\n  _events: any\n  peer: any\n  connection: any\n  roomName: string\n\n  CheckReceiptsT: any\n  //@ts-ignore\n  static get name() {\n    return 'room'\n  }\n\n  constructor(config) {\n    super()\n\n    if (!config || typeof config !== 'object' || typeof config.config !== 'object') {\n      throw new Error('SwapRoomService: \"config\" of type object required')\n    }\n\n    this._serviceName   = 'room'\n    this._config        = config\n    this._events        = new Events()\n    this.peer           = null\n    this.connection     = null\n    //@ts-ignore: strictNullChecks\n    this.roomName       = null\n  }\n\n  initService() {\n    const peerIdJson = this.app.env.storage.getItem(\n      'libp2p:peerIdJson'\n    )\n    createP2PNode({\n      peerIdJson,\n    }).then((p2pNode: any) => {\n      // Save PeerId\n      this.app.env.storage.setItem(\n        'libp2p:peerIdJson',\n        p2pNode.peerId.toJSON()\n      )\n      // Start p2p node\n      p2pNode.start().then(async () => {\n        this._init({\n          peer: {\n            id: p2pNode.peerId._idB58String,\n          },\n          p2pConnection: p2pNode,\n        })\n      }).catch((error) => {\n        console.log('Fail start p2pnode', error)\n      })\n    })\n  }\n\n\n  _init({ peer, p2pConnection }) {\n    console.info('Room: init...')\n    if (!p2pConnection) {\n      setTimeout(() => {\n        this._init({ peer, p2pConnection })\n      }, 999)\n      return\n    }\n\n    this.peer = peer.id\n\n    const defaultRoomName = this.app.env.isTest ? 'tests.swap.online'\n      : this.app.isMainNet()\n        ? (this.app.env.isBinance) ? 'bsc.swap.online' : 'swap.online'\n        : (this.app.env.isBinance) ? 'bsc-testnet.swap.online' : 'testnet-tt.swap.online'\n\n    this.roomName = this._config.roomName || defaultRoomName\n\n    debug('swap.core:room')(`Using room: ${this.roomName}`)\n\n    this.connection = new p2pRoom(p2pConnection, this.roomName, {\n      pollInterval: 1000,\n    })\n\n    this.connection.isOnline = () => {\n      console.log('Call pubsubRoom isOnline')\n      // @ToDo - may be use isStarted\n      return true\n    }\n\n    this.connection.on('peer joined', this._handleUserOnline)\n    this.connection.on('peer left', this._handleUserOffline)\n    this.connection.on('message', this._handleNewMessage)\n\n    this._events.dispatch('ready')\n    console.info(`Room: ready! (${this.roomName})`)\n  }\n\n  _handleUserOnline = (peer) => {\n    if (peer !== this.peer) {\n      this._events.dispatch('user online', peer)\n    }\n  }\n\n  _handleUserOffline = (peer) => {\n    if (peer !== this.peer) {\n      this._events.dispatch('user offline', peer)\n    }\n  }\n\n  _handleNewMessage = (message) => {\n    const { from, data: rawData } = message\n    debug('swap.verbose:room')('message from', from)\n\n\n    if (from === this.peer) {\n      return\n    }\n\n    let parsedData\n\n    try {\n      parsedData = JSON.parse(rawData.toString())\n    } catch (err) {\n      console.error('parse message data err:', err)\n    }\n\n    const { fromAddress, data, sign, event, action } = parsedData\n\n    if (!data) {\n      return\n    }\n\n    debug('swap.verbose:room')('data:', parsedData)\n\n    const recover = this._recoverMessage(data, sign)\n\n    if (recover !== fromAddress) {\n      console.error(`Wrong message sign! Message from: ${fromAddress}, recover: ${recover}`)\n      return\n    }\n\n    if (action === 'active') {\n      this.acknowledgeReceipt(parsedData)\n    }\n\n    this._events.dispatch(event, {\n      fromPeer: from.id,\n      ...data,\n    })\n  }\n\n  on(eventName, handler) {\n    this._events.subscribe(eventName, handler)\n    return this\n  }\n\n  off(eventName, handler) {\n    this._events.unsubscribe(eventName, handler)\n    return this\n  }\n\n  once(eventName, handler) {\n    this._events.once(eventName, handler)\n    return this\n  }\n\n  subscribe(eventName, handler) {\n    this._events.subscribe(eventName, handler)\n    return this\n  }\n\n  unsubscribe(eventName, handler) {\n    this._events.unsubscribe(eventName, handler)\n    return this\n  }\n\n  _recoverMessage(message, sign) {\n    const hash      = this.app.env.web3.utils.soliditySha3(JSON.stringify(message))\n    const recover   = this.app.env.web3.eth.accounts.recover(hash, sign.signature)\n\n    return recover\n  }\n\n  _signMessage(message) {\n    const hash  = this.app.env.web3.utils.soliditySha3(JSON.stringify(message))\n    const sign  = this.app.env.web3.eth.accounts.sign(hash, this.app.services.auth.accounts.eth.privateKey)\n\n    return sign\n  }\n\n  checkReceiving(message, callback) {\n    let address = message.fromAddress\n\n    const waitReceipt = (data) => {\n      if (!data.action || data.action !== 'confirmation') {\n        return\n      }\n\n      if (JSON.stringify(message.data) === JSON.stringify(data.message)) {\n        this.unsubscribe(address, waitReceipt)\n\n        if (this.CheckReceiptsT[message.peer]) {\n          clearTimeout(this.CheckReceiptsT[message.peer])\n        }\n\n        callback(true)\n      }\n    }\n\n    this.subscribe(address, waitReceipt)\n\n    if (!this.CheckReceiptsT) {\n      this.CheckReceiptsT = {}\n    }\n\n    this.CheckReceiptsT[message.peer] = setTimeout(() => {\n      this.unsubscribe(address, waitReceipt)\n\n      callback(false)\n    }, 15000)\n  }\n\n  sendConfirmation(peer, message, callback = null, repeat = 9) {\n    if (!this.connection) {\n      setTimeout(() => {\n        this.sendConfirmation(peer, message, callback, repeat)\n      }, 1000)\n      return\n    }\n\n    if (message.action === 'confirmation' && peer !== this.peer) {\n      return\n    }\n\n    message = this.sendMessagePeer(peer, message)\n\n    this.checkReceiving(message, delivered => {\n      if (!delivered && repeat > 0) {\n        repeat--\n        setTimeout(() => {\n          this.sendConfirmation(peer, message, callback, repeat)\n        }, 1000)\n        return\n      }\n\n      if (typeof callback === 'function') {\n        //@ts-ignore: strictNullChecks\n        callback(delivered)\n      }\n    })\n  }\n\n  acknowledgeReceipt(message) {\n    if (!message.peer || !message.action\n      || message.action  === 'confirmation'\n      || message.action  === 'active') {\n      return\n    }\n\n    const { fromAddress, data } = message\n\n    this.sendMessagePeer(fromAddress, {\n      action  : 'confirmation',\n      data,\n    })\n  }\n\n  sendMessagePeer(peer, message) {\n    if (!this.connection) {\n      if (message.action !== 'active') {\n        setTimeout(() => {\n          this.sendMessagePeer(peer, message)\n        }, 999)\n      }\n      return\n    }\n\n    debug('swap.verbose:room')('sent message to peer', peer)\n    // debug('swap.verbose:room')('message', message)\n\n    const { data, event }  = message\n    const sign = this._signMessage(data)\n\n    this.connection.sendTo(peer, JSON.stringify({\n      fromAddress: this.app.services.auth.accounts.eth.address,\n      data,\n      event,\n      sign,\n    }))\n\n    return message\n  }\n\n  sendMessageRoom(message) {\n    if (!this.connection) {\n      setTimeout(() => {\n        this.sendMessageRoom(message)\n      }, 1000)\n      return\n    }\n\n    const { data, event } = message\n    const sign = this._signMessage(data)\n\n    this.connection.broadcast(JSON.stringify({\n      fromAddress: this.app.services.auth.accounts.eth.address,\n      data,\n      event,\n      sign,\n    }))\n  }\n}\n\n\nexport default SwapRoom\n","import SwapRoom from './SwapRoom'\n\n\nexport default SwapRoom\n","import Libp2p from 'libp2p'\nimport wrtc from 'wrtc'\nimport WebrtcStar from 'libp2p-webrtc-star'\nimport Bootstrap from 'libp2p-bootstrap'\nimport Gossipsub from 'libp2p-gossipsub'\nimport KadDHT from 'libp2p-kad-dht'\nimport MPLEX from 'libp2p-mplex'\nimport SECIO from 'libp2p-secio'\nimport PeerId from 'peer-id'\n\n\nconst createP2PNode = (options) => {\n  const {\n    listen,\n    discoveryPeers,\n    peerIdJson,\n  } = options\n\n  const defaultListen = [\n    //'/ip4/0.0.0.0/tcp/4002',\n    '/dns4/webrtc-star-1.swaponline.io/tcp/443/wss/p2p-webrtc-star',\n    //'/dns4/webrtc-star.discovery.libp2p.io/tcp/443/wss/p2p-webrtc-star/',\n    //'/dns4/secure-beyond-12878.herokuapp.com/tcp/443/wss/p2p-webrtc-star/',\n    //'/dns4/wrtc-star2.sjc.dwebops.pub/tcp/443/wss/p2p-webrtc-star/'\n  ]\n\n  const defaultDiscoveryPeers = [\n    '/dns4/ams-1.bootstrap.libp2p.io/tcp/443/wss/p2p/QmSoLer265NRgSp2LA3dPaeykiS1J6DifTC88f5uVQKNAd',\n    '/dns4/lon-1.bootstrap.libp2p.io/tcp/443/wss/p2p/QmSoLMeWqB7YGVLJN3pNLQpmmEk35v6wYtsMGLzSr5QBU3',\n    '/dns4/sfo-3.bootstrap.libp2p.io/tcp/443/wss/p2p/QmSoLPppuBtQSGwKDZT2M73ULpjvfd3aZ6ha4oFGL1KrGM',\n    '/dns4/sgp-1.bootstrap.libp2p.io/tcp/443/wss/p2p/QmSoLSafTMBsPKadTEgaXctDQVcqN88CNLHXMkTNwMKPnu',\n    '/dns4/nyc-1.bootstrap.libp2p.io/tcp/443/wss/p2p/QmSoLueR4xBeUbY9WZ9xGUUxunbKWcrNFTDAadQJmocnWm',\n    '/dns4/nyc-2.bootstrap.libp2p.io/tcp/443/wss/p2p/QmSoLV4Bbm51jM9C4gDYZQ9Cy3U6aXMJDAbzgu2fzaDs64',\n  ]\n\n  /*\n    ipfs discovery peers\n    0: \"/dns4/ams-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLer265NRgSp2LA3dPaeykiS1J6DifTC88f5uVQKNAd\"\n    1: \"/dns4/lon-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLMeWqB7YGVLJN3pNLQpmmEk35v6wYtsMGLzSr5QBU3\"\n    2: \"/dns4/sfo-3.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLPppuBtQSGwKDZT2M73ULpjvfd3aZ6ha4oFGL1KrGM\"\n    3: \"/dns4/sgp-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLSafTMBsPKadTEgaXctDQVcqN88CNLHXMkTNwMKPnu\"\n    4: \"/dns4/nyc-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLueR4xBeUbY9WZ9xGUUxunbKWcrNFTDAadQJmocnWm\"\n    5: \"/dns4/nyc-2.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLV4Bbm51jM9C4gDYZQ9Cy3U6aXMJDAbzgu2fzaDs64\"\n    6: \"/dns4/node0.preload.ipfs.io/tcp/443/wss/ipfs/QmZMxNdpMkewiVZLMRxaNxUeZpDUb34pWjZ1kZvsd16Zic\"\n    7: \"/dns4/node1.preload.ipfs.io/tcp/443/wss/ipfs/Qmbut9Ywz9YEDrz8ySBSgWyJk41Uvm2QJPhwDJzJyGFsD6\"\n  */\n\n  // Build and return our libp2p node\n  return new Promise(async (resolve, reject) => {\n    // Generate peerId\n    let peerId = null\n    if (peerIdJson) {\n      try {\n        //@ts-ignore: strictNullChecks\n        peerId = await PeerId.createFromJSON(peerIdJson)\n      } catch (e) {}\n    }\n\n    if (!peerId) {\n      //@ts-ignore: strictNullChecks\n      peerId = await PeerId.create()\n    }\n\n    //@ts-ignore: strictNullChecks\n    console.log('Peer id:', peerId._idB58String)\n\n    const p2pNode = new Libp2p({\n      //@ts-ignore: strictNullChecks\n      peerId,\n      addresses: {\n        listen: (listen || defaultListen),\n      },\n      modules: {\n        transport: [WebrtcStar],\n        streamMuxer: [MPLEX],\n        connEncryption: [SECIO],\n        peerDiscovery: [Bootstrap],\n        dht: KadDHT,\n        // @ts-ignore\n        pubsub: Gossipsub\n      },\n      dialer: {\n        // @ts-ignore\n        maxParallelDials: 100,\n        maxDialsPerPeer: 100,\n        dialTimeout: 30e3\n      },\n      connectionManager: {\n        maxConnections: Infinity,\n        minConnections: Infinity,\n        maxData: Infinity,\n        maxSentData: Infinity,\n        maxReceivedData: Infinity,\n        maxEventLoopDelay: Infinity,\n        pollInterval: 2000,\n        autoDialInterval: 5000,\n        movingAverageInterval: 1000,\n        defaultPeerValue: 1\n      },\n      config: {\n        transport: {\n          [WebrtcStar.prototype[Symbol.toStringTag]]: {\n            wrtc\n          }\n        },\n        peerDiscovery: {\n          autoDial: true,\n          webRTCStar: {\n            enabled: true\n          },\n          bootstrap: {\n            enabled: true,\n            interval: 1e3,\n            list: discoveryPeers || defaultDiscoveryPeers,\n          },\n        },\n        relay: {\n          enabled: true,\n          hop: {\n            enabled: true,\n            active: true,\n          }\n        },\n        dht: {\n          enabled: true,\n          randomWalk: {\n            enabled: true,\n          }\n        }\n      }\n    })\n    resolve(p2pNode)\n  })\n}\n\n\nexport default createP2PNode\n","/*\n Allows multiple extending\n */\n\nconst aggregation = (baseClass, ...mixins) => {\n\n  const base = class _Combined extends baseClass {\n\n    constructor(...args) {\n      super(...args)\n\n      mixins.forEach((mixin) => {\n        mixin.prototype._constructor.call(this)\n      })\n    }\n  }\n\n  const copyProps = (target, source) => {\n    Object.getOwnPropertyNames(source)\n      //@ts-ignore\n      .concat(Object.getOwnPropertySymbols(source))\n      .forEach((prop) => {\n        if (prop.match(/^(?:_?constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)) {\n          return\n        }\n\n        //@ts-ignore: strictNullChecks\n        Object.defineProperty(target, prop, Object.getOwnPropertyDescriptor(source, prop))\n      })\n  }\n\n  mixins.forEach((mixin) => {\n    copyProps(base.prototype, mixin.prototype)\n    copyProps(base, mixin)\n  })\n\n  return base\n}\n\n\nexport default aggregation\n","import { Events } from 'swap.app'\n\n\nexport default new Events()\n","import debug from 'debug'\nimport SwapApp from 'swap.app'\nimport BigNumber from 'bignumber.js'\nimport events from './events'\n\n\nclass Order {\n\n  id: string\n  isMy: any\n  isTurbo: boolean\n  owner: any\n  participant: any\n  buyCurrency: any\n  buyBlockchain: any\n  exchangeRate: any\n  sellCurrency: any\n  sellBlockchain: any\n  buyAmount: any\n  sellAmount: any\n  collection: any\n  requests: any\n  isRequested: any\n  isProcessing: any\n  isPartial: any\n  isHidden: any\n  partialHandler: any\n  destination: any\n  app: any\n\n  /**\n   *\n   * @param {object}  parent\n   * @param {object}  data\n   * @param {string}  data.id\n   * @param {object}  data.owner\n   * @param {string}  data.owner.peer\n   * @param {number}  data.owner.reputation\n   * @param {object}  data.owner.<currency>\n   * @param {string}  data.owner.<currency>.address\n   * @param {string}  data.owner.<currency>.publicKey\n   * @param {string}  data.buyCurrency\n   * @param {string}  data.sellCurrency\n   * @param {number}  data.buyAmount\n   * @param {number}  data.sellAmount\n   */\n  constructor(app, parentCollection, data) {\n    this.id             = data.id\n    this.isMy           = null\n    //@ts-ignore: strictNullChecks\n    this.isTurbo        = null\n    this.owner          = null\n    this.participant    = null\n    this.buyCurrency    = null\n    this.buyBlockchain  = null\n    this.exchangeRate   = null\n    this.sellCurrency   = null\n    this.sellBlockchain = null\n    this.buyAmount      = null\n    this.sellAmount     = null\n\n    this.collection       = parentCollection\n    this.requests         = [] // income requests\n    this.isRequested      = false // outcome request status\n    this.isProcessing     = false // if swap isProcessing\n    this.isPartial        = false\n    this.isHidden         = false\n\n    this.partialHandler   = {\n      buyAmount: () => false,\n      sellAmount: () => false,\n    }\n\n    this.destination = null\n\n\n    this._attachSwapApp(app)\n\n    this._update({\n      ...data,\n      isMy: data.owner.peer === this.app.services.room.peer,\n    })\n\n    this._onMount()\n  }\n\n  _attachSwapApp(app) {\n    SwapApp.required(app)\n\n    this.app = app\n  }\n\n  _onMount() {\n    this.app.services.room.on('request swap', ({ orderId, participant, participantMetadata, destination }) => {\n      if (orderId === this.id /*&& this.requests.length < 10*/ && !this.requests.find(({ participant: { peer } }) => peer === participant.peer)) {\n        let reputation = 0\n\n        try {\n          // todo: check other blockchains\n          if (participant.eth.address === participantMetadata.address || participant.btc.address === participantMetadata.address) {\n            reputation = this.app.env.swapsExplorer.getVerifiedReputation(participantMetadata)\n          }\n        } catch (err) {\n          debug('swap.core:order')(err)\n        }\n\n        this.requests.push({\n          participant,\n          destination,\n          reputation,\n          isPartial: false,\n        })\n\n        events.dispatch('new order request', {\n          orderId,\n          participant,\n          destination,\n          participantMetadata,\n        })\n      }\n    })\n\n    this.app.services.room.on('request partial fulfilment', ({ orderId, participant, participantMetadata, destination, updatedOrder }) => {\n      console.log('<- request partial fulfilment')\n      if (orderId === this.id) {\n        const { buyAmount, sellAmount } = updatedOrder\n\n        // todo: add check reputation like as 'request swap'\n        let reputation = 0\n\n        const filteredUpdatedOrder = {\n          buyAmount,\n          sellAmount,\n        }\n\n        this.requests.push({\n          participant,\n          destination,\n          updatedOrder: filteredUpdatedOrder,\n        })\n\n        events.dispatch('new partial fulfilment request', {\n          orderId,\n          participant,\n          updatedOrder: filteredUpdatedOrder,\n        })\n\n        this._autoReplyToPartial('buyAmount', filteredUpdatedOrder, participant)\n        this._autoReplyToPartial('sellAmount', filteredUpdatedOrder, participant)\n      }\n    })\n  }\n\n  _update(values) {\n    Object.keys(values).forEach((key) => {\n      this[key] = values[key]\n    })\n  }\n\n  update(values) {\n    this._update(values)\n    this.collection._saveMyOrders()\n\n    events.dispatch('swap update', this, values)\n  }\n\n  _autoReplyToPartial(changedKey, updatedOrder, participant) {\n    console.log('>>> _autoReplyToPartial')\n    if (!this.isPartial) {\n      return\n    }\n\n    if (!updatedOrder[changedKey]) {\n      return\n    }\n\n    updatedOrder[changedKey] = new BigNumber(updatedOrder[changedKey])\n\n    if (this[changedKey].comparedTo(updatedOrder[changedKey]) === 0) {\n      return\n    }\n\n    const handler = this.partialHandler[changedKey]\n\n    if (typeof handler !== 'function') {\n      return\n    }\n\n    if (!participant) return\n\n    const { peer } = participant\n\n    const newOrder = handler(updatedOrder, this)\n\n    if (!newOrder || !newOrder.buyAmount || !newOrder.sellAmount) {\n      this.declineRequestForPartial(participant.peer)\n    } else {\n      const { buyAmount, sellAmount } = newOrder\n\n      this.acceptRequestForPartial({ buyAmount, sellAmount }, participant.peer)\n    }\n  }\n\n  /**\n   *\n   * @param callback - awaiting for response - accept / decline\n   */\n  sendRequest(callback, requestOptions) {\n    const self = this\n\n    const {\n      address: destinationAddress,\n      participantMetadata,\n    } = requestOptions\n\n    if (this.app.services.room.peer === this.owner.peer) {\n      console.warn('You are the owner of this Order. You can\\'t send request to yourself.')\n      return\n    }\n\n    if (this.isRequested) {\n      console.warn('You have already requested this swap.')\n      return\n    }\n\n    this.update({\n      isRequested: true,\n    })\n\n    const participant = this.app.services.auth.getPublicData()\n\n    this.app.services.room.sendMessagePeer(this.owner.peer, {\n      event: 'request swap',\n      data: {\n        orderId: this.id,\n        participant,\n        participantMetadata,\n        destination: {\n          address: destinationAddress,\n        },\n      },\n    })\n\n    this.app.services.room.on('accept swap request', function ({ orderId }) {\n      if (orderId === self.id) {\n        this.unsubscribe()\n\n        self.update({\n          isProcessing: true,\n          isRequested: false,\n          destination: {\n            ...self.destination,\n            participantAddress: destinationAddress,\n          },\n        })\n\n        callback(true)\n      }\n    })\n\n    this.app.services.room.on('decline swap request', function ({ orderId }) {\n      if (orderId === self.id) {\n        this.unsubscribe()\n\n        self.update({\n          isRequested: false,\n        })\n\n        // TODO think about preventing user from sent requests every N seconds\n        callback(false)\n      }\n    })\n  }\n\n  acceptRequest(participantPeer) {\n    const { participant, destination } = this.requests.find(({ participant: { peer } }) => peer === participantPeer)\n\n    const { address } = destination\n\n    this.update({\n      isRequested: false,\n      isProcessing: true,\n      participant,\n      destination: {\n        ...this.destination,\n        participantAddress: address,\n      },\n      requests: [],\n    })\n\n    this.app.services.room.sendMessagePeer(participantPeer, {\n      event: 'accept swap request',\n      data: {\n        orderId: this.id,\n      },\n    })\n  }\n\n  declineRequest(participantPeer) {\n    const updatedRequests = this.requests.filter(({ participant: { peer } }) => {\n      return peer !== participantPeer\n    })\n\n    this.update({\n      isRequested: false,\n      requests: updatedRequests,\n    })\n\n    this.app.services.room.sendMessagePeer(participantPeer, {\n      event: 'decline swap request',\n      data: {\n        orderId: this.id,\n      },\n    })\n  }\n\n  /**\n   *\n   * @param updatedOrder.buyAmount - optional String\n   * @param updatedOrder.sellAmount - optional String\n   * @param callback - callback will receive updated order\n   * @param conditionHandler - autoreply to new order proposal\n   */\n  sendRequestForPartial(updatedOrder, requestOptions, callback, conditionHandler) {\n    console.log('>>> sendRequestForPartial')\n    console.log('updatedOrder', updatedOrder)\n    console.log('requestOptions', requestOptions)\n    if (!this.isPartial) {\n      throw new Error(`Cant request partial fulfilment for order ${this.id}`)\n    }\n\n    const { buyAmount, sellAmount } = updatedOrder\n    updatedOrder = { buyAmount, sellAmount }\n\n    if (!updatedOrder) {\n      throw new Error(`No buyAmount, sellAmount given. Exit partial`)\n    }\n\n    const self = this\n\n    if (this.app.services.room.peer === this.owner.peer) {\n      console.error('You are the owner of this Order. You can\\'t send request to yourself.')\n      return\n    }\n\n    const {\n      address: destinationAddress,\n      participantMetadata,\n    } = requestOptions\n\n    const participant = this.app.services.auth.getPublicData()\n\n    //console.log('-> request partial fulfilment')\n\n    this.app.services.room.sendMessagePeer(this.owner.peer, {\n      event: 'request partial fulfilment',\n      data: {\n        orderId: this.id,\n        participant,\n        participantMetadata,\n        destination: {\n          address: destinationAddress,\n        },\n        updatedOrder,\n      },\n    })\n\n    this.app.services.room.on('accept partial fulfilment', function ({ orderId, newOrderId, newOrder }) {\n      console.log('<- accept partial fulfilment')\n      if (orderId === self.id) {\n        this.unsubscribe()\n        //console.log('orderId', orderId)\n        //console.log('newOrderId', newOrderId)\n        // locate new order\n        //console.log('collection = ', self.collection)\n        const newOrder = self.collection.getByKey(newOrderId)\n\n        if (!newOrder) {\n          console.error('Party created no order with id =', newOrderId)\n          return callback(null, false)\n        }\n\n        // check that values match updatedOrder and old order\n        const ok = newOrder.buyCurrency === self.buyCurrency\n                && newOrder.sellCurrency === self.sellCurrency\n\n        if (!ok) {\n          return callback(newOrder, false)\n        }\n\n        // if condition to check is not given,\n        // we need logic on client app side\n        if (typeof conditionHandler !== 'function') {\n          // TODO: pass destination and participantMetadata\n          return callback(newOrder)\n        }\n\n        // else, we can start swap automatically\n        const newOrderIsGood = conditionHandler(self, newOrder)\n\n        if (newOrderIsGood) {\n          // request that new order\n          newOrder.sendRequest(accepted => callback(newOrder, accepted), requestOptions)\n        } else {\n          callback(newOrder, false)\n        }\n      }\n    })\n\n    this.app.services.room.on('decline partial fulfilment', function ({ orderId }) {\n      console.log('<- decline partial fulfilment')\n      if (orderId === self.id) {\n        this.unsubscribe()\n\n        // TODO think about preventing user from sent requests every N seconds\n        callback(null, false)\n      }\n    })\n\n  }\n\n  /**\n   *\n   * @param {Object} newValues - { buyAmount, sellAmount } - new order values\n   * @param {String} participantPeer - participant peer id\n   */\n  acceptRequestForPartial(newValues, participantPeer) {\n    console.log('>>> acceptRequestForPartial() newValues =', newValues)\n    const { buyCurrency, sellCurrency, isTurbo, buyBlockchain, sellBlockchain } = this\n    const { buyAmount, sellAmount } = newValues\n\n    const updatedRequests = this.requests.filter(({ participant: { peer } }) => {\n      return peer !== participantPeer\n    })\n\n    this.update({\n      isRequested: false,\n      requests: updatedRequests,\n    })\n\n    console.log('Create new partial order...')\n\n    const newOrder = this.collection.create({\n      buyAmount,\n      sellAmount,\n      buyCurrency,\n      buyBlockchain,\n      sellCurrency,\n      sellBlockchain,\n      isTurbo\n    })\n\n    console.log('new order = ', newOrder)\n    console.log('and collection = ', this.collection)\n    console.log('send to peer ', {\n      orderId: this.id,\n      newOrderId: newOrder.id,\n    })\n\n    console.log('-> accept partial fulfilment')\n\n    this.app.services.room.sendMessagePeer(participantPeer, {\n      event: 'accept partial fulfilment',\n      data: {\n        orderId: this.id,\n        newOrderId: newOrder.id,\n      },\n    })\n  }\n\n  declineRequestForPartial(participantPeer) {\n    // TODO this removes all requests, we need to remove only one referenced\n    const updatedRequests = this.requests.filter(({ participant: { peer } }) => {\n      return peer !== participantPeer\n    })\n\n    this.update({\n      isRequested: false,\n      requests: updatedRequests,\n    })\n\n    this.app.services.room.sendMessagePeer(participantPeer, {\n      event: 'decline partial fulfilment',\n      data: {\n        orderId: this.id,\n      },\n    })\n  }\n\n  /**\n   *\n   * @param {String} type - ['buyAmount','sellAmount']\n   * @param {function} handler - function to be called on partial request to that order\n   */\n  setRequestHandlerForPartial(type, handler) {\n    if (!this.isMy) {\n      throw new Error(`RequestHandlerError: Not an owner`)\n    }\n    if (type !== 'buyAmount' && type !== 'sellAmount') {\n      throw new Error(`RequestHandlerError: Key = '${type}' is not in ['buyAmount','sellAmount']`)\n    }\n\n    this.partialHandler[type] = handler\n\n    return this\n  }\n\n\n}\n\n\nexport default Order\n","/*\n\n# Visible makers whitelist\n\nuseful for dev or custom builds (private room)\n\ntodo: read it from WP settings\n\nThe list is empty? => any maker will be allowed\n*/\n\nexport default [\n  // add peer ids:\n  // 'Q...',\n]\n","import debug from 'debug'\nimport BigNumber from 'bignumber.js'\nimport SwapApp, { Collection, ServiceInterface, util, constants } from 'swap.app'\nimport SwapRoom from 'swap.room'\nimport aggregation from './aggregation'\nimport events from './events'\nimport Order from './Order'\nimport visibleMakers from 'common/whitelists/visibleMakers'\nimport getCoinInfo from 'common/coins/getCoinInfo'\n\n\nconst checkIncomeOrderFormat = (order) => {\n  // Skip unknown currencies\n  if (order && order.buyCurrency && !util.typeforce.isCoinName(order.buyCurrency)) {\n    return false\n  }\n  if (order && order.sellCurrency && !util.typeforce.isCoinName(order.sellCurrency)) {\n    return false\n  }\n\n  const format = {\n    id: '?String',\n    owner: {\n      peer: 'String',\n      reputation: util.typeforce.t.maybe(util.typeforce.isNumeric),\n      ...(() => {\n        const result = {}\n        Object.keys(constants.COINS).forEach((key) => {\n          result[key] = util.typeforce.t.maybe({\n            address: util.typeforce.isCoinAddress[constants.COINS[key]],\n            publicKey: util.typeforce.isPublicKey[constants.COINS[key]],\n          })\n        })\n        return result\n      })(),\n    },\n    sellCurrency: util.typeforce.isCoinName,\n    sellBlockchain: '?String',\n    sellAmount: util.typeforce.isNumeric,\n    buyCurrency: util.typeforce.isCoinName,\n    buyBlockchain: '?String',\n    buyAmount: util.typeforce.isNumeric,\n    exchangeRate: util.typeforce.t.maybe(util.typeforce.isNumeric),\n    isProcessing: '?Boolean',\n    isRequested: '?Boolean',\n    isPartial: '?Boolean',\n    isTurbo: '?Boolean',\n    isHidden: '?Boolean',\n    destination: util.typeforce.t.maybe({\n      ownerAddress: '?String',\n      participantAddress: '?String',\n    }),\n  }\n\n  const isValid = util.typeforce.check(format, order, true)\n\n  if (!isValid) {\n    debug('swap.core:orders')('Wrong income order format. Excepted:', format, 'got:', order)\n  }\n\n  return isValid\n}\n\nconst checkIncomeOrderOwner = ({ owner: { peer } }, fromPeer) =>\n  peer === fromPeer\n\n\nconst checkIncomeOrderWhitelisted = ({ owner: { peer } }) => {\n  //@ts-ignore: strictNullChecks\n  return !visibleMakers.length || visibleMakers.includes(peer)\n}\n\nconst checkIncomeOrder = (order, fromPeer) => {\n  const isFormatValid = checkIncomeOrderFormat(order)\n  const isOwnerValid = checkIncomeOrderOwner(order, fromPeer)\n  const isOwnerWhitelisted = checkIncomeOrderWhitelisted(order)\n\n  return isFormatValid && isOwnerValid && isOwnerWhitelisted\n}\n\n\nclass SwapOrders extends aggregation(ServiceInterface, Collection) {\n\n  _serviceName: string\n  getUniqueId: any\n  _dependsOn: any\n\n  //@ts-ignore\n  static get name() {\n    return 'orders'\n  }\n\n  constructor() {\n    super()\n\n    this._serviceName = 'orders'\n    this._dependsOn   = [ SwapRoom ]\n\n    this.getUniqueId = () => {}\n  }\n\n  initService() {\n    this.app.services.room.on('ready', this._handleReady)\n    this.app.services.room.on('user online', this._handleUserOnline)\n    this.app.services.room.on('user offline', this._handleUserOffline)\n    this.app.services.room.on('new orders', this._handleNewOrders)\n    this.app.services.room.on('give orders', this._handleGiveOrders)\n    this.app.services.room.on('new order', this._handleNewOrder)\n    this.app.services.room.on('remove order', this._handleRemoveOrder)\n    this.app.services.room.on('hide orders', this._handleHideOrders)\n    this.app.services.room.on('show orders', this._handleShowOrders)\n\n    this.getUniqueId = (() => {\n      let id = Date.now()\n      return () => `${this.app.services.room.peer}-${++id}`\n    })()\n  }\n\n  _handleReady = () => {\n    this._persistMyOrders()\n  }\n\n  _handleHideOrders = ({ fromPeer }) => {\n    this.items.forEach((order) => {\n      if (order && order.owner && order.owner.peer === fromPeer) {\n        order.isHidden = true\n      }\n    })\n  }\n\n  _handleShowOrders = ({ fromPeer }) => {\n    this.items.forEach((order) => {\n      if (order && order.owner && order.owner.peer === fromPeer) {\n        order.isHidden = false\n      }\n    })\n  }\n\n  _handleGiveOrders = ({ fromPeer }) => {\n    this._sendOrdersToPeer(fromPeer)\n  }\n\n  _sendOrdersToPeer = (peer) => {\n    let myOrders = this.getMyOrders()\n    if (myOrders.length) {\n      // clean orders from other additional props\n      myOrders = myOrders.map((item) => util.pullProps(\n        item,\n        'id',\n        'owner',\n        'buyCurrency',\n        'buyBlockchain',\n        'sellCurrency',\n        'sellBlockchain',\n        'buyAmount',\n        'exchangeRate',\n        'sellAmount',\n        'isRequested',\n        'isProcessing',\n        'isPartial',\n        'isTurbo',\n        'isHidden',\n        'destination',\n      ))\n\n      this.app.services.room.sendMessagePeer(peer, {\n        event: 'new orders',\n        data: {\n          orders: myOrders,\n        },\n      })\n    }\n  }\n  _handleUserOnline = (peer) => {\n    this._sendOrdersToPeer(peer)\n    this.app.services.room.sendMessagePeer(peer, {\n      event: 'give orders',\n      data: {},\n    })\n  }\n\n  _handleUserOffline = (peer) => {\n    const peerOrders = this.getPeerOrders(peer)\n\n    if (peerOrders.length) {\n      peerOrders.forEach(({ id }) => {\n        this._handleRemove(id)\n      })\n    }\n  }\n\n  _handleNewOrders = ({ fromPeer, orders }) => {\n    // ductape to check if such orders already exist\n    const filteredOrders = orders.filter(({ id, owner: { peer } }) => (\n      !this.getByKey(id) && peer === fromPeer\n    ))\n\n    this._handleMultipleCreate({ orders: filteredOrders, fromPeer })\n  }\n\n  _handleNewOrder = ({ fromPeer, order }) => {\n    if (order && order.owner && order.owner.peer === fromPeer) {\n      if (checkIncomeOrder(order, fromPeer)) {\n        this._handleCreate(order)\n      }\n    }\n  }\n\n  _handleRemoveOrder = ({ fromPeer, orderId }) => {\n    const order = this.getByKey(orderId)\n\n    if (order && order.owner && order.owner.peer === fromPeer) {\n      this._handleRemove(orderId)\n    }\n  }\n\n  _persistMyOrders() {\n    this.getMyOrders().forEach((orderData) => {\n      this._handleCreate(orderData)\n    })\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.id\n   * @param {object} data.owner\n   * @param {string} data.owner.peer\n   * @param {number} data.owner.reputation\n   * @param {object} data.owner.<currency>\n   * @param {string} data.owner.<currency>.address\n   * @param {string} data.owner.<currency>.publicKey\n   * @param {string} data.buyCurrency\n   * @param {string} data.sellCurrency\n   * @param {number} data.buyAmount\n   * @param {number} data.sellAmount\n   * @param {boolean} data.isProcessing\n   * @param {boolean} data.isRequested\n   */\n  _create(data) {\n    const { id, buyAmount, sellAmount, buyCurrency, sellCurrency, ...rest } = data\n\n    const {\n      blockchain: buyBlockchain,\n    } = getCoinInfo(buyCurrency)\n    const {\n      blockchain: sellBlockchain,\n    } = getCoinInfo(sellCurrency)\n\n    // Error in the bottom line: Cannot read property 'precision' of undefined\n    const roundedBuyAmount = new BigNumber(buyAmount).dp(constants.COIN_DATA[buyCurrency.toUpperCase()].precision)\n    const roundedSellAmount = new BigNumber(sellAmount).dp(constants.COIN_DATA[sellCurrency.toUpperCase()].precision)\n\n    const order = new Order(this.app, this, {\n      id:           id || this.getUniqueId(),\n      buyAmount:    roundedBuyAmount,\n      sellAmount:   roundedSellAmount,\n      buyCurrency:  buyCurrency,\n      buyBlockchain,\n      sellCurrency: sellCurrency,\n      sellBlockchain,\n      ...rest,\n    })\n\n    this.append(order, order.id)\n\n    return order\n  }\n\n  _handleCreate(data) {\n    const order = this._create(data)\n\n    if (order) {\n      events.dispatch('new order', order)\n    }\n  }\n\n  _handleMultipleCreate({ orders, fromPeer }) {\n    const newOrders = []\n\n    orders.forEach((data) => {\n      if (checkIncomeOrder(data, fromPeer)) {\n        const order = this._create(data)\n\n        //@ts-ignore: strictNullChecks\n        newOrders.push(order)\n      }\n    })\n\n    if (newOrders.length) {\n      events.dispatch('new orders', newOrders)\n    }\n  }\n\n  /**\n   *\n   * @param {string} orderId\n   */\n  _handleRemove(orderId) {\n    try {\n      const order = this.getByKey(orderId)\n\n      if (order) {\n        this.removeByKey(orderId)\n        events.dispatch('remove order', order)\n      }\n    }\n    catch (err) {\n      console.error(err)\n    }\n  }\n\n  _saveMyOrders() {\n    let myOrders = this.items.filter(({ owner: { peer } }) => peer === this.app.services.room.peer)\n\n    // clean orders from other additional props\n    // TODO need to add functionality to sync `requests` for users who going offline / online\n    // problem: when I going online and persisting my orders need to show only online users requests,\n    // but then user comes online need to change status. Ofc we can leave this bcs developers can do this themselves\n    // with filters - skip requests where user is offline, but it looks like not very good\n    myOrders = myOrders.map((item) => util.pullProps(\n      item,\n      'id',\n      'owner',\n      'buyCurrency',\n      'buyBlockchain',\n      'sellCurrency',\n      'sellBlockchain',\n      'buyAmount',\n      'sellAmount',\n      'exchangeRate',\n      'participant',\n      'requests',\n      'isRequested',\n      'isProcessing',\n      'isPartial',\n      'isTurbo',\n      'isHidden',\n      'destination',\n    ))\n\n    this.app.env.storage.setItem('myOrders', myOrders)\n  }\n\n  getMyOrders() {\n    return this.app.env.storage.getItem('myOrders') || []\n  }\n\n  getPeerOrders(peer) {\n    return this.items.filter(({ owner }) => peer === owner.peer)\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.buyCurrency\n   * @param {string} data.sellCurrency\n   * @param {number} data.buyAmount\n   * @param {number} data.sellAmount\n   */\n  create(data) {\n    const order = this._create({\n      ...data,\n      owner: this.app.services.auth.getPublicData(),\n    })\n\n    this._saveMyOrders()\n\n    this.app.services.room.sendMessageRoom({\n      event: 'new order',\n      data: {\n        order: util.pullProps(\n          order,\n          'id',\n          'owner',\n          'buyCurrency',\n          'buyBlockchain',\n          'exchangeRate',\n          'sellCurrency',\n          'sellBlockchain',\n          'buyAmount',\n          'sellAmount',\n          'isRequested',\n          'isProcessing',\n          'isPartial',\n          'isTurbo',\n          'isHidden',\n          'destination',\n        ),\n      },\n    })\n\n    return order\n  }\n\n  hideMyOrders() {\n    this.items.forEach((order) => {\n      if (order && order.owner && order.owner.peer === this.app.services.room.peer) {\n        order.isHidden = true\n      }\n    })\n    this._saveMyOrders()\n    this.app.services.room.sendMessageRoom({\n      event: 'hide orders',\n      data: {},\n    })\n  }\n\n  showMyOrders() {\n    this.items.forEach((order) => {\n      if (order && order.owner && order.owner.peer === this.app.services.room.peer) {\n        order.isHidden = false\n      }\n    })\n    this._saveMyOrders()\n    this.app.services.room.sendMessageRoom({\n      event: 'show orders',\n      data: {},\n    })\n  }\n\n  hasHiddenOrders() {\n    let myHiddenOrders = this.items.filter(({ isHidden, owner: { peer } }) => (peer === this.app.services.room.peer && isHidden))\n    return !!myHiddenOrders.length\n  }\n\n  /**\n   *\n   * @param {string} orderId\n   */\n  remove(orderId) {\n    this.removeByKey(orderId)\n    this.app.services.room.sendMessageRoom({\n      event: 'remove order',\n      data: {\n        orderId,\n      },\n    })\n    this._saveMyOrders()\n  }\n\n  /**\n   *\n   * @param {String} event\n   * @param {String} peer\n   * @param {Object} data\n   * @param {function} callback\n   */\n  requestToPeer(event, peer, data, callback) {\n    this.app.services.room.sendMessagePeer(peer, {\n      event,\n      data,\n    })\n\n    if (!callback) {\n      return\n    }\n\n    this.app.services.room.on('accept request', function ({ fromPeer, orderId }) {\n      debug('swap.core:orders')('requestToPeer accept request', fromPeer)\n      if (peer === fromPeer) {\n        this.unsubscribe()\n\n        debug('swap.core:orders')('requestToPeer IF')\n\n        callback(orderId)\n      }\n    })\n\n    this.app.services.room.on('decline request', function ({ fromPeer }) {\n      if (peer === fromPeer) {\n        this.unsubscribe()\n\n        callback(false)\n      }\n    })\n  }\n\n  on(eventName, handler) {\n    events.subscribe(eventName, handler)\n    return this\n  }\n\n  off(eventName, handler) {\n    events.unsubscribe(eventName, handler)\n    return this\n  }\n}\n\n\nexport default SwapOrders\n","import SwapOrders from './SwapOrders'\n\n\nexport default SwapOrders\n","import debug from 'debug'\nimport SwapApp, { constants, util } from 'swap.app'\nimport { Flow } from 'swap.swap'\nimport { BigNumber } from 'bignumber.js'\n\n\nexport default class TurboMaker extends Flow {\n\n  _flowName = 'TurboMaker'\n  static getName = () => 'TurboMaker'\n\n  mySwap: any\n  participantSwap: any\n\n  state: {\n    step: 0 | 1 | 2 | 3 | 4 | 5 | 6,\n\n    isParticipantSigned: boolean,\n\n    isBalanceFetching: boolean,\n    isBalanceEnough: boolean,\n\n    takerTxHash: null | string\n    isTakerTxPended: boolean\n\n    makerTxHash: null | string\n    isMakerTxPended: boolean\n\n    isStoppedSwap: boolean,\n    isFinished: boolean,\n  }\n\n  constructor(swap) {\n    super(swap)\n    console.log('Create Maker flow(swap), swap =', swap)\n\n    this.stepNumbers = {\n      'sign': 1,\n      'check-balance': 2,\n      'wait-taker-tx': 3,\n      'send-maker-tx': 4,\n      'finish': 5,\n      'end': 6,\n    }\n\n    this.mySwap = swap.ownerSwap\n    this.participantSwap = swap.participantSwap\n\n    this.state = {\n      step: 0,\n\n      isParticipantSigned: false,\n\n      isBalanceFetching: false,\n      isBalanceEnough: true,\n\n      takerTxHash: null,\n      isTakerTxPended: false,\n\n      makerTxHash: null,\n      isMakerTxPended: false,\n\n      isStoppedSwap: false,\n      isFinished: false,\n    }\n\n    super._persistState()\n    super._persistSteps()\n  }\n\n  //@ts-ignore: strictNullChecks\n  _getSteps() {\n    const flow = this\n    const swap = this.swap\n    const room = this.swap.room\n\n    const mySwap = this.mySwap\n    const participantSwap = this.participantSwap\n\n    return [\n\n      async () => {\n        console.log(`Maker Step 1: 'sign'`)\n        console.log('this.swap =', swap)\n\n        //flow.swap.processMetamask()\n\n        room.sendMessage({\n          event: 'request sign',\n        })\n\n        room.once('swap sign', () => {\n          const { step } = flow.state\n\n          if (step >= 2) {\n            return\n          }\n\n          flow.finishStep({\n            isParticipantSigned: true,\n          }, { step: 'sign' })\n        })\n      },\n\n\n      async () => {\n        console.log(`Maker Step 2: 'check-balance'`)\n        console.log('this.swap =', swap)\n\n        /*const { sellAmount } = this.swap\n\n        this.setState({\n          isBalanceFetching: true,\n        })\n\n        const btcAddress = this.app.services.auth.accounts.btc.getAddress()\n\n        const txFee = await this.btcSwap.estimateFeeValue({\n          method: 'swap',\n          fixed: true,\n          address: btcAddress\n        })\n\n        const unspents = await this.btcSwap.fetchUnspents(btcAddress)\n        const totalUnspent = unspents.reduce((summ, { satoshis }) => summ + satoshis, 0)\n        const balance = new BigNumber(totalUnspent).dividedBy(1e8)\n\n        const needAmount = sellAmount.plus(txFee)\n        const isEnoughMoney = needAmount.isLessThanOrEqualTo(balance)\n\n        const stateData = {\n          isBalanceFetching: false,\n          isBalanceEnough: isEnoughMoney,\n        }\n\n        if (isEnoughMoney) {\n          this.finishStep(stateData, { step: 'check-balance' })\n        } else {\n          this.setState(stateData, true)\n        }*/\n\n        //return true\n\n        //temp\n        this.finishStep({\n          isBalanceEnough: true,\n        }, { step: 'check-balance' })\n      },\n\n\n      () => {\n        console.log(`Maker Step 3: 'wait-taker-tx'`)\n        console.log('this.swap =', swap)\n\n        room.once('taker tx sended', ({ txHash }) => {\n          console.log(`RECEIVED from taker: tx hash =`, txHash)\n          console.log('Check taker tx...')\n          // todo: tx check\n          //... || this.stopSwapProcess()\n          console.log('Taker tx is OK!')\n\n          flow.finishStep({\n            takerTxHash: txHash,\n            isTakerTxPended: true, // todo later\n          }, { step: 'wait-taker-tx' })\n        })\n      },\n\n\n      async () => {\n        console.log(`Maker Step 4: 'send-maker-tx'`)\n        console.log('this.swap =', swap)\n\n        // send tx\n        \n        const amount = swap.sellAmount\n        const to = swap.participant[swap.sellCurrency.toLowerCase()].address\n\n        console.log(`Send ${amount} ${swap.sellCurrency} to taker address \"${to}\"...`)\n\n        let usedSwap\n        if (mySwap._swapName === swap.sellCurrency.toUpperCase()) {\n          usedSwap = mySwap\n        }\n        if (participantSwap._swapName === swap.sellCurrency.toUpperCase()) {\n          usedSwap = participantSwap\n        }\n        if (!usedSwap) {\n          throw new Error(`No swap for ${swap.sellCurrency}`)\n        } else {\n          console.log('Swap found!', usedSwap)\n        }\n\n        const txHash = await usedSwap.sendTransaction({ to, amount })\n\n        console.log(`Sended! txHash = ${txHash}`)\n\n        room.sendMessage({\n          event: 'maker tx sended',\n          data: {\n            txHash,\n          }\n        })\n\n        flow.finishStep({\n          makerTxHash: txHash,\n          isMakerTxPended: true, // todo later\n        }, 'send-maker-tx')\n      },\n\n\n      () => {\n        console.log(`Maker Step 5: 'finish'`)\n        /*room.once('swap finished', ({btcSwapWithdrawTransactionHash}) => {\n          flow.setState({\n            btcSwapWithdrawTransactionHash,\n          })\n        })\n\n        room.sendMessage({\n          event: 'request swap finished',\n        })\n        */\n        flow.finishStep({\n          isFinished: true,\n        }, 'finish')\n      },\n\n\n      () => {\n        console.log(`Maker Step 6: 'end'`)\n        // Finished!\n      }\n    ]\n  }\n\n  stopSwapProcess() {\n    const flow = this\n\n    debug('swap.core:flow')('Swap was stopped')\n\n    flow.setState({\n      isStoppedSwap: true,\n    }, true)\n  }\n\n}\n","import debug from 'debug'\nimport SwapApp, { constants, util } from 'swap.app'\nimport { Flow } from 'swap.swap'\n\n\nexport default class TurboTaker extends Flow {\n\n  _flowName = 'TurboTaker'\n  static getName = () => 'TurboTaker'\n\n  mySwap: any\n  participantSwap: any\n\n  state: {\n    step: 0 | 1 | 2 | 3 | 4 | 5 | 6,\n\n    isSignFetching: boolean,\n    isMeSigned: boolean,\n\n    isBalanceFetching: boolean,\n    isBalanceEnough: boolean,\n\n    takerTxHash: null | string\n    isTakerTxPended: boolean\n\n    makerTxHash: null | string\n    isMakerTxPended: boolean\n\n    isStoppedSwap: boolean,\n    isFinished: boolean,\n  }\n\n  constructor(swap) {\n    super(swap)\n    console.log('Create Taker flow (swap), =', swap)\n\n    this.stepNumbers = {\n      'sign': 1,\n      'check-balance': 2,\n      'send-taker-tx': 3,\n      'wait-maker-tx': 4,\n      'finish': 5,\n      'end': 6\n    }\n\n    this.mySwap = swap.ownerSwap\n    this.participantSwap = swap.participantSwap\n\n    this.state = {\n      step: 0,\n\n      isSignFetching: false,\n      isMeSigned: false,\n\n      isBalanceFetching: false,\n      isBalanceEnough: true,\n\n      takerTxHash: null,\n      isTakerTxPended: false,\n\n      makerTxHash: null,\n      isMakerTxPended: false,\n\n      isStoppedSwap: false,\n      isFinished: false,\n    }\n\n    const flow = this\n    const room = flow.swap.room\n\n    room.once('request withdraw', () => {\n      flow.setState({\n        //withdrawRequestIncoming: true,\n      })\n    })\n\n    super._persistState()\n    super._persistSteps()\n  }\n\n  //@ts-ignore: strictNullChecks\n  _getSteps() {\n    const flow = this\n    const swap = this.swap\n    const room = this.swap.room\n\n    const mySwap = this.mySwap\n    const participantSwap = this.participantSwap\n\n    return [\n\n      async () => {\n        console.log(`Taker Step 1: 'sign'`)\n        console.log('this.swap =', swap)\n\n        //flow.swap.processMetamask()\n\n        const { isSignFetching, isMeSigned } = flow.state\n\n        if (isSignFetching || isMeSigned) {\n          return true\n        }\n\n        flow.setState({\n          isSignFetching: true,\n        })\n\n        room.on('request sign', () => {\n          room.sendMessage({\n            event: 'swap sign',\n          })\n        })\n\n        room.sendMessage({\n          event: 'swap sign',\n        })\n\n        flow.finishStep({\n          isMeSigned: true,\n        }, { step: 'sign' })\n\n        return true\n      },\n\n\n      async () => {\n        console.log(`Taker Step 2: 'check-balance'`)\n        console.log('this.swap =', swap)\n\n        // just test\n\n        /*const b1 = await mySwap.fetchBalance(swap.participant[swap.buyCurrency.toLowerCase()].address)\n        console.log('b1=', b1)\n\n        const b2 = await participantSwap.fetchBalance(swap.participant[swap.sellCurrency.toLowerCase()].address)\n        console.log('b2=', b2)*/\n\n\n\n        /*const { sellAmount } = this.swap\n\n        this.setState({\n          isBalanceFetching: true,\n        })\n\n        const balance = await this.ethSwap.fetchBalance(\n          this.app.getMyEthAddress()\n        )\n        const isEnoughMoney = sellAmount.isLessThanOrEqualTo(balance)\n\n        const stateData = {\n          isBalanceFetching: false,\n          isBalanceEnough: isEnoughMoney,\n        }\n\n        if (isEnoughMoney) {\n          this.finishStep(stateData, { step: 'check-balance' })\n        } else {\n          this.setState(stateData, true)\n        }*/\n\n        //return true\n\n        //temp\n        this.finishStep({\n          isBalanceEnough: true,\n        }, { step: 'check-balance' })\n      },\n\n\n      async () => {\n        console.log(`Taker Step 3: 'send-taker-tx'`)\n        console.log('this.swap =', swap)\n\n        // send tx\n\n        const amount = swap.sellAmount\n        const to = swap.participant[swap.sellCurrency.toLowerCase()].address\n\n        console.log(`Send ${amount} ${swap.sellCurrency} to maker address \"${to}\"...`)\n\n        let usedSwap\n        if (mySwap._swapName === swap.sellCurrency.toUpperCase()) {\n          usedSwap = mySwap\n        }\n        if (participantSwap._swapName === swap.sellCurrency.toUpperCase()) {\n          usedSwap = participantSwap\n        }\n        if (!usedSwap) {\n          throw new Error(`No swap for ${swap.sellCurrency}`)\n        } else {\n          console.log('Swap found!', usedSwap)\n        }\n\n        const txHash = await usedSwap.sendTransaction({ to, amount })\n\n        console.log(`Sended! txHash = ${txHash}`)\n\n        room.sendMessage({\n          event: 'taker tx sended',\n          data: {\n            txHash,\n          }\n        })\n\n        flow.finishStep({\n          takerTxHash: txHash,\n          isTakerTxPended: true, // todo later\n        }, 'send-taker-tx')\n      },\n\n\n      () => {\n        console.log(`Taker Step 4: 'wait-maker-tx'`)\n        console.log('this.swap =', swap)\n\n        room.once('maker tx sended', ({ txHash }) => {\n          console.log(`RECEIVED from maker: tx hash =`, txHash)\n          console.log('Check maker tx...')\n          // todo: tx check\n          //... || this.stopSwapProcess()\n          console.log('Maker tx is OK!')\n          \n          flow.finishStep({\n            makerTxHash: txHash,\n            isMakerTxPended: true, // todo later\n          }, { step: 'wait-maker-tx' })\n        })\n      },\n\n\n      () => {\n        console.log(`Taker Step 5: 'finish'`)\n        /*room.once('request swap finished', () => {\n          const { btcSwapWithdrawTransactionHash } = flow.state\n\n          room.sendMessage({\n            event: 'swap finished',\n            data: {\n              btcSwapWithdrawTransactionHash,\n            },\n          })\n        })\n        */\n        flow.finishStep({\n          isFinished: true,\n        }, { step: 'finish' })\n      },\n\n\n      () => {\n        console.log(`Taker Step 6: 'end'`)\n        // Finished!\n      }\n    ]\n  }\n\n  stopSwapProcess() {\n    const flow = this\n\n    debug('swap.core:flow')('Swap was stopped')\n\n    flow.setState({\n      isStoppedSwap: true,\n    }, true)\n  }\n\n}\n","import debug from 'debug'\nimport { util } from 'swap.app'\nimport { AtomicAB2UTXO } from 'swap.swap'\nimport { EthLikeSwap, BtcSwap } from 'swap.swaps'\n\n\ninterface IEthLikeToBtc {\n  flowName: string\n  getMyAddress: Function\n  getParticipantAddress: Function\n}\nclass EthLikeToBtc extends AtomicAB2UTXO {\n\n  _flowName: string\n  ethLikeCoin: string\n  ethLikeSwap: EthLikeSwap\n  btcSwap: BtcSwap\n  state: any\n  getMyAddress: Function\n  getParticipantAddress: Function\n\n  constructor(swap, options: IEthLikeToBtc) {\n    super(swap)\n\n    if (!options.flowName) {\n      throw new Error('EthLikeToBtc - option flowName requery')\n    }\n    if (!options.getMyAddress || typeof options.getMyAddress !== 'function') {\n      throw new Error(`EthLikeToBtc ${options.flowName} - option getMyAddress - function requery`)\n    }\n    if (!options.getParticipantAddress || typeof options.getParticipantAddress !== 'function') {\n      throw new Error(`EthLikeToBtc ${options.flowName} - option getParticipantAddress - function requery`)\n    }\n\n    this.getMyAddress = options.getMyAddress\n    this.getParticipantAddress = options.getParticipantAddress\n\n    this.utxoCoin = `btc`\n    this.ethLikeCoin = swap.ethLikeCoin\n    this._flowName = options.flowName\n\n    this.isTakerMakerModel = true\n    this.setupTakerMakerEvents()\n    this.stepNumbers = this.getStepNumbers()\n\n    this.ethLikeSwap = swap.participantSwap\n    this.btcSwap = swap.ownerSwap\n\n    this.abBlockchain = this.ethLikeSwap\n    this.utxoBlockchain = this.btcSwap\n\n    if (!this.ethLikeSwap) {\n      throw new Error(`${this.ethLikeCoin}2BTC: \"ethLikeSwap\" of type object required`)\n    }\n    if (!this.btcSwap) {\n      throw new Error(`${this.ethLikeCoin}2BTC: \"btcSwap\" of type object required`)\n    }\n\n    this.state = {\n      step: 0,\n\n      isStoppedSwap: false,\n\n      signTransactionHash: null,\n      isSignFetching: false,\n      isMeSigned: false,\n\n      targetWallet : null,\n      secretHash: null,\n\n      isBalanceFetching: false,\n      isBalanceEnough: true,\n      balance: null,\n\n      ethLikeSwapCreationTransactionHash: null,\n      canCreateEthTransaction: true,\n      isEthContractFunded: false,\n\n      secret: null,\n\n      isEthWithdrawn: false,\n      isbtcWithdrawn: false,\n\n      ethLikeSwapWithdrawTransactionHash: null,\n      utxoSwapWithdrawTransactionHash: null,\n\n      refundTransactionHash: null,\n      isRefunded: false,\n\n      isFinished: false,\n      isSwapExist: false,\n\n      withdrawRequestIncoming: false,\n      withdrawRequestAccepted: false,\n\n      isFailedTransaction: false,\n      isFailedTransactionError: null,\n    }\n\n    this._persistState()\n\n    const flow = this\n\n    if (this.isTaker()) {\n      flow.swap.room.on('create utxo script', (data) => {\n        const {\n          utxoScriptCreatingTransactionHash,\n        } = data\n        flow.setState({\n          utxoScriptCreatingTransactionHash,\n        }, true)\n      })\n      flow.swap.room.on('ethWithdrawTxHash', (data) => {\n        const {\n          ethLikeSwapWithdrawTransactionHash,\n        } = data\n        flow.setState({\n          ethLikeSwapWithdrawTransactionHash,\n        })\n      })\n    } else {\n      flow.swap.room.once('request withdraw', () => {\n        flow.setState({\n          withdrawRequestIncoming: true,\n        })\n      })\n\n      flow.swap.room.on('wait btc confirm', () => {\n        flow.setState({\n          waitBtcConfirm: true,\n        })\n      })\n\n      flow.swap.room.on('request eth contract', () => {\n        const { ethLikeSwapCreationTransactionHash } = flow.state\n\n        if (ethLikeSwapCreationTransactionHash) {\n          console.log('Exists - send hash')\n          flow.swap.room.sendMessage({\n            event: 'create eth contract',\n            data: {\n              ethLikeSwapCreationTransactionHash,\n            },\n          })\n        }\n      })\n    }\n\n    super._persistSteps()\n  }\n\n  _persistState() {\n    super._persistState()\n  }\n\n  //@ts-ignore: strictNullChecks\n  _getSteps() {\n    const flow = this\n\n    if (this.isMaker()) {\n      return [\n\n        // 1. Sign swap to start\n\n        () => {\n          this.signABSide()\n        },\n\n        // 2. Wait participant create, fund BTC Script\n\n        () => {\n          flow.waitUTXOScriptCreated()\n        },\n\n        // 3. Verify BTC Script\n\n        () => {\n          debug('swap.core:flow')(`waiting verify btc script`)\n          this.verifyScript()\n        },\n\n        // 4. Check balance\n\n        () => {\n          this.syncBalance()\n        },\n\n        // 5. Create ETH Contract\n\n        async () => {\n          const scriptFunded = await this.waitUTXOScriptFunded()\n          if (scriptFunded) {\n            await flow.ethLikeSwap.fundContract({\n              flow,\n            })\n          }\n        },\n\n        // 6. Wait participant withdraw\n\n        async () => {\n          const {\n            secretHash,\n          } = this.state\n\n          await util.helpers.repeatAsyncUntilResult(async () => {\n            const isSwapCreated = await flow.ethLikeSwap.isSwapCreated({\n              ownerAddress: flow.getMyAddress(),\n              participantAddress: flow.getParticipantAddress(flow.swap),\n              secretHash,\n            })\n\n            if (isSwapCreated) {\n              await flow.ethLikeSwap.getSecretFromContract({ flow })\n              return true\n            }\n            return false\n          })\n        },\n\n        // 7. Withdraw\n\n        async () => {\n          await this.btcSwap.withdrawFromSwap({\n            flow,\n          })\n        },\n\n        // 8. Finish\n\n        () => {\n          flow.swap.room.once('request swap finished', () => {\n            const { utxoSwapWithdrawTransactionHash } = flow.state\n\n            flow.swap.room.sendMessage({\n              event: 'swap finished',\n              data: {\n                utxoSwapWithdrawTransactionHash,\n              },\n            })\n          })\n\n          flow.finishStep({\n            isFinished: true,\n          }, { step: 'finish' })\n        },\n\n        // 9. Finished!\n\n        () => {}\n      ]\n    } else {\n      return [\n        // 1 - `sign` - Signs \n        async () => {\n          this.signABSide()\n        },\n\n        // 2 - `sync-balance` - syncBalance\n        async () => {\n          this.syncBalance()\n        },\n\n        // 3 - `lock-eth` - create AB contract - создание секрета, хеша, отправка хеша\n        async () => {\n          if (!this.state.secret) {\n            const {\n              secret,\n              secretHash,\n            } = this.generateSecret()\n\n            this.createWorkUTXOScript(secretHash, false)\n\n            this.setState({\n              secret,\n              secretHash,\n            }, true)\n          }\n\n          await flow.ethLikeSwap.fundContract({\n            flow,\n            // Использует принудительно адрес назначения (куда отправить монеты)\n            // Это нужно, чтобы тейкер, дождавшись пополнения utxo не снял монеты с ab контракта использу\n            // Так-же на стороне UTXO перед пополнением скрипта делаем\n            // проверку адреса назначения на ab контракте используя getTargetWallet\n            useTargetWallet: true,\n          })\n        },\n\n        // 4 - `wait-lock-utxo` - wait create UTXO\n        async () => {\n          this.waitUTXOScriptFunded()\n            .then((funded) => {\n              if (funded) {\n                this.finishStep({}, 'wait-lock-utxo`')\n              }\n            })\n        },\n\n        // 5 - `withdraw-utxo` - withdraw from UTXO\n        async () => {\n          await this.btcSwap.withdrawFromSwap({\n            flow,\n          })\n        },\n\n        // 6 - `finish`\n        async () => {\n          // @to-do - txids room events\n          flow.finishStep({\n            isFinished: true,\n          }, 'finish')\n        },\n\n        // 7 - `end`\n        async () => {},\n      ]\n    }\n  }\n\n  _checkSwapAlreadyExists() {\n    const swapData = {\n      ownerAddress: this.getMyAddress(),\n      participantAddress: this.getParticipantAddress(this.swap)\n    }\n\n    return this.ethLikeSwap.checkSwapExists(swapData)\n  }\n\n  async tryRefund() {\n    const { secretHash } = this.state\n\n    const refundHandler = (hash = null) => {\n      this.swap.room.sendMessage({\n        event: 'eth refund completed',\n      })\n\n      this.setState({\n        refundTransactionHash: hash,\n        isRefunded: true,\n        isSwapExist: false,\n      }, true)\n    }\n\n    try {\n      const wasRefunded = await this.ethLikeSwap.wasRefunded({ secretHash })\n\n      if (wasRefunded) {\n        debug('swap.core:flow')('This swap was refunded')\n\n        refundHandler()\n\n        return true\n      }\n    } catch (error) {\n      console.warn('wasRefunded error:', error)\n\n      return false\n    }\n\n    return this.ethLikeSwap.refund({\n      participantAddress: this.getParticipantAddress(this.swap),\n    })\n      .then((hash) => {\n        if (!hash) {\n          return false\n        }\n\n        //@ts-ignore: strictNullChecks\n        refundHandler(hash)\n\n        return true\n      })\n      .catch((error) => false)\n  }\n\n  async isRefundSuccess() {\n    return true\n  }\n\n  async tryWithdraw(_secret) {\n    const { secret, secretHash, isbtcWithdrawn, utxoScriptValues } = this.state\n\n    if (!_secret)\n      throw new Error(`Withdrawal is automatic. For manual withdrawal, provide a secret`)\n\n    if (!utxoScriptValues)\n      throw new Error(`Cannot withdraw without script values`)\n\n    if (secret && secret != _secret)\n      console.warn(`Secret already known and is different. Are you sure?`)\n\n    if (isbtcWithdrawn)\n      console.warn(`Looks like money were already withdrawn, are you sure?`)\n\n    debug('swap.core:flow')(`WITHDRAW using secret = ${_secret}`)\n\n    const _secretHash = this.app.env.bitcoin.crypto.ripemd160(Buffer.from(_secret, 'hex')).toString('hex')\n\n    if (secretHash != _secretHash)\n      console.warn(`Hash does not match! state: ${secretHash}, given: ${_secretHash}`)\n\n    const { scriptAddress } = this.btcSwap.createScript(utxoScriptValues)\n    const balance = await this.btcSwap.getBalance(scriptAddress)\n\n    debug('swap.core:flow')(`address=${scriptAddress}, balance=${balance}`)\n\n    if (balance === 0) {\n      this.finishStep({\n        isbtcWithdrawn: true,\n      }, { step: 'withdraw-utxo' })\n      throw new Error(`Already withdrawn: address=${scriptAddress},balance=${balance}`)\n    }\n\n    this.btcSwap.withdraw({\n      scriptValues: utxoScriptValues,\n      secret: _secret,\n    }).then((hash) => {\n      debug('swap.core:flow')(`TX hash=${hash}`)\n      this.setState({\n        utxoSwapWithdrawTransactionHash: hash,\n      })\n    \n      debug('swap.core:flow')(`TX withdraw sent: ${this.state.utxoSwapWithdrawTransactionHash}`)\n\n      this.finishStep({\n        isbtcWithdrawn: true,\n      }, { step: 'withdraw-utxo' })\n    })\n  }\n}\n\n\nexport default EthLikeToBtc\n","import { constants } from 'swap.app'\nimport EthLikeToBtc from './atomic/EthLikeToBtc'\n\n\nclass ETH2BTC extends EthLikeToBtc {\n  static getName() {\n    return `${this.getFromName()}2${this.getToName()}`\n  }\n  static getFromName() {\n    return constants.COINS.eth\n  }\n  static getToName() {\n    return constants.COINS.btc\n  }\n  constructor(swap) {\n    super(swap, {\n      flowName: `ETH2BTC`,\n      getMyAddress: swap.app.getMyEthAddress.bind(swap.app),\n      getParticipantAddress: swap.app.getParticipantEthAddress.bind(swap.app),\n    })\n  }\n}\n\n\nexport default ETH2BTC\n","import debug from 'debug'\nimport { util } from 'swap.app'\nimport { AtomicAB2UTXO } from 'swap.swap'\nimport { EthLikeSwap, BtcSwap } from 'swap.swaps'\n\n\ninterface IBtcToEthLike {\n  flowName: string\n  getMyAddress: Function\n  getParticipantAddress: Function\n}\nclass BtcToEthLike extends AtomicAB2UTXO {\n\n  _flowName: string\n  ethLikeSwap: EthLikeSwap\n  ethLikeCoin: string\n  btcSwap: BtcSwap\n\n  state: any\n\n  getMyAddress: Function\n  getParticipantAddress: Function\n\n  constructor(swap, options: IBtcToEthLike) {\n    super(swap)\n\n    if (!options.flowName) {\n      throw new Error('BtcToEthLike - option flowName requery')\n    }\n    if (!options.getMyAddress || typeof options.getMyAddress !== 'function') {\n      throw new Error(`BtcToEthLike ${options.flowName} - option getMyAddress - function requery`)\n    }\n    if (!options.getParticipantAddress || typeof options.getParticipantAddress !== 'function') {\n      throw new Error(`BtcToEthLike ${options.flowName} - option getParticipantAddress - function requery`)\n    }\n\n    this.getMyAddress = options.getMyAddress\n    this.getParticipantAddress = options.getParticipantAddress\n\n    this.utxoCoin = `btc`\n    this.ethLikeCoin = swap.ethLikeCoin\n    this._flowName = options.flowName\n\n    this.isUTXOSide = true\n    this.isTakerMakerModel = true\n    this.setupTakerMakerEvents()\n    this.stepNumbers = this.getStepNumbers()\n\n    this.ethLikeSwap = swap.ownerSwap\n    this.btcSwap = swap.participantSwap\n\n    this.abBlockchain = this.ethLikeSwap\n    this.utxoBlockchain = this.btcSwap\n\n    if (!this.ethLikeSwap) {\n      throw new Error(`BTC2${this.ethLikeCoin}: \"ethLikeSwap\" of type object required`)\n    }\n    if (!this.btcSwap) {\n      throw new Error(`BTC2${this.ethLikeCoin}: \"btcSwap\" of type object required`)\n    }\n\n    this.state = {\n      step: 0,\n\n      isStoppedSwap: false,\n\n      signTransactionHash: null,\n      isSignFetching: false,\n      isParticipantSigned: false,\n\n      ethLikeSwapCreationTransactionHash: null,\n\n      secretHash: null,\n\n      isBalanceFetching: false,\n      isBalanceEnough: true,\n      balance: null,\n\n      isEthContractFunded: false,\n\n      utxoSwapWithdrawTransactionHash: null,\n      ethLikeSwapWithdrawTransactionHash: null,\n\n      canCreateEthTransaction: true,\n      isEthWithdrawn: false,\n\n      refundTransactionHash: null,\n      isRefunded: false,\n\n      withdrawFee: null,\n      refundTxHex: null,\n      isFinished: false,\n      isSwapExist: false,\n\n      requireWithdrawFee: false,\n\n      utxoFundError: null,\n    }\n\n    const flow = this\n\n    if (this.isMaker()) {\n      this.swap.room.once('create eth contract', async ({\n        ethLikeSwapCreationTransactionHash,\n      }) => {\n        flow.setState({\n          ethLikeSwapCreationTransactionHash,\n        }, true)\n      })\n    }\n\n    this._persistState()\n    super._persistSteps()\n  }\n\n  _persistState() {\n    super._persistState()\n  }\n\n  //@ts-ignore: strictNullChecks\n  _getSteps() {\n    const flow = this\n\n\n    if (this.isTaker()) {\n      return [\n\n        // 1. Signs\n        async () => {\n          this.signUTXOSide()\n        },\n\n        // 2. Create secret, secret hash and BTC script\n        () => {\n          this.submitSecret()\n        },\n\n        // 3. Check balance\n        () => {\n          this.syncBalance()\n        },\n\n        // 4. Create BTC Script, fund, notify participant\n        async () => {\n          this.btcSwap.fundSwapScript({\n            flow,\n          })\n        },\n\n        // 5. Wait participant creates ETH Contract\n        async () => {\n          await flow.ethLikeSwap.waitABContract({\n            flow,\n            utxoCoin: `btc`,\n          })\n        },\n\n        // 6. Withdraw\n        async () => {\n          await flow.ethLikeSwap.withdrawFromABContract({ flow })\n        },\n\n        // 7. Finish\n        () => {\n          flow.swap.room.once('swap finished', ({utxoSwapWithdrawTransactionHash}) => {\n            flow.setState({\n              utxoSwapWithdrawTransactionHash,\n            })\n          })\n\n          flow.swap.room.sendMessage({\n            event: 'request swap finished',\n          })\n\n          flow.finishStep({\n            isFinished: true,\n          }, 'finish')\n        },\n\n        // 8. Finished!\n        () => {}\n      ]\n    } else {\n      return [\n        // 1 - `sign` Signs\n        async () => {\n          this.signUTXOSide()\n        },\n\n        // 2 - `sync-balance` - syncBalance\n        async () => {\n          this.syncBalance()\n        },\n\n        // 3 - `wait-lock-eth` - wait taker create AB - обмен хешем\n        async () => {\n          await util.helpers.repeatAsyncUntilResult(async () => {\n            const isContractFunded = await this.ethLikeSwap.isContractFunded(this)\n            if (isContractFunded) {\n              this.finishStep({\n                isEthContractFunded: true,\n              }, 'wait-lock-eth`')\n              return true\n            }\n            return false\n          })\n        },\n\n        // 4 - `lock-utxo` - create UTXO\n        async () => {\n          // Repeat until \n          await util.helpers.repeatAsyncUntilResult(async () => {\n            const {\n              secretHash,\n              utxoScriptValues\n            } = flow.state\n            if (secretHash && utxoScriptValues) {\n              const isSwapCreated = await flow.ethLikeSwap.isSwapCreated({\n                ownerAddress: flow.getParticipantAddress(flow.swap),\n                participantAddress: flow.getMyAddress(),\n                secretHash,\n              })\n              if (isSwapCreated) {\n                const destAddressIsOk = await this.ethLikeSwap.checkTargetAddress({ flow })\n\n                if (destAddressIsOk) {\n                  await this.btcSwap.fundSwapScript({\n                    flow,\n                  })\n                  return true\n                } else {\n                  console.warn('Destination address not valid. Stop swap now!')\n                }\n              }\n            } else {\n              flow.swap.room.sendMessage({\n                event: 'request utxo script',\n              })\n              return false\n            }\n          })\n        },\n\n        // 5 - `wait-withdraw-utxo` - wait withdraw UTXO - fetch secret from TX - getSecretFromTxhash\n        async () => {\n          await util.helpers.repeatAsyncUntilResult(async () => {\n            // check withdraw\n            const {\n              utxoScriptValues,\n            } = this.state\n            const { scriptAddress } = this.utxoBlockchain.createScript(utxoScriptValues)\n\n            const utxoWithdrawData = await this.btcSwap.checkWithdraw(scriptAddress)\n\n            if (utxoWithdrawData) {\n              const {\n                txid: utxoSwapWithdrawTransactionHash,\n              } = utxoWithdrawData\n\n              const secret = await this.btcSwap.getSecretFromTxhash(utxoSwapWithdrawTransactionHash)\n              if (secret) {\n                this.finishStep({\n                  secret,\n                  utxoSwapWithdrawTransactionHash,\n                }, 'wait-withdraw-utxo')\n              }\n              return true\n            } else {\n              return false\n            }\n          })\n        },\n\n        // 6 - `withdraw-eth` - withdraw from AB\n        async () => {\n          await flow.ethLikeSwap.withdrawFromABContract({ flow })\n        },\n\n        // 7 - `finish`\n        async () => {\n          // @to-do - txids room events\n          flow.finishStep({\n            isFinished: true,\n          }, 'finish')\n        },\n\n        // 8 - `end`\n        async () => {\n          \n        },\n      ]\n    }\n  }\n\n  getBTCScriptAddress() {\n    const { scriptAddress } = this.state\n    return scriptAddress;\n  }\n\n  async skipSyncBalance() {\n    this.finishStep({}, { step: 'sync-balance' })\n  }\n\n  getRefundTxHex = () => {\n    this.btcSwap.getRefundHexTransaction({\n      scriptValues: this.state.utxoScriptValues,\n      secret: this.state.secret,\n    })\n      .then((txHex) => {\n        this.setState({\n          refundTxHex: txHex,\n        })\n      })\n  }\n\n  tryRefund() {\n    const flow = this\n    const { utxoScriptValues, secret } = flow.state\n\n    return flow.btcSwap.refund({\n      scriptValues: utxoScriptValues,\n      secret: secret,\n    })\n      .then((hash) => {\n        if (!hash) {\n          return false\n        }\n\n        this.swap.room.sendMessage({\n          event: 'utxo refund completed',\n        })\n\n        flow.setState({\n          refundTransactionHash: hash,\n          isRefunded: true,\n          isSwapExist: false,\n        }, true)\n\n        return true\n      })\n      .catch((error) => {\n        if (/Address is empty/.test(error)) {\n          // TODO - fetch TX list to script for refund TX\n          flow.setState({\n            isRefunded: true,\n            isSwapExist: false,\n          }, true)\n          return true\n        } else {\n          console.warn('Btc refund:', error)\n\n          return false\n        }\n      })\n  }\n\n  async isRefundSuccess() {\n    const { refundTransactionHash, isRefunded } = this.state\n    if (refundTransactionHash && isRefunded) {\n      if (await this.btcSwap.checkTX(refundTransactionHash)) {\n        return true\n      } else {\n        console.warn('BTC2ETH - unknown refund transaction')\n        this.setState( {\n          refundTransactionHash: null,\n          isRefunded: false,\n        } )\n        return false\n      }\n    }\n    return false\n  }\n\n  async tryWithdraw(_secret) {\n    const { secret, secretHash, isEthWithdrawn } = this.state\n\n    if (!_secret)\n      throw new Error(`Withdrawal is automatic. For manual withdrawal, provide a secret`)\n\n    if (secret && secret != _secret)\n      console.warn(`Secret already known and is different. Are you sure?`)\n\n    if (isEthWithdrawn)\n      console.warn(`Looks like money were already withdrawn, are you sure?`)\n\n    debug('swap.core:flow')(`WITHDRAW using secret = ${_secret}`)\n\n    const _secretHash = this.app.env.bitcoin.crypto.ripemd160(Buffer.from(_secret, 'hex')).toString('hex')\n\n    if (secretHash != _secretHash)\n      console.warn(`Hash does not match! state: ${secretHash}, given: ${_secretHash}`)\n\n    const data = {\n      ownerAddress: this.getParticipantAddress(this.swap),\n      secret: _secret,\n    }\n\n    await this.ethLikeSwap.withdraw(data, (hash) => {\n      debug('swap.core:flow')(`TX hash=${hash}`)\n      this.setState({\n        ethLikeSwapWithdrawTransactionHash: hash,\n        canCreateEthTransaction: true,\n      })\n    }).then(() => {\n\n      this.finishStep({\n        isEthWithdrawn: true,\n      }, 'withdraw-eth')\n    })\n  }\n}\n\nexport default BtcToEthLike\n","import { constants } from 'swap.app'\nimport BtcToEthLike from './atomic/BtcToEthLike'\n\n\nclass BTC2ETH extends BtcToEthLike {\n  static getName() {\n    return `${this.getFromName()}2${this.getToName()}`\n  }\n\n  static getFromName() {\n    return constants.COINS.btc\n  }\n\n  static getToName() {\n    return constants.COINS.eth\n  }\n\n  constructor(swap) {\n    super(swap, {\n      flowName: `BTC2ETH`,\n      getMyAddress: swap.app.getMyEthAddress.bind(swap.app),\n      getParticipantAddress: swap.app.getParticipantEthAddress.bind(swap.app),\n    })\n  }\n}\n\nexport default BTC2ETH\n","import debug from 'debug'\nimport {util } from 'swap.app'\nimport { AtomicAB2UTXO } from 'swap.swap'\nimport Swap from 'swap.swap'\nimport { EthLikeTokenSwap, BtcSwap } from 'swap.swaps'\n\n\ninterface IEthLikeTokenToBtc {\n  blockchainName: string\n  tokenName: string\n  getMyAddress: Function\n  getParticipantAddress: Function\n}\n\nexport default class EthLikeTokenToBtc extends AtomicAB2UTXO {\n\n  ethTokenSwap: EthLikeTokenSwap\n  btcSwap: BtcSwap\n  state: any\n\n  getMyAddress: Function\n  getParticipantAddress: Function\n  blockchainName: string\n  tokenName: string\n\n  constructor(swap: Swap, options: IEthLikeTokenToBtc) {\n    super(swap)\n    if (!options.tokenName) {\n      throw new Error(`EthLikeTokenToBtc - option tokenName requery`)\n    }\n    if (!options.blockchainName) {\n      throw new Error(`EthLikeTokenToBtc - token ${options.tokenName} - option blockchainName requery`)\n    }\n    if (!options.getMyAddress || typeof options.getMyAddress !== 'function') {\n      throw new Error(`EthLikeTokenToBtc ${options.blockchainName} - token ${options.tokenName} - option getMyAddress - function requery`)\n    }\n    if (!options.getParticipantAddress || typeof options.getParticipantAddress !== 'function') {\n      throw new Error(`EthLikeTokenToBtc ${options.blockchainName} - token ${options.tokenName} - option getParticipantAddress - function requery`)\n    }\n\n    this.blockchainName = options.blockchainName\n    this.tokenName = options.tokenName\n    this.getMyAddress = options.getMyAddress\n    this.getParticipantAddress = options.getParticipantAddress\n\n    this.utxoCoin = `btc`\n\n    this.isTakerMakerModel = true\n    this.setupTakerMakerEvents()\n    this.stepNumbers = this.getStepNumbers()\n\n    this.ethTokenSwap = swap.participantSwap\n    this.btcSwap = swap.ownerSwap\n\n    this.abBlockchain = this.ethTokenSwap\n    this.utxoBlockchain = this.btcSwap\n\n    if (!this.ethTokenSwap) {\n      throw new Error('ETHTOKEN2BTC: \"ethTokenSwap\" of type object required')\n    }\n    if (!this.btcSwap) {\n      throw new Error('ETHTOKEN2BTC: \"btcSwap\" of type object required')\n    }\n\n    this.state = {\n      step: 0,\n\n      isStoppedSwap: false,\n\n      signTransactionHash: null,\n      isSignFetching: false,\n      isMeSigned: false,\n\n      targetWallet : null,\n      secretHash: null,\n\n      isBalanceFetching: false,\n      isBalanceEnough: true,\n      balance: null,\n\n      ethSwapCreationTransactionHash: null,\n      canCreateEthTransaction: true,\n      isEthContractFunded: false,\n\n      secret: null,\n\n      isEthWithdrawn: false,\n      isbtcWithdrawn: false,\n\n      ethSwapWithdrawTransactionHash: null,\n      utxoSwapWithdrawTransactionHash: null,\n\n      refundTransactionHash: null,\n      isRefunded: false,\n\n      isFinished: false,\n      isSwapExist: false,\n\n      withdrawRequestIncoming: false,\n      withdrawRequestAccepted: false,\n\n      isFailedTransaction: false,\n      isFailedTransactionError: null,\n      gasAmountNeeded: 0,\n    }\n\n    this._persistState()\n\n    const flow = this\n\n    if (this.isTaker()) {\n      flow.swap.room.on('create utxo script', (data) => {\n        const {\n          utxoScriptCreatingTransactionHash,\n        } = data\n        flow.setState({\n          utxoScriptCreatingTransactionHash,\n        }, true)\n      })\n      flow.swap.room.on('ethWithdrawTxHash', (data) => {\n        const {\n          ethSwapWithdrawTransactionHash,\n        } = data\n        flow.setState({\n          ethSwapWithdrawTransactionHash,\n        })\n      })\n    } else {\n      flow.swap.room.once('request withdraw', () => {\n        flow.setState({\n          withdrawRequestIncoming: true,\n        })\n      })\n\n      flow.swap.room.on('wait btc confirm', () => {\n        flow.setState({\n          waitBtcConfirm: true,\n        })\n      })\n\n      flow.swap.room.on('request eth contract', () => {\n        const { ethSwapCreationTransactionHash } = flow.state\n\n        if (ethSwapCreationTransactionHash) {\n          console.log('Exists - send hash')\n          flow.swap.room.sendMessage({\n            event: 'create eth contract',\n            data: {\n              ethSwapCreationTransactionHash,\n            },\n          })\n        }\n      })\n    }\n\n    super._persistSteps()\n  }\n\n  _persistState() {\n    super._persistState()\n  }\n\n  //@ts-ignore: strictNullChecks\n  _getSteps() {\n    const flow = this\n\n    if (this.isMaker()) {\n      return [\n\n        // 1. Sign swap to start\n\n        () => {\n          this.signABSide()\n        },\n\n        // 2. Wait participant create, fund BTC Script\n\n        () => {\n          flow.waitUTXOScriptCreated()\n        },\n\n        // 3. Verify BTC Script\n\n        () => {\n          debug('swap.core:flow')(`waiting verify btc script`)\n          this.verifyScript()\n        },\n\n        // 4. Check balance\n\n        () => {\n          this.syncBalance()\n        },\n\n        // 5. Create ETH Contract\n\n        async () => {\n          const scriptFunded = await this.waitUTXOScriptFunded()\n\n          if (scriptFunded) {\n            await flow.ethTokenSwap.fundERC20Contract({\n              flow,\n            })\n          }\n        },\n\n        // 6. Wait participant withdraw\n\n        async () => {\n          const {\n            secretHash,\n          } = this.state\n\n          await util.helpers.repeatAsyncUntilResult(async () => {\n            const isSwapCreated = await flow.ethTokenSwap.isSwapCreated({\n              ownerAddress: flow.getMyAddress(),\n              participantAddress: flow.getParticipantAddress(flow.swap),\n              secretHash,\n            })\n\n            if (isSwapCreated) {\n              await flow.ethTokenSwap.getSecretFromContract({ flow })\n              return true\n            }\n            return false\n          })\n        },\n\n        // 7. Withdraw\n\n        async () => {\n          await this.btcSwap.withdrawFromSwap({\n            flow,\n          })\n        },\n\n        // 8. Finish\n\n        () => {\n          flow.swap.room.once('request swap finished', () => {\n            const { utxoSwapWithdrawTransactionHash } = flow.state\n\n            flow.swap.room.sendMessage({\n              event: 'swap finished',\n              data: {\n                utxoSwapWithdrawTransactionHash,\n              },\n            })\n          })\n\n          flow.finishStep({\n            isFinished: true,\n          }, { step: 'finish' })\n        },\n\n        // 9. Finished!\n\n        () => {},\n      ]\n    } else {\n      return [\n        // 1 - `sign` - Signs\n        async () => {\n          this.signABSide()\n        },\n\n        // 2 - `sync-balance` - syncBalance\n        async () => {\n          this.syncBalance()\n        },\n\n        // 3 - `lock-eth` - create AB contract - создание секрета, хеша, отправка хеша\n        async () => {\n          if (!this.state.secret) {\n            const {\n              secret,\n              secretHash,\n            } = this.generateSecret()\n\n            this.createWorkUTXOScript(secretHash, false)\n\n            this.setState({\n              secret,\n              secretHash,\n            }, true)\n          }\n\n          await flow.ethTokenSwap.fundERC20Contract({\n            flow,\n            // Использует принудительно адрес назначения (куда отправить монеты)\n            // Это нужно, чтобы тейкер, дождавшись пополнения utxo не снял монеты с ab контракта использу\n            // Так-же на стороне UTXO перед пополнением скрипта делаем\n            // проверку адреса назначения на ab контракте используя getTargetWallet\n            useTargetWallet: true,\n          })\n        },\n\n        // 4 - `wait-lock-utxo` - wait create UTXO\n        async () => {\n          await util.helpers.repeatAsyncUntilResult(async () => {\n            const isUTXOFunded = await this.waitUTXOScriptFunded()\n            if (isUTXOFunded) {\n              this.finishStep({}, 'wait-lock-utxo`')\n              return true\n            }\n            return false\n          })\n        },\n\n        // 5 - `withdraw-utxo` - withdraw from UTXO\n        async () => {\n          await this.btcSwap.withdrawFromSwap({\n            flow,\n          })\n        },\n\n        // 6 - `finish`\n        async () => {\n          // @to-do - txids room events\n          flow.finishStep({\n            isFinished: true,\n          }, 'finish')\n        },\n\n        // 7 - `end`\n        async () => {},\n      ]\n    }\n  }\n\n  _checkSwapAlreadyExists() {\n    const swapData = {\n      ownerAddress: this.getMyAddress(),\n      participantAddress: this.getParticipantAddress(this.swap)\n    }\n\n    return this.ethTokenSwap.checkSwapExists(swapData)\n  }\n\n  async tryRefund() {\n    const { secretHash } = this.state\n\n    const refundHandler = (hash = null) => {\n      this.swap.room.sendMessage({\n        event: 'eth refund completed',\n      })\n\n      this.setState({\n        refundTransactionHash: hash,\n        isRefunded: true,\n        isSwapExist: false,\n      }, true)\n    }\n\n    try {\n      const wasRefunded = await this.ethTokenSwap.wasRefunded({ secretHash })\n\n      if (wasRefunded) {\n        debug('swap.core:flow')('This swap was refunded')\n\n        refundHandler()\n\n        return true\n      }\n    } catch (error) {\n      console.warn('wasRefunded error:', error)\n\n      return false\n    }\n\n    return this.ethTokenSwap.refund({\n      participantAddress: this.getParticipantAddress(this.swap),\n    })\n      .then((hash) => {\n        if (!hash) {\n          return false\n        }\n\n        //@ts-ignore: strictNullChecks\n        refundHandler(hash)\n\n        return true\n      })\n      .catch((error) => false)\n  }\n\n\n\n  async isRefundSuccess() {\n    return true\n  }\n\n  async tryWithdraw(_secret) {\n    const { secret, secretHash, isbtcWithdrawn, utxoScriptValues } = this.state\n\n    if (!_secret)\n      throw new Error(`Withdrawal is automatic. For manual withdrawal, provide a secret`)\n\n    if (!utxoScriptValues)\n      throw new Error(`Cannot withdraw without script values`)\n\n    if (secret && secret != _secret)\n      console.warn(`Secret already known and is different. Are you sure?`)\n\n    if (isbtcWithdrawn)\n      console.warn(`Looks like money were already withdrawn, are you sure?`)\n\n    debug('swap.core:flow')(`WITHDRAW using secret = ${_secret}`)\n\n    const _secretHash = this.app.env.bitcoin.crypto.ripemd160(Buffer.from(_secret, 'hex')).toString('hex')\n\n    if (secretHash != _secretHash)\n      console.warn(`Hash does not match! state: ${secretHash}, given: ${_secretHash}`)\n\n    const {scriptAddress} = this.btcSwap.createScript(utxoScriptValues)\n    const balance = await this.btcSwap.getBalance(scriptAddress)\n\n    debug('swap.core:flow')(`address=${scriptAddress}, balance=${balance}`)\n\n    if (balance === 0) {\n      this.finishStep({\n        isbtcWithdrawn: true,\n      }, {step: 'withdraw-utxo'})\n      throw new Error(`Already withdrawn: address=${scriptAddress},balance=${balance}`)\n    }\n\n    this.btcSwap.withdraw({\n      scriptValues: utxoScriptValues,\n      secret: _secret,\n    }).then((hash) => {\n      debug('swap.core:flow')(`TX hash=${hash}`)\n      this.setState({\n        utxoSwapWithdrawTransactionHash: hash,\n      })\n\n      debug('swap.core:flow')(`TX withdraw sent: ${this.state.utxoSwapWithdrawTransactionHash}`)\n\n      this.finishStep({\n        isbtcWithdrawn: true,\n      }, { step: 'withdraw-utxo' })\n    })\n  }\n}","import { constants } from 'swap.app'\nimport EthLikeTokenToBtc from './atomic/EthLikeTokenToBtc'\n\n\nexport default (tokenName) => {\n\n  class ETHTOKEN2BTC extends EthLikeTokenToBtc {\n    _flowName: string\n    static blockchainName = `ETH`\n\n    static getName() {\n      return `${this.getFromName()}2${this.getToName()}`\n    }\n    static getFromName() {\n      return `{${this.blockchainName}}${tokenName.toUpperCase()}`\n    }\n    static getToName() {\n      return constants.COINS.btc\n    }\n\n    constructor(swap) {\n      super(swap, {\n        blockchainName: `ETH`,\n        tokenName,\n        getMyAddress: swap.app.getMyEthAddress.bind(swap.app),\n        getParticipantAddress: swap.app.getParticipantEthAddress.bind(swap.app),\n      })\n      this._flowName = ETHTOKEN2BTC.getName()\n    }\n  }\n\n  return ETHTOKEN2BTC\n}\n","import debug from 'debug'\nimport { util } from 'swap.app'\nimport { AtomicAB2UTXO } from 'swap.swap'\nimport Swap from 'swap.swap'\nimport { EthLikeTokenSwap, BtcSwap } from 'swap.swaps'\n\n\ninterface IBtcToEthLikeToken {\n  blockchainName: string\n  tokenName: string\n  getMyAddress: Function\n  getParticipantAddress: Function\n}\n\nexport default class BtcToEthLikeToken extends AtomicAB2UTXO {\n\n  ethTokenSwap: EthLikeTokenSwap\n  btcSwap: BtcSwap\n  state: any\n\n  getMyAddress: Function\n  getParticipantAddress: Function\n  blockchainName: string\n  tokenName: string\n\n  constructor(swap: Swap, options: IBtcToEthLikeToken) {\n    super(swap)\n    if (!options.tokenName) {\n      throw new Error(`BtcToEthLikeToken - option tokenName requery`)\n    }\n    if (!options.blockchainName) {\n      throw new Error(`BtcToEthLikeToken - token ${options.tokenName} - option blockchainName requery`)\n    }\n    if (!options.getMyAddress || typeof options.getMyAddress !== 'function') {\n      throw new Error(`BtcToEthLikeToken ${options.blockchainName} - token ${options.tokenName} - option getMyAddress - function requery`)\n    }\n    if (!options.getParticipantAddress || typeof options.getParticipantAddress !== 'function') {\n      throw new Error(`BtcToEthLikeToken ${options.blockchainName} - token ${options.tokenName} - option getParticipantAddress - function requery`)\n    }\n\n    this.blockchainName = options.blockchainName\n    this.tokenName = options.tokenName\n    this.getMyAddress = options.getMyAddress\n    this.getParticipantAddress = options.getParticipantAddress\n\n    this.utxoCoin = `btc`\n\n    this.isUTXOSide = true\n    this.isTakerMakerModel = true\n    this.setupTakerMakerEvents()\n\n    this.stepNumbers = this.getStepNumbers()\n\n    this.ethTokenSwap = swap.ownerSwap\n    this.btcSwap      = swap.participantSwap\n\n    this.abBlockchain = this.ethTokenSwap\n    this.utxoBlockchain = this.btcSwap\n\n    if (!this.ethTokenSwap) {\n      throw new Error('BTC2ETH: \"ethTokenSwap\" of type object required')\n    }\n    if (!this.btcSwap) {\n      throw new Error('BTC2ETH: \"btcSwap\" of type object required')\n    }\n\n    this.state = {\n      step: 0,\n\n      isStoppedSwap: false,\n\n      signTransactionHash: null,\n      isSignFetching: false,\n      isParticipantSigned: false,\n\n      ethSwapCreationTransactionHash: null,\n\n      secretHash: null,\n\n      isBalanceFetching: false,\n      isBalanceEnough: true,\n      balance: null,\n\n      isEthContractFunded: false,\n\n      utxoSwapWithdrawTransactionHash: null,\n      ethSwapWithdrawTransactionHash: null,\n\n      secret: null,\n\n      canCreateEthTransaction: true,\n      isEthWithdrawn: false,\n\n      refundTransactionHash: null,\n      isRefunded: false,\n\n      withdrawFee: null,\n      refundTxHex: null,\n      isFinished: false,\n      isSwapExist: false,\n      utxoFundError: null,\n    }\n\n    const flow = this\n\n    if (this.isMaker()) {\n      this.swap.room.once('create eth contract', async ({\n        ethSwapCreationTransactionHash,\n      }) => {\n        flow.setState({\n          ethSwapCreationTransactionHash,\n        }, true)\n      })\n    }\n\n    this._persistState()\n    super._persistSteps()\n  }\n\n  _persistState() {\n    super._persistState()\n  }\n\n  //@ts-ignore: strictNullChecks\n  _getSteps() {\n    const flow = this\n\n    if (this.isTaker()) {\n      return [\n\n        // 1. Signs\n\n        async () => {\n          this.signUTXOSide()\n        },\n\n        // 2. Create secret, secret hash and BTC script\n\n        () => {\n          this.submitSecret()\n        },\n\n        // 3. Check system wallet balance\n\n        () => {\n          this.syncBalance()\n        },\n\n        // 4. Create BTC Script, fund, notify participant\n\n        async () => {\n          await this.btcSwap.fundSwapScript({\n            flow,\n          })\n        },\n\n        // 5. Wait participant creates ETH Contract\n\n        async () => {\n          await this.ethTokenSwap.waitAB2UTXOContract({\n            flow,\n            utxoCoin: `btc`,\n          })\n        },\n\n        // 6. Withdraw\n\n        async () => {\n          await flow.ethTokenSwap.withdrawFromABContract({ flow })\n        },\n\n        // 7. Finish\n\n        () => {\n          flow.swap.room.once('swap finished', ({utxoSwapWithdrawTransactionHash}) => {\n            flow.setState({\n              utxoSwapWithdrawTransactionHash,\n            })\n          })\n\n          flow.swap.room.sendMessage({\n            event: 'request swap finished',\n          })\n\n          flow.finishStep({\n            isFinished: true,\n          }, 'finish')\n        },\n\n        // 8. Finished!\n\n        () => {}\n      ]\n    } else {\n      return [\n        // 1 - `sign` Signs\n        async () => {\n          this.signUTXOSide()\n        },\n\n        // 2 - `sync-balance` - syncBalance\n        async () => {\n          this.syncBalance()\n        },\n\n        // 3 - `wait-lock-eth` - wait taker create AB - обмен хешем\n        async () => {\n          await util.helpers.repeatAsyncUntilResult(async () => {\n            const isContractFunded = await this.ethTokenSwap.isContractFunded(this)\n\n            if (isContractFunded) {\n              this.finishStep({\n                isEthContractFunded: true,\n              }, 'wait-lock-eth`')\n              return true\n            }\n            return false\n          })\n        },\n\n        // 4 - `lock-utxo` - create UTXO\n        async () => {\n          // Repeat until \n          await util.helpers.repeatAsyncUntilResult(async () => {\n            const {\n              secretHash,\n              utxoScriptValues\n            } = flow.state\n            if (secretHash && utxoScriptValues) {\n              const isSwapCreated = await flow.ethTokenSwap.isSwapCreated({\n                ownerAddress: flow.getParticipantAddress(flow.swap),\n                participantAddress: flow.getMyAddress(),\n                secretHash,\n              })\n              if (isSwapCreated) {\n                // check - token is valid\n                const tokenIsValid = await this.ethTokenSwap.checkTokenIsValid({\n                  ownerAddress: flow.getParticipantAddress(flow.swap),\n                  participantAddress: flow.getMyAddress(),\n                })\n                const tokenIsValid2 = await this.ethTokenSwap.checkTokenIsValid({\n                  ownerAddress: flow.getMyAddress(),\n                  participantAddress: flow.getParticipantAddress(flow.swap),\n                })\n\n                const destAddressIsOk = await this.ethTokenSwap.checkTargetAddress({ flow })\n\n                if (destAddressIsOk) {\n                  await this.btcSwap.fundSwapScript({\n                    flow,\n                  })\n                  return true\n                } else {\n                  console.warn('Destination address not valid. Stop swap now!')\n                }\n              } else {\n                console.log('Swap not mined - wait')\n              }\n            } else {\n              flow.swap.room.sendMessage({\n                event: 'request utxo script',\n              })\n              return false\n            }\n          })\n        },\n\n        // 5 - `wait-withdraw-utxo` - wait withdraw UTXO - fetch secret from TX - getSecretFromTxhash\n        async () => {\n          await util.helpers.repeatAsyncUntilResult(async () => {\n            // check withdraw\n            try {\n              const {\n                utxoScriptValues,\n              } = this.state\n              const { scriptAddress } = this.utxoBlockchain.createScript(utxoScriptValues)\n\n              const utxoWithdrawData = await this.btcSwap.checkWithdraw(scriptAddress)\n\n              if (utxoWithdrawData) {\n                const {\n                  txid: utxoSwapWithdrawTransactionHash,\n                } = utxoWithdrawData\n\n                const secret = await this.btcSwap.getSecretFromTxhash(utxoSwapWithdrawTransactionHash)\n                if (secret) {\n                  this.finishStep({\n                    secret,\n                    utxoSwapWithdrawTransactionHash,\n                  }, 'wait-withdraw-utxo')\n                }\n                return true\n              } else {\n                return false\n              }\n            } catch (e) {\n              console.log('>>>> BTC2ETHTOKEN - Step 5 error')\n              console.error(e)\n              return false\n            }\n          })\n        },\n\n        // 6 - `withdraw-eth` - withdraw from AB\n        async () => {\n          await flow.ethTokenSwap.withdrawFromABContract({ flow })\n        },\n\n        // 7 - `finish`\n        async () => {\n          // @to-do - txids room events\n          flow.finishStep({\n            isFinished: true,\n          }, 'finish')\n        },\n\n        // 8 - `end`\n        async () => {},\n      ]\n    }\n  }\n\n  async skipSyncBalance() {\n    this.finishStep({}, { step: 'sync-balance' })\n  }\n\n  getRefundTxHex = () => {\n    this.btcSwap.getRefundHexTransaction({\n      scriptValues: this.state.utxoScriptValues,\n      secret: this.state.secret,\n    })\n      .then((txHex) => {\n        this.setState({\n          refundTxHex: txHex,\n        })\n      })\n  }\n\n  tryRefund() {\n    const flow = this\n    const { utxoScriptValues, secret } = flow.state\n\n    return flow.btcSwap.refund({\n      scriptValues: utxoScriptValues,\n      secret: secret,\n    })\n      .then((hash) => {\n        if (!hash) {\n          return false\n        }\n\n        this.swap.room.sendMessage({\n          event: 'utxo refund completed',\n        })\n\n        flow.setState({\n          refundTransactionHash: hash,\n          isRefunded: true,\n          isSwapExist: false,\n        }, true)\n\n        return true\n      })\n      .catch((error) => {\n        if (/Address is empty/.test(error)) {\n          // TODO - fetch TX list to script for refund TX\n          flow.setState({\n            isRefunded: true,\n            isSwapExist: false,\n          }, true)\n          return true\n        } else {\n          console.warn('Btc refund:', error)\n\n          return false\n        }\n      })\n  }\n\n  async isRefundSuccess() {\n    const { refundTransactionHash, isRefunded } = this.state\n    if (refundTransactionHash && isRefunded) {\n      if (await this.btcSwap.checkTX(refundTransactionHash)) {\n        return true\n      } else {\n        console.warn('BTC2ETHTOKEN - unknown refund transaction')\n        this.setState( {\n          refundTransactionHash: null,\n          isRefunded: false,\n        } )\n        return false\n      }\n    }\n    return false\n  }\n\n  async tryWithdraw(_secret) {\n    const { secret, secretHash, isEthWithdrawn } = this.state\n\n    if (!_secret)\n      throw new Error(`Withdrawal is automatic. For manual withdrawal, provide a secret`)\n\n    if (secret && secret != _secret)\n      console.warn(`Secret already known and is different. Are you sure?`)\n\n    if (isEthWithdrawn)\n      console.warn(`Looks like money were already withdrawn, are you sure?`)\n\n    debug('swap.core:flow')(`WITHDRAW using secret = ${_secret}`)\n\n    const _secretHash = this.app.env.bitcoin.crypto.ripemd160(Buffer.from(_secret, 'hex')).toString('hex')\n\n    if (secretHash != _secretHash)\n      console.warn(`Hash does not match! state: ${secretHash}, given: ${_secretHash}`)\n\n    const data = {\n      ownerAddress: this.getParticipantAddress(this.swap),\n      secret: _secret,\n    }\n\n    await this.ethTokenSwap.withdraw(data, (hash) => {\n      debug('swap.core:flow')(`TX hash=${hash}`)\n      this.setState({\n        ethSwapWithdrawTransactionHash: hash,\n        canCreateEthTransaction: true,\n      })\n    }).then(() => {\n\n      this.finishStep({\n        isEthWithdrawn: true,\n      }, 'withdraw-eth')\n    })\n  }\n}\n","import { constants } from 'swap.app'\nimport BtcToEthLikeToken from './atomic/BtcToEthLikeToken'\n\n\nexport default (tokenName) => {\n  class BTC2ETHTOKEN extends BtcToEthLikeToken {\n    _flowName: string\n    static blockchainName = `ETH`\n\n    static getName() {\n      return `${this.getFromName()}2${this.getToName()}`\n    }\n    static getFromName() {\n      return constants.COINS.btc\n    }\n    static getToName() {\n      return `{${this.blockchainName}}${tokenName.toUpperCase()}`\n    }\n\n    constructor(swap) {\n      super(swap, {\n        blockchainName: `ETH`,\n        tokenName,\n        getMyAddress: swap.app.getMyEthAddress.bind(swap.app),\n        getParticipantAddress: swap.app.getParticipantEthAddress.bind(swap.app),\n      })\n\n      this._flowName = BTC2ETHTOKEN.getName()\n    }\n  }\n\n  return BTC2ETHTOKEN\n}\n","import debug from 'debug'\nimport SwapApp, { constants, util } from 'swap.app'\nimport { AtomicAB2UTXO } from 'swap.swap'\nimport { BigNumber } from 'bignumber.js'\n\n\nclass GHOST2ETH extends AtomicAB2UTXO {\n\n  _flowName: string\n  ghostSwap: any\n  ethSwap: any\n  state: any\n\n  static getName() {\n    return `${this.getFromName()}2${this.getToName()}`\n  }\n  static getFromName() {\n    return constants.COINS.ghost\n  }\n  static getToName() {\n    return constants.COINS.eth\n  }\n\n  constructor(swap) {\n    super(swap)\n    this.utxoCoin = `ghost`\n\n    this._flowName = GHOST2ETH.getName()\n\n    this.stepNumbers = {\n      'sign': 1,\n      'submit-secret': 2,\n      'sync-balance': 3,\n      'lock-utxo': 4,\n      'wait-lock-eth': 5,\n      'withdraw-eth': 6,\n      'finish': 7,\n      'end': 8\n    }\n\n    this.ethSwap = swap.ownerSwap\n    this.ghostSwap = swap.participantSwap\n\n    this.abBlockchain = this.ethSwap\n    this.utxoBlockchain = this.ghostSwap\n    this.isUTXOSide = true\n\n    if (!this.ethSwap) {\n      throw new Error('GHOST2ETH: \"ethSwap\" of type object required')\n    }\n    if (!this.ghostSwap) {\n      throw new Error('GHOST2ETH: \"ghostSwap\" of type object required')\n    }\n\n    this.state = {\n      step: 0,\n\n      isStoppedSwap: false,\n\n      signTransactionHash: null,\n      isSignFetching: false,\n      isParticipantSigned: false,\n\n      ethSwapCreationTransactionHash: null,\n\n      secretHash: null,\n\n      isBalanceFetching: false,\n      isBalanceEnough: true,\n      balance: null,\n\n      isEthContractFunded: false,\n\n      utxoSwapWithdrawTransactionHash: null,\n      ethSwapWithdrawTransactionHash: null,\n\n      canCreateEthTransaction: true,\n      isEthWithdrawn: false,\n\n      refundTransactionHash: null,\n      isRefunded: false,\n\n      withdrawFee: null,\n      refundTxHex: null,\n      isFinished: false,\n      isSwapExist: false,\n\n      requireWithdrawFee: false,\n    }\n\n    this._persistState()\n    super._persistSteps()\n  }\n\n  _persistState() {\n    super._persistState()\n  }\n\n  //@ts-ignore: strictNullChecks\n  _getSteps() {\n    const flow = this\n\n    return [\n\n      // 1. Signs\n\n      async () => {\n        this.signUTXOSide()\n      },\n\n      // 2. Create secret, secret hash and BTC script\n\n      () => {\n        this.submitSecret()\n      },\n\n      // 3. Check balance\n\n      () => {\n        this.syncBalance()\n      },\n\n      // 4. Create BTC Script, fund, notify participant\n\n      async () => {\n        const onTransactionHash = (txID) => {\n          const { utxoScriptCreatingTransactionHash, utxoScriptValues } = flow.state\n\n          if (utxoScriptCreatingTransactionHash) {\n            return\n          }\n\n          flow.setState({\n            utxoScriptCreatingTransactionHash: txID,\n          })\n\n          flow.swap.room.once('request utxo script', () => {\n            flow.swap.room.sendMessage({\n              event:  'create utxo script',\n              data: {\n                scriptValues: utxoScriptValues,\n                utxoScriptCreatingTransactionHash: txID,\n              }\n            })\n          })\n\n          flow.swap.room.sendMessage({\n            event: 'create utxo script',\n            data: {\n              scriptValues : utxoScriptValues,\n              utxoScriptCreatingTransactionHash : txID,\n            }\n          })\n        }\n\n        const { sellAmount } = flow.swap\n        const { isBalanceEnough, utxoScriptValues } = flow.state\n\n        if (isBalanceEnough) {\n          await flow.ghostSwap.fundScript({\n            scriptValues: utxoScriptValues,\n            amount: sellAmount,\n          })\n        }\n\n        const checkGHOSTScriptBalance = async () => {\n          const { scriptAddress } = this.ghostSwap.createScript(utxoScriptValues)\n          const unspents = await this.ghostSwap.fetchUnspents(scriptAddress)\n\n          if (unspents.length === 0) {\n            return false\n          }\n\n          const txID = unspents[0].txid\n\n          const balance = await this.ghostSwap.getBalance(utxoScriptValues)\n\n          const isEnoughMoney = new BigNumber(balance).isGreaterThanOrEqualTo(sellAmount.times(1e8))\n\n          if (isEnoughMoney) {\n            flow.setState({\n              scriptBalance: new BigNumber(balance).div(1e8).dp(8),\n            })\n\n            onTransactionHash(txID)\n          }\n\n          return isEnoughMoney\n        }\n\n        await util.helpers.repeatAsyncUntilResult(async (stopRepeat) => {\n          const { isStoppedSwap } = flow.state\n\n          if (!isStoppedSwap) {\n            return await checkGHOSTScriptBalance()\n          } else {\n            stopRepeat()\n          }\n        })\n\n        const { isStoppedSwap } = flow.state\n\n        if (!isStoppedSwap) {\n          flow.finishStep({\n            isGhostScriptFunded: true,\n          }, { step: 'lock-utxo' })\n        }\n      },\n\n      // 5. Wait participant creates ETH Contract\n\n      async () => {\n        await flow.ethSwap.waitAB2UTXOContract({\n          flow,\n          utxoCoin: `ghost`,\n        })\n      },\n\n      // 6. Withdraw\n\n      async () => {\n        await flow.ethSwap.withdrawFromAB2UTXO({ flow })\n      },\n\n      // 7. Finish\n\n      () => {\n        flow.swap.room.once('swap finished', ({utxoSwapWithdrawTransactionHash}) => {\n          flow.setState({\n            utxoSwapWithdrawTransactionHash,\n          })\n        })\n\n        flow.swap.room.sendMessage({\n          event: 'request swap finished',\n        })\n\n        flow.finishStep({\n          isFinished: true,\n        }, 'finish')\n      },\n\n      // 8. Finished!\n\n      () => {}\n    ]\n  }\n\n  async skipSyncBalance() {\n    this.finishStep({}, { step: 'sync-balance' })\n  }\n\n  getRefundTxHex = () => {\n    this.ghostSwap.getRefundHexTransaction({\n      scriptValues: this.state.utxoScriptValues,\n      secret: this.state.secret,\n    })\n      .then((txHex) => {\n        this.setState({\n          refundTxHex: txHex,\n        })\n      })\n  }\n\n  tryRefund() {\n    const flow = this\n    const { utxoScriptValues, secret } = flow.state\n\n    return flow.ghostSwap.refund({\n      scriptValues: utxoScriptValues,\n      secret: secret,\n    })\n      .then((hash) => {\n        if (!hash) {\n          return false\n        }\n\n        this.swap.room.sendMessage({\n          event: 'utxo refund completed',\n        })\n\n        flow.setState({\n          refundTransactionHash: hash,\n          isRefunded: true,\n          isSwapExist: false,\n        }, true)\n\n        return true\n      })\n      .catch((error) => {\n        if (/Address is empty/.test(error)) {\n          // TODO - fetch TX list to script for refund TX\n          flow.setState({\n            isRefunded: true,\n            isSwapExist: false,\n          }, true)\n          return true\n        } else {\n          console.warn('Ghost refund:', error)\n\n          return false\n        }\n      })\n  }\n\n  async isRefundSuccess() {\n    const { refundTransactionHash, isRefunded } = this.state\n    if (refundTransactionHash && isRefunded) {\n      if (await this.ghostSwap.checkTX(refundTransactionHash)) {\n        return true\n      } else {\n        console.warn('GHOST2ETH - unknown refund transaction')\n        this.setState( {\n          refundTransactionHash: null,\n          isRefunded: false,\n        } )\n        return false\n      }\n    }\n    return false\n  }\n\n  async tryWithdraw(_secret) {\n    const { secret, secretHash, isEthWithdrawn } = this.state\n\n    if (!_secret)\n      throw new Error(`Withdrawal is automatic. For manual withdrawal, provide a secret`)\n\n    if (secret && secret != _secret)\n      console.warn(`Secret already known and is different. Are you sure?`)\n\n    if (isEthWithdrawn)\n      console.warn(`Looks like money were already withdrawn, are you sure?`)\n\n    debug('swap.core:flow')(`WITHDRAW using secret = ${_secret}`)\n\n    const _secretHash = this.app.env.bitcoin.crypto.ripemd160(Buffer.from(_secret, 'hex')).toString('hex')\n\n    if (secretHash != _secretHash)\n      console.warn(`Hash does not match! state: ${secretHash}, given: ${_secretHash}`)\n\n    const data = {\n      ownerAddress: this.app.getParticipantEthAddress(this.swap),\n      secret: _secret,\n    }\n\n    await this.ethSwap.withdraw(data, (hash) => {\n      debug('swap.core:flow')(`TX hash=${hash}`)\n      this.setState({\n        ethSwapWithdrawTransactionHash: hash,\n        canCreateEthTransaction: true,\n      })\n    }).then(() => {\n\n      this.finishStep({\n        isEthWithdrawn: true,\n      }, 'withdraw-eth')\n    })\n  }\n}\n\nexport default GHOST2ETH\n","import debug from 'debug'\nimport SwapApp, { constants, util } from 'swap.app'\nimport { AtomicAB2UTXO } from 'swap.swap'\n\n\nclass ETH2GHOST extends AtomicAB2UTXO {\n\n  _flowName: string\n  ethSwap: any\n  ghostSwap: any\n  state: any\n\n  static getName() {\n    return `${this.getFromName()}2${this.getToName()}`\n  }\n  static getFromName() {\n    return constants.COINS.eth\n  }\n  static getToName() {\n    return constants.COINS.ghost\n  }\n  constructor(swap) {\n    super(swap)\n    this.utxoCoin = `ghost`\n    this._flowName = ETH2GHOST.getName()\n\n    this.stepNumbers = {\n      'sign': 1,\n      'wait-lock-utxo': 2,\n      'verify-script': 3,\n      'sync-balance': 4,\n      'lock-eth': 5,\n      'wait-withdraw-eth': 6, // aka getSecret\n      'withdraw-utxo': 7,\n      'finish': 8,\n      'end': 9\n    }\n\n    this.ethSwap = swap.participantSwap\n    this.ghostSwap = swap.ownerSwap\n\n    this.abBlockchain = this.ethSwap\n    this.utxoBlockchain = this.ghostSwap\n\n    if (!this.ethSwap) {\n      throw new Error('ETH2GHOST: \"ethSwap\" of type object required')\n    }\n    if (!this.ghostSwap) {\n      throw new Error('ETH2GHOST: \"ghostSwap\" of type object required')\n    }\n\n    this.state = {\n      step: 0,\n\n      isStoppedSwap: false,\n\n      signTransactionHash: null,\n      isSignFetching: false,\n      isMeSigned: false,\n\n      targetWallet : null,\n      secretHash: null,\n\n      isBalanceFetching: false,\n      isBalanceEnough: true,\n      balance: null,\n\n      ethSwapCreationTransactionHash: null,\n      canCreateEthTransaction: true,\n      isEthContractFunded: false,\n\n      secret: null,\n\n      isEthWithdrawn: false,\n      isGhostWithdrawn: false,\n\n      ethSwapWithdrawTransactionHash: null,\n      utxoSwapWithdrawTransactionHash: null,\n\n      refundTransactionHash: null,\n      isRefunded: false,\n\n      isFinished: false,\n      isSwapExist: false,\n\n      withdrawRequestIncoming: false,\n      withdrawRequestAccepted: false,\n\n      isFailedTransaction: false,\n      isFailedTransactionError: null,\n    }\n\n    this._persistState()\n\n    const flow = this\n    flow.swap.room.once('request withdraw', () => {\n      flow.setState({\n        withdrawRequestIncoming: true,\n      })\n    })\n\n    flow.swap.room.on('request eth contract', () => {\n      console.log('Requesting eth contract')\n      const { ethSwapCreationTransactionHash } = flow.state\n\n      if (ethSwapCreationTransactionHash) {\n        console.log('Exists - send hash')\n        flow.swap.room.sendMessage({\n          event: 'create eth contract',\n          data: {\n            ethSwapCreationTransactionHash,\n          },\n        })\n      }\n    })\n\n    super._persistSteps()\n  }\n\n  _persistState() {\n    super._persistState()\n  }\n\n  //@ts-ignore: strictNullChecks\n  _getSteps() {\n    const flow = this\n\n    return [\n\n      // 1. Sign swap to start\n\n      () => {\n        this.signABSide()\n      },\n\n      // 2. Wait participant create, fund BTC Script\n\n      () => {\n        flow.waitUTXOScriptCreated()\n      },\n\n      // 3. Verify GHOST Script\n\n      () => {\n        debug('swap.core:flow')(`waiting verify ghost script`)\n        this.verifyScript()\n      },\n\n      // 4. Check balance\n\n      () => {\n        this.syncBalance()\n      },\n\n      // 5. Create ETH Contract\n\n      async () => {\n        await flow.ethSwap.fundAB2UTXOContract({\n          flow,\n          utxoCoin: `ghost`,\n        })\n      },\n\n      // 6. Wait participant withdraw\n\n      async () => {\n        await flow.ethSwap.getSecretFromAB2UTXO({ flow })\n      },\n\n      // 7. Withdraw\n\n      async () => {\n        await util.helpers.repeatAsyncUntilResult((stopRepeat) => {\n          const { secret, utxoScriptValues, utxoSwapWithdrawTransactionHash } = flow.state\n\n          if (utxoSwapWithdrawTransactionHash) {\n            return true\n          }\n\n          if (!utxoScriptValues) {\n            console.error('There is no \"utxoScriptValues\" in state. No way to continue swap...')\n            return null\n          }\n\n          return flow.ghostSwap.withdraw({\n            scriptValues: utxoScriptValues,\n            secret,\n            destinationAddress: flow.swap.destinationBuyAddress,\n          })\n            .then((hash) => {\n              console.log('withdraw hash', hash)\n              flow.setState({\n                utxoSwapWithdrawTransactionHash: hash,\n              }, true)\n              return true\n            })\n            .catch((error) => null)\n        })\n\n        flow.finishStep({\n          isGhostWithdrawn: true,\n        }, { step: 'withdraw-utxo' })\n      },\n\n      // 8. Finish\n\n      () => {\n        flow.swap.room.once('request swap finished', () => {\n          const { utxoSwapWithdrawTransactionHash } = flow.state\n\n          flow.swap.room.sendMessage({\n            event: 'swap finished',\n            data: {\n              utxoSwapWithdrawTransactionHash,\n            },\n          })\n        })\n\n        flow.finishStep({\n          isFinished: true,\n        }, { step: 'finish' })\n      },\n\n      // 9. Finished!\n\n      () => {}\n    ]\n  }\n\n  _checkSwapAlreadyExists() {\n    const swapData = {\n      ownerAddress: this.app.getMyEthAddress(),\n      participantAddress: this.app.getParticipantEthAddress(this.swap)\n    }\n\n    return this.ethSwap.checkSwapExists(swapData)\n  }\n\n  async tryRefund() {\n    const { secretHash } = this.state\n\n    const refundHandler = (hash = null) => {\n      this.swap.room.sendMessage({\n        event: 'eth refund completed',\n      })\n\n      this.setState({\n        refundTransactionHash: hash,\n        isRefunded: true,\n        isSwapExist: false,\n      }, true)\n    }\n\n    try {\n      const wasRefunded = await this.ethSwap.wasRefunded({ secretHash })\n\n      if (wasRefunded) {\n        debug('swap.core:flow')('This swap was refunded')\n\n        refundHandler()\n\n        return true\n      }\n    } catch (error) {\n      console.warn('wasRefunded error:', error)\n\n      return false\n    }\n\n    return this.ethSwap.refund({\n      participantAddress: this.app.getParticipantEthAddress(this.swap),\n    })\n      .then((hash) => {\n        if (!hash) {\n          return false\n        }\n\n        refundHandler(hash)\n\n        return true\n      })\n      .catch((error) => false)\n  }\n\n  async isRefundSuccess() {\n    return true\n  }\n\n  async tryWithdraw(_secret) {\n    const { secret, secretHash, isEthWithdrawn, isGhostWithdrawn, utxoScriptValues } = this.state\n\n    if (!_secret)\n      throw new Error(`Withdrawal is automatic. For manual withdrawal, provide a secret`)\n\n    if (!utxoScriptValues)\n      throw new Error(`Cannot withdraw without script values`)\n\n    if (secret && secret != _secret)\n      console.warn(`Secret already known and is different. Are you sure?`)\n\n    if (isGhostWithdrawn)\n      console.warn(`Looks like money were already withdrawn, are you sure?`)\n\n    debug('swap.core:flow')(`WITHDRAW using secret = ${_secret}`)\n\n    const _secretHash = this.app.env.bitcoin.crypto.ripemd160(Buffer.from(_secret, 'hex')).toString('hex')\n\n    if (secretHash != _secretHash)\n      console.warn(`Hash does not match! state: ${secretHash}, given: ${_secretHash}`)\n\n    const { scriptAddress } = this.ghostSwap.createScript(utxoScriptValues)\n    const balance = await this.ghostSwap.getBalance(scriptAddress)\n\n    debug('swap.core:flow')(`address=${scriptAddress}, balance=${balance}`)\n\n    if (balance === 0) {\n      this.finishStep({\n        isGhostWithdrawn: true,\n      }, { step: 'withdraw-utxo' })\n      throw new Error(`Already withdrawn: address=${scriptAddress},balance=${balance}`)\n    }\n\n    await this.ghostSwap.withdraw({\n      scriptValues: utxoScriptValues,\n      secret: _secret,\n    }, (hash) => {\n      debug('swap.core:flow')(`TX hash=${hash}`)\n      this.setState({\n        utxoSwapWithdrawTransactionHash: hash,\n      })\n    })\n    debug('swap.core:flow')(`TX withdraw sent: ${this.state.utxoSwapWithdrawTransactionHash}`)\n\n    this.finishStep({\n      isGhostWithdrawn: true,\n    }, { step: 'withdraw-utxo' })\n  }\n}\n\n\nexport default ETH2GHOST\n","import debug from 'debug'\nimport SwapApp, { constants, util } from 'swap.app'\nimport { AtomicAB2UTXO } from 'swap.swap'\nimport { BigNumber } from 'bignumber.js'\n\n\nexport default (tokenName) => {\n\n  class GHOST2ETHTOKEN extends AtomicAB2UTXO {\n    static blockchainName = `ETH`\n\n    _flowName: string\n    ethTokenSwap: any\n    ghostSwap: any\n    state: any\n\n    static getName() {\n      return `${this.getFromName()}2${this.getToName()}`\n    }\n    static getFromName() {\n      return constants.COINS.ghost\n    }\n    static getToName() {\n      return `{${this.blockchainName}}${tokenName.toUpperCase()}`\n    }\n    constructor(swap) {\n      super(swap)\n      this.utxoCoin = `ghost`\n\n      this._flowName = GHOST2ETHTOKEN.getName()\n\n      this.stepNumbers = {\n        'sign': 1,\n        'submit-secret': 2,\n        'sync-balance': 3,\n        'lock-utxo': 4,\n        'wait-lock-eth': 5,\n        'withdraw-eth': 6,\n        'finish': 7,\n        'end': 8\n      }\n\n      this.ethTokenSwap = swap.ownerSwap\n      this.ghostSwap      = swap.participantSwap\n\n      this.abBlockchain = this.ethTokenSwap\n      this.utxoBlockchain = this.ghostSwap\n      this.isUTXOSide = true\n\n      if (!this.ethTokenSwap) {\n        throw new Error('GHOST2ETH: \"ethTokenSwap\" of type object required')\n      }\n      if (!this.ghostSwap) {\n        throw new Error('GHOST2ETH: \"ghostSwap\" of type object required')\n      }\n\n      this.state = {\n        step: 0,\n\n        isStoppedSwap: false,\n\n        signTransactionHash: null,\n        isSignFetching: false,\n        isParticipantSigned: false,\n\n        ethSwapCreationTransactionHash: null,\n\n        secretHash: null,\n\n        isBalanceFetching: false,\n        isBalanceEnough: true,\n        balance: null,\n\n        isEthContractFunded: false,\n\n        utxoSwapWithdrawTransactionHash: null,\n        ethSwapWithdrawTransactionHash: null,\n\n        secret: null,\n\n        canCreateEthTransaction: true,\n        isEthWithdrawn: false,\n\n        refundTransactionHash: null,\n        isRefunded: false,\n\n        withdrawFee: null,\n        refundTxHex: null,\n        isFinished: false,\n        isSwapExist: false,\n      }\n\n      this._persistState()\n      super._persistSteps()\n    }\n\n    _persistState() {\n      super._persistState()\n    }\n\n    //@ts-ignore: strictNullChecks\n    _getSteps() {\n      const flow = this\n\n      return [\n\n        // 1. Signs\n\n        async () => {\n          this.signUTXOSide()\n        },\n\n        // 2. Create secret, secret hash and GHOST script\n\n        () => {\n          this.submitSecret()\n        },\n\n        // 3. Check system wallet balance\n\n        () => {\n          this.syncBalance()\n        },\n\n        // 4. Create GHOSt Script, fund, notify participant\n\n        async () => {\n          const onTransactionHash = (txID) => {\n            const { utxoScriptCreatingTransactionHash, utxoScriptValues } = flow.state\n\n            if (utxoScriptCreatingTransactionHash) {\n              return\n            }\n\n            flow.setState({\n              utxoScriptCreatingTransactionHash: txID,\n            })\n\n            flow.swap.room.once('request utxo script', () => {\n              flow.swap.room.sendMessage({\n                event:  'create utxo script',\n                data: {\n                  scriptValues: utxoScriptValues,\n                  utxoScriptCreatingTransactionHash: txID,\n                }\n              })\n            })\n\n            flow.swap.room.sendMessage({\n              event: 'create utxo script',\n              data: {\n                scriptValues : utxoScriptValues,\n                utxoScriptCreatingTransactionHash : txID,\n              }\n            })\n          }\n\n          const { sellAmount } = flow.swap\n          const { isBalanceEnough, utxoScriptValues } = flow.state\n\n          if (isBalanceEnough) {\n            await flow.ghostSwap.fundScript({\n              scriptValues: utxoScriptValues,\n              amount: sellAmount,\n            })\n          }\n\n          const checkGHOSTScriptBalance = async () => {\n            const { scriptAddress } = this.ghostSwap.createScript(utxoScriptValues)\n            const unspents = await this.ghostSwap.fetchUnspents(scriptAddress)\n\n            if (unspents.length === 0) {\n              return false\n            }\n\n            const txID = unspents[0].txid\n\n            const balance = await this.ghostSwap.getBalance(utxoScriptValues)\n\n            const isEnoughMoney = new BigNumber(balance).isGreaterThanOrEqualTo(sellAmount.times(1e8))\n\n            if (isEnoughMoney) {\n              flow.setState({\n                scriptBalance: new BigNumber(balance).div(1e8).dp(8),\n              })\n\n              onTransactionHash(txID)\n            }\n\n            return isEnoughMoney\n          }\n\n          await util.helpers.repeatAsyncUntilResult(async (stopRepeat) => {\n            const { isStoppedSwap } = flow.state\n\n            if (!isStoppedSwap) {\n              return await checkGHOSTScriptBalance()\n            } else {\n              stopRepeat()\n            }\n          })\n\n          const { isStoppedSwap } = flow.state\n\n          if (!isStoppedSwap) {\n            flow.finishStep({\n              isGhostScriptFunded: true,\n            }, { step: 'lock-utxo' })\n          }\n        },\n\n        // 5. Wait participant creates ETH Contract\n\n        async () => {\n          await this.ethTokenSwap.waitAB2UTXOContract({\n            flow,\n            utxoCoin: `ghost`,\n          })\n        },\n\n        // 6. Withdraw\n\n        async () => {\n          await flow.ethTokenSwap.withdrawFromAB2UTXO({ flow })\n        },\n\n        // 7. Finish\n\n        () => {\n          flow.swap.room.once('swap finished', ({utxoSwapWithdrawTransactionHash}) => {\n            flow.setState({\n              utxoSwapWithdrawTransactionHash,\n            })\n          })\n\n          flow.swap.room.sendMessage({\n            event: 'request swap finished',\n          })\n\n          flow.finishStep({\n            isFinished: true,\n          }, 'finish')\n        },\n\n        // 8. Finished!\n\n        () => {}\n      ]\n    }\n\n    async skipSyncBalance() {\n      this.finishStep({}, { step: 'sync-balance' })\n    }\n\n    getRefundTxHex = () => {\n      this.ghostSwap.getRefundHexTransaction({\n        scriptValues: this.state.utxoScriptValues,\n        secret: this.state.secret,\n      })\n        .then((txHex) => {\n          this.setState({\n            refundTxHex: txHex,\n          })\n        })\n    }\n\n    tryRefund() {\n      const flow = this\n      const { utxoScriptValues, secret } = flow.state\n\n      return flow.ghostSwap.refund({\n        scriptValues: utxoScriptValues,\n        secret: secret,\n      })\n        .then((hash) => {\n          if (!hash) {\n            return false\n          }\n\n          this.swap.room.sendMessage({\n            event: 'utxo refund completed',\n          })\n\n          flow.setState({\n            refundTransactionHash: hash,\n            isRefunded: true,\n            isSwapExist: false,\n          }, true)\n\n          return true\n        })\n        .catch((error) => {\n          if (/Address is empty/.test(error)) {\n            // TODO - fetch TX list to script for refund TX\n            flow.setState({\n              isRefunded: true,\n              isSwapExist: false,\n            }, true)\n            return true\n          } else {\n            console.warn('Ghost refund:', error)\n\n            return false\n          }\n        })\n    }\n\n    async isRefundSuccess() {\n      const { refundTransactionHash, isRefunded } = this.state\n      if (refundTransactionHash && isRefunded) {\n        if (await this.ghostSwap.checkTX(refundTransactionHash)) {\n          return true\n        } else {\n          console.warn('GHOST2ETHTOKEN - unknown refund transaction')\n          this.setState( {\n            refundTransactionHash: null,\n            isRefunded: false,\n          } )\n          return false\n        }\n      }\n      return false\n    }\n\n    async tryWithdraw(_secret) {\n      const { secret, secretHash, isEthWithdrawn } = this.state\n\n      if (!_secret)\n        throw new Error(`Withdrawal is automatic. For manual withdrawal, provide a secret`)\n\n      if (secret && secret != _secret)\n        console.warn(`Secret already known and is different. Are you sure?`)\n\n      if (isEthWithdrawn)\n        console.warn(`Looks like money were already withdrawn, are you sure?`)\n\n      debug('swap.core:flow')(`WITHDRAW using secret = ${_secret}`)\n\n      const _secretHash = this.app.env.bitcoin.crypto.ripemd160(Buffer.from(_secret, 'hex')).toString('hex')\n\n      if (secretHash != _secretHash)\n        console.warn(`Hash does not match! state: ${secretHash}, given: ${_secretHash}`)\n\n      const data = {\n        ownerAddress: this.app.getParticipantEthAddress(this.swap),\n        secret: _secret,\n      }\n\n      await this.ethTokenSwap.withdraw(data, (hash) => {\n        debug('swap.core:flow')(`TX hash=${hash}`)\n        this.setState({\n          ethSwapWithdrawTransactionHash: hash,\n          canCreateEthTransaction: true,\n        })\n      }).then(() => {\n\n        this.finishStep({\n          isEthWithdrawn: true,\n        }, 'withdraw-eth')\n      })\n    }\n  }\n\n  return GHOST2ETHTOKEN\n}\n","import debug from 'debug'\nimport SwapApp, { constants, util } from 'swap.app'\nimport { AtomicAB2UTXO } from 'swap.swap'\n\n\nexport default (tokenName) => {\n\n  class ETHTOKEN2GHOST extends AtomicAB2UTXO {\n    static blockchainName = `ETH`\n\n    _flowName: string\n    ethTokenSwap: any\n    ghostSwap: any\n    state: any\n\n    static getName() {\n      return `${this.getFromName()}2${this.getToName()}`\n    }\n    static getFromName() {\n      return `{${this.blockchainName}}${tokenName.toUpperCase()}`\n    }\n    static getToName() {\n      return constants.COINS.ghost\n    }\n    constructor(swap) {\n      super(swap)\n      this.utxoCoin = `ghost`\n\n      this._flowName = ETHTOKEN2GHOST.getName()\n\n      this.stepNumbers = {\n        'sign': 1,\n        'wait-lock-utxo': 2,\n        'verify-script': 3,\n        'sync-balance': 4,\n        'lock-eth': 5,\n        'wait-withdraw-eth': 6, // aka getSecret\n        'withdraw-utxo': 7,\n        'finish': 8,\n        'end': 9\n      }\n\n      this.ethTokenSwap = swap.participantSwap\n      this.ghostSwap = swap.ownerSwap\n\n      this.abBlockchain = this.ethTokenSwap\n      this.utxoBlockchain = this.ghostSwap\n\n      if (!this.ethTokenSwap) {\n        throw new Error('ETHTOKEN2GHOST: \"ethTokenSwap\" of type object required')\n      }\n      if (!this.ghostSwap) {\n        throw new Error('ETHTOKEN2GHOST: \"ghostSwap\" of type object required')\n      }\n\n      this.state = {\n        step: 0,\n\n        isStoppedSwap: false,\n\n        signTransactionHash: null,\n        isSignFetching: false,\n        isMeSigned: false,\n\n        targetWallet : null,\n        secretHash: null,\n\n        isBalanceFetching: false,\n        isBalanceEnough: true,\n        balance: null,\n\n        ethSwapCreationTransactionHash: null,\n        canCreateEthTransaction: true,\n        isEthContractFunded: false,\n\n        secret: null,\n\n        isEthWithdrawn: false,\n        isGhostWithdrawn: false,\n\n        ethSwapWithdrawTransactionHash: null,\n        utxoSwapWithdrawTransactionHash: null,\n\n        refundTransactionHash: null,\n        isRefunded: false,\n\n        isFinished: false,\n        isSwapExist: false,\n\n        withdrawRequestIncoming: false,\n        withdrawRequestAccepted: false,\n\n        isFailedTransaction: false,\n        isFailedTransactionError: null,\n        gasAmountNeeded: 0,\n      }\n\n      this._persistState()\n\n      const flow = this\n      flow.swap.room.once('request withdraw', () => {\n        flow.setState({\n          withdrawRequestIncoming: true,\n        })\n      })\n\n      super._persistSteps()\n    }\n\n    _persistState() {\n      super._persistState()\n    }\n\n    //@ts-ignore: strictNullChecks\n    _getSteps() {\n      const flow = this\n\n      return [\n\n        // 1. Sign swap to start\n\n        () => {\n          this.signABSide()\n        },\n\n        // 2. Wait participant create, fund GHOST Script\n\n        () => {\n          flow.waitUTXOScriptCreated()\n        },\n\n        // 3. Verify GHOST Script\n\n        () => {\n          debug('swap.core:flow')(`waiting verify ghost script`)\n          this.verifyScript()\n        },\n\n        // 4. Check balance\n\n        () => {\n          this.syncBalance()\n        },\n\n        // 5. Create ETH Contract\n\n        async () => {\n          await flow.ethTokenSwap.fundAB2UTXOContract({\n            flow,\n            utxoCoin: `ghost`,\n          })\n        },\n\n        // 6. Wait participant withdraw\n\n        async () => {\n          await flow.ethTokenSwap.getSecretFromAB2UTXO({ flow })\n        },\n\n        // 7. Withdraw\n\n        async () => {\n          await util.helpers.repeatAsyncUntilResult((stopRepeat) => {\n            const { secret, utxoScriptValues, utxoSwapWithdrawTransactionHash } = flow.state\n\n            if (utxoSwapWithdrawTransactionHash) {\n              return true\n            }\n\n            if (!utxoScriptValues) {\n              console.error('There is no \"utxoScriptValues\" in state. No way to continue swap...')\n              return null\n            }\n\n            return flow.ghostSwap.withdraw({\n              scriptValues: utxoScriptValues,\n              secret,\n              destinationAddress: flow.swap.destinationBuyAddress,\n            })\n              .then((hash) => {\n                flow.setState({\n                  utxoSwapWithdrawTransactionHash: hash,\n                }, true)\n                return true\n              })\n              .catch((error) => null)\n          })\n\n          flow.finishStep({\n            isGhostWithdrawn: true,\n          }, { step: 'withdraw-utxo' })\n        },\n\n        // 8. Finish\n\n        () => {\n          flow.swap.room.once('request swap finished', () => {\n            const { utxoSwapWithdrawTransactionHash } = flow.state\n\n            flow.swap.room.sendMessage({\n              event: 'swap finished',\n              data: {\n                utxoSwapWithdrawTransactionHash,\n              },\n            })\n          })\n\n          flow.finishStep({\n            isFinished: true,\n          }, { step: 'finish' })\n        },\n\n        // 9. Finished!\n\n        () => {},\n      ]\n    }\n\n    _checkSwapAlreadyExists() {\n      const flow = this\n\n      const swapData = {\n        ownerAddress: this.app.getMyEthAddress(),\n        participantAddress: this.app.getParticipantEthAddress(flow.swap)\n      }\n\n      return this.ethTokenSwap.checkSwapExists(swapData)\n    }\n\n    async tryRefund() {\n      const { secretHash } = this.state\n\n      const refundHandler = (hash = null) => {\n        this.swap.room.sendMessage({\n          event: 'eth refund completed',\n        })\n\n        this.setState({\n          refundTransactionHash: hash,\n          isRefunded: true,\n          isSwapExist: false,\n        }, true)\n      }\n\n      try {\n        const wasRefunded = await this.ethTokenSwap.wasRefunded({ secretHash })\n\n        if (wasRefunded) {\n          debug('swap.core:flow')('This swap was refunded')\n\n          refundHandler()\n\n          return true\n        }\n      } catch (error) {\n        console.warn('wasRefunded error:', error)\n\n        return false\n      }\n\n      return this.ethTokenSwap.refund({\n        participantAddress: this.app.getParticipantEthAddress(this.swap),\n      })\n        .then((hash) => {\n          if (!hash) {\n            return false\n          }\n\n          refundHandler(hash)\n\n          return true\n        })\n        .catch((error) => false)\n    }\n\n    async isRefundSuccess() {\n      return true\n    }\n\n    async tryWithdraw(_secret) {\n      const { secret, secretHash, isEthWithdrawn, isGhostWithdrawn, utxoScriptValues } = this.state\n\n      if (!_secret)\n        throw new Error(`Withdrawal is automatic. For manual withdrawal, provide a secret`)\n\n      if (!utxoScriptValues)\n        throw new Error(`Cannot withdraw without script values`)\n\n      if (secret && secret != _secret)\n        console.warn(`Secret already known and is different. Are you sure?`)\n\n      if (isGhostWithdrawn)\n        console.warn(`Looks like money were already withdrawn, are you sure?`)\n\n      debug('swap.core:flow')(`WITHDRAW using secret = ${_secret}`)\n\n      const _secretHash = this.app.env.bitcoin.crypto.ripemd160(Buffer.from(_secret, 'hex')).toString('hex')\n\n      if (secretHash != _secretHash)\n        console.warn(`Hash does not match! state: ${secretHash}, given: ${_secretHash}`)\n\n      const {scriptAddress} = this.ghostSwap.createScript(utxoScriptValues)\n      const balance = await this.ghostSwap.getBalance(scriptAddress)\n\n      debug('swap.core:flow')(`address=${scriptAddress}, balance=${balance}`)\n\n      if (balance === 0) {\n        this.finishStep({\n          isGhostWithdrawn: true,\n        }, {step: 'withdraw-utxo'})\n        throw new Error(`Already withdrawn: address=${scriptAddress},balance=${balance}`)\n      }\n\n      await this.ghostSwap.withdraw({\n        scriptValues: utxoScriptValues,\n        secret: _secret,\n      }, (hash) => {\n        debug('swap.core:flow')(`TX hash=${hash}`)\n        this.setState({\n          utxoSwapWithdrawTransactionHash: hash,\n        })\n      })\n      debug('swap.core:flow')(`TX withdraw sent: ${this.state.utxoSwapWithdrawTransactionHash}`)\n\n      this.finishStep({\n        isGhostWithdrawn: true,\n      }, { step: 'withdraw-utxo' })\n    }\n  }\n\n  return ETHTOKEN2GHOST\n}\n","import debug from 'debug'\nimport crypto from 'bitcoinjs-lib/src/crypto' // move to BtcSwap\nimport SwapApp, { constants } from 'swap.app'\nimport COIN_DATA from 'swap.app/constants'\nimport { Flow, stepsForCoins } from 'swap.swap'\n\nconst fromCoin = constants.COIN_DATA.NEXT\nconst toCoin = constants.COIN_DATA.BTC\n\nclass NEXT2BTC extends Flow {\n\n  _flowName: string\n  nextSwap: any\n  btcSwap: any\n  state: any\n\n  static getName() {\n    return `${this.getFromName()}2${this.getToName()}`\n  }\n  static getFromName() {\n    return fromCoin.ticker\n  }\n  static getToName() {\n    return toCoin.ticker\n  }\n  constructor(swap) {\n    super(swap)\n\n    this._flowName = NEXT2BTC.getName()\n\n    // todo: remove for all flows\n    /*\n    this.stepNumbers = {\n      'sign': 1,\n      'wait-lock-btc': 2,\n      'verify-script': 3,\n      'sync-balance': 4,\n      'lock-utxo': 5,\n      'wait-withdraw-next': 6, // aka getSecret\n      'withdraw-btc': 7,\n      'finish': 8,\n      'end': 9\n    }\n    */\n    this.stepNumbers = stepsForCoins(fromCoin, toCoin)\n\n    this.nextSwap = swap.participantSwap\n    this.btcSwap = swap.ownerSwap\n\n    if (!this.nextSwap) {\n      throw new Error('BTC2NEXT: \"nextSwap\" of type object required')\n    }\n    if (!this.btcSwap) {\n      throw new Error('BTC2NEXT: \"btcSwap\" of type object required')\n    }\n\n    this.state = {\n      step: 0,\n\n      signTransactionHash: null,\n      isSignFetching: false,\n      isMeSigned: false,\n\n      secretHash: null,\n      btcScriptValues: null,\n      nextScriptValues: null,\n\n      btcScriptVerified: false,\n\n      isBalanceFetching: false,\n      isBalanceEnough: false,\n      balance: null,\n\n      btcScriptCreatingTransactionHash: null,\n      nextSwapCreationTransactionHash: null,\n\n      isNextScriptFunded: false,\n\n      secret: null,\n\n      isNextWithdrawn: false,\n      isbtcWithdrawn: false,\n\n      refundTransactionHash: null,\n      isRefunded: false,\n\n      isFinished: false,\n      isSwapExist: false,\n    }\n\n    this._persistState()\n    super._persistSteps()\n  }\n\n  _persistState() {\n    super._persistState()\n  }\n\n  //@ts-ignore: strictNullChecks\n  _getSteps() {\n    const flow = this\n\n    return [\n\n      // 1. Sign swap to start\n\n      () => {\n        // this.sign()\n      },\n\n      // 2. Wait participant create, fund BTC Script\n\n      () => {\n        flow.swap.room.once('create btc script', ({ scriptValues, btcScriptCreatingTransactionHash }) => {\n          flow.finishStep({\n            secretHash: scriptValues.secretHash,\n            btcScriptValues: scriptValues,\n            btcScriptCreatingTransactionHash,\n          }, { step: 'wait-lock-btc', silentError: true })\n        })\n\n        flow.swap.room.sendMessage({\n          event: 'request btc script',\n        })\n      },\n\n      // 3. Verify BTC Script\n\n      () => {\n        debug('swap.core:flow')(`waiting verify btc script`)\n        // this.verifyBtcScript()\n      },\n\n      // 4. Check balance\n\n      () => {\n        this.syncBalance()\n        debug('swap.core:flow')(this)\n      },\n\n      // 5. Create Next Script\n\n      async () => {\n        const { participant, buyAmount, sellAmount } = flow.swap\n        let nextSwapCreationTransactionHash\n\n        // TODO move this somewhere!\n        const utcNow = () => Math.floor(Date.now() / 1000)\n        const getLockTime = () => utcNow() + 3600 * 1 // 1 hour from now\n\n        const scriptCheckResult = await flow.btcSwap.checkScript(flow.state.btcScriptValues, {\n          value: buyAmount,\n          //@ts-ignore: strictNullChecks\n          recipientPublicKey: this.app.services.auth.accounts.btc.getPublicKey(),\n          lockTime: getLockTime(),\n        })\n\n        if (scriptCheckResult) {\n          console.error(`Btc script check error:`, scriptCheckResult)\n          flow.swap.events.dispatch('btc script check error', scriptCheckResult)\n          return\n        }\n\n        const scriptValues = {\n          secretHash:         flow.state.secretHash,\n          //@ts-ignore: strictNullChecks\n          ownerPublicKey:     this.app.services.auth.accounts.next.getPublicKey(),\n          recipientPublicKey: participant.next.publicKey,\n          lockTime:           getLockTime(),\n        }\n\n        try {\n          await flow.nextSwap.fundScript({\n            scriptValues,\n            amount: sellAmount,\n          }, (hash) => {\n            nextSwapCreationTransactionHash = hash\n            flow.setState({\n              nextSwapCreationTransactionHash: hash,\n            })\n          })\n        } catch (err) {\n          // TODO user can stuck here after page reload...\n          if ( /known transaction/.test(err.message) )\n            return console.error(`known tx: ${err.message}`)\n          else if ( /out of gas/.test(err.message) )\n            return console.error(`tx failed (wrong secret?): ${err.message}`)\n          else\n            return console.error(err)\n        }\n\n        flow.swap.room.on('request next script', () => {\n          flow.swap.room.sendMessage({\n            event: 'create next script',\n            data: {\n              scriptValues,\n              nextSwapCreationTransactionHash,\n            }\n          })\n        })\n\n        flow.swap.room.sendMessage({\n          event: 'create next script',\n          data: {\n            scriptValues,\n            nextSwapCreationTransactionHash,\n          }\n        })\n\n        flow.finishStep({\n          isNextScriptFunded: true,\n          nextScriptValues: scriptValues,\n        }, { step: 'lock-utxo' })\n      },\n\n      // 6. Wait participant withdraw\n\n      () => {\n\n        flow.swap.room.once('nextWithdrawTxHash', async ({ nextSwapWithdrawTransactionHash }) => {\n          flow.setState({\n            nextSwapWithdrawTransactionHash,\n          })\n\n          const secret = await flow.nextSwap.getSecretFromTxhash(nextSwapWithdrawTransactionHash)\n\n          if (!flow.state.isNextWithdrawn && secret) {\n            flow.finishStep({\n              isNextWithdrawn: true,\n              secret,\n            }, { step: 'wait-withdraw-next' })\n          }\n        })\n\n        flow.swap.room.sendMessage({\n          event: 'request nextWithdrawTxHash',\n        })\n      },\n\n      // 7. Withdraw\n\n      async () => {\n        let { secret, btcScriptValues } = flow.state\n\n        if (!btcScriptValues) {\n          console.error('There is no \"btcScriptValues\" in state. No way to continue swap...')\n          return\n        }\n\n        await flow.btcSwap.withdraw({\n          scriptValues: flow.state.btcScriptValues,\n          secret,\n        }, (hash) => {\n          flow.setState({\n            btcSwapWithdrawTransactionHash: hash,\n          })\n        })\n\n        flow.finishStep({\n          isbtcWithdrawn: true,\n        }, { step: 'withdraw-btc' })\n      },\n\n      // 8. Finish\n\n      () => {\n        flow.swap.room.sendMessage({\n          event: 'swap finished',\n        })\n\n        flow.finishStep({\n          isFinished: true,\n        }, { step: 'finish' })\n      },\n\n      // 9. Finished!\n      () => {\n\n      }\n    ]\n  }\n\n  _checkSwapAlreadyExists() {\n    const { participant } = this.swap\n\n    const swapData = {\n      //@ts-ignore: strictNullChecks\n      ownerAddress:       this.app.services.auth.accounts.next.address,\n      participantAddress: participant.next.address\n    }\n\n    return false//this.nextSwap.checkSwapExists(swapData)\n  }\n\n  async sign() {\n    const swapExists = await this._checkSwapAlreadyExists()\n\n    if (swapExists) {\n      this.swap.room.sendMessage({\n        event: 'swap exists',\n      })\n\n      this.setState({\n        isSwapExist: true,\n      })\n    } else {\n      this.setState({\n        isSignFetching: true,\n      })\n\n      this.swap.room.on('request sign', () => {\n        this.swap.room.sendMessage({\n          event: 'swap sign',\n        })\n      })\n\n      this.swap.room.sendMessage({\n        event: 'swap sign',\n      })\n\n      this.finishStep({\n        isMeSigned: true,\n      }, { step: 'sign', silentError: true })\n\n      return true\n    }\n  }\n\n\n  verifyBtcScript() {\n    if (this.state.btcScriptVerified) {\n      return true\n    }\n    if (!this.state.btcScriptValues) {\n      throw new Error(`No script, cannot verify`)\n    }\n\n    this.finishStep({\n      btcScriptVerified: true,\n    }, { step: 'verify-script' })\n\n    return true\n  }\n\n  async syncBalance() {\n    const { sellAmount } = this.swap\n\n    this.setState({\n      isBalanceFetching: true,\n    })\n\n    //@ts-ignore: strictNullChecks\n    const balance = await this.nextSwap.fetchBalance(this.app.services.auth.accounts.next.getAddress())\n\n    const isEnoughMoney = sellAmount.isLessThanOrEqualTo(balance)\n\n    if (isEnoughMoney) {\n      this.finishStep({\n        balance,\n        isBalanceFetching: false,\n        isBalanceEnough: true,\n      }, { step: 'sync-balance' })\n    } else {\n      this.setState({\n        balance,\n        isBalanceFetching: false,\n        isBalanceEnough: false,\n      })\n    }\n  }\n\n  getRefundTxHex = () => {\n    this.nextSwap.getRefundHexTransaction({\n      scriptValues: this.state.nextScriptValues,\n      secret: this.state.secret,\n    })\n      .then((txHex) => {\n        this.setState({\n          refundTxHex: txHex,\n        })\n      })\n  }\n\n  tryRefund() {\n    return this.nextSwap.refund({\n      scriptValues: this.state.nextScriptValues,\n      secret: this.state.secret,\n    }, (hash) => {\n      this.setState({\n        refundTransactionHash: hash,\n        isRefunded: true,\n      })\n    })\n      .then(() => {\n        this.swap.room.sendMessage({\n          event: 'refund completed',\n        })\n\n        this.setState({\n          isSwapExist: false,\n        })\n      })\n  }\n\n  async isRefundSuccess() {\n    return true\n  }\n\n  async tryWithdraw(_secret) {\n    const { secret, secretHash, isNextWithdrawn, isbtcWithdrawn, btcScriptValues } = this.state\n    if (!_secret)\n      throw new Error(`Withdrawal is automatic. For manual withdrawal, provide a secret`)\n\n    if (!btcScriptValues)\n      throw new Error(`Cannot withdraw without script values`)\n\n    if (secret && secret != _secret)\n      console.warn(`Secret already known and is different. Are you sure?`)\n\n    if (isbtcWithdrawn)\n      console.warn(`Looks like money were already withdrawn, are you sure?`)\n\n    debug('swap.core:flow')(`WITHDRAW using secret = ${_secret}`)\n\n    const _secretHash = crypto.ripemd160(Buffer.from(_secret, 'hex')).toString('hex')\n    if (secretHash != _secretHash)\n      console.warn(`Hash does not match!`)\n\n    const { scriptAddress } = this.btcSwap.createScript(btcScriptValues)\n    const balance = await this.btcSwap.getBalance(scriptAddress)\n\n    debug('swap.core:flow')(`address=${scriptAddress}, balance=${balance}`)\n\n    if (balance === 0) {\n      this.finishStep({\n        isbtcWithdrawn: true,\n      }, { step: 'withdraw-btc' })\n      throw new Error(`Already withdrawn: address=${scriptAddress},balance=${balance}`)\n    }\n\n    await this.btcSwap.withdraw({\n      scriptValues: btcScriptValues,\n      secret: _secret,\n    }, (hash) => {\n      debug('swap.core:flow')(`TX hash=${hash}`)\n      this.setState({\n        btcSwapWithdrawTransactionHash: hash,\n      })\n    })\n    debug('swap.core:flow')(`TX withdraw sent: ${this.state.btcSwapWithdrawTransactionHash}`)\n\n    this.finishStep({\n      isbtcWithdrawn: true,\n    }, { step: 'withdraw-btc' })\n  }\n\n}\n\n\nexport default NEXT2BTC\n","import { constants } from 'swap.app'\nimport NextToEvm from './atomic/NextToEvm'\n\n\nclass NEXT2ETH extends NextToEvm {\n  static getName() {\n    return `${this.getFromName()}2${this.getToName()}`\n  }\n  static getFromName() {\n    return constants.COINS.next\n  }\n  static getToName() {\n    return constants.COINS.eth\n  }\n  constructor(swap) {\n    super(swap, {\n      flowName: NEXT2ETH.getName(),\n      getMyAddress: swap.app.getMyEthAddress.bind(swap.app),\n      getParticipantAddress: swap.app.getParticipantEthAddress.bind(swap.app),\n    })\n  }\n}\n\nexport default NEXT2ETH\n","import debug from 'debug'\nimport { util } from 'swap.app'\nimport { AtomicAB2UTXO } from 'swap.swap'\nimport { EthLikeSwap, NextSwap } from 'swap.swaps'\n\n\ninterface INextToEvm {\n  flowName: string\n  getMyAddress: Function\n  getParticipantAddress: Function\n}\nclass NextToEvm extends AtomicAB2UTXO {\n\n  _flowName: string\n  evmCoin: string\n\n  evmSwap: EthLikeSwap\n  utxoSwap: NextSwap\n\n  ethLikeSwap: EthLikeSwap\n\n  state: any\n\n  getMyAddress: Function\n  getParticipantAddress: Function\n\n  constructor(swap, options: INextToEvm) {\n    super(swap)\n\n    if (!options.flowName) {\n      throw new Error('NextToEvm - option flowName requery')\n    }\n    if (!options.getMyAddress || typeof options.getMyAddress !== 'function') {\n      throw new Error(`NextToEvm ${options.flowName} - option getMyAddress - function requery`)\n    }\n    if (!options.getParticipantAddress || typeof options.getParticipantAddress !== 'function') {\n      throw new Error(`NextToEvm ${options.flowName} - option getParticipantAddress - function requery`)\n    }\n\n    this.getMyAddress = options.getMyAddress\n    this.getParticipantAddress = options.getParticipantAddress\n\n    this.utxoCoin = `next`\n    this.evmCoin = swap.ethLikeCoin\n    this._flowName = options.flowName\n\n    this.isUTXOSide = true\n    this.isTakerMakerModel = true\n    this.setupTakerMakerEvents()\n    this.stepNumbers = this.getStepNumbers()\n\n    this.evmSwap = swap.ownerSwap\n    this.utxoSwap = swap.participantSwap\n\n    // need for another classes\n    this.ethLikeSwap = this.evmSwap\n    this.abBlockchain = this.evmSwap\n    this.utxoBlockchain = this.utxoSwap\n\n    if (!this.evmSwap) {\n      throw new Error(`${this._flowName}: \"evmSwap\" of type object required`)\n    }\n    if (!this.utxoSwap) {\n      throw new Error(`${this._flowName}: \"utxoSwap\" of type object required`)\n    }\n\n    // ToDo: update state to UTXO and EVM names\n    this.state = {\n      step: 0,\n\n      isStoppedSwap: false,\n\n      signTransactionHash: null,\n      isSignFetching: false,\n      isParticipantSigned: false,\n\n      ethLikeSwapCreationTransactionHash: null,\n\n      secretHash: null,\n\n      isBalanceFetching: false,\n      isBalanceEnough: true,\n      balance: null,\n\n      isEthContractFunded: false,\n\n      utxoSwapWithdrawTransactionHash: null,\n      ethLikeSwapWithdrawTransactionHash: null,\n\n      canCreateEthTransaction: true,\n      isEthWithdrawn: false,\n\n      refundTransactionHash: null,\n      isRefunded: false,\n\n      withdrawFee: null,\n      refundTxHex: null,\n      isFinished: false,\n      isSwapExist: false,\n\n      requireWithdrawFee: false,\n\n      utxoFundError: null,\n    }\n\n    const flow = this\n\n    if (this.isMaker()) {\n      this.swap.room.once('create eth contract', async ({\n        ethLikeSwapCreationTransactionHash,\n      }) => {\n        flow.setState({\n          ethLikeSwapCreationTransactionHash,\n        }, true)\n      })\n    }\n\n    this._persistState()\n    super._persistSteps()\n  }\n\n  _persistState() {\n    super._persistState()\n  }\n\n  //@ts-ignore: strictNullChecks\n  _getSteps() {\n    const flow = this\n\n\n    if (this.isTaker()) {\n      return [\n\n        // 1. Signs\n        async () => {\n          this.signUTXOSide()\n        },\n\n        // 2. Create secret, secret hash and UTXO script\n        () => {\n          this.submitSecret()\n        },\n\n        // 3. Check balance\n        () => {\n          this.syncBalance()\n        },\n\n        // 4. Fund UTXO Script and notify participant\n        async () => {\n          this.utxoSwap.fundSwapScript({\n            flow,\n          })\n        },\n\n        // 5. Wait participant creates EVM Contract\n        async () => {\n          await flow.evmSwap.waitABContract({\n            flow,\n            utxoCoin: this.utxoCoin,\n          })\n        },\n\n        // 6. Withdraw\n        async () => {\n          await flow.evmSwap.withdrawFromABContract({ flow })\n        },\n\n        // 7. Finish\n        () => {\n          flow.swap.room.once('swap finished', ({utxoSwapWithdrawTransactionHash}) => {\n            flow.setState({\n              utxoSwapWithdrawTransactionHash,\n            })\n          })\n\n          flow.swap.room.sendMessage({\n            event: 'request swap finished',\n          })\n\n          flow.finishStep({\n            isFinished: true,\n          }, 'finish')\n        },\n\n        // 8. Finished!\n        () => {}\n      ]\n    } else {\n      return [\n        // 1 - `sign` Signs\n        async () => {\n          this.signUTXOSide()\n        },\n\n        // 2 - `sync-balance` - syncBalance\n        async () => {\n          this.syncBalance()\n        },\n\n        // 3 - `wait-lock-eth` - wait taker create EVM - обмен хешем\n        async () => {\n          await util.helpers.repeatAsyncUntilResult(async () => {\n            const isContractFunded = await this.evmSwap.isContractFunded(this)\n            if (isContractFunded) {\n              this.finishStep({\n                isEthContractFunded: true,\n              }, 'wait-lock-eth`')\n              return true\n            }\n            return false\n          })\n        },\n\n        // 4 - `lock-utxo` - create UTXO\n        async () => {\n          // Repeat until \n          await util.helpers.repeatAsyncUntilResult(async () => {\n            const {\n              secretHash,\n              utxoScriptValues\n            } = flow.state\n            if (secretHash && utxoScriptValues) {\n              const isSwapCreated = await flow.evmSwap.isSwapCreated({\n                ownerAddress: flow.getParticipantAddress(flow.swap),\n                participantAddress: flow.getMyAddress(),\n                secretHash,\n              })\n              if (isSwapCreated) {\n                const destAddressIsOk = await this.evmSwap.checkTargetAddress({ flow })\n\n                if (destAddressIsOk) {\n                  await this.utxoSwap.fundSwapScript({\n                    flow,\n                  })\n                  return true\n                } else {\n                  console.warn('Destination address not valid. Stop swap now!')\n                }\n              }\n            } else {\n              flow.swap.room.sendMessage({\n                event: 'request utxo script',\n              })\n              return false\n            }\n          })\n        },\n\n        // 5 - `wait-withdraw-utxo` - wait withdraw UTXO - fetch secret from TX - getSecretFromTxhash\n        async () => {\n          await util.helpers.repeatAsyncUntilResult(async () => {\n            // check withdraw\n            const {\n              utxoScriptValues,\n            } = this.state\n            const { scriptAddress } = this.utxoSwap.createScript(utxoScriptValues)\n\n            const utxoWithdrawData = await this.utxoSwap.checkWithdraw(scriptAddress)\n\n            if (utxoWithdrawData) {\n              const {\n                txid: utxoSwapWithdrawTransactionHash,\n              } = utxoWithdrawData\n\n              const secret = await this.utxoSwap.getSecretFromTxhash(utxoSwapWithdrawTransactionHash)\n              if (secret) {\n                this.finishStep({\n                  secret,\n                  utxoSwapWithdrawTransactionHash,\n                }, 'wait-withdraw-utxo')\n              }\n              return true\n            } else {\n              return false\n            }\n          })\n        },\n\n        // 6 - `withdraw-eth` - withdraw from EVM\n        async () => {\n          await flow.evmSwap.withdrawFromABContract({ flow })\n        },\n\n        // 7 - `finish`\n        async () => {\n          // @to-do - txids room events\n          flow.finishStep({\n            isFinished: true,\n          }, 'finish')\n        },\n\n        // 8 - `end`\n        async () => {},\n      ]\n    }\n  }\n\n  getUTXOScriptAddress() {\n    const { scriptAddress } = this.state\n    return scriptAddress;\n  }\n\n  async skipSyncBalance() {\n    this.finishStep({}, { step: 'sync-balance' })\n  }\n\n  getRefundTxHex = () => {\n    this.utxoSwap.getRefundHexTransaction({\n      scriptValues: this.state.utxoScriptValues,\n      secret: this.state.secret,\n    })\n      .then((txHex) => {\n        this.setState({\n          refundTxHex: txHex,\n        })\n      })\n  }\n\n  tryRefund() {\n    const flow = this\n    const { utxoScriptValues, secret } = flow.state\n\n    return flow.utxoSwap.refund({\n      scriptValues: utxoScriptValues,\n      secret: secret,\n    })\n      .then((hash) => {\n        if (!hash) {\n          return false\n        }\n\n        this.swap.room.sendMessage({\n          event: 'utxo refund completed',\n        })\n\n        flow.setState({\n          refundTransactionHash: hash,\n          isRefunded: true,\n          isSwapExist: false,\n        }, true)\n\n        return true\n      })\n      .catch((error) => {\n        if (/Address is empty/.test(error)) {\n          // TODO - fetch TX list to script for refund TX\n          flow.setState({\n            isRefunded: true,\n            isSwapExist: false,\n          }, true)\n          return true\n        } else {\n          console.warn(`${flow.utxoCoin} refund: ${error}`)\n\n          return false\n        }\n      })\n  }\n\n  async isRefundSuccess() {\n    const { refundTransactionHash, isRefunded } = this.state\n    if (refundTransactionHash && isRefunded) {\n      if (await this.utxoSwap.checkTX(refundTransactionHash)) {\n        return true\n      } else {\n        console.warn(`${this._flowName} - unknown refund transaction`)\n        this.setState( {\n          refundTransactionHash: null,\n          isRefunded: false,\n        } )\n        return false\n      }\n    }\n    return false\n  }\n\n  async tryWithdraw(_secret) {\n    const { secret, secretHash, isEthWithdrawn } = this.state\n\n    if (!_secret)\n      throw new Error(`Withdrawal is automatic. For manual withdrawal, provide a secret`)\n\n    if (secret && secret != _secret)\n      console.warn(`Secret already known and is different. Are you sure?`)\n\n    if (isEthWithdrawn)\n      console.warn(`Looks like money were already withdrawn, are you sure?`)\n\n    debug('swap.core:flow')(`WITHDRAW using secret = ${_secret}`)\n\n    const _secretHash = this.app.env.bitcoin.crypto.ripemd160(Buffer.from(_secret, 'hex')).toString('hex')\n\n    if (secretHash != _secretHash)\n      console.warn(`Hash does not match! state: ${secretHash}, given: ${_secretHash}`)\n\n    const data = {\n      ownerAddress: this.getParticipantAddress(this.swap),\n      secret: _secret,\n    }\n\n    await this.evmSwap.withdraw(data, (hash) => {\n      debug('swap.core:flow')(`TX hash=${hash}`)\n      this.setState({\n        ethLikeSwapWithdrawTransactionHash: hash,\n        canCreateEthTransaction: true,\n      })\n    }).then(() => {\n\n      this.finishStep({\n        isEthWithdrawn: true,\n      }, 'withdraw-eth')\n    })\n  }\n}\n\nexport default NextToEvm\n","import { constants } from 'swap.app'\nimport EvmToNext from './atomic/EvmToNext'\n\n\nclass ETH2NEXT extends EvmToNext {\n  static getName() {\n    return `${this.getFromName()}2${this.getToName()}`\n  }\n  static getFromName() {\n    return constants.COINS.eth\n  }\n  static getToName() {\n    return constants.COINS.next\n  }\n  constructor(swap) {\n    super(swap, {\n      flowName: ETH2NEXT.getName(),\n      getMyAddress: swap.app.getMyEthAddress.bind(swap.app),\n      getParticipantAddress: swap.app.getParticipantEthAddress.bind(swap.app),\n    })\n  }\n}\n\nexport default ETH2NEXT\n","import debug from 'debug'\nimport { util } from 'swap.app'\nimport { AtomicAB2UTXO } from 'swap.swap'\nimport { EthLikeSwap, NextSwap } from 'swap.swaps'\n\n\ninterface IEvmToNext {\n  flowName: string\n  getMyAddress: Function\n  getParticipantAddress: Function\n}\nclass EvmToNext extends AtomicAB2UTXO {\n\n  _flowName: string\n  evmCoin: string\n\n  evmSwap: EthLikeSwap\n  utxoSwap: NextSwap\n\n  ethLikeSwap: EthLikeSwap\n\n  state: any\n\n  getMyAddress: Function\n  getParticipantAddress: Function\n\n  constructor(swap, options: IEvmToNext) {\n    super(swap)\n\n    if (!options.flowName) {\n      throw new Error('EvmToNext - option flowName requery')\n    }\n    if (!options.getMyAddress || typeof options.getMyAddress !== 'function') {\n      throw new Error(`EvmToNext ${options.flowName} - option getMyAddress - function requery`)\n    }\n    if (!options.getParticipantAddress || typeof options.getParticipantAddress !== 'function') {\n      throw new Error(`EvmToNext ${options.flowName} - option getParticipantAddress - function requery`)\n    }\n\n    this.getMyAddress = options.getMyAddress\n    this.getParticipantAddress = options.getParticipantAddress\n\n    this.utxoCoin = `next`\n    this.evmCoin = swap.ethLikeCoin\n    this._flowName = options.flowName\n\n    this.isTakerMakerModel = true\n    this.setupTakerMakerEvents()\n    this.stepNumbers = this.getStepNumbers()\n\n    this.evmSwap = swap.participantSwap\n    this.utxoSwap = swap.ownerSwap\n\n    // need for another classes\n    this.ethLikeSwap = this.evmSwap\n    this.abBlockchain = this.evmSwap\n    this.utxoBlockchain = this.utxoSwap\n\n    if (!this.evmSwap) {\n      throw new Error(`${this._flowName}: \"evmSwap\" of type object required`)\n    }\n    if (!this.utxoSwap) {\n      throw new Error(`${this._flowName}: \"utxoSwap\" of type object required`)\n    }\n\n    // ToDo: update state to UTXO and EVM names\n    this.state = {\n      step: 0,\n\n      isStoppedSwap: false,\n\n      signTransactionHash: null,\n      isSignFetching: false,\n      isMeSigned: false,\n\n      targetWallet : null,\n      secretHash: null,\n\n      isBalanceFetching: false,\n      isBalanceEnough: true,\n      balance: null,\n\n      ethLikeSwapCreationTransactionHash: null,\n      canCreateEthTransaction: true,\n      isEthContractFunded: false,\n\n      secret: null,\n\n      isEthWithdrawn: false,\n      isbtcWithdrawn: false,\n\n      ethLikeSwapWithdrawTransactionHash: null,\n      utxoSwapWithdrawTransactionHash: null,\n\n      refundTransactionHash: null,\n      isRefunded: false,\n\n      isFinished: false,\n      isSwapExist: false,\n\n      withdrawRequestIncoming: false,\n      withdrawRequestAccepted: false,\n\n      isFailedTransaction: false,\n      isFailedTransactionError: null,\n    }\n\n    this._persistState()\n\n    const flow = this\n\n    if (this.isTaker()) {\n      flow.swap.room.on('create utxo script', (data) => {\n        const {\n          utxoScriptCreatingTransactionHash,\n        } = data\n        flow.setState({\n          utxoScriptCreatingTransactionHash,\n        }, true)\n      })\n      flow.swap.room.on('ethWithdrawTxHash', (data) => {\n        const {\n          ethLikeSwapWithdrawTransactionHash,\n        } = data\n        flow.setState({\n          ethLikeSwapWithdrawTransactionHash,\n        })\n      })\n    } else {\n      flow.swap.room.once('request withdraw', () => {\n        flow.setState({\n          withdrawRequestIncoming: true,\n        })\n      })\n\n      flow.swap.room.on('request eth contract', () => {\n        const { ethLikeSwapCreationTransactionHash } = flow.state\n\n        if (ethLikeSwapCreationTransactionHash) {\n          console.log('Exists - send hash')\n          flow.swap.room.sendMessage({\n            event: 'create eth contract',\n            data: {\n              ethLikeSwapCreationTransactionHash,\n            },\n          })\n        }\n      })\n    }\n\n    super._persistSteps()\n  }\n\n  _persistState() {\n    super._persistState()\n  }\n\n  //@ts-ignore: strictNullChecks\n  _getSteps() {\n    const flow = this\n\n    if (this.isMaker()) {\n      return [\n\n        // 1. Sign swap to start\n\n        () => {\n          this.signABSide()\n        },\n\n        // 2. Wait participant create and fund UTXO Script\n\n        () => {\n          flow.waitUTXOScriptCreated()\n        },\n\n        // 3. Verify UTXO Script\n\n        () => {\n          debug('swap.core:flow')(`waiting verify utxo script`)\n          this.verifyScript()\n        },\n\n        // 4. Check balance\n\n        () => {\n          this.syncBalance()\n        },\n\n        // 5. Create EVM Contract\n\n        async () => {\n          const scriptFunded = await this.waitUTXOScriptFunded()\n          if (scriptFunded) {\n            await flow.evmSwap.fundContract({\n              flow,\n            })\n          }\n        },\n\n        // 6. Wait participant withdraw\n\n        async () => {\n          const {\n            secretHash,\n          } = this.state\n\n          await util.helpers.repeatAsyncUntilResult(async () => {\n            const isSwapCreated = await flow.evmSwap.isSwapCreated({\n              ownerAddress: flow.getMyAddress(),\n              participantAddress: flow.getParticipantAddress(flow.swap),\n              secretHash,\n            })\n\n            if (isSwapCreated) {\n              await flow.evmSwap.getSecretFromContract({ flow })\n              return true\n            }\n            return false\n          })\n        },\n\n        // 7. Withdraw\n\n        async () => {\n          await this.utxoSwap.withdrawFromSwap({\n            flow,\n          })\n        },\n\n        // 8. Finish\n\n        () => {\n          flow.swap.room.once('request swap finished', () => {\n            const { utxoSwapWithdrawTransactionHash } = flow.state\n\n            flow.swap.room.sendMessage({\n              event: 'swap finished',\n              data: {\n                utxoSwapWithdrawTransactionHash,\n              },\n            })\n          })\n\n          flow.finishStep({\n            isFinished: true,\n          }, { step: 'finish' })\n        },\n\n        // 9. Finished!\n\n        () => {}\n      ]\n    } else {\n      return [\n        // 1 - `sign` - Signs\n        async () => {\n          this.signABSide()\n        },\n\n        // 2 - `sync-balance` - syncBalance\n        async () => {\n          this.syncBalance()\n        },\n\n        // 3 - `lock-eth` - create secret and secretHash - create EVM contract\n        async () => {\n          if (!this.state.secret) {\n            const {\n              secret,\n              secretHash,\n            } = this.generateSecret()\n\n            this.createWorkUTXOScript(secretHash, false)\n\n            this.setState({\n              secret,\n              secretHash,\n            }, true)\n          }\n\n          await flow.evmSwap.fundContract({\n            flow,\n            // Использует принудительно адрес назначения (куда отправить монеты)\n            // Это нужно, чтобы тейкер, дождавшись пополнения utxo не снял монеты с evm контракта использу\n            // Так-же на стороне UTXO перед пополнением скрипта делаем\n            // проверку адреса назначения на evm контракте используя getTargetWallet\n            useTargetWallet: true,\n          })\n        },\n\n        // 4 - `wait-lock-utxo` - wait when UTXO script created and funded\n        async () => {\n          this.waitUTXOScriptFunded()\n            .then((funded) => {\n              if (funded) {\n                this.finishStep({}, 'wait-lock-utxo`')\n              }\n            })\n        },\n\n        // 5 - `withdraw-utxo` - withdraw from UTXO\n        async () => {\n          await this.utxoSwap.withdrawFromSwap({\n            flow,\n          })\n        },\n\n        // 6 - `finish`\n        async () => {\n          // @to-do - txids room events\n          flow.finishStep({\n            isFinished: true,\n          }, 'finish')\n        },\n\n        // 7 - `end`\n        async () => {},\n      ]\n    }\n  }\n\n  _checkSwapAlreadyExists() {\n    const swapData = {\n      ownerAddress: this.getMyAddress(),\n      participantAddress: this.getParticipantAddress(this.swap)\n    }\n\n    return this.evmSwap.checkSwapExists(swapData)\n  }\n\n  async tryRefund() {\n    const { secretHash } = this.state\n\n    const refundHandler = (hash = null) => {\n      this.swap.room.sendMessage({\n        event: 'eth refund completed',\n      })\n\n      this.setState({\n        refundTransactionHash: hash,\n        isRefunded: true,\n        isSwapExist: false,\n      }, true)\n    }\n\n    try {\n      const wasRefunded = await this.evmSwap.wasRefunded({ secretHash })\n\n      if (wasRefunded) {\n        debug('swap.core:flow')('This swap was refunded')\n\n        refundHandler()\n\n        return true\n      }\n    } catch (error) {\n      console.warn('wasRefunded error:', error)\n\n      return false\n    }\n\n    return this.evmSwap.refund({\n      participantAddress: this.getParticipantAddress(this.swap),\n    })\n      .then((hash) => {\n        if (!hash) {\n          return false\n        }\n\n        //@ts-ignore: strictNullChecks\n        refundHandler(hash)\n\n        return true\n      })\n      .catch((error) => false)\n  }\n\n  async isRefundSuccess() {\n    return true\n  }\n\n  async tryWithdraw(_secret) {\n    const { secret, secretHash, isbtcWithdrawn, utxoScriptValues } = this.state\n\n    if (!_secret)\n      throw new Error(`Withdrawal is automatic. For manual withdrawal, provide a secret`)\n\n    if (!utxoScriptValues)\n      throw new Error(`Cannot withdraw without script values`)\n\n    if (secret && secret != _secret)\n      console.warn(`Secret already known and is different. Are you sure?`)\n\n    if (isbtcWithdrawn)\n      console.warn(`Looks like money were already withdrawn, are you sure?`)\n\n    debug('swap.core:flow')(`WITHDRAW using secret = ${_secret}`)\n\n    const _secretHash = this.app.env.bitcoin.crypto.ripemd160(Buffer.from(_secret, 'hex')).toString('hex')\n\n    if (secretHash != _secretHash)\n      console.warn(`Hash does not match! state: ${secretHash}, given: ${_secretHash}`)\n\n    const { scriptAddress } = this.utxoSwap.createScript(utxoScriptValues)\n    const balance = await this.utxoSwap.getBalance(scriptAddress)\n\n    debug('swap.core:flow')(`address=${scriptAddress}, balance=${balance}`)\n\n    if (balance === 0) {\n      this.finishStep({\n        isbtcWithdrawn: true,\n      }, { step: 'withdraw-utxo' })\n      throw new Error(`Already withdrawn: address=${scriptAddress},balance=${balance}`)\n    }\n\n    this.utxoSwap.withdraw({\n      scriptValues: utxoScriptValues,\n      secret: _secret,\n    }).then((hash) => {\n      debug('swap.core:flow')(`TX hash=${hash}`)\n      this.setState({\n        utxoSwapWithdrawTransactionHash: hash,\n      })\n\n      debug('swap.core:flow')(`TX withdraw sent: ${this.state.utxoSwapWithdrawTransactionHash}`)\n\n      this.finishStep({\n        isbtcWithdrawn: true,\n      }, { step: 'withdraw-utxo' })\n    })\n  }\n}\n\n\nexport default EvmToNext\n","import debug from 'debug'\nimport { util } from 'swap.app'\nimport { AtomicAB2UTXO } from 'swap.swap'\nimport Swap from 'swap.swap'\nimport { EthLikeTokenSwap, NextSwap } from 'swap.swaps'\n\n\ninterface INextToEvmToken {\n  flowName: string\n  blockchainName: string\n  tokenName: string\n  getMyAddress: Function\n  getParticipantAddress: Function\n}\n\nexport default class NextToEvmToken extends AtomicAB2UTXO {\n\n  _flowName: string\n  evmTokenSwap: EthLikeTokenSwap\n  utxoSwap: NextSwap\n  state: any\n\n  ethTokenSwap: EthLikeTokenSwap\n\n  blockchainName: string\n  tokenName: string\n  getMyAddress: Function\n  getParticipantAddress: Function\n\n  constructor(swap: Swap, options: INextToEvmToken) {\n    super(swap)\n    if (!options.tokenName) {\n      throw new Error(`NextToEvmToken - option tokenName requery`)\n    }\n    if (!options.blockchainName) {\n      throw new Error(`NextToEvmToken - token ${options.tokenName} - option blockchainName requery`)\n    }\n    if (!options.getMyAddress || typeof options.getMyAddress !== 'function') {\n      throw new Error(`NextToEvmToken ${options.blockchainName} - token ${options.tokenName} - option getMyAddress - function requery`)\n    }\n    if (!options.getParticipantAddress || typeof options.getParticipantAddress !== 'function') {\n      throw new Error(`NextToEvmToken ${options.blockchainName} - token ${options.tokenName} - option getParticipantAddress - function requery`)\n    }\n\n    this.blockchainName = options.blockchainName\n    this.tokenName = options.tokenName\n    this.getMyAddress = options.getMyAddress\n    this.getParticipantAddress = options.getParticipantAddress\n\n    this.utxoCoin = `next`\n    this._flowName = options.flowName\n\n    this.isUTXOSide = true\n    this.isTakerMakerModel = true\n    this.setupTakerMakerEvents()\n\n    this.stepNumbers = this.getStepNumbers()\n\n    this.evmTokenSwap = swap.ownerSwap\n    this.utxoSwap = swap.participantSwap\n\n    // need for another classes\n    this.ethTokenSwap = this.evmTokenSwap\n    this.abBlockchain = this.evmTokenSwap\n    this.utxoBlockchain = this.utxoSwap\n\n    if (!this.evmTokenSwap) {\n      throw new Error(`${this._flowName}: \"evmTokenSwap\" of type object required`)\n    }\n    if (!this.utxoSwap) {\n      throw new Error(`${this._flowName}: \"utxoSwap\" of type object required`)\n    }\n\n    // ToDo: update state to UTXO and EVM names\n    this.state = {\n      step: 0,\n\n      isStoppedSwap: false,\n\n      signTransactionHash: null,\n      isSignFetching: false,\n      isParticipantSigned: false,\n\n      ethSwapCreationTransactionHash: null,\n\n      secretHash: null,\n\n      isBalanceFetching: false,\n      isBalanceEnough: true,\n      balance: null,\n\n      isEthContractFunded: false,\n\n      utxoSwapWithdrawTransactionHash: null,\n      ethSwapWithdrawTransactionHash: null,\n\n      secret: null,\n\n      canCreateEthTransaction: true,\n      isEthWithdrawn: false,\n\n      refundTransactionHash: null,\n      isRefunded: false,\n\n      withdrawFee: null,\n      refundTxHex: null,\n      isFinished: false,\n      isSwapExist: false,\n      utxoFundError: null,\n    }\n\n    const flow = this\n\n    if (this.isMaker()) {\n      this.swap.room.once('create eth contract', async ({\n        ethSwapCreationTransactionHash,\n      }) => {\n        flow.setState({\n          ethSwapCreationTransactionHash,\n        }, true)\n      })\n    }\n\n    this._persistState()\n    super._persistSteps()\n  }\n\n  _persistState() {\n    super._persistState()\n  }\n\n  //@ts-ignore: strictNullChecks\n  _getSteps() {\n    const flow = this\n\n    if (this.isTaker()) {\n      return [\n\n        // 1. Signs\n\n        async () => {\n          this.signUTXOSide()\n        },\n\n        // 2. Create secret, secret hash and UTXO script\n\n        () => {\n          this.submitSecret()\n        },\n\n        // 3. Check system wallet balance\n\n        () => {\n          this.syncBalance()\n        },\n\n        // 4. Create UTXO Script, fund, notify participant\n\n        async () => {\n          await this.utxoSwap.fundSwapScript({\n            flow,\n          })\n        },\n\n        // 5. Wait participant creates EVM Token Contract\n\n        async () => {\n          await this.evmTokenSwap.waitAB2UTXOContract({\n            flow,\n            utxoCoin: this.utxoCoin,\n          })\n        },\n\n        // 6. Withdraw\n\n        async () => {\n          await flow.evmTokenSwap.withdrawFromABContract({ flow })\n        },\n\n        // 7. Finish\n\n        () => {\n          flow.swap.room.once('swap finished', ({utxoSwapWithdrawTransactionHash}) => {\n            flow.setState({\n              utxoSwapWithdrawTransactionHash,\n            })\n          })\n\n          flow.swap.room.sendMessage({\n            event: 'request swap finished',\n          })\n\n          flow.finishStep({\n            isFinished: true,\n          }, 'finish')\n        },\n\n        // 8. Finished!\n\n        () => {}\n      ]\n    } else {\n      return [\n        // 1 - `sign` Signs\n        async () => {\n          this.signUTXOSide()\n        },\n\n        // 2 - `sync-balance` - syncBalance\n        async () => {\n          this.syncBalance()\n        },\n\n        // 3 - `wait-lock-eth` - wait taker created and funded EVM Token Contract\n        async () => {\n          await util.helpers.repeatAsyncUntilResult(async () => {\n            const isContractFunded = await this.evmTokenSwap.isContractFunded(this)\n\n            if (isContractFunded) {\n              this.finishStep({\n                isEthContractFunded: true,\n              }, 'wait-lock-eth`')\n              return true\n            }\n            return false\n          })\n        },\n\n        // 4 - `lock-utxo` - create UTXO\n        async () => {\n          // Repeat until\n          await util.helpers.repeatAsyncUntilResult(async () => {\n            const {\n              secretHash,\n              utxoScriptValues\n            } = flow.state\n            if (secretHash && utxoScriptValues) {\n              const isSwapCreated = await flow.evmTokenSwap.isSwapCreated({\n                ownerAddress: flow.getParticipantAddress(flow.swap),\n                participantAddress: flow.getMyAddress(),\n                secretHash,\n              })\n              if (isSwapCreated) {\n                const destAddressIsOk = await this.evmTokenSwap.checkTargetAddress({ flow })\n\n                if (destAddressIsOk) {\n                  await this.utxoSwap.fundSwapScript({\n                    flow,\n                  })\n                  return true\n                } else {\n                  console.warn('Destination address not valid. Stop swap now!')\n                }\n              } else {\n                console.log('Swap not mined - wait')\n              }\n            } else {\n              flow.swap.room.sendMessage({\n                event: 'request utxo script',\n              })\n              return false\n            }\n          })\n        },\n\n        // 5 - `wait-withdraw-utxo` - wait withdraw UTXO - fetch secret from TX - getSecretFromTxhash\n        async () => {\n          await util.helpers.repeatAsyncUntilResult(async () => {\n            // check withdraw\n            try {\n              const {\n                utxoScriptValues,\n              } = this.state\n              const { scriptAddress } = this.utxoSwap.createScript(utxoScriptValues)\n\n              const utxoWithdrawData = await this.utxoSwap.checkWithdraw(scriptAddress)\n\n              if (utxoWithdrawData) {\n                const {\n                  txid: utxoSwapWithdrawTransactionHash,\n                } = utxoWithdrawData\n\n                const secret = await this.utxoSwap.getSecretFromTxhash(utxoSwapWithdrawTransactionHash)\n                if (secret) {\n                  this.finishStep({\n                    secret,\n                    utxoSwapWithdrawTransactionHash,\n                  }, 'wait-withdraw-utxo')\n                }\n                return true\n              } else {\n                return false\n              }\n            } catch (e) {\n              console.log(`${this._flowName} - Step 5 error`)\n              console.error(e)\n              return false\n            }\n          })\n        },\n\n        // 6 - `withdraw-eth` - withdraw from EVM Token Contract\n        async () => {\n          await flow.evmTokenSwap.withdrawFromABContract({ flow })\n        },\n\n        // 7 - `finish`\n        async () => {\n          // @to-do - txids room events\n          flow.finishStep({\n            isFinished: true,\n          }, 'finish')\n        },\n\n        // 8 - `end`\n        async () => {},\n      ]\n    }\n  }\n\n  async skipSyncBalance() {\n    this.finishStep({}, { step: 'sync-balance' })\n  }\n\n  getRefundTxHex = () => {\n    this.utxoSwap.getRefundHexTransaction({\n      scriptValues: this.state.utxoScriptValues,\n      secret: this.state.secret,\n    })\n      .then((txHex) => {\n        this.setState({\n          refundTxHex: txHex,\n        })\n      })\n  }\n\n  tryRefund() {\n    const flow = this\n    const { utxoScriptValues, secret } = flow.state\n\n    return flow.utxoSwap.refund({\n      scriptValues: utxoScriptValues,\n      secret: secret,\n    })\n      .then((hash) => {\n        if (!hash) {\n          return false\n        }\n\n        this.swap.room.sendMessage({\n          event: 'utxo refund completed',\n        })\n\n        flow.setState({\n          refundTransactionHash: hash,\n          isRefunded: true,\n          isSwapExist: false,\n        }, true)\n\n        return true\n      })\n      .catch((error) => {\n        if (/Address is empty/.test(error)) {\n          // TODO - fetch TX list to script for refund TX\n          flow.setState({\n            isRefunded: true,\n            isSwapExist: false,\n          }, true)\n          return true\n        } else {\n          console.warn('utxoSwap refund:', error)\n\n          return false\n        }\n      })\n  }\n\n  async isRefundSuccess() {\n    const { refundTransactionHash, isRefunded } = this.state\n    if (refundTransactionHash && isRefunded) {\n      if (await this.utxoSwap.checkTX(refundTransactionHash)) {\n        return true\n      } else {\n        console.warn(`${this._flowName} - unknown refund transaction`)\n        this.setState( {\n          refundTransactionHash: null,\n          isRefunded: false,\n        } )\n        return false\n      }\n    }\n    return false\n  }\n\n  async tryWithdraw(_secret) {\n    const { secret, secretHash, isEthWithdrawn } = this.state\n\n    if (!_secret)\n      throw new Error(`Withdrawal is automatic. For manual withdrawal, provide a secret`)\n\n    if (secret && secret != _secret)\n      console.warn(`Secret already known and is different. Are you sure?`)\n\n    if (isEthWithdrawn)\n      console.warn(`Looks like money were already withdrawn, are you sure?`)\n\n    debug('swap.core:flow')(`WITHDRAW using secret = ${_secret}`)\n\n    const _secretHash = this.app.env.bitcoin.crypto.ripemd160(Buffer.from(_secret, 'hex')).toString('hex')\n\n    if (secretHash != _secretHash)\n      console.warn(`Hash does not match! state: ${secretHash}, given: ${_secretHash}`)\n\n    const data = {\n      ownerAddress: this.getParticipantAddress(this.swap),\n      secret: _secret,\n    }\n\n    await this.evmTokenSwap.withdraw(data, (hash) => {\n      debug('swap.core:flow')(`TX hash=${hash}`)\n      this.setState({\n        ethSwapWithdrawTransactionHash: hash,\n        canCreateEthTransaction: true,\n      })\n    }).then(() => {\n\n      this.finishStep({\n        isEthWithdrawn: true,\n      }, 'withdraw-eth')\n    })\n  }\n}\n","import { constants } from 'swap.app'\nimport NextToEvmToken from './atomic/NextToEvmToken'\n\n\nexport default (tokenName) => {\n  class NEXT2ETHTOKEN extends NextToEvmToken {\n    _flowName: string\n    static blockchainName = `ETH`\n\n    static getName() {\n      return `${this.getFromName()}2${this.getToName()}`\n    }\n    static getFromName() {\n      return constants.COINS.next\n    }\n    static getToName() {\n      return `{${this.blockchainName}}${tokenName.toUpperCase()}`\n    }\n\n    constructor(swap) {\n      super(swap, {\n        flowName: NEXT2ETHTOKEN.getName(),\n        blockchainName: `ETH`,\n        tokenName,\n        getMyAddress: swap.app.getMyEthAddress.bind(swap.app),\n        getParticipantAddress: swap.app.getParticipantEthAddress.bind(swap.app),\n      })\n\n      this._flowName = NEXT2ETHTOKEN.getName()\n    }\n  }\n\n  return NEXT2ETHTOKEN\n}","import debug from 'debug'\nimport { util } from 'swap.app'\nimport { AtomicAB2UTXO } from 'swap.swap'\nimport Swap from 'swap.swap'\nimport { EthLikeTokenSwap, NextSwap } from 'swap.swaps'\n\n\ninterface IEvmTokenToNext {\n  flowName: string\n  blockchainName: string\n  tokenName: string\n  getMyAddress: Function\n  getParticipantAddress: Function\n}\n\nexport default class EvmTokenToNext extends AtomicAB2UTXO {\n\n  _flowName: string\n  evmTokenSwap: EthLikeTokenSwap\n  utxoSwap: NextSwap\n  state: any\n\n  ethTokenSwap: EthLikeTokenSwap\n\n  blockchainName: string\n  tokenName: string\n  getMyAddress: Function\n  getParticipantAddress: Function\n\n  constructor(swap: Swap, options: IEvmTokenToNext) {\n    super(swap)\n    if (!options.tokenName) {\n      throw new Error(`EvmTokenToNext - option tokenName requery`)\n    }\n    if (!options.blockchainName) {\n      throw new Error(`EvmTokenToNext - token ${options.tokenName} - option blockchainName requery`)\n    }\n    if (!options.getMyAddress || typeof options.getMyAddress !== 'function') {\n      throw new Error(`EvmTokenToNext ${options.blockchainName} - token ${options.tokenName} - option getMyAddress - function requery`)\n    }\n    if (!options.getParticipantAddress || typeof options.getParticipantAddress !== 'function') {\n      throw new Error(`EvmTokenToNext ${options.blockchainName} - token ${options.tokenName} - option getParticipantAddress - function requery`)\n    }\n\n    this.blockchainName = options.blockchainName\n    this.tokenName = options.tokenName\n    this.getMyAddress = options.getMyAddress\n    this.getParticipantAddress = options.getParticipantAddress\n\n    this.utxoCoin = `next`\n    this._flowName = options.flowName\n\n    this.isTakerMakerModel = true\n    this.setupTakerMakerEvents()\n    this.stepNumbers = this.getStepNumbers()\n\n    this.evmTokenSwap = swap.participantSwap\n    this.utxoSwap = swap.ownerSwap\n\n    // need for another classes\n    this.ethTokenSwap = this.evmTokenSwap\n    this.abBlockchain = this.evmTokenSwap\n    this.utxoBlockchain = this.utxoSwap\n\n    if (!this.evmTokenSwap) {\n      throw new Error(`${this._flowName}: \"evmTokenSwap\" of type object required`)\n    }\n    if (!this.utxoSwap) {\n      throw new Error(`${this._flowName}: \"utxoSwap\" of type object required`)\n    }\n\n    // ToDo: update state to UTXO and EVM names\n    this.state = {\n      step: 0,\n\n      isStoppedSwap: false,\n\n      signTransactionHash: null,\n      isSignFetching: false,\n      isMeSigned: false,\n\n      targetWallet : null,\n      secretHash: null,\n\n      isBalanceFetching: false,\n      isBalanceEnough: true,\n      balance: null,\n\n      ethSwapCreationTransactionHash: null,\n      canCreateEthTransaction: true,\n      isEthContractFunded: false,\n\n      secret: null,\n\n      isEthWithdrawn: false,\n      isbtcWithdrawn: false,\n\n      ethSwapWithdrawTransactionHash: null,\n      utxoSwapWithdrawTransactionHash: null,\n\n      refundTransactionHash: null,\n      isRefunded: false,\n\n      isFinished: false,\n      isSwapExist: false,\n\n      withdrawRequestIncoming: false,\n      withdrawRequestAccepted: false,\n\n      isFailedTransaction: false,\n      isFailedTransactionError: null,\n      gasAmountNeeded: 0,\n    }\n\n    this._persistState()\n\n    const flow = this\n\n    if (this.isTaker()) {\n      flow.swap.room.on('create utxo script', (data) => {\n        const {\n          utxoScriptCreatingTransactionHash,\n        } = data\n        flow.setState({\n          utxoScriptCreatingTransactionHash,\n        }, true)\n      })\n      flow.swap.room.on('ethWithdrawTxHash', (data) => {\n        const {\n          ethSwapWithdrawTransactionHash,\n        } = data\n        flow.setState({\n          ethSwapWithdrawTransactionHash,\n        })\n      })\n    } else {\n      flow.swap.room.once('request withdraw', () => {\n        flow.setState({\n          withdrawRequestIncoming: true,\n        })\n      })\n\n      flow.swap.room.on('request eth contract', () => {\n        const { ethSwapCreationTransactionHash } = flow.state\n\n        if (ethSwapCreationTransactionHash) {\n          console.log('Exists - send hash')\n          flow.swap.room.sendMessage({\n            event: 'create eth contract',\n            data: {\n              ethSwapCreationTransactionHash,\n            },\n          })\n        }\n      })\n    }\n\n    super._persistSteps()\n  }\n\n  _persistState() {\n    super._persistState()\n  }\n\n  //@ts-ignore: strictNullChecks\n  _getSteps() {\n    const flow = this\n\n    if (this.isMaker()) {\n      return [\n\n        // 1. Sign swap to start\n\n        () => {\n          this.signABSide()\n        },\n\n        // 2. Wait participant create, fund UTXO Script\n\n        () => {\n          flow.waitUTXOScriptCreated()\n        },\n\n        // 3. Verify UTXO Script\n\n        () => {\n          debug('swap.core:flow')(`waiting verify utxo script`)\n          this.verifyScript()\n        },\n\n        // 4. Check balance\n\n        () => {\n          this.syncBalance()\n        },\n\n        // 5. Create EVM Token Contract\n\n        async () => {\n          const scriptFunded = await this.waitUTXOScriptFunded()\n\n          if (scriptFunded) {\n            await flow.evmTokenSwap.fundERC20Contract({\n              flow,\n            })\n          }\n        },\n\n        // 6. Wait participant withdraw\n\n        async () => {\n          const {\n            secretHash,\n          } = this.state\n\n          await util.helpers.repeatAsyncUntilResult(async () => {\n            const isSwapCreated = await flow.evmTokenSwap.isSwapCreated({\n              ownerAddress: flow.getMyAddress(),\n              participantAddress: flow.getParticipantAddress(flow.swap),\n              secretHash,\n            })\n\n            if (isSwapCreated) {\n              await flow.evmTokenSwap.getSecretFromContract({ flow })\n              return true\n            }\n            return false\n          })\n        },\n\n        // 7. Withdraw\n\n        async () => {\n          await this.utxoSwap.withdrawFromSwap({\n            flow,\n          })\n        },\n\n        // 8. Finish\n\n        () => {\n          flow.swap.room.once('request swap finished', () => {\n            const { utxoSwapWithdrawTransactionHash } = flow.state\n\n            flow.swap.room.sendMessage({\n              event: 'swap finished',\n              data: {\n                utxoSwapWithdrawTransactionHash,\n              },\n            })\n          })\n\n          flow.finishStep({\n            isFinished: true,\n          }, { step: 'finish' })\n        },\n\n        // 9. Finished!\n\n        () => {},\n      ]\n    } else {\n      return [\n        // 1 - `sign` - Signs\n        async () => {\n          this.signABSide()\n        },\n\n        // 2 - `sync-balance` - syncBalance\n        async () => {\n          this.syncBalance()\n        },\n\n        // 3 - `lock-eth` - create secret and secretHash - create EVM token contract\n        async () => {\n          if (!this.state.secret) {\n            const {\n              secret,\n              secretHash,\n            } = this.generateSecret()\n\n            this.createWorkUTXOScript(secretHash, false)\n\n            this.setState({\n              secret,\n              secretHash,\n            }, true)\n          }\n\n          await flow.evmTokenSwap.fundERC20Contract({\n            flow,\n            // Использует принудительно адрес назначения (куда отправить монеты)\n            // Это нужно, чтобы тейкер, дождавшись пополнения UTXO не снял монеты с EVM контракта использу\n            // Так-же на стороне UTXO перед пополнением скрипта делаем\n            // проверку адреса назначения на EVM контракте используя getTargetWallet\n            useTargetWallet: true,\n          })\n        },\n\n        // 4 - `wait-lock-utxo` - wait create UTXO\n        async () => {\n          await util.helpers.repeatAsyncUntilResult(async () => {\n            const isUTXOFunded = await this.waitUTXOScriptFunded()\n            if (isUTXOFunded) {\n              this.finishStep({}, 'wait-lock-utxo`')\n              return true\n            }\n            return false\n          })\n        },\n\n        // 5 - `withdraw-utxo` - withdraw from UTXO\n        async () => {\n          await this.utxoSwap.withdrawFromSwap({\n            flow,\n          })\n        },\n\n        // 6 - `finish`\n        async () => {\n          // @to-do - txids room events\n          flow.finishStep({\n            isFinished: true,\n          }, 'finish')\n        },\n\n        // 7 - `end`\n        async () => {},\n      ]\n    }\n  }\n\n  _checkSwapAlreadyExists() {\n    const swapData = {\n      ownerAddress: this.getMyAddress(),\n      participantAddress: this.getParticipantAddress(this.swap)\n    }\n\n    return this.evmTokenSwap.checkSwapExists(swapData)\n  }\n\n  async tryRefund() {\n    const { secretHash } = this.state\n\n    const refundHandler = (hash = null) => {\n      this.swap.room.sendMessage({\n        event: 'eth refund completed',\n      })\n\n      this.setState({\n        refundTransactionHash: hash,\n        isRefunded: true,\n        isSwapExist: false,\n      }, true)\n    }\n\n    try {\n      const wasRefunded = await this.evmTokenSwap.wasRefunded({ secretHash })\n\n      if (wasRefunded) {\n        debug('swap.core:flow')('This swap was refunded')\n\n        refundHandler()\n\n        return true\n      }\n    } catch (error) {\n      console.warn('wasRefunded error:', error)\n\n      return false\n    }\n\n    return this.evmTokenSwap.refund({\n      participantAddress: this.getParticipantAddress(this.swap),\n    })\n      .then((hash) => {\n        if (hash) {\n          return false\n        }\n\n        //@ts-ignore: strictNullChecks\n        refundHandler(hash)\n\n        return true\n      })\n      .catch((error) => false)\n  }\n\n\n\n  async isRefundSuccess() {\n    return true\n  }\n\n  async tryWithdraw(_secret) {\n    const { secret, secretHash, isbtcWithdrawn, utxoScriptValues } = this.state\n\n    if (!_secret)\n      throw new Error(`Withdrawal is automatic. For manual withdrawal, provide a secret`)\n\n    if (!utxoScriptValues)\n      throw new Error(`Cannot withdraw without script values`)\n\n    if (secret && secret != _secret)\n      console.warn(`Secret already known and is different. Are you sure?`)\n\n    if (isbtcWithdrawn)\n      console.warn(`Looks like money were already withdrawn, are you sure?`)\n\n    debug('swap.core:flow')(`WITHDRAW using secret = ${_secret}`)\n\n    const _secretHash = this.app.env.bitcoin.crypto.ripemd160(Buffer.from(_secret, 'hex')).toString('hex')\n\n    if (secretHash != _secretHash)\n      console.warn(`Hash does not match! state: ${secretHash}, given: ${_secretHash}`)\n\n    const {scriptAddress} = this.utxoSwap.createScript(utxoScriptValues)\n    const balance = await this.utxoSwap.getBalance(scriptAddress)\n\n    debug('swap.core:flow')(`address=${scriptAddress}, balance=${balance}`)\n\n    if (balance === 0) {\n      this.finishStep({\n        isbtcWithdrawn: true,\n      }, {step: 'withdraw-utxo'})\n      throw new Error(`Already withdrawn: address=${scriptAddress},balance=${balance}`)\n    }\n\n    this.utxoSwap.withdraw({\n      scriptValues: utxoScriptValues,\n      secret: _secret,\n    }).then((hash) => {\n      debug('swap.core:flow')(`TX hash=${hash}`)\n      this.setState({\n        utxoSwapWithdrawTransactionHash: hash,\n      })\n\n      debug('swap.core:flow')(`TX withdraw sent: ${this.state.utxoSwapWithdrawTransactionHash}`)\n\n      this.finishStep({\n        isbtcWithdrawn: true,\n      }, { step: 'withdraw-utxo' })\n    })\n  }\n}","import { constants } from 'swap.app'\nimport EvmTokenToNext from './atomic/EvmTokenToNext'\n\n\nexport default (tokenName) => {\n\n  class ETHTOKEN2NEXT extends EvmTokenToNext {\n    _flowName: string\n\n    static blockchainName = `ETH`\n    static getName() {\n      return `${this.getFromName()}2${this.getToName()}`\n    }\n    static getFromName() {\n      return `{${this.blockchainName}}${tokenName.toUpperCase()}`\n    }\n    static getToName() {\n      return constants.COINS.next\n    }\n    constructor(swap) {\n      super(swap, {\n        flowName: ETHTOKEN2NEXT.getName(),\n        blockchainName: `ETH`,\n        tokenName,\n        getMyAddress: swap.app.getMyEthAddress.bind(swap.app),\n        getParticipantAddress: swap.app.getParticipantEthAddress.bind(swap.app),\n      })\n      this._flowName = ETHTOKEN2NEXT.getName()\n    }\n  }\n\n  return ETHTOKEN2NEXT\n}\n","import { constants } from 'swap.app'\nimport EthLikeToBtc from './atomic/EthLikeToBtc'\n\n\nclass BNB2BTC extends EthLikeToBtc {\n  static getName() {\n    return `${this.getFromName()}2${this.getToName()}`\n  }\n  static getFromName() {\n    return constants.COINS.bnb\n  }\n  static getToName() {\n    return constants.COINS.btc\n  }\n  constructor(swap) {\n    super(swap, {\n      flowName: `BNB2BTC`,\n      getMyAddress: swap.app.getMyBnbAddress.bind(swap.app),\n      getParticipantAddress: swap.app.getParticipantBnbAddress.bind(swap.app),\n    })\n  }\n}\n\n\nexport default BNB2BTC\n","import { constants } from 'swap.app'\nimport BtcToEthLike from './atomic/BtcToEthLike'\n\n\nclass BTC2BNB extends BtcToEthLike {\n  static getName() {\n    return `${this.getFromName()}2${this.getToName()}`\n  }\n\n  static getFromName() {\n    return constants.COINS.btc\n  }\n\n  static getToName() {\n    return constants.COINS.bnb\n  }\n\n  constructor(swap) {\n    super(swap, {\n      flowName: `BTC2BNB`,\n      getMyAddress: swap.app.getMyBnbAddress.bind(swap.app),\n      getParticipantAddress: swap.app.getParticipantBnbAddress.bind(swap.app),\n    })\n  }\n}\n\nexport default BTC2BNB\n","import { constants } from 'swap.app'\nimport EthLikeTokenToBtc from './atomic/EthLikeTokenToBtc'\n\n\nexport default (tokenName) => {\n\n  class BSCTOKEN2BTC extends EthLikeTokenToBtc {\n    static blockchainName = `BNB`\n    _flowName: string\n\n    static getName() {\n      return `${this.getFromName()}2${this.getToName()}`\n    }\n    static getFromName() {\n      return `{${this.blockchainName}}${tokenName.toUpperCase()}`\n    }\n    static getToName() {\n      return constants.COINS.btc\n    }\n\n    constructor(swap) {\n      super(swap, {\n        blockchainName: `BNB`,\n        tokenName,\n        getMyAddress: swap.app.getMyBnbAddress.bind(swap.app),\n        getParticipantAddress: swap.app.getParticipantBnbAddress.bind(swap.app),\n      })\n      this._flowName = BSCTOKEN2BTC.getName()\n    }\n  }\n\n  return BSCTOKEN2BTC\n}\n","import { constants } from 'swap.app'\nimport BtcToEthLikeToken from './atomic/BtcToEthLikeToken'\n\n\nexport default (tokenName) => {\n  class BTC2BSCTOKEN extends BtcToEthLikeToken {\n    static blockchainName = `BNB`\n    _flowName: string\n\n    static getName() {\n      return `${this.getFromName()}2${this.getToName()}`\n    }\n    static getFromName() {\n      return constants.COINS.btc\n    }\n    static getToName() {\n      return `{${this.blockchainName}}${tokenName.toUpperCase()}`\n    }\n\n    constructor(swap) {\n      super(swap, {\n        blockchainName: `BNB`,\n        tokenName,\n        getMyAddress: swap.app.getMyBnbAddress.bind(swap.app),\n        getParticipantAddress: swap.app.getParticipantBnbAddress.bind(swap.app),\n      })\n\n      this._flowName = BTC2BSCTOKEN.getName()\n    }\n  }\n\n  return BTC2BSCTOKEN\n}\n","import { constants } from 'swap.app'\nimport EthLikeToBtc from './atomic/EthLikeToBtc'\n\n\nclass MATIC2BTC extends EthLikeToBtc {\n  static getName() {\n    return `${this.getFromName()}2${this.getToName()}`\n  }\n  static getFromName() {\n    return constants.COINS.matic\n  }\n  static getToName() {\n    return constants.COINS.btc\n  }\n  constructor(swap) {\n    super(swap, {\n      flowName: `MATIC2BTC`,\n      getMyAddress: swap.app.getMyMaticAddress.bind(swap.app),\n      getParticipantAddress: swap.app.getParticipantMaticAddress.bind(swap.app),\n    })\n  }\n}\n\nexport default MATIC2BTC\n","import { constants } from 'swap.app'\nimport BtcToEthLike from './atomic/BtcToEthLike'\n\n\nclass BTC2MATIC extends BtcToEthLike {\n  static getName() {\n    return `${this.getFromName()}2${this.getToName()}`\n  }\n  static getFromName() {\n    return constants.COINS.btc\n  }\n  static getToName() {\n    return constants.COINS.matic\n  }\n  constructor(swap) {\n    super(swap, {\n      flowName: `BTC2MATIC`,\n      getMyAddress: swap.app.getMyMaticAddress.bind(swap.app),\n      getParticipantAddress: swap.app.getParticipantMaticAddress.bind(swap.app),\n    })\n  }\n}\n\nexport default BTC2MATIC\n","import { constants } from 'swap.app'\nimport EthLikeTokenToBtc from './atomic/EthLikeTokenToBtc'\n\n\nexport default (tokenName) => {\n\n  class MATICTOKEN2BTC extends EthLikeTokenToBtc {\n    static blockchainName = `MATIC`\n    _flowName: string\n\n    static getName() {\n      return `${this.getFromName()}2${this.getToName()}`\n    }\n    static getFromName() {\n      return `{${this.blockchainName}}${tokenName.toUpperCase()}`\n    }\n    static getToName() {\n      return constants.COINS.btc\n    }\n\n    constructor(swap) {\n      super(swap, {\n        blockchainName: `MATIC`,\n        tokenName,\n        getMyAddress: swap.app.getMyMaticAddress.bind(swap.app),\n        getParticipantAddress: swap.app.getParticipantMaticAddress.bind(swap.app),\n      })\n      this._flowName = MATICTOKEN2BTC.getName()\n    }\n  }\n\n  return MATICTOKEN2BTC\n}\n","import { constants } from 'swap.app'\nimport BtcToEthLikeToken from './atomic/BtcToEthLikeToken'\n\n\nexport default (tokenName) => {\n\n  class BTC2MATICTOKEN extends BtcToEthLikeToken {\n    static blockchainName = `MATIC`\n    _flowName: string\n\n    static getName() {\n      return `${this.getFromName()}2${this.getToName()}`\n    }\n    static getFromName() {\n      return constants.COINS.btc\n    }\n    static getToName() {\n      return `{${this.blockchainName}}${tokenName.toUpperCase()}`\n    }\n\n    constructor(swap) {\n      super(swap, {\n        blockchainName: `MATIC`,\n        tokenName,\n        getMyAddress: swap.app.getMyMaticAddress.bind(swap.app),\n        getParticipantAddress: swap.app.getParticipantMaticAddress.bind(swap.app),\n      })\n      this._flowName = BTC2MATICTOKEN.getName()\n    }\n  }\n\n  return BTC2MATICTOKEN\n}\n","import { constants } from 'swap.app'\nimport EthLikeToBtc from './atomic/EthLikeToBtc'\n\n\nclass ARBITRUM2BTC extends EthLikeToBtc {\n  static getName() {\n    return `${this.getFromName()}2${this.getToName()}`\n  }\n  static getFromName() {\n    return constants.COINS.arbeth\n  }\n  static getToName() {\n    return constants.COINS.btc\n  }\n  constructor(swap) {\n    super(swap, {\n      flowName: `ARBITRUM2BTC`,\n      getMyAddress: swap.app.getMyArbitrumAddress.bind(swap.app),\n      getParticipantAddress: swap.app.getParticipantArbitrumAddress.bind(swap.app),\n    })\n  }\n}\n\nexport default ARBITRUM2BTC\n","import { constants } from 'swap.app'\nimport BtcToEthLike from './atomic/BtcToEthLike'\n\n\nclass BTC2ARBITRUM extends BtcToEthLike {\n  static getName() {\n    return `${this.getFromName()}2${this.getToName()}`\n  }\n  static getFromName() {\n    return constants.COINS.btc\n  }\n  static getToName() {\n    return constants.COINS.arbeth\n  }\n  constructor(swap) {\n    super(swap, {\n      flowName: `BTC2ARBITRUM`,\n      getMyAddress: swap.app.getMyArbitrumAddress.bind(swap.app),\n      getParticipantAddress: swap.app.getParticipantArbitrumAddress.bind(swap.app),\n    })\n  }\n}\n\nexport default BTC2ARBITRUM\n","import debug from 'debug'\nimport SwapApp, { SwapInterface, constants, util } from 'swap.app'\nimport BigNumber from 'bignumber.js'\nimport { Flow } from 'swap.swap'\n\n\nclass UTXOBlockchain extends SwapInterface {\n  //@ts-ignore: strictNullChecks\n  _swapName: string = null\n  //@ts-ignore: strictNullChecks\n  fetchBalance: Function = undefined\n  //@ts-ignore: strictNullChecks\n  fetchUnspents: Function = undefined\n  //@ts-ignore: strictNullChecks\n  broadcastTx: Function = undefined\n  //@ts-ignore: strictNullChecks\n  checkWithdraw: Function = undefined\n  feeValue: number = 546\n  //@ts-ignore: strictNullChecks\n  fetchTxInfo: Function = undefined\n  //@ts-ignore: strictNullChecks\n  estimateFeeValue: Function = undefined\n\n  // Парсит транзакцию, извлекает скрипт для получения секрета\n  // Нужна, если taker создает AB контракт первый, чтобы maker мог получить\n  // секрет из транзакции к UTXO скрипту\n  //@ts-ignore: strictNullChecks\n  fetchTxInputScript: Function = undefined\n\n  //@ts-ignore: strictNullChecks\n  account: string = undefined\n  networks: any = undefined\n  network: any = undefined\n\n  skipFetchConfidence: boolean = false\n  skipCheckCanBeReplaces: boolean = false\n  skipLockTime: boolean = false\n  skipRecipientPublickKey: boolean = false\n\n  //@ts-ignore: strictNullChecks\n  processUnspent: Function = undefined\n  sendTransaction: Function\n\n  //@ts-ignore: strictNullChecks\n  app: SwapApp = undefined\n  /**\n   *\n   * @param options\n   * @param options.fetchBalance\n   * @param options.fetchUnspents\n   * @param options.broadcastTx\n   * @param options.fetchTxInfo {(tx_hash) => Promise({ confidence, fees })}\n   * @param options.estimateFeeValue { ({ inSatoshis, speed, address, txSize }) => Promise(fee_value) }\n   */\n  constructor(options) {\n    super()\n\n    if (typeof options.fetchBalance !== 'function') {\n      throw new Error('BtcSwap: \"fetchBalance\" required')\n    }\n    if (typeof options.fetchUnspents !== 'function') {\n      throw new Error('BtcSwap: \"fetchUnspents\" required')\n    }\n    if (typeof options.broadcastTx !== 'function') {\n      throw new Error('BtcSwap: \"broadcastTx\" required')\n    }\n    if (typeof options.fetchTxInfo !== 'function') {\n      // tx_hash => { confidence, fees }\n      console.warn(`BtcSwap: \"fetchTxInfo\" is not a function. You will not be able to use tx-confidence feature`)\n    }\n    if (typeof options.estimateFeeValue !== 'function') {\n      // ({ speed } = {}) => feeRate\n      console.warn(`BtcSwap: \"estimateFeeValue\" is not a function. You will not be able use automatic mempool-based fee`)\n    }\n\n    this._swapName      = options.swapName || constants.COINS.btc\n    this.fetchBalance   = options.fetchBalance\n    this.fetchUnspents  = options.fetchUnspents\n    this.broadcastTx    = options.broadcastTx\n    this.checkWithdraw  = options.checkWithdraw\n    this.feeValue       = options.feeValue || 546\n    this.fetchTxInfo    = options.fetchTxInfo || (() => {})\n    this.estimateFeeValue = options.estimateFeeValue || (() => 0)\n\n    // UTXO side is taker\n    this.fetchTxInputScript = options.fetchTxInputScript || undefined\n\n    this.account        = options.account || `btc`\n    this.networks       = options.networks\n\n    this.skipFetchConfidence = options.skipFetchConfidence || false\n    this.skipCheckCanBeReplaces = options.skipCheckCanBeReplaces || false\n    this.skipLockTime = options.skipLockTime || false\n    this.skipRecipientPublickKey = options.skipRecipientPublickKey || false\n\n    this.processUnspent = options.processUnspent || (\n      (unspent) => {\n        const { txid, vout } = unspent\n        return { txid, vout }\n      }\n    )\n    this.sendTransaction = options.sendTransaction\n  }\n\n  _initSwap(app) {\n    super._initSwap(app)\n\n    this.app = app\n\n    /* init networks if need */\n    const {\n      main: {\n        name: mainName,\n        params: mainParams,\n      },\n      test: {\n        name: testName,\n        params: testParams,\n      },\n    } = this.networks\n\n    if (mainName && mainParams) this.app.env.bitcoin.networks[mainName] = mainParams\n    if (testName && testParams) this.app.env.bitcoin.networks[testName] = testParams\n\n    this.network = (\n      this.app.isMainNet()\n        ? this.app.env.bitcoin.networks[mainName]\n        : this.app.env.bitcoin.networks[testName]\n    )\n  }\n\n  /**\n   *\n   * @param {object} options\n   * @param {boolean} options.inSatoshis\n   * @param {Number} options.size\n   * @param {String} options.speed\n   * @param {String} options.address\n   * @param {String} options.swapUTXOMethod\n   * @returns {BigNumber}\n   * @public\n   */\n  async getTxFee({\n    inSatoshis,\n    size,\n    speed = 'fast',\n    address,\n    swapUTXOMethod,\n  }: {\n    inSatoshis: boolean,\n    size?: number,\n    speed?: 'slow' | 'medium' | 'fast'\n    address: string,\n    swapUTXOMethod?: 'withdraw' | 'deposit'\n  }) {\n\n\n    const estimatedFeeRaw = await this.estimateFeeValue({\n      inSatoshis: true,\n      address,\n      speed,\n      method: 'swap',\n      txSize: size,\n      swapUTXOMethod,\n    })\n\n    const estimatedFee = new BigNumber(estimatedFeeRaw)\n    this.feeValue = estimatedFee.toNumber()\n\n    return inSatoshis\n      ? estimatedFee\n      : estimatedFee.dividedBy(1e8).dp(0, BigNumber.ROUND_UP)\n  }\n\n  /**\n   *\n   * @param {array} unspents\n   * @param {Number} expectedConfidenceLevel\n   * @returns {array}\n   * @private\n   */\n  async filterConfidentUnspents(unspents, expectedConfidenceLevel = 0.95) {\n\n    const feesToConfidence = async (fees, size, address) => {\n      fees = new BigNumber(fees).multipliedBy(1e8).toNumber()\n      const currentFastestFee = await this.getTxFee({ inSatoshis: true, size, speed: 'fast', address })\n\n      return new BigNumber(fees).isLessThan(currentFastestFee)\n        ? new BigNumber(fees).dividedBy(currentFastestFee).toNumber()\n        : 1\n    }\n\n    /* @ToDo - больше гибкости */\n    const fetchConfidence = async (unspent): Promise<number> => {\n\n\n      if (this.skipFetchConfidence) return 1\n\n      const {\n        fees,\n        size,\n        senderAddress,\n        confirmations: txConfirms,\n      } = unspent\n\n      const confirmationsToConfidence = confs => confs > 0 ? 1 : 0\n      const confidenceFromConfirmations = confirmationsToConfidence(txConfirms)\n\n      if (new BigNumber(confidenceFromConfirmations).isGreaterThanOrEqualTo(expectedConfidenceLevel)) {\n        return confidenceFromConfirmations\n      }\n\n      try {\n        if (txConfirms > 0) {\n          return 1\n        }\n\n        if (fees) {\n          const confFromFee = await feesToConfidence(fees, size, senderAddress)\n          return confFromFee\n        }\n\n        throw new Error(`txinfo={confirmations: ${txConfirms}, fees: ${fees}, size: ${size}, senderAddress: ${senderAddress} }`)\n\n      } catch (err) {\n        console.error(`BtcSwap: Error fetching confidence: using confirmations > 0:`, err.message)\n\n        return confidenceFromConfirmations\n      }\n    }\n\n    const confidences: number[] = await Promise.all(unspents.map(fetchConfidence))\n\n    return unspents.filter((utxo, index) => {\n      debug('swap.core:swaps')(`confidence[${index}]:`, confidences[index])\n      return new BigNumber(confidences[index]).isGreaterThanOrEqualTo(expectedConfidenceLevel)\n    })\n  }\n\n  /**\n   *\n   * @param {Array[object]} unspents\n   * @return {Array[object]}\n   */\n  async filterConfirmedUnspents(unspents): Promise<any[]> {\n    return new Promise(async (resolve) => {\n      const filtered = unspents.filter((unspent) => {\n        const {\n          confirmations,\n        } = unspent\n\n        if (confirmations > 0) {\n          return true\n        }\n      })\n      resolve(filtered)\n    })\n  }\n  /**\n   *\n   * @param {object} data\n   * @param {object} data.script\n   * @param {*} data.txRaw\n   * @param {string} data.secret\n   * @param {number} inputIndex\n   * @private\n   */\n  _signTransaction(data, inputIndex = 0) {\n    debug('swap.core:swaps')('signing script input', inputIndex)\n    const {\n      script,\n      txRaw,\n      secret,\n    } = data\n\n    const scriptData = this.app.env.bitcoin.payments.p2sh({\n      redeem: {\n        output: script,\n        network: this.network,\n      },\n      network: this.network,\n    })\n\n    const hashType      = this.app.env.bitcoin.Transaction.SIGHASH_ALL\n    const privKey = this.app.env.bitcoin.ECPair.fromWIF(\n      //@ts-ignore: strictNullChecks\n      this.app.services.auth.accounts[this.account].getPrivateKey(),\n      this.network\n    )\n\n    const signatureHash = txRaw.hashForSignature(inputIndex, scriptData.redeem.output, hashType)\n\n    const redeemScriptSig = this.app.env.bitcoin.payments.p2sh({ \n      network: this.network, \n      redeem: { \n        network: this.network, \n        output: scriptData.redeem.output, \n        input: this.app.env.bitcoin.script.compile([ \n          this.app.env.bitcoin.script.signature.encode(privKey.sign(signatureHash), hashType),\n          //@ts-ignore: strictNullChecks\n          this.app.services.auth.accounts[this.account].getPublicKeyBuffer(),\n          Buffer.from(secret.replace(/^0x/, ''), 'hex'),\n        ]) \n      } \n    }).input \n\n    txRaw.setInputScript(inputIndex, redeemScriptSig)\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.secretHash\n   * @param {string} data.ownerPublicKey\n   * @param {string} data.recipientPublicKey\n   * @param {number} data.lockTime\n   * @returns {{scriptAddress: *, script: (*|{ignored})}}\n   */\n  createScript(data, hashName = 'ripemd160') {\n    const hashOpcodeName = `OP_${hashName.toUpperCase()}`\n    const hashOpcode = this.app.env.bitcoin.opcodes[hashOpcodeName]\n\n    const { secretHash, ownerPublicKey, recipientPublicKey, lockTime } = data\n\n    const script = this.app.env.bitcoin.script.compile([\n\n      this.app.env.bitcoin.opcodes.OP_SIZE,\n      Buffer.from('20' ,'hex'),\n      this.app.env.bitcoin.opcodes.OP_EQUALVERIFY,\n\n      hashOpcode,\n      Buffer.from(secretHash, 'hex'),\n      this.app.env.bitcoin.opcodes.OP_EQUALVERIFY,\n\n      Buffer.from(recipientPublicKey, 'hex'),\n      this.app.env.bitcoin.opcodes.OP_EQUAL,\n      this.app.env.bitcoin.opcodes.OP_IF,\n\n      Buffer.from(recipientPublicKey, 'hex'),\n\n      this.app.env.bitcoin.opcodes.OP_ELSE,\n\n      this.app.env.bitcoin.script.number.encode(lockTime),\n      this.app.env.bitcoin.opcodes.OP_CHECKLOCKTIMEVERIFY,\n      this.app.env.bitcoin.opcodes.OP_DROP,\n      Buffer.from(ownerPublicKey, 'hex'),\n\n      this.app.env.bitcoin.opcodes.OP_ENDIF,\n\n      this.app.env.bitcoin.opcodes.OP_CHECKSIG,\n    ])\n\n    const scriptData = this.app.env.bitcoin.payments.p2sh({\n      redeem: {\n        output: script,\n        network: this.network,\n      },\n      network: this.network,\n    })\n    const scriptAddress = scriptData.address\n\n    return {\n      scriptAddress,\n      script,\n    }\n  }\n\n  fetchUnspentsFullInfo(scriptAddress): Promise<any[]> {\n    return new Promise(async (resolve) => {\n      const unspents      = await this.fetchUnspents(scriptAddress)\n      const fetchFullUnspentInfo = async (unspent) => {\n        try {\n          const info = await this.fetchTxInfo(unspent.txid)\n          return {\n            ...unspent,\n            ...info,\n          }\n        } catch (fetchTxInfoError) {\n          return false\n        }\n      }\n\n      const unspentsFullInfo = await Promise.all(unspents.map(fetchFullUnspentInfo))\n      resolve(unspentsFullInfo.filter((unspent) => unspent !== false ))\n    })\n  }\n\n  checkCanBeReplaces(unspents) {\n    if (this.skipCheckCanBeReplaces) return false\n    const notReplacedUnspents = unspents.filter((unspent) => {\n      const notReplacedInputs = unspent.inputs.filter((input) => {\n        return input.sequenceNumber.toString(16) === `ffffffff`\n      })\n      return notReplacedInputs.length === unspent.inputs.length\n    })\n    return !(notReplacedUnspents.length === unspents.length)\n  }\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.recipientPublicKey\n   * @param {number} data.lockTime\n   * @param {object} expected\n   * @param {number} expected.value\n   * @param {number} expected.lockTime\n   * @param {string} expected.recipientPublicKey\n   * @returns {Promise.<string>}\n   */\n  async checkScript(data, expected, hashName) {\n    const { recipientPublicKey, lockTime } = data\n    const { scriptAddress, script } = this.createScript(data, hashName)\n\n    const {\n      waitConfirm,\n      isWhiteList\n    } = expected\n\n    if (isWhiteList) {\n      console.log('is white listed - skip wait btc script')\n      return\n    }\n\n    const expectedConfidence = (expected.confidence !== undefined) ? expected.confidence : 0.95\n\n    const unspents: any[] = await this.fetchUnspentsFullInfo(scriptAddress)\n\n    if (!unspents.length) return `No unspents. Wait`\n\n    \n    // Check - transaction can be replaced?\n    const canBeReplaced = this.checkCanBeReplaces(unspents)\n    if (canBeReplaced) {\n      console.warn(`Fund to script ${scriptAddress} can be replaced be fee. Wait confirm`)\n    }\n    if (waitConfirm || canBeReplaced) {\n      // Wait confirm only - for big amount of swap\n      if (!unspents.length) return `No unspents`\n      const confirmedUnspents: any[] = await this.filterConfirmedUnspents(unspents)\n      if (unspents.length === confirmedUnspents.length) return\n      await util.helpers.waitDelay(30)\n      if (canBeReplaced) return `Can be replace by fee. Wait confirm`\n      return `Wait confirm tx`\n    }\n\n    const expectedValue = expected.value.multipliedBy(1e8).integerValue()\n    const totalUnspent  = unspents.reduce((summ, { satoshis }) => summ + satoshis, 0)\n\n    const confidentUnspents = await this.filterConfidentUnspents(unspents, expectedConfidence)\n\n    const totalConfidentUnspent = confidentUnspents.reduce((summ, { satoshis }) => summ + satoshis, 0)\n\n    if (expectedValue.isGreaterThan(totalUnspent)) {\n      return `Expected script value: ${expectedValue.toNumber()}, got: ${totalUnspent}, address: ${scriptAddress}`\n    }\n    if (!this.skipLockTime && expected.lockTime > lockTime) {\n      return `Expected script lockTime: ${expected.lockTime}, got: ${lockTime}, address: ${scriptAddress}`\n    }\n    if (!this.skipRecipientPublickKey && expected.recipientPublicKey !== recipientPublicKey) {\n      return `Expected script recipient publicKey: ${expected.recipientPublicKey}, got: ${recipientPublicKey}`\n    }\n    if (expectedValue.isGreaterThan(totalConfidentUnspent)) {\n      return `Expected script value: ${expectedValue.toString()} with confidence above ${expectedConfidence}, got: ${totalConfidentUnspent}, address: ${scriptAddress}`\n    }\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {object} data.scriptValues\n   * @param {BigNumber} data.amount\n   * @param {function} handleTransactionHash\n   * @param {string} hashName\n   * @returns {Promise}\n   */\n  fundScript(data, handleTransactionHash?: Function, hashName?: string) {\n    const { scriptValues, amount } = data\n\n    return new Promise(async (resolve, reject) => {\n      try {\n        const { scriptAddress } = this.createScript(scriptValues, hashName)\n\n        const scriptBalance = await this.fetchBalance(scriptAddress)\n        if (new BigNumber(scriptBalance).isGreaterThan(0)) {\n          // Script already funded - skip double payments\n          reject('Script funded already')\n          return\n        }\n\n        //@ts-ignore: strictNullChecks\n        const ownerAddress = this.app.services.auth.accounts[this.account].getAddress()\n\n        const fundValue     = amount.multipliedBy(1e8).integerValue().toNumber()\n        const tx            = new this.app.env.bitcoin.TransactionBuilder(this.network)\n        const unspents      = await this.fetchUnspents(ownerAddress)\n        const feeValueBN    = await this.getTxFee({ inSatoshis: true, address: ownerAddress })\n        const feeValue      = feeValueBN.integerValue().toNumber()\n        const totalUnspent  = unspents.reduce((summ, { satoshis }) => summ + satoshis, 0)\n        const skipValue     = totalUnspent - fundValue - feeValue\n\n        if (totalUnspent < feeValue + fundValue) {\n          throw new Error(`Total less than fee: ${totalUnspent} < ${feeValue} + ${fundValue}`)\n        }\n\n        unspents.forEach((unspent) => {\n          const { txid, vout } = this.processUnspent(unspent)\n          tx.addInput(txid, vout, 0xffffffff)\n        })\n        tx.addOutput(scriptAddress, fundValue)\n        //@ts-ignore: strictNullChecks\n        tx.addOutput(this.app.services.auth.accounts[this.account].getAddress(), skipValue)\n\n        const privKey = this.app.env.bitcoin.ECPair.fromWIF(\n          //@ts-ignore: strictNullChecks\n          this.app.services.auth.accounts[this.account].getPrivateKey(),\n          this.network\n        )\n\n        tx.__INPUTS.forEach((input, index) => {\n          tx.sign(index, privKey)\n        })\n\n        const txRaw = tx.buildIncomplete()\n\n        if (typeof handleTransactionHash === 'function') {\n          handleTransactionHash(txRaw.getId())\n        }\n\n        this.broadcastTx(txRaw.toHex()).then((result) => {\n          resolve(result)\n        }).catch ((err) => {\n          reject(err)\n        })\n      }\n      catch (err) {\n        reject(err)\n      }\n    })\n  }\n\n  /**\n   *\n   * @param {object|string} data - scriptValues or wallet address\n   * @returns {Promise.<void>}\n   */\n  async getBalance(data, hashName?: string): Promise<number> {\n    let address\n\n    if (typeof data === 'string') {\n      address = data\n    }\n    else if (typeof data === 'object') {\n      const { scriptAddress } = this.createScript(data, hashName)\n\n      address = scriptAddress\n    }\n    else {\n      throw new Error('Wrong data type')\n    }\n\n    const unspents      = await this.fetchUnspents(address)\n    const totalUnspent  = unspents && unspents.length && unspents.reduce((summ, { satoshis }) => summ + satoshis, 0) || 0\n\n    return totalUnspent\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {object} data.scriptValues\n   * @param {string} data.secret\n   * @param {boolean} isRefund\n   * @returns {Promise}\n   */\n  async getWithdrawRawTransaction(data: any, isRefund: boolean, hashName?: string) {\n    const { scriptValues, secret, destinationAddress } = data\n    //@ts-ignore: strictNullChecks\n    const destAddress = (destinationAddress) ? destinationAddress : this.app.services.auth.accounts[this.account].getAddress()\n\n    const { script, scriptAddress } = this.createScript(scriptValues, hashName)\n\n    const tx            = new this.app.env.bitcoin.TransactionBuilder(this.network)\n    const unspents      = await this.fetchUnspents(scriptAddress)\n\n    const feeValueBN    = await this.getTxFee({ inSatoshis: true, address: scriptAddress, swapUTXOMethod: 'withdraw' })\n    const feeValue      = feeValueBN.integerValue().toNumber()\n    const totalUnspent  = unspents.reduce((summ, { satoshis }) => summ + satoshis, 0)\n\n    /* Check - may be withdrawed */\n    if (typeof this.checkWithdraw === 'function') {\n      const hasWithdraw = await this.checkWithdraw(scriptAddress)\n      if (hasWithdraw\n        && hasWithdraw.address.toLowerCase() == destAddress.toLowerCase()\n      ) {\n        // already withdrawed\n        return {\n          txId: hasWithdraw.txid,\n          alreadyWithdrawed: true\n        }\n      }\n    }\n\n    if (new BigNumber(totalUnspent).isLessThan(feeValue)) {\n      throw new Error(`Total less than fee: ${totalUnspent} < ${feeValue}`)\n    }\n\n    if (isRefund) {\n      tx.setLockTime(scriptValues.lockTime)\n    }\n\n    unspents.forEach((unspent) => {\n      const { txid, vout } = this.processUnspent(unspent)\n      tx.addInput(txid, vout, 0xfffffffe)\n    })\n    tx.addOutput(destAddress, totalUnspent - feeValue)\n\n    const txRaw = tx.buildIncomplete()\n\n    tx.__INPUTS.map((_, index) =>\n      this._signTransaction({\n        script,\n        secret,\n        txRaw,\n      }, index)\n    )\n\n    const txHex = txRaw.toHex()\n    const txId = txRaw.getId()\n\n    return {\n      txHex,\n      txId,\n    }\n    return txRaw\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {object} data.scriptValues\n   * @param {string} data.secret\n   * @param {boolean} isRefund\n   * @returns {Promise}\n   */\n  async getWithdrawHexTransaction(data, isRefund) {\n    const txRaw = await this.getWithdrawRawTransaction(data, isRefund)\n\n    return txRaw.txHex\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {object} data.scriptValues\n   * @param {string} data.secret\n   * @returns {Promise}\n   */\n  getRefundRawTransaction(data) {\n    return this.getWithdrawRawTransaction(data, true)\n  }\n\n  async fundSwapScript({\n    flow,\n  }: {\n    flow: any, // Flow, @todo - add all fields\n  }) {\n    const utxoClass = this\n    const coin = this._swapName.toLowerCase()\n\n    const onTransactionHash = (txID) => {\n      const {\n        utxoScriptCreatingTransactionHash: scriptCreatingTransactionHash,\n        utxoScriptValues: scriptValues,\n      } = flow.state\n\n      if (scriptCreatingTransactionHash) {\n        return\n      }\n\n      flow.setState({\n        utxoScriptCreatingTransactionHash: txID,\n      })\n\n      flow.swap.room.once(`request utxo script`, () => {\n        flow.swap.room.sendMessage({\n          event: `create utxo script`,\n          data: {\n            scriptValues,\n            utxoScriptCreatingTransactionHash: txID,\n          }\n        })\n      })\n\n      flow.swap.room.sendMessage({\n        event: `create utxo script`,\n        data: {\n          scriptValues,\n          utxoScriptCreatingTransactionHash: txID,\n        }\n      })\n    }\n\n    const {\n      swap: {\n        sellAmount,\n      },\n      state: {\n        isBalanceEnough,\n        utxoScriptValues: scriptValues,\n      },\n    } = flow\n\n    if (isBalanceEnough) {\n      const fundScriptRepeat = async () => {\n        try {\n          await utxoClass.fundScript({\n            scriptValues,\n            amount: sellAmount,\n          })\n          return true\n        } catch (err) {\n          if (err === 'Script funded already') {\n            console.warn('Script already funded')\n            return true\n          } else {\n            if (err === 'Conflict') {\n              // @ToDo - its can be not btc, other UTXO, but, with btc its frequent error\n              console.warn('UTXO(BTC) locked. Has not confirmed tx in mempool. Wait confirm')\n              flow.swap.room.sendMessage({\n                event: 'wait utxo unlock',\n                data: {},\n              })\n              flow.setState({\n                waitUnlockUTXO: true,\n              })\n              await util.helpers.waitDelay(30)\n              return false\n            } else {\n              console.log('Fail fund script', err)\n            }\n          }\n        }\n        return true\n      }\n\n      await util.helpers.repeatAsyncUntilResult(async (stopRepeat) => {\n        const { isStoppedSwap } = flow.state\n\n        if (!isStoppedSwap) {\n          return await fundScriptRepeat()\n        } else {\n          stopRepeat()\n        }\n      })\n    }\n\n    const checkScriptBalance = async () => {\n      const { scriptAddress } = utxoClass.createScript(scriptValues)\n      const unspents = await utxoClass.fetchUnspents(scriptAddress)\n\n      if (unspents.length === 0) {\n        return false\n      }\n\n      const txID = unspents[0].txid\n\n      const balance = await utxoClass.getBalance(scriptValues)\n\n      const isEnoughMoney = new BigNumber(balance).isGreaterThanOrEqualTo(sellAmount.times(1e8))\n\n      if (isEnoughMoney) {\n        flow.setState({\n          scriptBalance: new BigNumber(balance).div(1e8).dp(8),\n        })\n\n        onTransactionHash(txID)\n      }\n\n      return isEnoughMoney\n    }\n\n    await util.helpers.repeatAsyncUntilResult(async (stopRepeat) => {\n      const { isStoppedSwap } = flow.state\n\n      if (!isStoppedSwap) {\n        return await checkScriptBalance()\n      } else {\n        stopRepeat()\n      }\n    })\n\n    const { isStoppedSwap } = flow.state\n\n    if (!isStoppedSwap) {\n      flow.finishStep({\n        [`is${coin}ScriptFunded}`]: true,\n        isUTXOScriptFunded: true,\n      }, { step: `lock-utxo` })\n    }\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {object} data.scriptValues\n   * @param {string} data.secret\n   * @returns {Promise}\n   */\n  async getRefundHexTransaction(data) {\n    const txRaw = await this.getRefundRawTransaction(data)\n\n    return txRaw.txHex\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {object} data.scriptValues\n   * @param {string} data.secret\n   * @param {function} handleTransactionHash\n   * @param {boolean} isRefund\n   * @param {string} hashName\n   * @returns {Promise}\n   */\n  withdraw(data, isRefund: boolean = false, hashName?: string): Promise<string> {\n    return new Promise(async (resolve, reject) => {\n      try {\n        console.log('withdraw')\n        const txRaw = await this.getWithdrawRawTransaction(data, isRefund, hashName)\n\n        if (txRaw.alreadyWithdrawed) {\n          resolve(txRaw.txId)\n          return\n        }\n\n        debug('swap.core:swaps')('raw tx withdraw', txRaw.txHex)\n\n        console.log('broadcast')\n        const result = await this.broadcastTx(txRaw.txHex)\n\n        console.log('broadcast ready', result)\n\n        // Wait some delay until transaction can be rejected or broadcast failed\n        await util.helpers.waitDelay(10)\n\n        const txSuccess = await this.checkTX(txRaw.txId)\n\n        if (txSuccess) {\n          resolve(txRaw.txId)\n        } else {\n          console.warn('BtcSwap: cant withdraw', 'Generated TX not found')\n          reject('TX not found. Try it later. ' + txRaw.txId)\n        }\n      }\n      catch (error) {\n        console.warn('BtcSwap: cant withdraw', error.message)\n\n        let errorMessage\n\n        if (error.res && /non-final/.test(error.res.text)) {\n          errorMessage = 'Try it later'\n        } else if (/Total less than fee/.test(error.message)) {\n          if (/Total less than fee: 0/.test(error.message)) {\n            errorMessage = 'Address is empty'\n          } else {\n            errorMessage = 'Less than fee'\n          }\n        } else {\n          errorMessage = error\n        }\n\n        reject(errorMessage)\n      }\n    })\n  }\n\n  /**\n   * \n   * @param {string} txID\n   * @returns {Promise}\n   */\n  async checkTX(txID) {\n    console.log('check tx')\n    const txInfo = await this.fetchTxInfo(txID)\n    console.log('txInfo', txInfo)\n    if (txInfo\n      && txInfo.senderAddress\n      && txInfo.txid\n      && (txInfo.txid.toLowerCase() == txID.toLowerCase())\n    ) {\n      return true\n    }\n    return false\n  }\n  /**\n   *\n   * @param {object} data\n   * @param {object} data.scriptValues\n   * @param {string} data.secret\n   * @param {function} handleTransactionHash\n   * @param {string} hashName\n   * @returns {Promise}\n   */\n  refund(data: any, hashName?: string) {\n    return this.withdraw(data, true, hashName)\n  }\n\n\n  async withdrawFromSwap({\n    flow,\n  }: {\n    flow: any,\n  }) {\n    const utxoClass = this\n    const coin = this._swapName.toLowerCase()\n\n    await util.helpers.repeatAsyncUntilResult((stopRepeat) => {\n      const {\n        secret,\n        utxoScriptValues: scriptValues,\n        utxoSwapWithdrawTransactionHash: swapWithdrawTransactionHash,\n      } = flow.state\n\n      if (swapWithdrawTransactionHash) {\n        return true\n      }\n\n      if (!scriptValues) {\n        console.error(`There is no \"utxoScriptValues\" in state. No way to continue swap...`)\n        return null\n      }\n\n      return utxoClass.withdraw({\n        scriptValues,\n        secret,\n        destinationAddress: flow.swap.destinationBuyAddress,\n      })\n        .then((hash) => {\n          console.log('withdraw hash', hash)\n          flow.setState({\n            utxoSwapWithdrawTransactionHash: hash,\n          }, true)\n          return true\n        })\n        .catch((error) => null)\n    })\n\n    flow.finishStep({\n      [`is${coin}Withdrawn`]: true,\n      isUTXOWithdrawn: true,\n    }, { step: `withdraw-utxo` })\n  }\n\n  getSecretFromTxhash(transactionHash) {\n    return new Promise((resolve) => {\n      if (this.fetchTxInputScript !== undefined) {\n        this.fetchTxInputScript({\n          txId: transactionHash,\n          hash: transactionHash\n        }).then((txResult) => {\n          if (txResult) {\n            const scriptOpts = txResult.split(' ')\n            if (scriptOpts.length>3) {\n              resolve(scriptOpts[2])\n              return\n            }\n          }\n          resolve(false)\n        })\n      } else {\n        resolve(false)\n      }\n    })\n  }\n}\n\n\nexport default UTXOBlockchain\n","import UTXOBlockchain from './UTXOBlockchain'\n\n\n\nclass BtcSwap extends UTXOBlockchain {\n  constructor(options) {\n    super({\n      ...options,\n      account: `btc`,\n      networks: {\n        main: {\n          name: `bitcoin`,\n        },\n        test: {\n          name: `testnet`,\n        },\n      },\n    })\n  }\n}\n\n\nexport default BtcSwap","import _debug from 'debug'\nimport { SwapInterface, util } from 'swap.app'\nimport BigNumber from 'bignumber.js'\nimport InputDataDecoder from 'ethereum-input-data-decoder'\nconst debug = _debug('swap.core:swaps')\n\nclass EthLikeSwap extends SwapInterface {\n\n  options: any\n  address: string\n  abi: any[]\n  _swapName: string\n  gasLimit: number\n  gasLimitReserve: number\n  gasPrice: number\n  fetchBalance: Function\n  estimateGasPrice: Function\n  sendTransaction: Function\n\n  web3adapter: any // web3.eth\n  web3utils: any // web3.utils\n  getMyAddress: any\n  getParticipantAddress: any\n  coinName: string\n\n  app: any\n  decoder: any\n  contract: any\n  _allSwapEvents: any\n\n  /**\n   *\n   * @param {object}    options\n   * @param {string}    options.address\n   * @param {array}     options.abi\n   * @param {number}    options.gasLimit\n   * @param {function}  options.fetchBalance\n   */\n  constructor(options) {\n    super()\n\n    if (options.coinName === undefined) {\n      throw new Error('EthLikeSwap swap - option `coinName` not defined')\n    }\n    if (typeof options.fetchBalance !== 'function') {\n      throw new Error('EthLikeSwap: \"fetchBalance\" required')\n    }\n    if (typeof options.address !== 'string') {\n      throw new Error('EthLikeSwap: \"address\" required')\n    }\n    if (!Array.isArray(options.abi)) {\n      throw new Error('EthLikeSwap: \"abi\" required')\n    }\n    if (options.getWeb3Adapter === undefined) {\n      throw new Error(`EthLikeSwap ${options.coinName}: option 'getWeb3Adapter' not defined`)\n    }\n    if (options.getWeb3Utils === undefined) {\n      throw new Error(`EthLikeSwap ${options.coinName}: option 'getWeb3Utils' not defined`)\n    }\n    if (options.getMyAddress === undefined) {\n      throw new Error(`EthLikeSwap ${options.coinName}: option 'getMyAddress' not defined`)\n    }\n    if (options.getParticipantAddress === undefined) {\n      throw new Error(`EthLikeSwap ${options.coinName}: option 'getParticipantAddress' not defined`)\n    }\n    if (typeof options.estimateGasPrice !== 'function') {\n      // ({ speed } = {}) => gasPrice\n      console.warn(`EthLikeSwap: \"estimateGasPrice\" is not a function. You will not be able use automatic mempool-based fee`)\n    }\n\n    this.options        = options\n    this.address        = options.address\n    this.abi            = options.abi\n\n    this.coinName       = options.coinName\n\n    this._swapName      = options.coinName //constants.COINS.eth\n\n    this.gasLimit       = options.gasLimit || 5e5\n    this.gasLimitReserve = options.gasLimitReserve || 1.10 // default +10% of the total estimateGas\n    this.gasPrice       = options.gasPrice || 2e9\n    this.fetchBalance   = options.fetchBalance\n    this.estimateGasPrice = options.estimateGasPrice || (() => {})\n    this.sendTransaction = options.sendTransaction\n  }\n\n  _initSwap(app) {\n    super._initSwap(app)\n\n    this.app = app\n    if (typeof this.app[this.options.getWeb3Adapter] !== 'function') {\n      throw new Error(`EthLikeSwap ${this.coinName}: SwapApp function '${this.options.getWeb3Adapter}' not defined`)\n    }\n    if (typeof this.app[this.options.getWeb3Utils] !== 'function') {\n      throw new Error(`EthLikeSwap ${this.coinName}: SwapApp function '${this.options.getWeb3Utils}' not defined`)\n    }\n    if (typeof this.app[this.options.getMyAddress] !== 'function') {\n      throw new Error(`EthLikeSwap ${this.coinName}: SwapApp function '${this.options.getMyAddress}' not defined`)\n    }\n    if (typeof this.app[this.options.getParticipantAddress] !== 'function') {\n      throw new Error(`EthLikeSwap ${this.coinName}: SwapApp function '${this.options.getParticipantAddress}' not defined`)\n    }\n\n    this.web3adapter = this.app[this.options.getWeb3Adapter].bind(this.app)()\n    this.web3utils = this.app[this.options.getWeb3Utils].bind(this.app)()\n    this.getMyAddress = this.app[this.options.getMyAddress].bind(this.app)\n    this.getParticipantAddress = this.app[this.options.getParticipantAddress].bind(this.app)\n\n    this.decoder  = new InputDataDecoder(this.abi)\n\n    this.contract = new this.web3adapter.Contract(this.abi, this.address)\n  }\n\n  async updateGasPrice() {\n    debug('gas price before update', this.gasPrice)\n\n    try {\n      this.gasPrice = await this.estimateGasPrice({ speed: 'fast' })\n    } catch(err) {\n      debug(`EthLikeSwap ${this.coinName}: Error with gas update: ${err.message}, using old value gasPrice=${this.gasPrice}`)\n    }\n\n    debug('gas price after update', this.gasPrice)\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.secretHash\n   * @param {string} data.participantAddress\n   * @param {string} data.targetWallet\n   * @param {number} data.amount\n   * @param {function} handleTransactionHash\n   * @returns {Promise}\n   */\n  async create(data, handleTransactionHash) {\n    if (\n      data.targetWallet\n      && (\n        (data.targetWallet!==data.participantAddress)\n        ||\n        data.useTargetWallet\n      )\n      && this.hasTargetWallet()\n    ) {\n      return this.createSwapTarget(data, handleTransactionHash)\n    } else {\n      return this.createSwap(data, handleTransactionHash)\n    }\n  }\n\n  async send(methodName, args, _params = {}, handleTransactionHash) {\n    if (typeof this.contract.methods[methodName] !== 'function') {\n      throw new Error(`EthLikeSwap.send ${this.coinName}: No method ${methodName} in contract`)\n    }\n\n    await this.updateGasPrice()\n\n    return new Promise(async (resolve, reject) => {\n      const params = {\n        from: this.getMyAddress(),\n        gasPrice: this.gasPrice,\n        ..._params,\n      }\n\n      debug(`EthLikeSwap ${this.coinName} -> ${methodName} -> params`, params)\n\n      const gasAmount = await this.contract.methods[methodName](...args).estimateGas(params)\n      params['gas'] = new BigNumber(gasAmount).multipliedBy(this.gasLimitReserve).dp(0, BigNumber.ROUND_UP).toNumber() || this.gasLimit\n\n      debug(`EthLikeSwapSwap ${this.coinName} -> ${methodName} -> gas`, gasAmount)\n\n      const receipt = await this.contract.methods[methodName](...args).send(params)\n        .on('transactionHash', (hash) => {\n          if (typeof handleTransactionHash === 'function') {\n            handleTransactionHash(hash)\n          }\n        })\n        .on('error', (err) => {\n          reject(err)\n        })\n\n      resolve(receipt)\n    })\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.secretHash\n   * @param {string} data.participantAddress\n   * @param {string} data.targetWallet\n   * @param {number} data.amount\n   * @param {function} handleTransactionHash\n   * @returns {Promise}\n   */\n  async createSwap(data, handleTransactionHash) {\n    const { secretHash, participantAddress, amount } = data\n\n    const amountWei = this.web3utils.toWei(amount.toString())\n\n    const hash = `0x${secretHash.replace(/^0x/, '')}`\n    const args = [ hash, participantAddress ]\n\n    return this.send('createSwap', [...args], { value: amountWei }, handleTransactionHash)\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.secretHash\n   * @param {string} data.participantAddress\n   * @param {string} data.targetWallet\n   * @param {number} data.amount\n   * @param {function} handleTransactionHash\n   * @returns {Promise}\n   */\n  async createSwapTarget(data, handleTransactionHash) {\n    const { secretHash, participantAddress, amount, targetWallet } = data\n\n    await this.updateGasPrice()\n\n    const amountWei = this.web3utils.toWei(amount.toString())\n\n    const hash = `0x${secretHash.replace(/^0x/, '')}`\n\n    const values = [ hash, participantAddress, targetWallet ]\n\n    return this.send('createSwapTarget', [...values], { value: amountWei }, handleTransactionHash)\n  }\n  \n  /**\n   *\n   * @param {object} data\n   * @param {string} data.ownerAddress\n   * @returns {Promise}\n   */\n  getBalance(data) {\n    const { ownerAddress } = data\n\n    return this.contract.methods.getBalance(ownerAddress).call({\n      from: this.getMyAddress(),\n    })\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.ownerAddress\n   * @param {string} data.participantAddress\n   * @returns {Promise}\n   */\n  swaps(data) {\n    const { ownerAddress, participantAddress } = data\n\n    return this.contract.methods.swaps(ownerAddress, participantAddress).call()\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.ownerAddress\n   * @param {string} data.participantAddress\n   * @returns {Promise}\n   */\n  async checkSwapExists(data) {\n    const swap = await this.swaps(data)\n\n    debug('swapExists', swap)\n\n    const balance = swap && swap.balance ? parseInt(swap.balance) : 0\n\n    return balance > 0\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.ownerAddress\n   * @param {BigNumber} data.expectedValue\n   * @returns {Promise.<string>}\n   */\n  async checkBalance(data) {\n    const { ownerAddress, participantAddress, expectedValue, expectedHash } = data\n\n    const balance = await util.helpers.repeatAsyncUntilResult(() =>\n      this.getBalance({ ownerAddress })\n    )\n    const swap = await util.helpers.repeatAsyncUntilResult(() =>\n      this.contract.methods.swaps(ownerAddress, participantAddress).call()\n    )\n    //@ts-ignore\n    const { secretHash } = swap\n    debug(`swap.secretHash`, secretHash)\n\n    const _secretHash = `${secretHash.replace(/^0x/, '')}`\n\n    debug(`secretHash: expected hash = ${expectedHash}, contract hash = ${_secretHash}`)\n\n    if (expectedHash !== _secretHash) {\n      return `Expected hash: ${expectedHash}, got: ${_secretHash}`\n    }\n\n    const expectedValueWei = new BigNumber(expectedValue).multipliedBy(1e18)\n    //@ts-ignore\n    if (expectedValueWei.isGreaterThan(balance)) {\n      return `Expected value: ${expectedValueWei.toString()}, got: ${balance}`\n    }\n  }\n\n  /**\n   *\n   * @returns {Promise}\n   */\n  async fetchSwapEvents() {\n    if (this._allSwapEvents) return this._allSwapEvents\n\n    const allSwapEvents = await this.contract.getPastEvents('allEvents', {\n      fromBlock: 0,\n      toBlock: 'latest',\n    })\n\n    this.contract.events.allEvents({ fromBlock: 0, toBlock: 'latest' })\n      .on('data', event => {\n        this._allSwapEvents.push(event)\n      })\n      .on('changed', (event) => {\n        console.error(`EthSwap: fetchEvents: needs rescan`)\n        this._allSwapEvents = null\n      })\n      .on('error', err => {\n        console.error(err)\n        this._allSwapEvents = null\n      })\n\n    this._allSwapEvents = allSwapEvents\n\n    return allSwapEvents\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.secretHash\n   * @returns {Promise}\n   */\n  async findSwap(data) {\n    const { secretHash } = data\n\n    const allSwapEvents = await this.fetchSwapEvents()\n\n    const swapEvents = allSwapEvents\n      .filter(({ returnValues }) => returnValues._secretHash === `0x${secretHash.replace('0x','')}`)\n\n    const [ create, close, ...rest ] = swapEvents\n\n    if (rest && rest.length) {\n      console.error(`More than two swaps with same hash`, rest)\n      // throw new Error(`More than two swaps with same hash`)\n    }\n\n    return [ create, close ]\n  }\n\n  /**\n    *\n    * @param {object} data\n    * @param {string} data.secretHash\n    * @returns {Promise(status)}\n    */\n\n  async wasClosed(data) {\n    const [ create, close ] = await this.findSwap(data)\n\n    if (!create) {\n      debug(`No swap with hash ${data.secretHash}`)\n      return 'no swap'\n    } else if (create && !close) {\n      debug(`Open yet!`)\n      return 'open'\n    } else {\n      if (close.event == 'Withdraw') {\n        debug(`Withdrawn`)\n        return 'withdrawn'\n      } else if (close.event == 'Refund') {\n        debug(`Refund`)\n        return 'refunded'\n      } else {\n        debug(`Unknown event, error`)\n        return 'error'\n      }\n    }\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.secretHash\n   * @returns {Promise(boolean)}\n   */\n  wasRefunded(data) {\n    return this.wasClosed(data)\n      .then((status) =>\n        status === 'refunded'\n      )\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.secretHash\n   * @returns {Promise(boolean)}\n   */\n  async wasWithdrawn(data) {\n    const status = await this.wasClosed(data)\n    return status === 'withdrawn'\n  }\n\n  /**\n   *\n   * @returns {boolean}\n   */\n  hasTargetWallet() {\n    return !!this.contract.methods.getTargetWallet\n  }\n\n  /**\n   *\n   * @param {string} ownerAddress\n   * @returns {Promise.<string>}\n   */\n  async getTargetWallet(ownerAddress: string): Promise<string> {\n    let address: any = await util.helpers.repeatAsyncUntilResult(() =>\n      this.getTargetWalletPromise(ownerAddress)\n    )\n    return address\n  }\n\n  /**\n   *\n   * @param {string} ownerAddress\n   * @param {number} repeatCount\n   * @returns {string}\n   */\n  async getTargetWalletPromise(ownerAddress: string): Promise<string> {\n    return new Promise(async (resolve, reject) => {\n      try {\n        const targetWallet = await this.contract.methods.getTargetWallet(ownerAddress).call({\n          from: this.getMyAddress(),\n        })\n\n        resolve(targetWallet)\n      }\n      catch (err) {\n        reject(err)\n      }\n    });\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.secret\n   * @param {string} data.ownerAddress\n   * @param {function} handleTransactionHash\n   * @returns {Promise}\n   */\n  async calcWithdrawGas(data) {\n    return this.calcWithdrawOtherGas({\n      ownerAddress: data.ownerAddress,\n      participantAddress: this.getMyAddress(),\n      secret: data.secret,\n    })\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.secret\n   * @param {string} data.ownerAddress\n   * @param {function} handleTransactionHash\n   * @returns {Promise}\n   */\n  async withdraw(data, handleTransactionHash) {\n    return this.withdrawOther({\n      ownerAddress: data.ownerAddress,\n      participantAddress: this.getMyAddress(),\n      secret: data.secret,\n    }, handleTransactionHash)\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.secret\n   * @param {string} data.participantAddress\n   * @returns {Promise}\n   */\n  async calcWithdrawNoMoneyGas(data) {\n    return this.calcWithdrawOtherGas({\n      ownerAddress: this.getMyAddress(),\n      participantAddress: data.participantAddress,\n      secret: data.secret,\n    })\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.secret\n   * @param {string} data.participantAddress\n   * @param {function} handleTransactionHash\n   * @returns {Promise}\n   */\n  async withdrawNoMoney(data, handleTransactionHash) {\n    return this.withdrawOther({\n      ownerAddress: this.getMyAddress(),\n      participantAddress: data.participantAddress,\n      secret: data.secret,\n    }, handleTransactionHash)\n  }\n\n  async calcWithdrawOtherGas(data) {\n    const { ownerAddress, participantAddress, secret } = data\n\n    await this.updateGasPrice()\n\n    return new Promise(async (resolve, reject) => {\n      const _secret = `0x${secret.replace(/^0x/, '')}`\n\n      const params = {\n        from: this.getMyAddress(),\n        gasPrice: this.gasPrice,\n      }\n\n      try {\n        const gasFee = await this.contract.methods.withdrawOther(_secret, ownerAddress, participantAddress).estimateGas(params)\n        resolve(new BigNumber(gasFee).multipliedBy(this.gasLimitReserve).dp(0, BigNumber.ROUND_UP).toNumber())\n      }\n      catch (err) {\n        console.error(\"calcWithdrawOtherGasError\", err)\n        resolve(this.gasLimit)\n      }\n    })\n  }\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.secret\n   * @param {string} data.ownerAddress\n   * @param {string} data.participantAddress\n   * @param {function} handleTransactionHash\n   * @returns {Promise}\n   */\n  async withdrawOther(data, handleTransactionHash) {\n    const { ownerAddress, participantAddress, secret } = data\n\n    const _secret = `0x${secret.replace(/^0x/, '')}`\n\n    await this.updateGasPrice()\n\n    return this.send('withdrawOther', [ _secret, ownerAddress, participantAddress ], {}, handleTransactionHash)\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.participantAddress\n   * @param {function} handleTransactionHash\n   * @returns {Promise}\n   */\n  //@ts-ignore: strictNullChecks\n  async refund(data, handleTransactionHash: Function = null) {\n    const { participantAddress } = data\n\n    await this.updateGasPrice()\n\n    return this.send('refund', [ participantAddress ], {}, handleTransactionHash)\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.participantAddress\n   * @returns {Promise}\n   */\n  getSecret(data) {\n    const { participantAddress } = data\n\n    return this.contract.methods.getSecret(participantAddress).call({\n      from: this.getMyAddress(),\n    })\n      .then((secret) => {\n        debug('secret ethswap.js', secret)\n        return secret && !/^0x0+$/.test(secret) ? secret : null\n      })\n      .catch((error) => error)\n  }\n\n/*\n  Function: withdraw(bytes32 _secret, address _ownerAddress)\n  bytes32 {...}\n  inputs: (2) […]\n    0: Uint8Array(32) [ 208, 202, 170, … ]\n    1: \"e918c8719bae0525786548b8da7fbef9b33d4e25\"\n  name: \"withdraw\"\n  types: (2) […]\n    0: \"bytes32\"\n    1: \"address\"\n*/\n\n  /**\n   *\n   * @param {string} transactionHash\n   * @returns {Promise<any>}\n   */\n  getSecretFromTxhash = (transactionHash) =>\n    this.web3adapter.getTransaction(transactionHash)\n      .then(txResult => {\n        try {\n          const bytes32 = this.decoder.decodeData(txResult.input)\n          return this.web3utils.bytesToHex(bytes32.inputs[0]).split('0x')[1]\n        } catch (err) {\n          debug('Trying to fetch secret from tx: ' + err.message)\n          return\n        }\n      })\n\n  async fundContract({\n    flow,\n    useTargetWallet,\n  }: {\n    flow: any,\n    useTargetWallet?: boolean,\n  }) {\n    const abClass = this\n    const {\n      participant,\n      buyAmount,\n      sellAmount,\n      waitConfirm,\n    } = flow.swap\n\n    const { secretHash } = flow.state\n\n    const swapData = {\n      participantAddress: abClass.getParticipantAddress(flow.swap),\n      secretHash: secretHash,\n      amount: sellAmount,\n      targetWallet: (flow.swap.destinationSellAddress)\n        ? flow.swap.destinationSellAddress\n        : abClass.getParticipantAddress(flow.swap),\n      useTargetWallet,\n    }\n\n    const tryCreateSwap = async () => {\n      const {\n        isEthContractFunded, // @to-do - rename all `eth` to `ab` or other\n        ethSwapCreationTransactionHash,\n      } = flow.state\n\n      if (!isEthContractFunded) {\n        try {\n          _debug('swap.core:flow')('check swap exists')\n          const swapExists = await flow._checkSwapAlreadyExists()\n          if (swapExists) {\n            console.warn('Swap exists!! May be stucked. Try refund')\n            await flow.ethLikeSwap.refund({\n              participantAddress: abClass.getParticipantAddress(flow.swap),\n            }, (refundTx) => {\n              _debug('swap.core:flow')('Stucked swap refunded', refundTx)\n            })\n          }\n          _debug('swap.core:flow')('create swap', swapData)\n          await abClass.create(swapData, (hash) => {\n            _debug('swap.core:flow')('create swap tx hash', hash)\n            flow.swap.room.sendMessage({\n              event: 'create eth contract',\n              data: {\n                ethSwapCreationTransactionHash: hash,\n              },\n            })\n\n            flow.setState({\n              ethSwapCreationTransactionHash: hash,\n              canCreateEthTransaction: true,\n              isFailedTransaction: false,\n            }, true)\n          })\n        } catch (err) {\n          if (flow.state.ethSwapCreationTransactionHash) {\n            console.error('fail create swap, but tx already exists')\n            flow.setState({\n              canCreateEthTransaction: true,\n              isFailedTransaction: false,\n            }, true)\n            return true\n          }\n          if ( /known transaction/.test(err.message) ) {\n            console.error(`known tx: ${err.message}`)\n          } else if ( /out of gas/.test(err.message) ) {\n            console.error(`tx failed (wrong secret?): ${err.message}`)\n          } else {\n            console.error(err)\n          }\n\n          flow.setState({\n            canCreateEthTransaction: false,\n            isFailedTransaction: true,\n            isFailedTransactionError: err.message,\n          }, true)\n\n          return null\n        }\n      } else {\n        flow.swap.room.sendMessage({\n          event: 'create eth contract',\n          data: {\n            ethSwapCreationTransactionHash,\n            secretHash,\n          },\n        })\n      }\n      return true\n    }\n\n    const isEthContractFunded = await util.helpers.repeatAsyncUntilResult(() =>\n      tryCreateSwap(),\n    )\n\n    const { isStoppedSwap } = flow.state\n\n    if (isEthContractFunded && !isStoppedSwap) {\n      _debug('swap.core:flow')(`finish step`)\n      flow.finishStep({\n        isEthContractFunded,\n      }, {step: 'lock-eth'})\n    }\n  }\n\n\n  async getSecretFromContract({\n    flow,\n  }: {\n    flow: any,\n  }) {\n    const abClass = this\n\n    flow.swap.room.once('ethWithdrawTxHash', async ({ethSwapWithdrawTransactionHash}) => {\n      flow.setState({\n        ethSwapWithdrawTransactionHash,\n      }, true)\n\n      const secretFromTxhash = await util.helpers.extractSecretFromTx({\n        flow,\n        swapFlow: abClass,\n        app: abClass.app,\n        ethSwapWithdrawTransactionHash,\n      })\n\n      const { isEthWithdrawn } = flow.state\n\n      if (!isEthWithdrawn && secretFromTxhash) {\n        _debug('swap.core:flow')('got secret from tx', ethSwapWithdrawTransactionHash, secretFromTxhash)\n        flow.finishStep({\n          isEthWithdrawn: true,\n          secret: secretFromTxhash,\n        }, {step: 'wait-withdraw-eth'})\n      }\n    })\n\n    flow.swap.room.sendMessage({\n      event: 'request ethWithdrawTxHash',\n    })\n\n    const { participant } = flow.swap\n\n    const checkSecretExist = async () => {\n      return await util.helpers.extractSecretFromContract({\n        flow,\n        swapFlow: abClass,\n        participantAddress: abClass.getParticipantAddress(flow.swap),\n        ownerAddress: abClass.getMyAddress(),\n        app: abClass.app,\n      })\n    }\n\n    const secretFromContract = await util.helpers.repeatAsyncUntilResult((stopRepeat) => {\n      const { isEthWithdrawn, isRefunded } = flow.state\n\n      if (isEthWithdrawn || isRefunded) {\n        stopRepeat()\n\n        return false\n      }\n\n      return checkSecretExist()\n    })\n\n    const { isEthWithdrawn } = flow.state\n\n    if (secretFromContract && !isEthWithdrawn) {\n      _debug('swap.core:flow')('got secret from smart contract', secretFromContract)\n\n      flow.finishStep({\n        isEthWithdrawn: true,\n        secret: secretFromContract,\n      }, { step: 'wait-withdraw-eth' })\n    }\n  }\n\n  async waitABContract({\n    flow,\n    utxoCoin,\n  }: {\n    flow: any,\n    utxoCoin: string,\n  }) {\n    const abClass = this\n\n    flow.swap.room.sendMessage({\n      event: 'request eth contract',\n    })\n\n    flow.swap.room.once(`request ${utxoCoin} script`, () => {\n      const {\n        utxoScriptValues: scriptValues,\n        utxoScriptCreatingTransactionHash: txHash,\n      } = flow.state\n\n      flow.swap.room.sendMessage({\n        event:  `create ${utxoCoin} script`,\n        data: {\n          scriptValues,\n          utxoScriptCreatingTransactionHash: txHash,\n        }\n      })\n    })\n\n    const { participant } = flow.swap\n\n    flow.swap.room.on('create eth contract', ({ ethSwapCreationTransactionHash }) => {\n      flow.setState({\n        ethSwapCreationTransactionHash,\n      }, true)\n    })\n\n    const isContractBalanceOk = await this.isContractFunded(flow)\n\n    if (isContractBalanceOk) {\n      const { isEthContractFunded } = flow.state\n\n      // @ToDo - нужно проверить сценарий, если был прерван свап\n      // Мы остались на этом шаге, но при этом isEthContractFunded = true\n      // Застрянет ли свап на этом шаге (#5)\n      // Или нужно принудительно перевести на следующий шаг\n      if (!isEthContractFunded) {\n        flow.finishStep({\n          isEthContractFunded: true,\n        }, { step: 'wait-lock-eth' })\n      }\n    }\n  }\n\n\n  async isSwapCreated(data) {\n    const {\n      ownerAddress,\n      participantAddress,\n      secretHash,\n    } = data\n\n    const swap = await util.helpers.repeatAsyncUntilResult(() => {\n      return this.contract.methods.swaps(ownerAddress, participantAddress).call()\n    })\n\n    return (swap && swap.secretHash && swap.secretHash === `0x${secretHash}`)\n  }\n\n  async isContractFunded(flow) {\n    const abClass = this\n\n    const isContractBalanceOk = await util.helpers.repeatAsyncUntilResult(async () => {\n      const balance = await abClass.getBalance({\n        ownerAddress: abClass.app.getParticipantEthAddress(flow.swap),\n      })\n\n      _debug('swap.core:flow')('Checking contract balance:', balance)\n\n      const needContractBalance = new BigNumber(abClass.web3utils.toWei(flow.swap.buyAmount.toString()))\n\n      if (new BigNumber(balance).isGreaterThanOrEqualTo(needContractBalance)) {\n        return true\n      } else {\n        if (balance > 0) {\n          console.warn(`Balance on contract is less than needed. Swap stucked. Contract balance: ${balance} Needed: ${needContractBalance.toString()}`)\n        }\n      }\n\n      return false\n    })\n\n    if (isContractBalanceOk) {\n      return true\n    }\n    return false\n  }\n\n  async checkTargetAddress({\n    flow,\n  }: {\n    flow: any\n  }) {\n    if (this.hasTargetWallet()) {\n      const targetWallet = await this.getTargetWallet(\n        this.getParticipantAddress(flow.swap)\n      )\n      const needTargetWallet = (flow.swap.destinationBuyAddress)\n        ? flow.swap.destinationBuyAddress\n        : this.getMyAddress()\n\n      if (targetWallet.toLowerCase() === needTargetWallet.toLowerCase()) {\n        return true\n      }\n    }\n    return false\n  }\n\n  async withdrawFromABContract({\n    flow,\n  }: {\n    flow: any,\n  }) {\n    const abClass = this\n    const { buyAmount, participant } = flow.swap\n    const { secretHash, secret } = flow.state\n\n    const data = {\n      ownerAddress: abClass.getParticipantAddress(flow.swap),\n      secret,\n    }\n\n    const balanceCheckError = await abClass.checkBalance({\n      ownerAddress: abClass.getParticipantAddress(flow.swap),\n      participantAddress: abClass.getMyAddress(),\n      expectedValue: buyAmount,\n      expectedHash: secretHash,\n    })\n\n    if (balanceCheckError) {\n      console.error('Waiting until deposit: ETH balance check error:', balanceCheckError)\n      flow.swap.events.dispatch('eth balance check error', balanceCheckError)\n\n      return\n    }\n\n    if (flow.ethLikeSwap.hasTargetWallet()) {\n      const targetWallet = await abClass.getTargetWallet(\n        abClass.getParticipantAddress(flow.swap)\n      )\n      const needTargetWallet = (flow.swap.destinationBuyAddress)\n        ? flow.swap.destinationBuyAddress\n        : abClass.getMyAddress()\n\n      if (targetWallet.toLowerCase() !== needTargetWallet.toLowerCase()) {\n        console.error(\n          'Destination address for ether dismatch with needed (Needed, Getted). Stop swap now!',\n          needTargetWallet,\n          targetWallet,\n        )\n        flow.swap.events.dispatch('address for ether invalid', {\n          needed: needTargetWallet,\n          getted: targetWallet,\n        })\n\n        return\n      }\n    }\n\n    const onWithdrawReady = () => {\n      flow.swap.room.once('request ethWithdrawTxHash', () => {\n        const { ethSwapWithdrawTransactionHash } = flow.state\n\n        flow.swap.room.sendMessage({\n          event: 'ethWithdrawTxHash',\n          data: {\n            ethSwapWithdrawTransactionHash,\n          },\n        })\n      })\n\n      const { step } = flow.state\n\n      if (step >= 7) {\n        return\n      }\n\n      flow.finishStep({\n        isEthWithdrawn: true,\n      }, 'withdraw-eth')\n    }\n\n    const tryWithdraw = async (stopRepeater) => {\n      const { isEthWithdrawn } = flow.state\n\n      if (!isEthWithdrawn) {\n        try {\n          const { withdrawFee } = flow.state\n\n          if (!withdrawFee) {\n            const withdrawNeededGas = await abClass.calcWithdrawGas({\n              ownerAddress: data.ownerAddress,\n              secret,\n            })\n            flow.setState({\n              withdrawFee: withdrawNeededGas,\n            })\n            _debug('swap.core:flow')('withdraw gas fee', withdrawNeededGas)\n          }\n\n          await abClass.withdraw(data, (hash) => {\n            flow.setState({\n              isEthWithdrawn: true,\n              ethSwapWithdrawTransactionHash: hash,\n              canCreateEthTransaction: true,\n              requireWithdrawFee: false,\n            }, true)\n\n            flow.swap.room.sendMessage({\n              event: 'ethWithdrawTxHash',\n              data: {\n                ethSwapWithdrawTransactionHash: hash,\n              }\n            })\n          })\n\n          stopRepeater()\n          return true\n        } catch (err) {\n          if ( /known transaction/.test(err.message) ) {\n            console.error(`known tx: ${err.message}`)\n            stopRepeater()\n            return true\n          } else if ( /out of gas/.test(err.message) ) {\n            console.error(`tx failed (wrong secret?): ${err.message}`)\n          } else if ( /insufficient funds for gas/.test(err.message) ) {\n            console.error(`insufficient fund for gas: ${err.message}`)\n\n            _debug('swap.core:flow')('insufficient fund for gas... wait fund or request other side to withdraw')\n\n            const { requireWithdrawFee } = flow.state\n\n            if (!requireWithdrawFee) {\n              flow.swap.room.once('withdraw ready', ({ethSwapWithdrawTransactionHash}) => {\n                flow.setState({\n                  ethSwapWithdrawTransactionHash,\n                })\n\n                onWithdrawReady()\n              })\n\n              flow.setState({\n                requireWithdrawFee: true,\n              })\n            }\n\n          } else {\n            console.error(err)\n          }\n\n          flow.setState({\n            canCreateEthTransaction: false,\n          })\n\n          return null\n        }\n      }\n\n      return true\n    }\n\n    const isEthWithdrawn = await util.helpers.repeatAsyncUntilResult((stopRepeater) =>\n      tryWithdraw(stopRepeater),\n    )\n\n    if (isEthWithdrawn) {\n      onWithdrawReady()\n    }\n  }\n}\n\n\nexport default EthLikeSwap\n","import { constants } from 'swap.app'\nimport EthLikeSwap from './EthLikeSwap'\n\n\nclass EthSwap extends EthLikeSwap {\n  constructor(options) {\n    options = {\n      ...options,\n      getWeb3Adapter: `getEthWeb3Adapter`,\n      getWeb3Utils: `getEthWeb3Utils`,\n      getMyAddress: `getMyEthAddress`,\n      getParticipantAddress: `getParticipantEthAddress`,\n      coinName: constants.COINS.eth\n    }\n    super(options)\n  }\n}\n\n\nexport default EthSwap\n","import { constants } from 'swap.app'\nimport EthLikeSwap from './EthLikeSwap'\n\n\nclass BnbSwap extends EthLikeSwap {\n  constructor(options) {\n    options = {\n      ...options,\n      getWeb3Adapter: `getBnbWeb3Adapter`,\n      getWeb3Utils: `getBnbWeb3Utils`,\n      getMyAddress: `getMyBnbAddress`,\n      getParticipantAddress: `getParticipantBnbAddress`,\n      coinName: constants.COINS.bnb\n    }\n    super(options)\n  }\n}\n\n\nexport default BnbSwap\n","import { constants } from 'swap.app'\nimport EthLikeSwap from './EthLikeSwap'\n\n\nclass MaticSwap extends EthLikeSwap {\n  constructor(options) {\n    options = {\n      ...options,\n      getWeb3Adapter: `getMaticWeb3Adapter`,\n      getWeb3Utils: `getMaticWeb3Utils`,\n      getMyAddress: `getMyMaticAddress`,\n      getParticipantAddress: `getParticipantMaticAddress`,\n      coinName: constants.COINS.matic\n    }\n    super(options)\n  }\n}\n\n\nexport default MaticSwap\n","import { constants } from 'swap.app'\nimport EthLikeSwap from './EthLikeSwap'\n\n\nclass ArbitrumSwap extends EthLikeSwap {\n  constructor(options) {\n    options = {\n      ...options,\n      getWeb3Adapter: `getArbitrumWeb3Adapter`,\n      getWeb3Utils: `getArbitrumWeb3Utils`,\n      getMyAddress: `getMyArbitrumAddress`,\n      getParticipantAddress: `getParticipantArbitrumAddress`,\n      coinName: constants.COINS.arbeth\n    }\n    super(options)\n  }\n}\n\n\nexport default ArbitrumSwap\n","import debug from 'debug'\nimport SwapApp, { SwapInterface, constants, util } from 'swap.app'\nimport BigNumber from 'bignumber.js'\nimport bitcore from 'ghost-bitcore-lib'\nconst PrivateKey = bitcore.PrivateKey;\nconst BufferUtil = bitcore.util.buffer;\n\nclass GhostSwap extends SwapInterface {\n\n  _swapName: string\n  fetchBalance: any\n  fetchUnspents: any\n  broadcastTx: any\n  checkWithdraw: any\n  feeValue: any\n  fetchTxInfo: any\n  estimateFeeValue: ({}) => string\n\n  app: any\n  network: any\n\n  /**\n   *\n   * @param options\n   * @param options.fetchBalance\n   * @param options.fetchUnspents\n   * @param options.broadcastTx\n   * @param options.fetchTxInfo {(tx_hash) => Promise({ confidence, fees })}\n   * @param options.estimateFeeValue { ({ inSatoshis, speed, address, txSize }) => Promise(fee_value) }\n   */\n  constructor(options) {\n    super()\n\n    if (typeof options.fetchBalance !== 'function') {\n      throw new Error('GhostSwap: \"fetchBalance\" required')\n    }\n    if (typeof options.fetchUnspents !== 'function') {\n      throw new Error('GhostSwap: \"fetchUnspents\" required')\n    }\n    if (typeof options.broadcastTx !== 'function') {\n      throw new Error('GhostSwap: \"broadcastTx\" required')\n    }\n    if (typeof options.fetchTxInfo !== 'function') {\n      // tx_hash => { confidence, fees }\n      console.warn(`GhostSwap: \"fetchTxInfo\" is not a function. You will not be able to use tx-confidence feature`)\n    }\n    if (typeof options.estimateFeeValue !== 'function') {\n      // ({ speed } = {}) => feeRate\n      console.warn(`GhostSwap: \"estimateFeeValue\" is not a function. You will not be able use automatic mempool-based fee`)\n    }\n\n    this._swapName = constants.COINS.ghost\n    this.fetchBalance = options.fetchBalance\n    this.fetchUnspents = options.fetchUnspents\n    this.broadcastTx = options.broadcastTx\n    this.checkWithdraw = options.checkWithdraw\n    this.feeValue = options.feeValue || 546\n    this.fetchTxInfo = options.fetchTxInfo || (() => { })\n    this.estimateFeeValue = options.estimateFeeValue || (() => 0)\n  }\n\n  _initSwap(app) {\n    super._initSwap(app)\n\n    this.app = app\n\n    this.network = this.app.services.auth.accounts.ghost.network // TODO: templess solution, try to find better solution\n  }\n\n  /**\n   *\n   * @param {object} options\n   * @param {boolean} options.inSatoshis\n   * @param {Number} options.size\n   * @param {String} options.speed\n   * @param {String} options.address\n   * @returns {BigNumber}\n   * @public\n   */\n  async getTxFee({ inSatoshis, size, speed = 'fast', address }) {\n    let estimatedFee = new BigNumber(await this.estimateFeeValue({ \n      inSatoshis,\n      address,\n      speed,\n      method: 'swap',\n      txSize: size\n    }))\n\n    this.feeValue = estimatedFee\n\n    return inSatoshis\n      ? estimatedFee\n      : estimatedFee.dividedBy(1e8).dp(0, BigNumber.ROUND_UP)\n  }\n\n  /**\n   *\n   * @param {array} unspents\n   * @param {Number} expectedConfidenceLevel\n   * @returns {array}\n   * @private\n   */\n  async filterConfidentUnspents(unspents, expectedConfidenceLevel = 0.95) {\n    const feesToConfidence = async (fees, size, address) => {\n      const currentFastestFee = await this.getTxFee({ inSatoshis: true, size, speed: 'fast', address })\n\n      return new BigNumber(fees).isLessThan(currentFastestFee)\n        ? new BigNumber(fees).dividedBy(currentFastestFee).toNumber()\n        : 1\n    }\n\n    const confirmationsToConfidence = confs => confs > 0 ? 1 : 0\n\n    const fetchConfidence = async ({ txid, confirmations }) => {\n      const confidenceFromConfirmations = confirmationsToConfidence(confirmations)\n\n      if (new BigNumber(confidenceFromConfirmations).isGreaterThanOrEqualTo(expectedConfidenceLevel)) {\n        return confidenceFromConfirmations\n      }\n\n      try {\n        const info = await this.fetchTxInfo(txid)\n\n        const { fees, size, senderAddress } = info\n\n        if (fees) {\n          return await feesToConfidence(fees, size, senderAddress)\n        }\n\n        throw new Error(`txinfo=${{ confirmations, fees, size, senderAddress }}`)\n\n      } catch (err) {\n        console.error(`GhostSwap: Error fetching confidence: using confirmations > 0:`, err.message)\n        return confidenceFromConfirmations\n      }\n    }\n\n    const confidences = await Promise.all(unspents.map(fetchConfidence))\n\n    return unspents.filter((utxo, index) => {\n      debug('swap.core:swaps')(`confidence[${index}]:`, confidences[index])\n      //@ts-ignore\n      return new BigNumber(confidences[index]).isGreaterThanOrEqualTo(expectedConfidenceLevel)\n    })\n  }\n  /**\n   *\n   * @param {object} data\n   * @param {object} data.script\n   * @param {*} data.tx\n   * @param {string} data.secret\n   * @param {number} inputIndex\n   * @private\n   */\n  _signTransaction(data, inputIndex = 0) {\n    debug('swap.core:swaps')('signing script input', inputIndex)\n    const { script, tx, secret } = data\n    const hashType = this.app.env.bitcoin.Transaction.SIGHASH_ALL\n    // At the moment we are using Bitcore lib from Ghost to handle signing logic. TODO: port Bitcoinjs-lib to be compatible with Ghost and\n    // to avoid lib's duplicate\n    const network = this.app.isMainNet() ? bitcore.Networks.mainnet : bitcore.Networks.testnet; \n    // For refund we need to change the sequence number\n    tx.inputs[inputIndex].sequenceNumber = 4294967294;\n    const privateKey = new PrivateKey(this.app.services.auth.accounts.ghost.getPrivateKey(), network);\n    const signature = bitcore.Transaction.Sighash.sign(tx, privateKey, hashType, inputIndex, script);\n    const sigBuffer = BufferUtil.concat([\n      signature.toDER(),\n      BufferUtil.integerAsSingleByteBuffer(hashType)\n    ]);\n    const payment = this.app.env.bitcoin.payments.p2sh({\n      redeem: this.app.env.bitcoin.payments.p2wsh({\n        redeem: {\n          output: script,\n          input: this.app.env.bitcoin.script.compile([\n            sigBuffer,\n            this.app.services.auth.accounts.ghost.getPublicKeyBuffer(),\n            Buffer.from(secret.replace(/^0x/, ''), 'hex'),\n          ])\n        }\n      })\n    })\n    \n    tx.inputs[inputIndex].setWitnesses(payment.witness);\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.secretHash\n   * @param {string} data.ownerPublicKey\n   * @param {string} data.recipientPublicKey\n   * @param {number} data.lockTime\n   * @returns {{scriptAddress: *, script: (*|{ignored})}}\n   */\n  createScript(data, hashName = 'ripemd160') {\n    const hashOpcodeName = `OP_${hashName.toUpperCase()}`\n    const hashOpcode = this.app.env.bitcoin.opcodes[hashOpcodeName]\n\n    const { secretHash, ownerPublicKey, recipientPublicKey, lockTime } = data\n    const script = this.app.env.bitcoin.script.compile([\n\n      this.app.env.bitcoin.opcodes.OP_SIZE,\n      Buffer.from('20' ,'hex'),\n      this.app.env.bitcoin.opcodes.OP_EQUALVERIFY,\n\n      hashOpcode,\n      Buffer.from(secretHash, 'hex'),\n      this.app.env.bitcoin.opcodes.OP_EQUALVERIFY,\n\n      Buffer.from(recipientPublicKey, 'hex'),\n      this.app.env.bitcoin.opcodes.OP_EQUAL,\n      this.app.env.bitcoin.opcodes.OP_IF,\n\n      Buffer.from(recipientPublicKey, 'hex'),\n\n      this.app.env.bitcoin.opcodes.OP_ELSE,\n\n      this.app.env.bitcoin.script.number.encode(lockTime),\n      this.app.env.bitcoin.opcodes.OP_CHECKLOCKTIMEVERIFY,\n      this.app.env.bitcoin.opcodes.OP_DROP,\n      Buffer.from(ownerPublicKey, 'hex'),\n\n      this.app.env.bitcoin.opcodes.OP_ENDIF,\n\n      this.app.env.bitcoin.opcodes.OP_CHECKSIG,\n    ])\n\n    const scriptData = this.app.env.bitcoin.payments.p2sh({ redeem: { output: script, network: this.network }, network: this.network })\n    const scriptAddress = scriptData.address;\n\n    return {\n      scriptAddress,\n      script,\n    }\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.recipientPublicKey\n   * @param {number} data.lockTime\n   * @param {object} expected\n   * @param {number} expected.value\n   * @param {number} expected.lockTime\n   * @param {string} expected.recipientPublicKey\n   * @returns {Promise.<string>}\n   */\n  async checkScript(data, expected, hashName) {\n    const { recipientPublicKey, lockTime } = data\n    const { scriptAddress, script } = this.createScript(data, hashName)\n\n    const expectedConfidence = expected.confidence || 0.95\n    const unspents = await this.fetchUnspents(scriptAddress)\n    const expectedValue = expected.value.multipliedBy(1e8).integerValue()\n    const totalUnspent = unspents.reduce((summ, { satoshis }) => summ + satoshis, 0)\n\n    const confidentUnspents = await this.filterConfidentUnspents(unspents, expectedConfidence)\n    const totalConfidentUnspent = confidentUnspents.reduce((summ, { satoshis }) => summ + satoshis, 0)\n\n    if (expectedValue.isGreaterThan(totalUnspent)) {\n      return `Expected script value: ${expectedValue.toNumber()}, got: ${totalUnspent}, address: ${scriptAddress}`\n    }\n    if (expected.lockTime > lockTime) {\n      return `Expected script lockTime: ${expected.lockTime}, got: ${lockTime}, address: ${scriptAddress}`\n    }\n    if (expected.recipientPublicKey !== recipientPublicKey) {\n      return `Expected script recipient publicKey: ${expected.recipientPublicKey}, got: ${recipientPublicKey}`\n    }\n    if (expectedValue.isGreaterThan(totalConfidentUnspent)) {\n      return `Expected script value: ${expectedValue.toString()} with confidence above ${expectedConfidence}, got: ${totalConfidentUnspent}, address: ${scriptAddress}`\n    }\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {object} data.scriptValues\n   * @param {BigNumber} data.amount\n   * @param {function} handleTransactionHash\n   * @param {string} hashName\n   * @returns {Promise}\n   */\n  fundScript(data, handleTransactionHash, hashName) {\n    const { scriptValues, amount } = data\n\n    return new Promise(async (resolve, reject) => {\n      try {\n\n        const { scriptAddress } = this.createScript(scriptValues, hashName)\n\n        const ownerAddress = this.app.services.auth.accounts.ghost.getAddress()\n\n        const unspents = await this.fetchUnspents(ownerAddress)\n        const fundValue = amount.multipliedBy(1e8).integerValue().toNumber()\n        //@ts-ignore\n        const feeValueBN = await this.getTxFee({\n          inSatoshis: true,\n          address: ownerAddress,\n        })\n        const feeValue = feeValueBN.integerValue().toNumber()\n        const totalUnspent = unspents.reduce((summ, { satoshis }) => summ + satoshis, 0)\n        const skipValue = totalUnspent - fundValue - feeValue\n        if (totalUnspent < feeValue + fundValue) {\n          throw new Error(`Total less than fee: ${totalUnspent} < ${feeValue} + ${fundValue}`)\n        }\n\n        const transaction = new bitcore.Transaction()\n          .from(unspents)         \n          .to(scriptAddress, fundValue) \n          .change(this.app.services.auth.accounts.ghost.getAddress())     \n          .sign(this.app.services.auth.accounts.ghost.getPrivateKey())    \n\n        if (typeof handleTransactionHash === 'function') {\n          handleTransactionHash(transaction.toObject().txid)\n        }\n\n        try {\n          const result = await this.broadcastTx(String(transaction.serialize()))\n          resolve(result)\n        }\n        catch (err) {\n          reject(err)\n        }\n      }\n      catch (err) {\n        reject(err)\n      }\n    })\n  }\n\n  /**\n   *\n   * @param {object|string} data - scriptValues or wallet address\n   * @returns {Promise.<void>}\n   */\n  async getBalance(data, hashName) {\n    let address\n\n    if (typeof data === 'string') {\n      address = data\n    }\n    else if (typeof data === 'object') {\n      const { scriptAddress } = this.createScript(data, hashName)\n\n      address = scriptAddress\n    }\n    else {\n      throw new Error('Wrong data type')\n    }\n\n    const unspents = await this.fetchUnspents(address)\n    const totalUnspent = unspents && unspents.length && unspents.reduce((summ, { satoshis }) => summ + satoshis, 0) || 0\n\n    return totalUnspent\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {object} data.scriptValues\n   * @param {string} data.secret\n   * @param {boolean} isRefund\n   * @returns {Promise}\n   */\n  async getWithdrawRawTransaction(data, isRefund, hashName?) {\n    const { scriptValues, secret, destinationAddress } = data\n    const destAddress = (destinationAddress) ? destinationAddress : this.app.services.auth.accounts.ghost.getAddress()\n\n    const { script, scriptAddress } = this.createScript(scriptValues, hashName)\n    const unspents = await this.fetchUnspents(scriptAddress)\n    //@ts-ignore\n    const feeValueBN = await this.getTxFee({\n      inSatoshis: true,\n      address: scriptAddress\n    })\n    const feeValue = feeValueBN.integerValue().toNumber()\n    const totalUnspent = unspents.reduce((summ, { satoshis }) => summ + satoshis, 0)\n\n    if (new BigNumber(totalUnspent).isLessThan(feeValue)) {\n      /* Check - may be withdrawed */\n      if (typeof this.checkWithdraw === 'function') {\n        const hasWithdraw = await this.checkWithdraw(scriptAddress)\n        if (hasWithdraw\n          && hasWithdraw.address.toLowerCase() == destAddress.toLowerCase()\n        ) {\n          // already withdrawed\n          return {\n            txId: hasWithdraw.txid,\n            alreadyWithdrawed: true\n          }\n        } else {\n          throw new Error(`Total less than fee: ${totalUnspent} < ${feeValue}`)\n        }\n      } else {\n        throw new Error(`Total less than fee: ${totalUnspent} < ${feeValue}`)\n      }\n    }\n\n    const tx = new bitcore.Transaction();\n\n    if (isRefund) {\n      tx.lockUntilDate(scriptValues.lockTime);\n    }\n \n    tx.from(unspents);\n    tx.to(destAddress, totalUnspent - feeValue);\n    // Sign input witness's\n    tx.inputs.map((_, index) =>\n      this._signTransaction({\n        script,\n        secret,\n        tx,\n      }, index)\n\n    );\n\n    const txHex = tx.toString()\n    const txId = tx.toObject().hash\n\n     return {\n       txHex,\n       txId,\n     }\n\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {object} data.scriptValues\n   * @param {string} data.secret\n   * @param {boolean} isRefund\n   * @returns {Promise}\n   */\n  async getWithdrawHexTransaction(data, isRefund) {\n    const txRaw = await this.getWithdrawRawTransaction(data, isRefund)\n\n    return txRaw.txHex\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {object} data.scriptValues\n   * @param {string} data.secret\n   * @returns {Promise}\n   */\n  getRefundRawTransaction(data) {\n    return this.getWithdrawRawTransaction(data, true)\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {object} data.scriptValues\n   * @param {string} data.secret\n   * @returns {Promise}\n   */\n  async getRefundHexTransaction(data) {\n    const txRaw = await this.getRefundRawTransaction(data)\n\n    return txRaw.txHex\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {object} data.scriptValues\n   * @param {string} data.secret\n   * @param {function} handleTransactionHash\n   * @param {boolean} isRefund\n   * @param {string} hashName\n   * @returns {Promise}\n   */\n  withdraw(data, isRefund, hashName) {\n    return new Promise(async (resolve, reject) => {\n      try {\n        const txRaw = await this.getWithdrawRawTransaction(data, isRefund, hashName)\n\n        if (txRaw.alreadyWithdrawed) {\n          resolve(txRaw.txId)\n          return\n        }\n\n        debug('swap.core:swaps')('raw tx withdraw', txRaw.txHex)\n\n        const result = await this.broadcastTx(txRaw.txHex)\n\n\n        // Wait some delay until transaction can be rejected or broadcast failed\n        await util.helpers.waitDelay(10)\n\n        const txSuccess = await this.checkTX(txRaw.txId)\n\n        if (txSuccess) {\n          resolve(txRaw.txId)\n        } else {\n          console.warn('GhostSwap: cant withdraw', 'Generated TX not found')\n          reject('TX not found. Try it later. ')\n        }\n      }\n      catch (error) {\n        console.warn('GhostSwap: cant withdraw', error.message)\n\n        let errorMessage\n\n        if (error.res && /non-final/.test(error.res.text)) {\n          errorMessage = 'Try it later'\n        } else if (/Total less than fee/.test(error.message)) {\n          if (/Total less than fee: 0/.test(error.message)) {\n            errorMessage = 'Address is empty'\n          } else {\n            errorMessage = 'Less than fee'\n          }\n        } else {\n          errorMessage = error\n        }\n\n        reject(errorMessage)\n      }\n    })\n  }\n\n  /**\n   * \n   * @param {string} txID\n   * @returns {Promise}\n   */\n  async checkTX(txID) {\n    const txInfo = await this.fetchTxInfo(txID)\n    if (txInfo\n      && txInfo.senderAddress\n      && txInfo.txid\n      && (txInfo.txid.toLowerCase() == txID.toLowerCase())\n    ) {\n      return true\n    }\n    return false\n  }\n  /**\n   *\n   * @param {object} data\n   * @param {object} data.scriptValues\n   * @param {string} data.secret\n   * @param {function} handleTransactionHash\n   * @param {string} hashName\n   * @returns {Promise}\n   */\n  refund(data, hashName) {\n    return this.withdraw(data, true, hashName)\n  }\n}\n\n\nexport default GhostSwap\n","import UTXOBlockchain from './UTXOBlockchain'\n\n\nclass NextSwap extends UTXOBlockchain {\n  constructor(options) {\n    super({\n      ...options,\n      swapName: `NEXT`,\n      account: `next`,\n      networks: {\n        main: {\n          name: `nextmain`,\n          params: {\n            messagePrefix: '\\x18Nextcoin Signed Message:\\n',\n            bech32: 'bc',\n            bip32: {\n              public:  0x0488B21E,\n              private: 0x0488ADE4,\n            },\n            pubKeyHash: 75,\n            scriptHash: 5,\n            wif: 128,\n          }\n        },\n        test: {\n          name: `nexttest`,\n          params: {\n            messagePrefix: '\\x18Nextcoin Signed Message:\\n',\n            bech32: 'bc',\n            bip32: {\n              public:  0x0488B21E,\n              private: 0x0488ADE4,\n            },\n            pubKeyHash: 75,\n            scriptHash: 5,\n            wif: 128,\n          }\n        },\n      },\n      skipFetchConfidence: true,\n      skipCheckCanBeReplaces: true,\n      skipLockTime: true,\n      skipRecipientPublickKey: true,\n      processUnspent: (unspent) => {\n        const {\n          txid,\n          outputIndex: vout,\n        } = unspent\n        return {\n          txid,\n          vout,\n        }\n      }\n    })\n  }\n}\n\nexport default NextSwap","import debug from 'debug'\nimport { SwapInterface, constants, util } from 'swap.app'\nimport BigNumber from 'bignumber.js'\nimport InputDataDecoder from 'ethereum-input-data-decoder'\n\n\nclass EthLikeTokenSwap extends SwapInterface {\n\n  options: any\n  _swapName: string\n  address: string\n  abi: any[]\n  decimals: number\n  tokenAddress: string\n  tokenAbi: any[]\n  gasLimit: number\n  gasLimitReserve: number\n  gasPrice: number\n  fetchBalance: any\n  estimateGasPrice: any\n  _allSwapEvents: any\n\n  web3adapter: any // web3.eth\n  web3utils: any // web3.utils\n  getMyAddress: any\n  getParticipantAddress: any\n  blockchainName: string\n\n  app: any\n  decoder: any\n  contract: any\n  ERC20: any\n\n  /**\n   *\n   * @param {object}    options\n   * @param {string}    options.name\n   * @param {string}    options.address\n   * @param {array}     options.abi\n   * @param {string}    options.tokenAddress\n   * @param {array}     options.tokenAbi\n   * @param {number}    options.gasLimit\n   * @param {function}  options.fetchBalance\n   */\n  constructor(options) {\n    super()\n\n    if (options.blockchainName === undefined) {\n      throw new Error('EthLikeTokenSwap swap - option `blockchainName` not defined')\n    }\n    if (!options.name) {\n      throw new Error('EthLikeTokenSwap: \"name\" required')\n    }\n    const ticker = `{${options.blockchainName.toUpperCase()}}${options.name.toUpperCase()}`\n    if (!Object.values(constants.COINS).includes(ticker)) {\n      throw new Error('EthLikeTokenSwap: \"ticker\" should be correct')\n    }\n    if (typeof options.address !== 'string') {\n      throw new Error('EthLikeTokenSwap: \"address\" required')\n    }\n    if (typeof options.decimals !== 'number') {\n      throw new Error('EthLikeTokenSwap: \"decimals\" required')\n    }\n    if (!Array.isArray(options.abi)) {\n      throw new Error('EthLikeTokenSwap: \"abi\" required')\n    }\n    if (typeof options.tokenAddress !== 'string') {\n      throw new Error('EthLikeTokenSwap: \"tokenAddress\" required')\n    }\n    if (!Array.isArray(options.tokenAbi)) {\n      throw new Error('EthLikeTokenSwap: \"tokenAbi\" required')\n    }\n    if (options.getWeb3Adapter === undefined) {\n      throw new Error(`EthLikeTokenSwap ${options.blockchainName}: option 'getWeb3Adapter' not defined`)\n    }\n    if (options.getWeb3Utils === undefined) {\n      throw new Error(`EthLikeTokenSwap ${options.blockchainName}: option 'getWeb3Utils' not defined`)\n    }\n    if (options.getMyAddress === undefined) {\n      throw new Error(`EthLikeTokenSwap ${options.blockchainName}: option 'getMyAddress' not defined`)\n    }\n    if (options.getParticipantAddress === undefined) {\n      throw new Error(`EthLikeTokenSwap ${options.blockchainName}: option 'getParticipantAddress' not defined`)\n    }\n    if (typeof options.estimateGasPrice !== 'function') {\n      // ({ speed } = {}) => gasPrice\n      console.warn(`EthLikeTokenSwap: \"estimateGasPrice\" is not a function. You will not be able use automatic mempool-based fee`)\n    }\n\n\n    this.options        = options\n    this._swapName      = options.name.toUpperCase()\n    this.blockchainName = options.blockchainName\n\n    this.address        = options.address\n    this.abi            = options.abi\n    this.decimals       = options.decimals\n    this.tokenAddress   = options.tokenAddress\n    this.tokenAbi       = options.tokenAbi\n\n    this.gasLimit       = options.gasLimit || 5e5\n    this.gasLimitReserve = options.gasLimitReserve || 1.20 // default +20% of the total estimateGas\n    this.gasPrice       = options.gasPrice || 2e9\n    this.fetchBalance   = options.fetchBalance\n    this.estimateGasPrice = options.estimateGasPrice || (() => {})\n\n  }\n\n  _initSwap(app) {\n    super._initSwap(app)\n\n    this.app = app\n    if (typeof this.app[this.options.getWeb3Adapter] !== 'function') {\n      throw new Error(`EthLikeTokenSwap ${this.blockchainName}: SwapApp function '${this.options.getWeb3Adapter}' not defined`)\n    }\n    if (typeof this.app[this.options.getWeb3Utils] !== 'function') {\n      throw new Error(`EthLikeTokenSwap ${this.blockchainName}: SwapApp function '${this.options.getWeb3Utils}' not defined`)\n    }\n    if (typeof this.app[this.options.getMyAddress] !== 'function') {\n      throw new Error(`EthLikeTokenSwap ${this.blockchainName}: SwapApp function '${this.options.getMyAddress}' not defined`)\n    }\n    if (typeof this.app[this.options.getParticipantAddress] !== 'function') {\n      throw new Error(`EthLikeTokenSwap ${this.blockchainName}: SwapApp function '${this.options.getParticipantAddress}' not defined`)\n    }\n \n    this.web3adapter = this.app[this.options.getWeb3Adapter].bind(this.app)()\n    this.web3utils = this.app[this.options.getWeb3Utils].bind(this.app)()\n    this.getMyAddress = this.app[this.options.getMyAddress].bind(this.app)\n    this.getParticipantAddress = this.app[this.options.getParticipantAddress].bind(this.app)\n\n    this.decoder        = new InputDataDecoder(this.abi)\n    this.contract       = new this.web3adapter.Contract(this.abi, this.address)\n    this.ERC20          = new this.web3adapter.Contract(this.tokenAbi, this.tokenAddress)\n  }\n\n  async updateGasPrice() {\n    //@ts-ignore\n    debug('gas price before update', this.gasPrice)\n\n    try {\n      this.gasPrice = await this.estimateGasPrice({ speed: 'fast' })\n    } catch(err) {\n      debug(`EthLikeTokenSwap ${this.blockchainName}: Error with gas update: ${err.message}, using old value gasPrice=${this.gasPrice}`)\n    }\n    //@ts-ignore\n    debug('gas price after update', this.gasPrice)\n  }\n\n  async send(methodName, args, _params = {}, handleTransactionHash) {\n    if (typeof this.contract.methods[methodName] !== 'function') {\n      throw new Error(`EthLikeTokenSwap.send ${this.blockchainName}: No method ${methodName} in contract`)\n    }\n\n    await this.updateGasPrice()\n\n    return new Promise(async (resolve, reject) => {\n      const params = {\n        from: this.getMyAddress(),\n        gasPrice: this.gasPrice,\n        ..._params,\n      }\n      //@ts-ignore\n      debug(`EthLikeTokenSwap ${this.blockchainName} -> ${methodName} -> params`, params)\n\n      let gasAmount = await this.contract.methods[methodName](...args).estimateGas(params)\n      params['gas'] = new BigNumber(gasAmount).multipliedBy(this.gasLimitReserve).dp(0, BigNumber.ROUND_UP).toNumber() || this.gasLimit\n      //@ts-ignore\n      debug(`EthLikeTokenSwap $[this.blockchainName} -> ${methodName} -> gas`, gasAmount)\n      const receipt = await this.contract.methods[methodName](...args).send(params)\n        .on('transactionHash', (hash) => {\n          if (typeof handleTransactionHash === 'function') {\n            handleTransactionHash(hash)\n          }\n        })\n        .catch((error) => {\n          reject({ message: error.message, gasAmount: new BigNumber(gasAmount).dividedBy(1e8).toString() })\n        })\n\n      resolve(receipt)\n    })\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {BigNumber} data.amount\n   * @param {function} handleTransactionHash\n   * @returns {Promise}\n   */\n  //@ts-ignore: strictNullChecks\n  async approve(data, handleTransactionHash: Function = null) {\n    const { amount } = data\n\n    const exp = new BigNumber(10).pow(this.decimals)\n    const newAmount = new BigNumber(amount).times(exp).toString()\n\n    await this.updateGasPrice()\n\n    return new Promise(async (resolve, reject) => {\n      try {\n        const params = {\n          from: this.getMyAddress(),\n          gasPrice: this.gasPrice,\n        }\n\n        const gasAmount = await this.ERC20.methods.approve(this.address, newAmount).estimateGas(params)\n        params['gas'] = new BigNumber(gasAmount).multipliedBy(this.gasLimitReserve).dp(0, BigNumber.ROUND_UP).toNumber() || this.gasLimit\n\n        //@ts-ignore\n        debug(`EthLikeTokenSwap ${this.blockchainName} -> approve -> params`, params)\n\n        const result = await this.ERC20.methods.approve(this.address, newAmount).send(params)\n          .on('transactionHash', (hash) => {\n            if (typeof handleTransactionHash === 'function') {\n              handleTransactionHash(hash)\n            }\n          })\n          .catch((error) => {\n            reject({ message: error.message, gasAmount: new BigNumber(gasAmount).dividedBy(1e8).toString() })\n          })\n\n        resolve(result)\n      }\n      catch (err) {\n        reject(err)\n      }\n    })\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.spender\n   * @returns {Promise}\n   */\n  checkAllowance(data): Promise<number> {\n    const { owner } = data\n\n    return new Promise(async (resolve, reject) => {\n      try {\n        const result = await this.ERC20.methods.allowance(owner, this.address).call({\n          from: this.getMyAddress(),\n        })\n\n        resolve(result)\n      }\n      catch (err) {\n        reject(err)\n      }\n    })\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.secretHash\n   * @param {string} data.participantAddress\n   * @param {BigNumber} data.amount\n   * @param {function} handleTransactionHash\n   * @returns {Promise}\n   */\n  async create(data, handleTransactionHash) {\n    if (\n      data.targetWallet\n      && (\n        (data.targetWallet!==data.participantAddress)\n        ||\n        data.useTargetWallet\n      )\n      && this.hasTargetWallet()\n    ) {\n      return this.createSwapTarget(data, handleTransactionHash)\n    } else {\n      return this.createSwap(data, handleTransactionHash)\n    }\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.secretHash\n   * @param {string} data.participantAddress\n   * @param {BigNumber} data.amount\n   * @param {function} handleTransactionHash\n   * @returns {Promise}\n   */\n  async createSwap(data, handleTransactionHash) {\n    const { secretHash, participantAddress, amount } = data\n\n    const exp = new BigNumber(10).pow(this.decimals)\n    const newAmount = new BigNumber(amount).times(exp).toString()\n\n    const hash = `0x${secretHash.replace(/^0x/, '')}`\n    const args = [ hash, participantAddress, newAmount, this.tokenAddress ]\n\n    return this.send('createSwap', [...args], {}, handleTransactionHash)\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.secretHash\n   * @param {string} data.participantAddress\n   * @param {BigNumber} data.amount\n   * @param {function} handleTransactionHash\n   * @returns {Promise}\n   */\n  async createSwapTarget(data, handleTransactionHash) {\n    const { secretHash, participantAddress, amount, targetWallet } = data\n\n    const exp = new BigNumber(10).pow(this.decimals)\n    const newAmount = new BigNumber(amount).times(exp).toString()\n\n    const hash = `0x${secretHash.replace(/^0x/, '')}`\n    const args = [ hash, participantAddress, targetWallet, newAmount, this.tokenAddress ]\n\n    return this.send('createSwapTarget', [...args], {}, handleTransactionHash)\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.ownerAddress\n   * @param {string} data.participantAddress\n   * @returns {Promise}\n   */\n  swaps(data) {\n    const { ownerAddress, participantAddress } = data\n\n    return this.contract.methods.swaps(ownerAddress, participantAddress).call()\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.ownerAddress\n   * @param {string} data.participantAddress\n   * @returns {Promise}\n   */\n  async checkSwapExists(data) {\n    const swap = await this.swaps(data)\n    //@ts-ignore\n    debug('swapExists', swap)\n\n    const balance = swap && swap.balance ? parseInt(swap.balance) : 0\n\n    return balance > 0\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.ownerAddress\n   * @returns {Promise}\n   */\n  getBalance(data) {\n    const { ownerAddress } = data\n\n    return this.contract.methods.getBalance(ownerAddress).call({\n      from: this.getMyAddress(),\n    })\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.ownerAddress\n   * @param {BigNumber} data.expectedValue\n   * @returns {Promise.<string>}\n   */\n  async checkBalance(data) {\n    const { ownerAddress, participantAddress, expectedValue, expectedHash } = data\n\n    const balance = await util.helpers.repeatAsyncUntilResult(() =>\n      this.getBalance({ ownerAddress })\n    )\n    const swap = await util.helpers.repeatAsyncUntilResult(() =>\n      this.contract.methods.swaps(ownerAddress, participantAddress).call()\n    )\n    //@ts-ignore\n    const { secretHash } = swap\n    debug('swap.core:swaps')(`swap.secretHash`, secretHash)\n\n    const _secretHash = `${secretHash.replace(/^0x/, '')}`\n\n    debug('swap.core:swaps')(`secretHash: expected hash = ${expectedHash}, contract hash = ${_secretHash}`)\n\n    if (expectedHash !== _secretHash) {\n      return `Expected hash: ${expectedHash}, got: ${_secretHash}`\n    }\n\n    const expectedValueWei = new BigNumber(expectedValue).multipliedBy(this.decimals)\n\n    if (expectedValueWei.isGreaterThan(balance)) {\n      return `Expected value: ${expectedValueWei.toString()}, got: ${balance}`\n    }\n  }\n\n\n  /**\n   *\n   * @returns {Promise}\n   */\n  async fetchSwapEvents() {\n    if (this._allSwapEvents) return this._allSwapEvents\n\n    const allSwapEvents = await this.contract.getPastEvents('allEvents', {\n      fromBlock: 0,\n      toBlock: 'latest',\n    })\n\n    this.contract.events.allEvents({ fromBlock: 0, toBlock: 'latest' })\n      .on('data', event => {\n        this._allSwapEvents.push(event)\n      })\n      .on('changed', (event) => {\n        console.error(`EthTokenSwap: fetchEvents: needs rescan`)\n        this._allSwapEvents = null\n      })\n      .on('error', err => {\n        console.error(err)\n        this._allSwapEvents = null\n      })\n\n    this._allSwapEvents = allSwapEvents\n\n    return allSwapEvents\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.secretHash\n   * @returns {Promise}\n   */\n  async findSwap(data) {\n    const { secretHash } = data\n\n    const allSwapEvents = await this.fetchSwapEvents()\n\n    const swapEvents = allSwapEvents\n      .filter(({ returnValues }) => returnValues._secretHash === `0x${secretHash.replace('0x','')}`)\n\n    const [ create, close, ...rest ] = swapEvents\n\n    if (rest && rest.length) {\n      console.error(`More than two swaps with same hash`, rest)\n      // throw new Error(`More than two swaps with same hash`)\n    }\n\n    return [ create, close ]\n  }\n\n  /**\n    *\n    * @param {object} data\n    * @param {string} data.secretHash\n    * @returns {Promise(status)}\n    */\n\n  async wasClosed(data) {\n    const [ create, close ] = await this.findSwap(data)\n\n    if (!create) {\n      debug(`No swap with hash ${data.secretHash}`)\n      return 'no swap'\n    } else if (create && !close) {\n      debug(`Open yet!`)\n      return 'open'\n    } else {\n      if (close.event == 'Withdraw') {\n        debug(`Withdrawn`)\n        return 'withdrawn'\n      } else if (close.event == 'Refund') {\n        debug(`Refund`)\n        return 'refunded'\n      } else {\n        debug(`Unknown event, error`)\n        return 'error'\n      }\n    }\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.secretHash\n   * @returns {Promise(boolean)}\n   */\n  wasRefunded(data) {\n    return this.wasClosed(data)\n      .then((status) =>\n        status === 'refunded'\n      )\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.secretHash\n   * @returns {Promise(boolean)}\n   */\n  async wasWithdrawn(data) {\n    const status = await this.wasClosed(data)\n    return status === 'withdrawn'\n  }\n\n\n  /**\n   * @param {object} data\n   * @param {string} data.ownerAddress\n   * @param {string} tokenAddress\n   */\n  async checkTokenIsValid(data) {\n    const { ownerAddress, participantAddress } = data\n\n    const swap = await util.helpers.repeatAsyncUntilResult(() => \n      this.contract.methods.swaps(ownerAddress, participantAddress).call()\n    )\n\n    const { token } = swap\n\n    debug('swap.core:swaps')(`Token address at swap contract: ${token.toUpperCase()}`);\n\n    return (this.tokenAddress.toUpperCase() == token.toUpperCase())\n  }\n\n  /**\n   *\n   * @returns {boolean}\n   */\n  hasTargetWallet() {\n    return !!this.contract.methods.getTargetWallet\n  }\n\n\n  /**\n   *\n   * @param {string} ownerAddress\n   * @returns {Promise.<string>}\n   */\n  async getTargetWallet(ownerAddress: string): Promise<string> {\n    let address: string = await util.helpers.repeatAsyncUntilResult(() =>\n      this.getTargetWalletPromise(ownerAddress)\n    )\n    return address\n  }\n\n  /**\n   *\n   * @param {string} ownerAddress\n   * @returns {string}\n   */\n  async getTargetWalletPromise(ownerAddress) {\n    debug('swap.core:swaps')('EthTokenSwap->getTargetWallet');\n    return new Promise(async (resolve, reject) => {\n      try {\n        const targetWallet = await this.contract.methods.getTargetWallet(ownerAddress).call({\n          from: this.getMyAddress(),\n        })\n        debug('swap.core:swaps')('EthTokenSwap->getTargetWallet',targetWallet);\n\n        resolve(targetWallet)\n      }\n      catch (err) {\n        reject(err)\n      }\n    });\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.secret\n   * @param {string} data.ownerAddress\n   * @param {function} handleTransactionHash\n   * @returns {Promise}\n   */\n  async calcWithdrawGas(data) {\n    return this.calcWithdrawOtherGas({\n      ownerAddress: data.ownerAddress,\n      participantAddress: this.getMyAddress(),\n      secret: data.secret,\n    })\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.secret\n   * @param {string} data.ownerAddress\n   * @param {function} handleTransactionHash\n   * @returns {Promise}\n   */\n  async withdraw(data, handleTransactionHash) {\n    return this.withdrawOther({\n      ownerAddress: data.ownerAddress,\n      participantAddress: this.getMyAddress(),\n      secret: data.secret,\n    } , handleTransactionHash)\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.secret\n   * @param {string} data.participantAddress\n   * @returns {Promise}\n   */\n  async calcWithdrawNoMoneyGas(data) {\n    return this.calcWithdrawOtherGas({\n      ownerAddress: this.getMyAddress(),\n      participantAddress: data.participantAddress,\n      secret: data.secret,\n    })\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.secret\n   * @param {string} data.participantAddress\n   * @param {function} handleTransactionHash\n   * @returns {Promise}\n   */\n  async withdrawNoMoney(data, handleTransactionHash) {\n    return this.withdrawOther({\n      ownerAddress: this.getMyAddress(),\n      participantAddress: data.participantAddress,\n      secret: data.secret,\n    }, handleTransactionHash)\n  }\n\n  async calcWithdrawOtherGas(data) {\n    const { ownerAddress, participantAddress, secret } = data\n\n    await this.updateGasPrice()\n\n    return new Promise(async (resolve, reject) => {\n      const _secret = `0x${secret.replace(/^0x/, '')}`\n\n      const params = {\n        from: this.getMyAddress(),\n        gasPrice: this.gasPrice,\n      }\n\n      try {\n        const gasAmount = await this.contract.methods.withdrawOther(_secret, ownerAddress, participantAddress).estimateGas(params)\n        resolve(new BigNumber(gasAmount).multipliedBy(this.gasLimitReserve).dp(0, BigNumber.ROUND_UP).toNumber())\n      }\n      catch (err) {\n        console.error('calcWithdrawOtherGas', err)\n        resolve(this.gasLimit)\n      }\n    })\n  }\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.secret\n   * @param {string} data.ownerAddress\n   * @param {string} data.participantAddress\n   * @param {function} handleTransactionHash\n   * @returns {Promise}\n   */\n  async withdrawOther(data, handleTransactionHash) {\n    const { ownerAddress, participantAddress, secret } = data\n\n    const _secret = `0x${secret.replace(/^0x/, '')}`\n\n    await this.updateGasPrice()\n\n    return this.send('withdrawOther', [ _secret, ownerAddress, participantAddress ], {}, handleTransactionHash)\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.participantAddress\n   * @param {function} handleTransactionHash\n   * @returns {Promise}\n   */\n  async refund(data, handleTransactionHash?: Function) {\n    const { participantAddress } = data\n\n    await this.updateGasPrice()\n\n    return this.send('refund', [ participantAddress ], {}, handleTransactionHash)\n  }\n\n  /**\n   *\n   * @param {object} data\n   * @param {string} data.participantAddress\n   * @returns {Promise}\n   */\n  getSecret(data) {\n    const { participantAddress } = data\n\n    return new Promise(async (resolve, reject) => {\n      try {\n        const secret = await this.contract.methods.getSecret(participantAddress).call({\n          from: this.getMyAddress(),\n        })\n\n        const secretValue = secret && !/^0x0+$/.test(secret) ? secret : null\n\n        resolve(secretValue)\n      }\n      catch (err) {\n        reject(err)\n      }\n    })\n  }\n\n\n  /**\n   *\n   * @param {string} transactionHash\n   * @returns {Promise<any>}\n   */\n  getSecretFromTxhash = (transactionHash) =>\n    this.web3adapter.getTransaction(transactionHash)\n      .then(txResult => {\n        try {\n          const bytes32 = this.decoder.decodeData(txResult.input)\n          return this.web3utils.bytesToHex(bytes32.inputs[0]).split('0x')[1]\n        } catch (err) {\n          debug('swap.core:swaps')('Trying to fetch secret from tx: ' + err.message)\n          return\n        }\n      })\n\n\n  async fundERC20Contract({\n    flow,\n    useTargetWallet,\n  }: {\n    flow: any,\n    useTargetWallet?: boolean,\n  }) {\n    const abClass = this\n    const {\n      participant,\n      buyAmount,\n      sellAmount,\n      waitConfirm,\n    } = flow.swap\n\n    const { secretHash } = flow.state\n\n    const swapData = {\n      participantAddress: abClass.getParticipantAddress(flow.swap),\n      secretHash,\n      amount: sellAmount,\n      targetWallet: (flow.swap.destinationSellAddress)\n        ? flow.swap.destinationSellAddress\n        : abClass.getParticipantAddress(flow.swap),\n      useTargetWallet,\n      calcFee: true,\n    }\n\n    // TODO fee after allowance\n    // EthTokenSwap -> approve need gas too\n    /* calc create contract fee and save this */\n    /*\n    flow.setState({\n      createSwapFee: await flow.ethTokenSwap.create(swapData),\n    })\n    */\n    swapData.calcFee = false\n    //debug('swap.core:flow')('create swap fee', flow.state.createSwapFee)\n\n    const tryCreateSwap = async () => {\n      const { isEthContractFunded } = flow.state\n\n      if (!isEthContractFunded) {\n        try {\n          debug('swap.core:flow')('fetching allowance')\n\n          const allowance = await abClass.checkAllowance({\n            owner: abClass.getMyAddress(),\n          })\n\n          const allowanceAmount = new BigNumber(allowance)\n            .dp(0, BigNumber.ROUND_UP)\n            .div(new BigNumber(10).pow(this.decimals))\n\n          debug('swap.core:flow')('allowance', allowance)\n\n          if (allowanceAmount.isLessThan(sellAmount)) {\n            debug('swap.core:flow')('allowanceAmount < sellAmount', allowanceAmount.toNumber(), sellAmount)\n            await abClass.approve({\n              amount: sellAmount,\n            })\n          }\n\n          debug('swap.core:flow')('check swap exists')\n          const swapExists = await flow._checkSwapAlreadyExists()\n          if (swapExists) {\n            console.warn('Swap exists!! May be stucked. Try refund')\n            await abClass.refund({\n              participantAddress: abClass.getParticipantAddress(flow.swap),\n            }, (refundTx) => {\n              debug('swap.core:flow')('Stucked swap refunded', refundTx)\n            })\n          }\n          await abClass.create(swapData, async (hash) => {\n            debug('swap.core:flow')('create swap tx hash', hash)\n            flow.swap.room.sendMessage({\n              event: 'create eth contract',\n              data: {\n                ethSwapCreationTransactionHash: hash,\n              },\n            })\n\n            flow.swap.room.on('request eth contract', () => {\n              flow.swap.room.sendMessage({\n                event: 'create eth contract',\n                data: {\n                  ethSwapCreationTransactionHash: hash,\n                },\n              })\n            })\n\n            flow.setState({\n              ethSwapCreationTransactionHash: hash,\n              canCreateEthTransaction: true,\n              isFailedTransaction: false,\n            }, true)\n\n            debug('swap.core:flow')('created swap!', hash)\n          })\n\n        } catch (error) {\n          if (flow.state.ethSwapCreationTransactionHash) {\n            console.error('fail create swap, but tx already exists')\n            flow.setState({\n              canCreateEthTransaction: true,\n              isFailedTransaction: false,\n            }, true)\n            return true\n          }\n          const { message, gasAmount } = error\n\n          if ( /insufficient funds/.test(message) ) {\n            console.error(`Insufficient ETH for gas: ${gasAmount} ETH needed`)\n\n            flow.setState({\n              canCreateEthTransaction: false,\n              gasAmountNeeded: gasAmount,\n            })\n\n            return null\n          } else if ( /known transaction/.test(message) ) {\n            console.error(`known tx: ${message}`)\n          } else if ( /out of gas/.test(message) ) {\n            console.error(`tx failed (wrong secret?): ${message}`)\n          } else if ( /always failing transaction/.test(message) ) {\n            console.error(`Insufficient Token for transaction: ${message}`)\n          } else if ( /Failed to check for transaction receipt/.test(message) ) {\n            console.error(error)\n          } else if ( /replacement transaction underpriced/.test(message) ) {\n            console.error(error)\n          } else {\n            console.error(error)\n          }\n\n          flow.setState({\n            isFailedTransaction: true,\n            isFailedTransactionError: error.message,\n          })\n\n          return null\n        }\n      }\n\n      return true\n    }\n\n    const isEthContractFunded = await util.helpers.repeatAsyncUntilResult(() =>\n      tryCreateSwap(),\n    )\n\n    const { isStoppedSwap } = flow.state\n\n    if (isEthContractFunded && !isStoppedSwap) {\n      debug('swap.core:flow')(`finish step`)\n      flow.finishStep({\n        isEthContractFunded,\n      }, {step: 'lock-eth'})\n    }\n  }\n\n\n  async getSecretFromContract({\n    flow,\n  }: {\n    flow: any,\n  }) {\n    const abClass = this\n\n    flow.swap.room.once('ethWithdrawTxHash', async ({ethSwapWithdrawTransactionHash}) => {\n      flow.setState({\n        ethSwapWithdrawTransactionHash,\n      }, true)\n\n      const secretFromTxhash = await util.helpers.extractSecretFromTx({\n        flow,\n        swapFlow: flow.ethTokenSwap,\n        app: flow.app,\n        ethSwapWithdrawTransactionHash,\n      })\n\n      const { isEthWithdrawn } = flow.state\n\n      if (!isEthWithdrawn && secretFromTxhash) {\n        debug('swap.core:flow')('got secret from tx', ethSwapWithdrawTransactionHash, secretFromTxhash)\n        flow.finishStep({\n          isEthWithdrawn: true,\n          secret: secretFromTxhash,\n        }, {step: 'wait-withdraw-eth'})\n      }\n    })\n\n    flow.swap.room.sendMessage({\n      event: 'request ethWithdrawTxHash',\n    })\n\n    const { participant } = flow.swap\n\n    const checkSecretExist = async () => {\n      return await util.helpers.extractSecretFromContract({\n        flow,\n        swapFlow: abClass,\n        participantAddress: flow.getParticipantAddress(flow.swap),\n        ownerAddress: flow.getMyAddress(),\n        app: flow.app,\n      })\n    }\n\n    const secretFromContract = await util.helpers.repeatAsyncUntilResult((stopRepeat) => {\n      const { isEthWithdrawn, isRefunded } = flow.state\n\n      if (isEthWithdrawn || isRefunded) {\n        stopRepeat()\n\n        return false\n      }\n\n      return checkSecretExist()\n    })\n\n    const { isEthWithdrawn } = flow.state\n\n    if (secretFromContract && !isEthWithdrawn) {\n      debug('swap.core:flow')('got secret from smart contract', secretFromContract)\n\n      flow.finishStep({\n        isEthWithdrawn: true,\n        secret: secretFromContract,\n      }, { step: 'wait-withdraw-eth' })\n    }\n  }\n\n\n  async waitAB2UTXOContract({\n    flow,\n    utxoCoin,\n  }: {\n    flow: any,\n    utxoCoin: string,\n  }) {\n    const abClass = this\n\n    flow.swap.room.sendMessage({\n      event: 'request eth contract',\n    })\n\n    flow.swap.room.once(`request ${utxoCoin} script`, () => {\n      const {\n        utxoScriptValues: scriptValues,\n        utxoScriptCreatingTransactionHash: txHash,\n      } = flow.state\n\n      flow.swap.room.sendMessage({\n        event:  `create ${utxoCoin} script`,\n        data: {\n          scriptValues,\n          utxoScriptCreatingTransactionHash: txHash,\n        }\n      })\n    })\n\n    const { participant } = flow.swap\n\n    flow.swap.room.on('create eth contract', ({ ethSwapCreationTransactionHash }) => {\n      flow.setState({\n        ethSwapCreationTransactionHash,\n      }, true)\n    })\n\n    const isContractBalanceOk = await this.isContractFunded(flow)\n\n    if (isContractBalanceOk) {\n      const { isEthContractFunded } = flow.state\n\n      if (!isEthContractFunded) {\n        flow.finishStep({\n          isEthContractFunded: true,\n        }, { step: 'wait-lock-eth' })\n      }\n    }\n  }\n\n  async withdrawFromABContract({\n    flow,\n  }: {\n    flow: any,\n  }) {\n    const abClass = this\n    const { buyAmount, participant } = flow.swap\n    const { secretHash, secret } = flow.state\n\n    const data = {\n      ownerAddress: flow.getParticipantAddress(flow.swap),\n      secret,\n    }\n\n    const balanceCheckError = await abClass.checkBalance({\n      ownerAddress: flow.getParticipantAddress(flow.swap),\n      participantAddress: flow.getMyAddress(),\n      expectedValue: buyAmount,\n      expectedHash: secretHash,\n    })\n\n    if (balanceCheckError) {\n      console.error('Waiting until deposit: ETH balance check error:', balanceCheckError)\n      flow.swap.events.dispatch('eth balance check error', balanceCheckError)\n\n      return\n    }\n\n    if (abClass.hasTargetWallet()) {\n      const targetWallet = await abClass.getTargetWallet(\n        flow.getParticipantAddress(flow.swap)\n      )\n      const needTargetWallet = (flow.swap.destinationBuyAddress)\n        ? flow.swap.destinationBuyAddress\n        : flow.getMyAddress()\n\n      if (targetWallet.toLowerCase() != needTargetWallet.toLowerCase()) {\n        console.error(\n          \"Destination address for tokens dismatch with needed (Needed, Getted). Stop swap now!\",\n          needTargetWallet,\n          targetWallet,\n        )\n\n        flow.swap.events.dispatch('address for tokens invalid', {\n          needed: needTargetWallet,\n          getted: targetWallet,\n        })\n\n        return\n      }\n    }\n\n    const tokenAddressIsValid = await abClass.checkTokenIsValid({\n      ownerAddress: flow.getParticipantAddress(flow.swap),\n      participantAddress: flow.getMyAddress(),\n    })\n\n    if (!tokenAddressIsValid) {\n      console.error(\"Tokens, blocked at contract dismatch with needed. Stop swap now!\")\n      return\n    }\n\n    const onWithdrawReady = () => {\n      flow.swap.room.once('request ethWithdrawTxHash', () => {\n        const { ethSwapWithdrawTransactionHash } = flow.state\n\n        flow.swap.room.sendMessage({\n          event: 'ethWithdrawTxHash',\n          data: {\n            ethSwapWithdrawTransactionHash,\n          },\n        })\n      })\n\n      const { step } = flow.state\n\n      if (step >= 7) {\n        return\n      }\n\n      flow.finishStep({\n        isEthWithdrawn: true,\n      }, 'withdraw-eth')\n    }\n\n    const tryWithdraw = async (stopRepeater) => {\n      const { isEthWithdrawn } = flow.state\n\n      if (!isEthWithdrawn) {\n        try {\n          const { withdrawFee } = flow.state\n\n          if (!withdrawFee) {\n            const withdrawNeededGas = await abClass.calcWithdrawGas({\n              ownerAddress: data.ownerAddress,\n              secret,\n            })\n            flow.setState({\n              withdrawFee: withdrawNeededGas,\n            })\n            debug('swap.core:flow')('withdraw gas fee', withdrawNeededGas)\n          }\n\n          await abClass.withdraw(data, (hash) => {\n            flow.setState({\n              isEthWithdrawn: true,\n              ethSwapWithdrawTransactionHash: hash,\n              canCreateEthTransaction: true,\n              requireWithdrawFee: false,\n            }, true)\n\n            flow.swap.room.sendMessage({\n              event: 'ethWithdrawTxHash',\n              data: {\n                ethSwapWithdrawTransactionHash: hash,\n              }\n            })\n          })\n\n          stopRepeater()\n          return true\n        } catch (err) {\n          if ( /known transaction/.test(err.message) ) {\n            console.error(`known tx: ${err.message}`)\n            stopRepeater()\n            return true\n          } else if ( /out of gas/.test(err.message) ) {\n            console.error(`tx failed (wrong secret?): ${err.message}`)\n          } else if ( /insufficient funds for gas/.test(err.message) ) {\n            console.error(`insufficient fund for gas: ${err.message}`)\n\n            debug('swap.core:flow')('insufficient fund for gas... wait fund or request other side to withdraw')\n\n            const { requireWithdrawFee } = flow.state\n\n            if (!requireWithdrawFee) {\n              flow.swap.room.once('withdraw ready', ({ethSwapWithdrawTransactionHash}) => {\n                flow.setState({\n                  ethSwapWithdrawTransactionHash,\n                })\n\n                onWithdrawReady()\n              })\n\n              flow.setState({\n                requireWithdrawFee: true,\n              })\n            }\n\n          } else {\n            console.error(err)\n          }\n\n          flow.setState({\n            canCreateEthTransaction: false,\n          })\n\n          return null\n        }\n      }\n\n      return true\n    }\n\n    const isEthWithdrawn = await util.helpers.repeatAsyncUntilResult((stopRepeater) =>\n      tryWithdraw(stopRepeater),\n    )\n\n    if (isEthWithdrawn) {\n      onWithdrawReady()\n    }\n  }\n\n  async isSwapCreated(data) {\n    const {\n      ownerAddress,\n      participantAddress,\n      secretHash,\n    } = data\n\n    const swap = await util.helpers.repeatAsyncUntilResult(() => {\n      return this.contract.methods.swaps(ownerAddress, participantAddress).call()\n    })\n\n    return (swap && swap.secretHash && swap.secretHash === `0x${secretHash}`)\n  }\n\n  async isContractFunded(flow) {\n    const abClass = this\n    const { buyAmount } = flow.swap\n\n    const isContractBalanceOk = await util.helpers.repeatAsyncUntilResult(async () => {\n      const balance = await abClass.getBalance({\n        ownerAddress: flow.getParticipantAddress(flow.swap),\n      })\n\n      const exp = new BigNumber(10).pow(abClass.decimals)\n      const needContractBalance = new BigNumber(buyAmount).times(exp)\n\n      debug('swap.core:flow')('Checking contract balance:', balance)\n\n      if (new BigNumber(balance).isGreaterThanOrEqualTo(needContractBalance)) {\n        return true\n      } else {\n        if (balance > 0) {\n          console.warn(`Balance on contract is less than needed. Swap stucked. Contract balance: ${balance} Needed: ${needContractBalance.toString()}`)\n        }\n      }\n\n      return false\n    })\n\n    if (isContractBalanceOk) {\n      return true\n    }\n    return false\n  }\n\n  async checkTargetAddress({\n    flow,\n  }: {\n    flow: any\n  }) {\n    if (this.hasTargetWallet()) {\n      const targetWallet = await this.getTargetWallet(\n        this.getParticipantAddress(flow.swap)\n      )\n      const needTargetWallet = (flow.swap.destinationBuyAddress)\n        ? flow.swap.destinationBuyAddress\n        : this.getMyAddress()\n\n      if (targetWallet.toLowerCase() === needTargetWallet.toLowerCase()) {\n        return true\n      }\n    }\n    return false\n  }\n\n\n}\n\n\nexport default EthLikeTokenSwap\n","import { constants } from 'swap.app'\nimport EthLikeTokenSwap from './EthLikeTokenSwap'\n\n\nclass EthTokenSwap extends EthLikeTokenSwap {\n  constructor(options) {\n    options = {\n      ...options,\n      getWeb3Adapter: `getEthWeb3Adapter`,\n      getWeb3Utils: `getEthWeb3Utils`,\n      getMyAddress: `getMyEthAddress`,\n      getParticipantAddress: `getParticipantEthAddress`,\n      blockchainName: constants.COINS.eth,\n      standard: constants.TOKEN_STANDARD.ERC20.toLowerCase(),\n    }\n    super(options)\n  }\n}\n\n\nexport default EthTokenSwap\n","import { constants } from 'swap.app'\nimport EthLikeTokenSwap from './EthLikeTokenSwap'\n\n\nclass BscTokenSwap extends EthLikeTokenSwap {\n  constructor(options) {\n    options = {\n      ...options,\n      getWeb3Adapter: `getBnbWeb3Adapter`,\n      getWeb3Utils: `getBnbWeb3Utils`,\n      getMyAddress: `getMyBnbAddress`,\n      getParticipantAddress: `getParticipantBnbAddress`,\n      blockchainName: constants.COINS.bnb,\n      standard: constants.TOKEN_STANDARD.BEP20.toLowerCase(),\n    }\n    super(options)\n  }\n}\n\n\nexport default BscTokenSwap\n","import { constants } from 'swap.app'\nimport EthLikeTokenSwap from './EthLikeTokenSwap'\n\n\nclass MaticTokenSwap extends EthLikeTokenSwap {\n  constructor(options) {\n    options = {\n      ...options,\n      getWeb3Adapter: `getMaticWeb3Adapter`,\n      getWeb3Utils: `getMaticWeb3Utils`,\n      getMyAddress: `getMyMaticAddress`,\n      getParticipantAddress: `getParticipantMaticAddress`,\n      blockchainName: constants.COINS.matic,\n      standard: constants.TOKEN_STANDARD.ERC20MATIC.toLowerCase(),\n    }\n    super(options)\n  }\n}\n\n\nexport default MaticTokenSwap\n","import 'abortcontroller-polyfill/dist/abortcontroller-polyfill-only'\nimport * as bitcoin from 'bitcoinjs-lib'\nimport * as ghost from 'bitcoinjs-lib'\nimport * as next from 'bitcoinjs-lib'\n\nimport abi from 'human-standard-token-abi'\nimport ethLikeHelper from 'common/helpers/ethLikeHelper'\nimport EVM_CONTRACTS_ABI from 'common/helpers/constants/EVM_CONTRACTS_ABI'\nimport erc20Like from 'common/erc20Like'\n\nimport config, { initExternalConfig } from 'helpers/externalConfig'\n\nimport helpers, { constants as privateKeys, utils } from 'helpers'\nimport actions from 'redux/actions'\n\nimport SwapApp, { constants } from 'swap.app'\nimport SwapAuth from 'swap.auth'\nimport SwapRoom from 'swap.room'\nimport SwapOrders from 'swap.orders'\nimport {\n  TurboMaker,\n  TurboTaker,\n\n  ETH2BTC,\n  BTC2ETH,\n  ETHTOKEN2BTC,\n  BTC2ETHTOKEN,\n\n  GHOST2ETH,\n  ETH2GHOST,\n  ETHTOKEN2GHOST,\n  GHOST2ETHTOKEN,\n  //GHOST2BTC,\n  //BTC2GHOST,\n\n  NEXT2ETH,\n  ETH2NEXT,\n  ETHTOKEN2NEXT,\n  NEXT2ETHTOKEN,\n  //NEXT2BTC,\n  //BTC2NEXT,\n\n\n  BNB2BTC,\n  BTC2BNB,\n  BSCTOKEN2BTC,\n  BTC2BSCTOKEN,\n\n  MATIC2BTC,\n  BTC2MATIC,\n  MATICTOKEN2BTC,\n  BTC2MATICTOKEN,\n\n  ARBITRUM2BTC,\n  BTC2ARBITRUM,  \n} from 'swap.flows'\nimport {\n  BtcSwap,\n  EthSwap,\n  BnbSwap,\n  MaticSwap,\n  ArbitrumSwap,\n  GhostSwap,\n  NextSwap,\n\n  EthTokenSwap,\n  BscTokenSwap,\n  MaticTokenSwap,\n\n} from 'swap.swaps'\n\nimport metamask from 'helpers/metamask'\n\nimport { default as bitcoinUtils } from '../../../common/utils/coin/btc'\nimport { default as nextUtils } from '../../../common/utils/coin/next'\n\n\ninitExternalConfig()\n\nconst repo = utils.createRepo()\nutils.exitListener()\n\nlet _inited = false\n\nconst onInit = (cb) => {\n  const _wait = () => {\n    if (_inited) {\n      cb()\n    } else {\n      setTimeout(_wait, 100)\n    }\n  }\n  _wait()\n}\n\nconst createSwapApp = async () => {\n  await metamask.web3connect.onInit(async () => {\n    const web3 = actions.eth.getWeb3()\n    const NETWORK = process.env.MAINNET ? `MAINNET` : `TESTNET`\n\n    SwapApp.setup({\n      network: process.env.MAINNET ? 'mainnet' : 'testnet',\n\n      env: {\n        web3,\n        getWeb3: actions.eth.getWeb3,\n        web3bnb: actions.bnb.getWeb3(),\n        getWeb3Bnb: actions.bnb.getWeb3,\n        web3Matic: actions.matic.getWeb3(),\n        getWeb3Matic: actions.matic.getWeb3,\n        web3Arbitrum: actions.arbeth.getWeb3(),\n        getWeb3Arbitrum: actions.arbeth.getWeb3,\n        bitcoin,\n        ghost,\n        next,\n        coininfo: {\n          ghost: {\n            main: helpers.ghost.networks.mainnet,\n            test: helpers.ghost.networks.testnet,\n          },\n          next: {\n            main: helpers.next.networks.mainnet,\n            test: helpers.next.networks.mainnet,\n          },\n        },\n        storage: window.localStorage,\n        sessionStorage: window.sessionStorage,\n        metamask,\n        isBinance: !!config.binance,\n        isTest: !!config.isTest,\n      },\n\n      // White list (Список адресов btc довереных продавцов)\n      // whitelistBtc: [],\n\n      services: [\n        new SwapAuth({\n          // TODO need init swapApp only after private keys created!!!!!!!!!!!!!!!!!!!\n          eth: localStorage.getItem(privateKeys.privateKeyNames.eth),\n          // for evm compatible blockchains use eth private key\n          bnb: localStorage.getItem(privateKeys.privateKeyNames.eth),\n          matic: localStorage.getItem(privateKeys.privateKeyNames.eth),\n          arbeth: localStorage.getItem(privateKeys.privateKeyNames.eth),\n          btc: localStorage.getItem(privateKeys.privateKeyNames.btc),\n          ghost: localStorage.getItem(privateKeys.privateKeyNames.ghost),\n          next: localStorage.getItem(privateKeys.privateKeyNames.next),\n        }),\n        new SwapRoom({\n          repo,\n          config: {\n            Addresses: {\n              Swarm: [\n                config.pubsubRoom.swarm,\n              ],\n            },\n          },\n        }),\n        new SwapOrders(),\n      ],\n      swaps: [\n        new EthSwap({\n          address: config.swapContract.eth,\n          abi: EVM_CONTRACTS_ABI.NATIVE_COIN_SWAP,\n          fetchBalance: (address) => actions.eth.fetchBalance(address),\n          estimateGasPrice: () => ethLikeHelper.eth.estimateGasPrice(),\n          sendTransaction: ({ to, amount }) => actions.eth.send({ to, amount }),\n        }),\n        new BnbSwap({\n          address: config.swapContract.bnb,\n          abi: EVM_CONTRACTS_ABI.NATIVE_COIN_SWAP,\n          fetchBalance: (address) => actions.bnb.fetchBalance(address),\n          estimateGasPrice: () => ethLikeHelper.bnb.estimateGasPrice(),\n          sendTransaction: ({ to, amount }) => actions.bnb.send({ to, amount }),\n        }),\n        ...((config?.opts?.blockchainSwapEnabled?.matic) ? [\n          new MaticSwap({\n            address: config.swapContract.matic,\n            abi: EVM_CONTRACTS_ABI.NATIVE_COIN_SWAP,\n            fetchBalance: (address) => actions.matic.fetchBalance(address),\n            estimateGasPrice: () => ethLikeHelper.matic.estimateGasPrice(),\n            sendTransaction: ({ to, amount }) => actions.matic.send({ to, amount }),\n          })\n        ] : []),\n        ...((config?.opts?.blockchainSwapEnabled?.arbeth) ? [\n          new ArbitrumSwap({\n            address: config.swapContract.arbitrum,\n            abi: EVM_CONTRACTS_ABI.NATIVE_COIN_SWAP,\n            fetchBalance: (address) => actions.arbeth.fetchBalance(address),\n            estimateGasPrice: () => ethLikeHelper.arbeth.estimateGasPrice(),\n            sendTransaction: ({ to, amount }) => actions.arbeth.send({ to, amount }),\n          })\n        ] : []),\n        new BtcSwap({\n          fetchBalance: (address) => bitcoinUtils.fetchBalance({\n            address,\n            NETWORK,\n          }),\n          fetchUnspents: (address) => bitcoinUtils.fetchUnspents({\n            address,\n            NETWORK,\n          }),\n          broadcastTx: (txRaw) => bitcoinUtils.broadcastTx({\n            txRaw,\n            NETWORK,\n          }),\n          fetchTxInfo: (hash) => bitcoinUtils.fetchTxInfo({\n            hash,\n            NETWORK,\n          }),\n          checkWithdraw: (scriptAddress) => bitcoinUtils.checkWithdraw({\n            scriptAddress,\n            NETWORK,\n          }),\n          estimateFeeValue: (options) => bitcoinUtils.estimateFeeValue({\n            ...options,\n            NETWORK,\n          }),\n          fetchTxInputScript: (options) => bitcoinUtils.fetchTxInputScript({\n            ...options,\n            NETWORK,\n          }),\n          sendTransaction: ({ to, amount }) => actions.btc.sendTransaction({ to, amount }),\n        }),\n        new GhostSwap({\n          fetchBalance: (address) => actions.ghost.fetchBalance(address),\n          fetchUnspents: (scriptAddress) => actions.ghost.fetchUnspents(scriptAddress),\n          broadcastTx: (txRaw) => actions.ghost.broadcastTx(txRaw),\n          fetchTxInfo: (txid) => actions.ghost.fetchTxInfo(txid),\n          checkWithdraw: (scriptAddress) => actions.ghost.checkWithdraw(scriptAddress),\n          estimateFeeValue: ({ inSatoshis, speed, address, txSize }) => helpers.ghost.estimateFeeValue({ inSatoshis, speed, address, txSize }),\n        }),\n        new NextSwap({\n          fetchBalance: (address) => nextUtils.fetchBalance({\n            address,\n            NETWORK,\n          }),\n          fetchUnspents: (address) => nextUtils.fetchUnspents({\n            address,\n            NETWORK,\n          }),\n          broadcastTx: (txRaw) => nextUtils.broadcastTx({\n            txRaw,\n            NETWORK,\n          }),\n          fetchTxInfo: (hash) => nextUtils.fetchTxInfo({\n            hash,\n            NETWORK,\n          }),\n          checkWithdraw: (scriptAddress) => nextUtils.checkWithdraw({\n            scriptAddress,\n            NETWORK,\n          }),\n          estimateFeeValue: (options) => nextUtils.estimateFeeValue({\n            ...options,\n            NETWORK,\n          }),\n          fetchTxInputScript: (options) => nextUtils.fetchTxInputScript({\n            ...options,\n            NETWORK,\n          }),\n        }),\n        // Ether\n        ...(Object.keys(config.erc20)\n          .map(key =>\n            new EthTokenSwap({\n              name: key,\n              tokenAbi: abi,\n              address: config.swapContract.erc20,\n              //@ts-ignore\n              decimals: config.erc20[key].decimals,\n              tokenAddress: config.erc20[key].address,\n              fetchBalance: (address) => actions.erc20.fetchBalance(address, config.erc20[key].address, config.erc20[key].decimals),\n              //@ts-ignore\n              estimateGasPrice: ({ speed } = {}) => erc20Like.erc20.estimateGasPrice({ speed }),\n              abi: EVM_CONTRACTS_ABI.TOKEN_SWAP,\n            })\n          )),\n        // Binance\n        ...(Object.keys(config.bep20)\n          .map(key =>\n            new BscTokenSwap({\n              name: key,\n              tokenAbi: abi,\n              address: config.swapContract.bep20,\n              //@ts-ignore\n              decimals: config.bep20[key].decimals,\n              tokenAddress: config.bep20[key].address,\n              fetchBalance: (address) => actions.bep20.fetchBalance(address, config.bep20[key].address, config.bep20[key].decimals),\n              //@ts-ignore\n              estimateGasPrice: ({ speed } = {}) => erc20Like.bep20.estimateGasPrice({ speed }),\n              abi: EVM_CONTRACTS_ABI.TOKEN_SWAP,\n            })\n          )),\n        // Matic\n        ...(Object.keys(config.erc20matic)\n        .map(key =>\n          new MaticTokenSwap({\n            name: key,\n            tokenAbi: abi,\n            address: config.swapContract.erc20matic,\n            //@ts-ignore\n            decimals: config.erc20matic[key].decimals,\n            tokenAddress: config.erc20matic[key].address,\n            fetchBalance: (address) => actions.erc20matic.fetchBalance(address, config.erc20matic[key].address, config.erc20matic[key].decimals),\n            //@ts-ignore\n            estimateGasPrice: ({ speed } = {}) => erc20Like.erc20matic.estimateGasPrice({ speed }),\n            abi: EVM_CONTRACTS_ABI.TOKEN_SWAP,\n          })\n        )),\n      ],\n      flows: [\n        TurboMaker,\n        TurboTaker,\n\n        ETH2BTC,\n        BTC2ETH,\n\n        BNB2BTC,\n        BTC2BNB,\n\n        ...((config?.opts?.blockchainSwapEnabled?.matic) ? [\n          MATIC2BTC,\n          BTC2MATIC,\n        ] : []),\n\n        ARBITRUM2BTC,\n        BTC2ARBITRUM,\n\n        // GHOST2BTC,\n        // BTC2GHOST,\n\n        GHOST2ETH,\n        ETH2GHOST,\n\n        //NEXT2BTC,\n        //BTC2NEXT,\n\n        NEXT2ETH,\n        ETH2NEXT,\n\n        ...(Object.keys(config.bep20))\n          .map(key => BSCTOKEN2BTC(key)),\n        ...(Object.keys(config.bep20))\n          .map(key => BTC2BSCTOKEN(key)),\n\n          ...(Object.keys(config.erc20matic))\n          .map(key => MATICTOKEN2BTC(key)),\n        ...(Object.keys(config.erc20matic))\n          .map(key => BTC2MATICTOKEN(key)),\n\n        ...(Object.keys(config.erc20))\n          .map(key => ETHTOKEN2BTC(key)),\n\n        ...(Object.keys(config.erc20))\n          .map(key => BTC2ETHTOKEN(key)),\n\n        ...(Object.keys(config.erc20))\n          .map(key => ETHTOKEN2GHOST(key)),\n\n        ...(Object.keys(config.erc20))\n          .map(key => GHOST2ETHTOKEN(key)),\n\n        ...(Object.keys(config.erc20))\n          .map(key => ETHTOKEN2NEXT(key)),\n\n        ...(Object.keys(config.erc20))\n          .map(key => NEXT2ETHTOKEN(key)),\n\n      ],\n    }, true)\n\n\n    window.SwapApp = SwapApp.shared()\n    _inited = true\n  })\n}\n\nexport {\n  createSwapApp,\n  onInit,\n}","import React from 'react'\n\n\nconst BtcScript = ({ recipientPublicKey, secretHash, lockTime, ownerPublicKey }) => (\n  <div>\n    {`\nbitcoinjs.script.compile([\n\n  this.app.env.bitcoin.opcodes.OP_SIZE,\n  Buffer.from('20' ,'hex'),\n  this.app.env.bitcoin.opcodes.OP_EQUALVERIFY,\n\n  bitcoin.core.opcodes.OP_RIPEMD160,\n  Buffer.from('${secretHash}', 'hex'),\n  bitcoin.core.opcodes.OP_EQUALVERIFY,\n\n  Buffer.from('${recipientPublicKey}', 'hex'),\n  bitcoin.core.opcodes.OP_EQUAL,\n  bitcoin.core.opcodes.OP_IF,\n\n  Buffer.from('${recipientPublicKey}', 'hex'),\n\n  bitcoin.core.opcodes.OP_ELSE,\n\n  bitcoin.core.script.number.encode(${lockTime}),\n  bitcoin.core.opcodes.OP_CHECKLOCKTIMEVERIFY,\n  bitcoin.core.opcodes.OP_DROP,\n  Buffer.from('${ownerPublicKey}', 'hex'),\n\n  bitcoin.core.opcodes.OP_ENDIF,\n\n  bitcoin.core.opcodes.OP_CHECKSIG,\n])\n    `}\n  </div>\n)\n\nexport default BtcScript\n","import React, { Component } from 'react'\n\nimport CSSModules from 'react-css-modules'\nimport styles from '../Swap.scss'\n\nimport { FormattedMessage } from 'react-intl'\n\nimport BtcScript from './BtcScript'\n\n\n@CSSModules(styles)\nexport default class ShowBtcScript extends Component<any, any> {\n  render() {\n    const { utxoScriptValues } = this.props\n    if (!utxoScriptValues) return null\n    return (\n      <BtcScript\n        secretHash={utxoScriptValues.secretHash}\n        recipientPublicKey={utxoScriptValues.recipientPublicKey}\n        lockTime={utxoScriptValues.lockTime}\n        ownerPublicKey={utxoScriptValues.ownerPublicKey}\n      />\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport CSSModules from 'react-css-modules'\nimport styles from './Debug.scss'\nimport { FormattedMessage } from 'react-intl'\nimport ShowBtcScript from './ShowBtcScript'\n\ntype ComponentProps = {\n  flow: IUniversalObj\n}\n\n@CSSModules(styles, { allowMultiple: true })\nexport default class Debug extends Component<ComponentProps, any> {\n  render() {\n    const {\n      flow: {\n        state: flowState,\n        state: {\n          utxoScriptValues: scriptValues,\n        },\n      },\n    } = this.props\n\n    return (\n      <div styleName=\"debug\">\n        <button styleName='button' onClick={() => document.location.href = '#/localStorage'}>\n          <FormattedMessage id=\"DebugStoredDataLink\" defaultMessage=\"Show stored data\" />\n        </button>\n        <h5 styleName='title'>\n          <FormattedMessage id=\"DebugSwapDataTitle\" defaultMessage=\"Swap data:\" />\n        </h5>\n        <pre styleName=\"information\">\n          <code>\n            <ShowBtcScript btcScriptValues={scriptValues} />\n          </code>\n        </pre>\n        <pre styleName=\"information\">\n          <code>{JSON.stringify(flowState, null, 4)}</code>\n        </pre>\n      </div>\n    )\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"debug\":\"_3_HbKxIqx1kxezbuuiPiq0\",\"title\":\"_1a3Fvi7NzoFK9Zo4C0ULkw\",\"button\":\"_36sZY6xiRE0aeq5CBPNkU3\",\"information\":\"_17xV33aPgKCFeUQg88Dy9a\"};","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport actions from 'redux/actions'\nimport SwapApp from 'swap.app'\n\n\nclass DeleteSwapAfterEnd extends Component<any, any> {\n\n  static propTypes = {\n    swap: PropTypes.shape({\n      flow: PropTypes.shape({\n        state: PropTypes.shape({\n          step: PropTypes.number.isRequired,\n          isFinished: PropTypes.bool.isRequired,\n        }).isRequired,\n      }),\n      id: PropTypes.string.isRequired,\n    }).isRequired,\n  }\n\n  constructor(props) {\n    super(props)\n\n    const { swap } = props\n\n    swap.on('state update', this.autoDeleteOrder)\n  }\n\n  componentWillUnmount() {\n    const { swap } = this.props\n    swap.off('state update', this.autoDeleteOrder)\n\n    this.autoDeleteOrder()\n  }\n\n  autoDeleteOrder = () => {\n    const { swap } = this.props\n\n    if (swap.flow.state.isFinished) {\n      //@ts-ignore: strictNullChecks\n      const deletedOrder = SwapApp.shared().services.orders.getByKey(swap.id)\n      if (deletedOrder !== undefined) {\n        actions.core.deletedPartialCurrency(swap.id)\n      }\n      actions.core.removeOrder(swap.id)\n      actions.core.showMyOrders()\n    }\n  }\n\n  render() {\n    return null\n  }\n}\n\nexport default DeleteSwapAfterEnd\n","\nimport React, { PureComponent, Fragment } from 'react'\n\nimport Swap from 'swap.swap'\nimport SwapApp from 'swap.app'\n\nimport cssModules from 'react-css-modules'\nimport styles from './Swap.scss'\n\nimport { connect } from 'redaction'\nimport helpers, { links, constants, apiLooper } from 'helpers'\nimport { isMobile } from 'react-device-detect'\nimport actions from 'redux/actions'\n\nimport { swapComponents } from './swaps'\nimport { createSwapApp } from \"instances/newSwap\";\nimport Debug from './Debug/Debug'\nimport { injectIntl, FormattedMessage } from 'react-intl'\nimport { localisedUrl } from 'helpers/locale'\nimport DeleteSwapAfterEnd from './DeleteSwapAfterEnd'\n\nimport feedback from 'shared/helpers/feedback'\n\n@connect(({\n  user: {\n    ethData,\n    bnbData,\n    maticData,\n    arbethData,\n    btcData,\n    ghostData,\n    nextData,\n    tokensData,\n    activeFiat,\n  },\n  pubsubRoom: { peer },\n  rememberedOrders,\n}) => {\n  const coinsData = [\n    ethData,\n    bnbData,\n    maticData,\n    arbethData,\n    btcData,\n    ghostData,\n    nextData,\n  ]\n\n  return {\n    activeFiat,\n    items: [...coinsData],\n    currenciesData: [...coinsData],\n    tokensData: [...Object.keys(tokensData).map(k => (tokensData[k]))],\n    savedOrders: rememberedOrders.savedOrders,\n    peer,\n  }\n})\n\n@cssModules(styles, { allowMultiple: true })\nclass SwapComponent extends PureComponent<any, any> {\n\n  wallets: any\n  checkingConfirmSuccessTimer: any\n  checkingCycleTimer: any\n  sendDebugInfoTimer: any\n\n\n\n  /*\n    ================================================================\n    This is debug information without any secret and private data.\n    This information can help me resolve problems.\n    Contact me https://t.me/sashanoxon with any questions\n  */\n  sendSwapDebugInformation = (orderId) => {\n    const {\n      swap: {\n        flow: {\n          state: {\n            step,\n            utxoScriptValues,\n          },\n          state: flowState,\n        },\n        flow,\n      },\n      swap,\n    } = this.state\n\n    if (step >= 3) {\n      //@ts-ignore: strictNullChecks\n      let swapsId = JSON.parse(localStorage.getItem('axiosSwaps'))\n\n      if (swapsId === null || swapsId.length === 0) {\n        swapsId = []\n      }\n      if (!swapsId.includes(orderId)) {\n        swapsId.push(orderId)\n\n        const {\n          id,\n          buyCurrency,\n          sellCurrency,\n          buyAmount,\n          sellAmount,\n          destinationBuyAddress,\n          destinationSellAddress,\n          owner,\n          participant,\n        } = swap\n\n        const sendedData = {\n          id,\n          buyCurrency,\n          sellCurrency,\n          buyAmount: buyAmount.toNumber(),\n          sellAmount: sellAmount.toNumber(),\n          destinationBuyAddress,\n          destinationSellAddress,\n          owner,\n          participant,\n          utxoScriptValues\n        }\n        const sendedJSON = JSON.stringify(sendedData)\n\n        localStorage.setItem('axiosSwaps', JSON.stringify(swapsId))\n        clearInterval(this.sendDebugInfoTimer)\n\n        feedback.swap.started(sendedJSON)\n      }\n    }\n  }\n  /* ================================================================ */\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isAddressCopied: false,\n      swap: null,\n      isMy: false,\n      currencyData: null,\n      isAmountMore: null,\n      ActiveSwap: null,\n      continueSwap: true,\n      enoughBalance: true,\n      depositWindow: false,\n      isShowDebug: false,\n      shouldStopCheckSendingOfRequesting: false,\n      waitWithdrawOther: false,\n      isFaucetRequested: false,\n      isSwapCancelled: false,\n      errorInfo: '',\n    }\n  }\n\n\n  async componentDidMount() {\n    console.group('Swap page >%c didMount', 'color: green')\n\n    const { items, currenciesData, tokensData } = this.props\n    let { match: { params: { orderId } }, history, activeFiat } = this.props\n\n    if (!!window.performance && window.performance.navigation.type === 2) {\n      window.location.reload()\n    }\n\n    if (!orderId) {\n      history.push(localisedUrl(links.exchange))\n      return\n    }\n\n    this.wallets = {}\n    currenciesData.forEach(item => {\n      this.wallets[item.currency] = item.address\n    })\n    tokensData.forEach(item => {\n      this.wallets[item.currency] = item.address\n    })\n\n    try {\n      console.log('creating swap')\n      console.log('orderId', orderId)\n      console.log('SwapApp', window.SwapApp)\n      if (window.SwapApp) {\n        this.createSwap({ orderId, items, tokensData, activeFiat })\n      } else {\n        await actions.user.sign()\n        await createSwapApp()\n        this.createSwap({ orderId, items, tokensData, activeFiat })\n      }\n\n    } catch (error) {\n      console.error(error)\n      actions.notifications.show(constants.notifications.ErrorNotification, {\n        error: 'Sorry, but this order does not exist already'\n      })\n      this.props.history.push(localisedUrl(links.exchange))\n    }\n\n    console.groupEnd()\n  }\n\n  createSwap(params) {\n    const { orderId, items, tokensData, activeFiat } = params\n    const swap = new Swap(orderId, SwapApp.shared())\n    actions.core.rememberSwap(swap)\n    window.active_swap = swap\n\n    console.log('swap: ', swap)\n    console.log('swap flow name:', swap.flow._flowName);\n\n    const ActiveSwap = swapComponents[swap.flow._flowName]\n    const ethData = items.filter(item => item.currency === 'ETH')\n    const sellCurrency = swap.sellCurrency.toUpperCase()\n    const currencyData = items.concat(tokensData)\n      .filter(item => item.isToken ? item.tokenKey.toUpperCase() === sellCurrency : item.currency === sellCurrency)[0]\n    const currencies = [\n      {\n        currency: swap.sellCurrency,\n        amount: swap.sellAmount,\n      },\n      {\n        currency: swap.buyCurrency,\n        amount: swap.buyAmount,\n      },\n    ]\n\n    currencies.forEach(item => {\n      actions.user.getExchangeRate(item.currency, activeFiat.toLowerCase())\n        .then(exRate => {\n          const amount = exRate * Number(item.amount)\n\n          if (Number(amount) >= 50) {\n            this.setState(() => ({ isAmountMore: 'enable' }))\n          } else {\n            this.setState(() => ({ isAmountMore: 'disable' }))\n          }\n        })\n    })\n\n    console.log('setting swap into state (swap): ', swap)\n\n    this.setState({\n      swap,\n      ethData,\n      ActiveSwap,\n      currencyData,\n      ethAddress: ethData[0].address,\n    }, this.afterComponentDidMount)\n\n    /* hide my orders */\n    // disable for now TODO\n    // actions.core.hideMyOrders()\n\n  }\n\n\n  afterComponentDidMount() {\n    const {\n      swap,\n      swap: {\n        flow: {\n          step,\n        },\n      },\n    } = this.state\n\n    const { match: { params: { orderId } }, savedOrders } = this.props\n\n    if (step >= 4 && !savedOrders.includes(orderId)) {\n      this.saveThisSwap(orderId)\n    }\n\n    if (swap !== null) {\n      if (this.checkIsFinished() || this.checkStoppedSwap()) {\n        return\n      }\n      this.sendDebugInfoTimer = setInterval(() => {\n        this.sendSwapDebugInformation(orderId)\n      }, 1000)\n\n      const checkingCycle = setInterval(() => {\n        const isFinallyFinished = this.checkIsFinished()\n        const isStoppedSwap = this.checkStoppedSwap()\n\n        if (isFinallyFinished) {\n          feedback.swap.finished()\n        }\n        if (isStoppedSwap) {\n          feedback.swap.stopped()\n        }\n\n        if (isFinallyFinished || isStoppedSwap) {\n          clearInterval(checkingCycle)\n          return\n        }\n\n        this.checkEnoughFee()\n        this.requestingWithdrawFee()\n        this.isBalanceEnough()\n        this.checkFailSwap()\n        this.checkOtherSideRefund()\n      }, 5000)\n\n      const checkingConfirmSuccess = setTimeout(() => {\n        if (!this.checkIsConfirmed()) {\n          window.location.reload()\n        }\n      }, 240_000) // seconds\n\n      this.checkingConfirmSuccessTimer = checkingConfirmSuccess\n      this.checkingCycleTimer = checkingCycle\n    }\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.checkingCycleTimer)\n    clearTimeout(this.checkingConfirmSuccessTimer)\n    clearInterval(this.sendDebugInfoTimer)\n  }\n\n  checkStoppedSwap = () => {\n    const {\n      swap: {\n        id,\n        flow: {\n          state: {\n            isStoppedSwap,\n            isFinished,\n            isRefunded,\n            isSwapTimeout,\n          },\n        },\n      },\n    } = this.state\n\n    if (!isStoppedSwap || isFinished || isRefunded || isSwapTimeout) {\n      return false\n    }\n\n    this.deleteThisSwap(id)\n\n    this.setState(() => ({\n      isSwapCancelled: true,\n    }))\n\n    return true\n  }\n\n  checkIsConfirmed = () => {\n    const { swap: { flow: { state: { step } } } } = this.state\n    return !(step === 1)\n  }\n\n  componentDidCatch(error, info) {\n    this.setState(() => ({\n      errorInfo: info,\n    }))\n\n    actions.notifications.show(\n      constants.notifications.ErrorNotification,\n      { error: error.message }\n    )\n  }\n\n  checkIsFinished = () => {\n    const {\n      swap: {\n        id,\n        flow: {\n          state: {\n            isFinished,\n            isSwapTimeout,\n            step,\n            isRefunded,\n          },\n        },\n      },\n    } = this.state\n\n    if (isFinished || isSwapTimeout || step > 7 || isRefunded) {\n      this.deleteThisSwap(id)\n      return true\n    }\n\n    return false\n  }\n\n  saveThisSwap = (orderId) => {\n    actions.core.rememberOrder(orderId)\n  }\n\n  deleteThisSwap = (orderId) => {\n    actions.core.saveDeletedOrder(orderId)\n    actions.core.forgetOrders(orderId)\n  }\n\n  isBalanceEnough = () => {\n    const { swap } = this.state\n    const { flow, sellCurrency } = swap\n    const { step, balance, isBalanceEnough } = flow.state\n\n    const isSellCurrencyEthOrEthToken = helpers.ethToken.isEthOrEthToken({ name: sellCurrency })\n    const stepForCheckBalance = isSellCurrencyEthOrEthToken\n      ? 4\n      : 3\n\n    if (!isBalanceEnough && step === stepForCheckBalance) {\n      this.setState(() => ({ enoughBalance: false }))\n    } else {\n      this.setState(() => ({ enoughBalance: true }))\n    }\n  }\n\n  requestingWithdrawFee = () => {\n    const {\n      swap: {\n        flow: {\n          state: {\n            requireWithdrawFee,\n            requireWithdrawFeeSended,\n            withdrawRequestIncoming,\n            withdrawRequestAccepted,\n          },\n        },\n      },\n    } = this.state\n\n    if (requireWithdrawFee && !requireWithdrawFeeSended) {\n      if (this.state.swap && this.state.swap.flow) {\n        this.state.swap.flow.sendWithdrawRequest()\n        this.setState({\n          waitWithdrawOther: true,\n        })\n        window.setTimeout(() => {\n          this.setState({\n            waitWithdrawOther: false,\n          })\n        }, 1000 * 60 * 2)\n      }\n    }\n\n    if (withdrawRequestIncoming && !withdrawRequestAccepted) {\n      if (this.state.swap && this.state.swap.flow) {\n        this.state.swap.flow.acceptWithdrawRequest()\n      }\n    }\n  }\n\n  sendRequestToFaucet = () => {\n    const {\n      swap: {\n        owner,\n        buyCurrency,\n        buyAmount,\n        sellCurrency,\n        sellAmount,\n      },\n      isFaucetRequested,\n      continueSwap,\n    } = this.state\n\n    if (isFaucetRequested) {\n      return\n    }\n\n    this.setState(() => ({\n      isFaucetRequested: true,\n    }))\n\n    apiLooper.post('faucet', '', {\n      body: {\n        eth: this.state.ethAddress,\n        buyCurrency,\n        buyAmount: buyAmount.toString(),\n        sellCurrency,\n        sellAmount: sellAmount.toString(),\n      },\n    }).then((rv: any) => {\n      console.info('faucet answered', rv.txid)\n      this.setState(() => ({\n        continueSwap: true,\n      }))\n    }).catch((error) => {\n      console.warn('faucet error:', error)\n      this.setState(() => ({\n        continueSwap: false,\n      }))\n    })\n  }\n\n  checkOtherSideRefund = async () => {\n    const {\n      swap: {\n        flow,\n      },\n    } = this.state\n\n    if (typeof flow.checkOtherSideRefund === 'function') {\n      const isOtherSideRefunded = await flow.checkOtherSideRefund()\n      if (isOtherSideRefunded) {\n        this.setState(() => ({\n          otherSideRefunded: true,\n        }))\n      }\n    }\n  }\n\n  checkFailSwap = () => {\n    const {\n      swap: {\n        flow: {\n          state: {\n            isFailedTransaction,\n          },\n        },\n      },\n      continueSwap,\n    } = this.state\n\n    if (!isFailedTransaction) {\n      return\n    }\n\n    this.setState(() => ({\n      continueSwap: false,\n    }))\n  }\n\n  checkEnoughFee = () => {\n    const {\n      swap: {\n        participantSwap,\n        flow: {\n          state: {\n            canCreateEthTransaction,\n          },\n        },\n      },\n      currencyData: {\n        currency,\n      },\n    } = this.state\n\n    if (canCreateEthTransaction === false &&\n      helpers.ethToken.isEthOrEthToken({ name: currency })\n    ) {\n      this.sendRequestToFaucet()\n    } else {\n      this.setState(() => ({\n        continueSwap: true,\n      }))\n    }\n  }\n\n  toggleDebug = () => {\n    this.setState((state) => ({\n      isShowDebug: !state.isShowDebug,\n    }))\n  }\n\n  goWallet = () => {\n    const { intl: { locale } } = this.props\n    this.props.history.push(localisedUrl(locale, '/'))\n  }\n\n  render() {\n    const { peer, tokensData, history, intl: { locale } } = this.props\n    const {\n      swap,\n      ActiveSwap,\n      currencyData,\n      isAmountMore,\n      ethData,\n      continueSwap,\n      enoughBalance,\n      depositWindow,\n      ethAddress,\n      isShowDebug,\n      requestToFaucetSended,\n      isAddressCopied,\n      waitWithdrawOther,\n      isSwapCancelled,\n      errorInfo,\n    } = this.state\n\n    if (!swap || !ActiveSwap || !peer || !isAmountMore) {\n      return null\n    }\n\n    return (\n      <Fragment>\n        {!isSwapCancelled ?\n          <div styleName={`${isMobile ? 'swap swapMobile' : 'swap'}`}>\n            <ActiveSwap\n              tokenItems={tokensData}\n              depositWindow={depositWindow}\n              disabledTimer={isAmountMore === 'enable'}\n              history={history}\n              swap={swap}\n              ethAddress={ethAddress}\n              currencyData={currencyData}\n              styles={styles}\n              enoughBalance={enoughBalance}\n              ethData={ethData}\n              continueSwap={continueSwap}\n              requestToFaucetSended={requestToFaucetSended}\n              waitWithdrawOther={waitWithdrawOther}\n              locale={locale}\n              wallets={this.wallets}\n            />\n            <div>\n              <p styleName=\"reloadText\" role=\"presentation\">\n                <FormattedMessage\n                  id=\"SwapStuck\"\n                  defaultMessage=\"The swap was stuck? Try to \"\n                />\n                <span styleName=\"pseudolink\" onClick={this.toggleDebug}>\n                  <FormattedMessage\n                    id=\"SwapDebug\"\n                    defaultMessage=\"debug\"\n                  />\n                </span>\n                <FormattedMessage\n                  id=\"SwapOr\"\n                  defaultMessage=\" or \"\n                />\n                <span styleName=\"pseudolink\" onClick={() => window.location.reload()}>\n                  <FormattedMessage\n                    id=\"SwapReload\"\n                    defaultMessage=\"reload the page\"\n                  />\n                </span>\n              </p>\n\n              {peer === swap.owner.peer &&\n                <DeleteSwapAfterEnd swap={swap} />\n              }\n            </div>\n          </div>\n          :\n          <div styleName=\"canceledSwapInfo\">\n            <h3 styleName=\"canceled\" onClick={this.goWallet}>\n              <FormattedMessage id=\"swappropgress327\" defaultMessage=\"This swap is canceled\" />\n            </h3>\n\n            {errorInfo && (\n              <div>\n                {errorInfo}\n              </div>\n            )}\n\n            <h3>\n              <FormattedMessage\n                id=\"swappropgress400\"\n                defaultMessage=\"Refund is taking automatically\"\n              />\n            </h3>\n            <div styleName=\"pseudolink\" onClick={this.toggleDebug}>\n              <FormattedMessage id=\"SwapDebug\" defaultMessage=\"debug\" />\n            </div>\n          </div>\n        }\n\n        {isShowDebug &&\n          <Debug flow={swap.flow} />\n        }\n      </Fragment>\n    )\n  }\n}\n\nexport default injectIntl(SwapComponent)\n","import BigNumber from 'bignumber.js'\n\n\nexport enum SwapMode {\n  Atomic = 'Atomic',\n  Turbo = 'Turbo',\n}\n\nexport enum SwapSide {\n  Maker = 'Maker',\n  Taker = 'Taker',\n}\n\nexport enum SwapTxStatus {\n  Expected = 'Expected',\n  Pending = 'Pending',\n  Done = 'Done'\n}\n\nexport enum SwapStatus {\n  Pending = 'Pending',\n  Finished = 'Finished',\n}\n\n/*\nexport interface ITurboSwapConditions {\n  TakerCoin: ...\n  TakerAddressFrom: ...\n  MakerAddressTo: ...\n  MakerCoin: ...\n  MakerAddressFrom: ...\n  TakerAddressTo: ...\n  mySide: SwapSide\n  coinA: {\n    ticker: ...\n    amount: BigNumber\n    takerAddress: ...\n    makerAddress: ...\n  },\n  coinB: {\n    ticker: ...\n    amount: BigNumber\n    makerAddress: ...\n    takerAddress: ...\n  }\n  \n}\n*/\n\n/*export enum TurboSwapStep {\n  TakerSendsToMaker = 'TakerSendsToMaker',\n  MakerSendsToTaker = 'MakerSendsToTaker',\n  Finished = 'Finished',\n}*/\n\n/*export interface ITurboSwapState {\n  takerTxHash: string\n  makerTxHash: string\n\n  coin1: {\n    isTakerSended: boolean\n    isMakerReceived: boolean\n  },\n  coin2: {\n    isMakerSended: boolean\n    isTakerReceived: boolean\n  }\n}*/\n\n/*export interface ITurboSwap {\n  id: any\n  mySide: SwapSide\n  conditions: ITurboSwapConditions\n  //state: ITurboSwapState\n  status: SwapStatus\n  takerTx: SwapTx\n  makerTx: SwapTx\n}*/\n\n/*export type SwapTx = {\n  status: SwapTxStatus.Expected\n  hash: null\n} | {\n  status: SwapTxStatus.Pending\n  hash: string\n} | {\n  status: SwapTxStatus.Done\n  hash: string\n}*/\n","import React, { Component, Fragment } from 'react'\nimport cssModules from 'react-css-modules'\nimport { AddressType, AddressFormat } from 'domain/address'\nimport styles from './Address.scss'\n\n\ninterface IAddress {\n  address: any,\n  format?: AddressFormat,\n  type?: AddressType,\n  style?: any,\n}\n\n@cssModules(styles, { allowMultiple: true })\nexport default class Address extends Component<IAddress, {}> {\n\n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n    let {\n      address,\n      format,\n      type,\n      //copyable, // todo\n      style,\n    } = this.props\n\n    const addressStart = address.substring(0, 4)\n    const addressEnd = address.substring(address.length - 4, address.length)\n\n    let colorizing = {\n      color: null,\n    }\n    if (type === AddressType.Metamask) {\n      //@ts-ignore: strictNullChecks\n      colorizing.color = '#e4761b'\n    }\n\n    return (\n      <code styleName={`address`} title={address} style={{...style, ...colorizing}} >\n        {format === AddressFormat.Short ?\n          <Fragment>{addressStart}&#183;&#183;&#183;{addressEnd}</Fragment>\n          :\n          address\n        }\n      </code>\n    )\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"address\":\"YOWpRxDJzJk19u_jsRyDs\"};","import React, { PureComponent, Fragment } from 'react'\n\nimport cssModules from 'react-css-modules'\nimport styles from './TxSide.scss'\n\n\nimport { injectIntl, FormattedMessage } from 'react-intl'\n\nimport Address from 'components/ui/Address/Address'\nimport { AddressFormat } from 'domain/address'\n\n\ninterface ITxSide {\n  //peerId: string,\n  title: React.ReactElement,\n  isTitleHighlighted?: boolean\n  address: string,\n}\n\n//@injectIntl\n@cssModules(styles, { allowMultiple: true })\nexport default class TxSide extends PureComponent<ITxSide, {}> {\n\n  constructor() {\n    //@ts-ignore\n    super()\n  }\n\n  render() {\n    const { /*peerId,*/ title, isTitleHighlighted, address } = this.props\n\n    return (\n      <div styleName=\"txSide\">\n        <div styleName={`title ${isTitleHighlighted ? 'highlighted' : ''}`}>\n          {title}{isTitleHighlighted}\n        </div>\n        <div styleName=\"avatar\">\n        </div>\n        <div styleName=\"address\">\n          <Address\n            address={address}\n            format={AddressFormat.Short}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"txSide\":\"_3tdMJVoT0ITJW9fYulJ-h9\",\"title\":\"ch-awwoDuWccWpT40bi_t\",\"highlighted\":\"_2qu6UmsXiMoWi7J1dNqEX3\",\"avatar\":\"QAUGS7qsbz3z4F1LSnQYu\",\"address\":\"_14xnQfTo5Hffxi36IriqIe\"};","// extracted by mini-css-extract-plugin\nexport default {\"tx\":\"jOjOZtqocBjPzaUTGQ-hY\",\"amount\":\"brjoCnh9F1N72wJpAm94Y\",\"Expected\":\"_3XU-Lw6_0K18sc9HhA4a7j\",\"tx-hash\":\"_26R6VHmSE-KwZRTkjY5nXt\",\"tx-link\":\"_2WSLQf-_SQJiydMpvNbhS9\",\"tx-status-icon\":\"_1Dm5cq9iS8XciGVQsllN12\",\"arrow\":\"_3cFzyWjr92n31VvDEWPaZV\",\"left\":\"_1J5sOQAFJsuyyQi_AMsQXm\",\"right\":\"_1ONWCJKe_yT1sErfC9SGaD\",\"Pending\":\"JseVsGrLfIytUMO4tuE_n\",\"pending\":\"_2UeyRbYzHONhAmmqkBaWkM\",\"Done\":\"_1oo2Lrw40c67GTS95xrWuQ\"};","export default __webpack_public_path__ + \"images/pending_d030c1.svg\";","export default __webpack_public_path__ + \"images/done_644c97.svg\";","import React, { PureComponent, Fragment } from 'react'\nimport BigNumber from 'bignumber.js'\n\nimport cssModules from 'react-css-modules'\nimport styles from './Tx.scss'\n\nimport { injectIntl, FormattedMessage } from 'react-intl'\n\nimport { SwapTxStatus } from 'common/domain/swap'\n\nimport Address from 'components/ui/Address/Address'\nimport { AddressFormat } from 'domain/address'\n\nimport imgPending from 'shared/images/tx-status/pending.svg'\nimport imgDone from 'shared/images/tx-status/done.svg'\n\ninterface ITx {\n  amount: BigNumber,\n  ticker: string,\n  id: string | null,\n  url: string,\n  direction: 'left' | 'right',\n  status: SwapTxStatus\n}\n\n//@injectIntl\n@cssModules(styles, { allowMultiple: true })\nexport default class Tx extends PureComponent<ITx, {}> {\n\n  constructor() {\n    //@ts-ignore\n    super()\n  }\n\n  render() {\n    const { amount, ticker, id, url, direction, status } = this.props\n\n    return (\n      <div styleName={`tx ${status}`}>\n        <div styleName=\"amount\">\n          {amount.toNumber()} {ticker}\n        </div>\n        <div styleName={`arrow ${direction}`}></div>\n        <div styleName=\"tx-hash\">\n          {id ?\n            <a styleName=\"tx-link\" href={url} target='_blank'>\n              <Address\n                address={id}\n                format={AddressFormat.Short}\n              />\n            </a>\n            :\n            <span>&nbsp;</span>\n          }\n        </div>\n        <div styleName=\"tx-status-icon\">\n          {status == SwapTxStatus.Pending &&\n            <img src={imgPending} />\n          }\n          {status == SwapTxStatus.Done &&\n            <img src={imgDone} />\n          }\n        </div>\n      </div>\n    )\n  }\n}\n","import React, { PureComponent, Fragment } from 'react'\n\nimport BigNumber from 'bignumber.js'\nimport Swap from 'swap.swap'\nimport SwapApp from 'swap.app'\n\nimport cssModules from 'react-css-modules'\nimport styles from './TurboSwap.scss'\n\nimport { connect } from 'redaction'\nimport helpers, { links, constants } from 'helpers'\nimport request from 'common/utils/request'\nimport actions from 'redux/actions'\nimport { Link } from 'react-router-dom'\n\n\nimport { injectIntl, FormattedMessage } from 'react-intl'\nimport { localisedUrl } from 'helpers/locale'\n\nimport feedback from 'shared/helpers/feedback'\n\nimport config from 'app-config'\n\nimport { SwapSide, SwapStatus, SwapTxStatus } from 'common/domain/swap'\nimport TxSide from './TxSide'\nimport Tx from './Tx'\n\nimport { Button } from 'components/controls'\n\n\ninterface ITurboSwapState {\n  swap: Swap,\n  flowState: any,\n}\n\n@connect(({\n/*  user: {\n    ethData,\n    btcData,\n    ghostData,\n    nextData,\n    tokensData,\n  },*/\n  pubsubRoom: { peer },\n  rememberedOrders,\n}) => ({\n  //items: [ethData, btcData, ghostData, nextData],\n  //currenciesData: [ethData, btcData, ghostData, nextData],\n  //tokensData: [...Object.keys(tokensData).map(k => (tokensData[k]))],\n  //savedOrders: rememberedOrders.savedOrders,\n  //deletedOrders: rememberedOrders.deletedOrders,\n  //peer,\n}))\n@cssModules(styles, { allowMultiple: true })\nclass TurboSwap extends PureComponent<any, ITurboSwapState> {\n\n/*\n  checkingConfirmSuccessTimer: any\n  checkingCycleTimer: any*/\n\n  history = null\n\n  constructor(props) {\n    super(props)\n\n    const { history } = props\n    this.history = history\n\n    this.state = {\n      //@ts-ignore: strictNullChecks\n      swap: null,\n      flowState: null,\n    }\n  }\n\n  componentWillMount() {\n    const {\n      items,\n      currenciesData,\n      tokensData,\n      intl: {\n        locale\n      },\n      //deletedOrders\n    } = this.props\n\n    let { match: { params: { orderId } }, history } = this.props\n\n    if (!orderId) {\n      history.push(localisedUrl(links.exchange))\n      return\n    }\n\n    try {\n      const swap = new Swap(orderId, SwapApp.shared())\n      console.log(`Front uses flow ${swap.flow._flowName}`);\n\n      this.setState(() => ({\n        swap,\n        flowState: swap.flow.state\n      }))\n\n      setInterval(() => {\n        this.setState(() => ({\n          flowState: swap.flow.state\n        }))\n      }, 300)\n\n    } catch (error) {\n      console.error(error)\n      actions.notifications.show(constants.notifications.ErrorNotification, {\n        error: 'Sorry, but this order do not exsit already'\n      })\n      this.props.history.push(localisedUrl(links.exchange))\n    }\n\n    /*if (!this.props.savedOrders.includes(orderId)) {\n      this.setSaveSwapId(orderId)\n    }*/\n  }\n\n  componentDidMount() {\n    const { swap, /*deletedOrders*/ } = this.state\n\n    const { /*match: { params: { orderId } }, savedOrders*/ } = this.props\n\n/*    if (swap !== null) {\n      console.log('checkingCycle')\n\n      const checkingCycle = setInterval(() => {\n\n        if (isFinallyFinished) {\n          feedback.swap.finished()\n        }\n        if (isStoppedSwap) {\n          feedback.swap.stopped()\n        }\n\n        if (isFinallyFinished || isStoppedSwap) {\n          clearInterval(checkingCycle)\n          return\n        }\n\n        this.isBalanceEnough()\n      }, 5000)\n    }*/\n\n    feedback.swap.started(JSON.stringify({\n      // todo\n    }))\n\n  }\n\n  componentWillUnmount() {\n    /*clearInterval(this.checkingCycleTimer)\n    clearTimeout(this.checkingConfirmSuccessTimer)*/\n  }\n\n\n\n/*  saveThisSwap = (orderId) => {\n    actions.core.rememberOrder(orderId)\n  }\n\n  deleteThisSwap = (orderId) => {\n    actions.core.saveDeletedOrder(orderId)\n    actions.core.forgetOrders(orderId)\n    window.swap = null\n  }\n\n  setSaveSwapId = (orderId) => {\n    let swapsId = JSON.parse(localStorage.getItem('swapId'))\n\n    if (swapsId === null || swapsId.length === 0) {\n      swapsId = []\n    }\n    if (!swapsId.includes(orderId)) {\n      swapsId.push(orderId)\n    }\n    localStorage.setItem('swapId', JSON.stringify(swapsId))\n  }\n*/\n\n  /*isBalanceEnough = () => {\n    //...\n  }*/\n\n  goToWallet = () => {\n    //@ts-ignore: strictNullChecks\n    this.history.push(links.wallet)\n  }\n\n  render() {\n    const {\n      peer,\n      history,\n      intl: { locale }\n    } = this.props\n\n    const {\n      swap,\n      flowState,\n    } = this.state\n\n    const sellCurrencyKey = swap.sellCurrency.toLowerCase()\n    const buyCurrencyKey = swap.buyCurrency.toLowerCase()\n\n    const myAddressSend =\n      //@ts-ignore: strictNullChecks\n      swap.app.services.auth.accounts[sellCurrencyKey].address ||\n      //@ts-ignore: strictNullChecks\n      swap.app.services.auth.accounts[sellCurrencyKey].getAddress()\n\n    const myAddressReceive =\n      //@ts-ignore: strictNullChecks\n      swap.app.services.auth.accounts[buyCurrencyKey].address ||\n      //@ts-ignore: strictNullChecks\n      swap.app.services.auth.accounts[buyCurrencyKey].getAddress()\n\n    const participantAddressSend = swap.participant[buyCurrencyKey].address\n    const participantAddressReceive = swap.participant[sellCurrencyKey].address\n\n    const swapIdShortened = swap.id\n      .split('-').map(part =>\n        parseInt(part) || part\n          .split('')\n          .reduce((acc, letter, index) => {\n            if ([\n              0, 1, 2, 3,\n              part.length-4, part.length-3, part.length-2, part.length-1\n            ].includes(index))\n              return acc + letter\n            if (index === 4)\n              return acc + '…'\n            return acc\n          }, '')\n      ).join('-')\n\n\n    const takerTx = {\n      amount: swap.isMy ? swap.buyAmount : swap.sellAmount,\n      currency: swap.isMy ? swap.buyCurrency : swap.sellCurrency,\n      hash: flowState.takerTxHash,\n      status: !flowState.takerTxHash ?\n        SwapTxStatus.Expected\n        :\n        !flowState.isTakerTxPended ?\n          SwapTxStatus.Pending\n          :\n          SwapTxStatus.Done,\n      url: null,\n    }\n    takerTx.url = takerTx.hash ? helpers.transactions.getLink(takerTx.currency.toLowerCase(), takerTx.hash) : null\n\n    const makerTx = {\n      amount: swap.isMy ? swap.sellAmount : swap.buyAmount,\n      currency: swap.isMy ? swap.sellCurrency : swap.buyCurrency,\n      hash: flowState.makerTxHash,\n      status: !flowState.makerTxHash ?\n        SwapTxStatus.Expected\n        :\n        !flowState.isMakerTxPended ?\n          SwapTxStatus.Pending\n          :\n          SwapTxStatus.Done,\n      url: null,\n    }\n    makerTx.url = makerTx.hash ? helpers.transactions.getLink(makerTx.currency.toLowerCase(), makerTx.hash) : null\n\n\n    const swapStatus: SwapStatus = !flowState.isFinished ? SwapStatus.Pending : SwapStatus.Finished\n\n    const i18n_you = <FormattedMessage id=\"TurboSwap_You\" defaultMessage=\"You\" />\n    const i18n_maker = <FormattedMessage id=\"TurboSwap_Maker\" defaultMessage=\"Maker\" />\n    const i18n_taker = <FormattedMessage id=\"TurboSwap_Taker\" defaultMessage=\"Taker\" />\n\n    return (\n      <div styleName=\"turboSwap\">\n        <h1 styleName=\"pageTitle\">\n          <FormattedMessage id=\"TurboSwap_Title\" defaultMessage=\"Turbo swap\" />\n        </h1>\n        <div styleName=\"swapId\">#{swapIdShortened}</div>\n        <div styleName={`swapStatus ${swapStatus}`}>\n          {swapStatus === SwapStatus.Pending &&\n            <FormattedMessage id=\"TurboSwap_StatusPending\" defaultMessage=\"Pending...\" />\n          }\n          {swapStatus === SwapStatus.Finished &&\n            <FormattedMessage id=\"TurboSwap_StatusFinished\" defaultMessage=\"Finished...\" />\n          }\n        </div>\n        <div styleName=\"blockchain\">\n          <TxSide\n            title={swap.isMy ? i18n_taker : i18n_you}\n            isTitleHighlighted={!swap.isMy}\n            address={swap.isMy ? participantAddressSend : myAddressSend}\n          />\n          <Tx\n            amount={takerTx.amount}\n            ticker={takerTx.currency}\n            id={takerTx.hash}\n            //@ts-ignore: strictNullChecks\n            url={takerTx.url}\n            direction={'right'}\n            status={takerTx.status}\n          />\n          <TxSide\n            title={swap.isMy ? i18n_you : i18n_maker}\n            isTitleHighlighted={swap.isMy}\n            address={swap.isMy ? myAddressReceive : participantAddressReceive}\n          />\n        </div>\n        <div styleName=\"blockchain\">\n          <TxSide\n            title={swap.isMy ? i18n_taker : i18n_you}\n            isTitleHighlighted={!swap.isMy}\n            address={swap.isMy ? participantAddressReceive : myAddressReceive}\n          />\n          <Tx\n            amount={makerTx.amount}\n            ticker={makerTx.currency}\n            id={makerTx.hash}\n            //@ts-ignore: strictNullChecks\n            url={makerTx.url}\n            direction={'left'}\n            status={makerTx.status}\n          />\n          <TxSide\n            title={swap.isMy ? i18n_you : i18n_maker}\n            isTitleHighlighted={swap.isMy}\n            address={swap.isMy ? myAddressSend : participantAddressSend}\n          />\n        </div>\n\n        {swapStatus === SwapStatus.Finished &&\n          <div styleName=\"checkBalanceButtonWrapper\">\n            <Button brand onClick={this.goToWallet}><FormattedMessage id=\"swapProgressGoToWallet\" defaultMessage=\"Check balance\" /></Button>\n          </div>\n        }\n\n        {false && //debug\n          <code>\n            {JSON.stringify(flowState, null, 2)}\n          </code>\n        }\n      </div>\n    )\n  }\n}\n\nexport default injectIntl(TurboSwap)\n","// extracted by mini-css-extract-plugin\nexport default {\"turboSwap\":\"_35s6BL1KOjH9rJhLfD7J-B\",\"pageTitle\":\"_2TeNsWHVKhlw7orUM0Fj05\",\"swapId\":\"_12JKhucFp9I4VmB3kZZeRD\",\"swapStatus\":\"_3K8W9_bsAMsRSmDxyHn4KL\",\"Pending\":\"_1YMPSXbXJay-wTQDywj6ZG\",\"Finished\":\"_1BvWBVG0GOyVAEOnNfv2r\",\"blockchain\":\"_3ICEuq_-1Q8hKowRxhVHHM\",\"checkBalanceButtonWrapper\":\"_1wCDdgtI5_YiNSStFUtlB9\"};","import React from 'react'\nimport CSSModules from 'react-css-modules'\nimport moment from 'moment-with-locales-es6'\nimport styles from './Comment.scss'\nimport { FormattedMessage } from 'react-intl'\nimport actions from 'redux/actions'\n\ntype WithdrawModalProps = {\n  commentKey?: any,\n  isOpen?: boolean,\n  label?: string,\n  date?: any,\n  canEdit?: boolean,\n  showComment?: boolean,\n  updateComment?: (text: string) => void,\n  onSubmit?: (text: string) => void\n}\n\ntype WithdrawModalState = {\n  comment?: null | string,\n  isOpen?: boolean\n}\n\n\n@CSSModules(styles, { allowMultiple: true })\nexport default class CommentRow extends React.PureComponent<WithdrawModalProps, WithdrawModalState> {\n  commentTextarea: any\n\n  constructor(props) {\n    super(props)\n    this.commentTextarea = React.createRef()\n    this.state = {\n      isOpen: false,\n      comment: '',\n    }\n  }\n\n  submitComment = (event, props) => {\n    if (event) {\n      event.preventDefault()\n    }\n\n    const {\n      commentKey,\n      updateComment = false,\n    } = props\n\n    const {\n      comment\n    } = this.state\n\n    actions.comments.setComment({\n      key: commentKey,\n      comment: comment\n    })\n\n    if (updateComment) {\n      updateComment(comment)\n    }\n\n    this.toggleComment()\n  }\n\n  componentDidMount() {\n    const {\n      commentKey\n    } = this.props\n\n    // not need anymore\n    // actions.core.getSwapHistory()\n    const comment = actions.comments.getComment(commentKey)\n\n    if (comment) {\n      this.setState({\n        comment\n      })\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.isOpen && this.props.isOpen !== prevProps.isOpen && this.props.onSubmit) {\n      this.handleKeyUp()\n    }\n  }\n\n  handleKeyUp = (e = null) => {\n    if (!this.commentTextarea) {\n      return\n    }\n\n    //@ts-ignore: strictNullChecks\n    if (e && e.ctrlKey && e.keyCode == 13) {\n      this.submitComment(null, this.props)\n      return\n    }\n\n    this.commentTextarea\n      .current.style.cssText = 'height:' + this.commentTextarea.current.scrollHeight + 'px;'\n  }\n\n  changeComment = (event) => this.setState({comment: event.target.value});\n\n  toggleComment = () => {\n    const { isOpen = false } = this.state\n\n    this.setState({\n      isOpen: !isOpen\n    })\n  }\n\n  render() {\n    const {\n      label,\n      date,\n      canEdit = false,\n      showComment = false,\n    } = this.props\n\n    const {\n      isOpen = false,\n      comment = ''\n    } = this.state\n\n    return (\n      <div styleName=\"wrap-block\">\n        {canEdit && (isOpen ?\n          <form styleName=\"input\" onSubmit={(e) => this.submitComment(e, this.props)}>\n            <textarea \n              ref={this.commentTextarea}\n              styleName=\"commentTextarea\" id=\"commentTextarea\"\n              //@ts-ignore: strictNullChecks\n              onKeyUp={this.handleKeyUp}\n              onChange={this.changeComment}\n              //@ts-ignore: strictNullChecks\n              value={comment} \n            ></textarea>\n            <span styleName=\"submit\" onClick={(e) => this.submitComment(e, this.props)}>&#10004;</span>\n            <span styleName=\"close\" onClick={() => this.toggleComment()}>&times;</span>\n          </form>\n          :\n          <div styleName=\"add-link\" onClick={() => this.toggleComment()}>\n            <FormattedMessage id=\"add_notice\" defaultMessage=\"Add notice\" />\n          </div>)\n        }\n\n        {showComment && (\n          <div styleName=\"date\">\n            {date &&\n              <div>{moment(date).format('LLLL')}</div>\n            }\n            {comment &&\n              <div styleName=\"commentText\">{comment}</div>\n            }\n          </div>\n        )}\n      </div>\n    )\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"commentTextarea\":\"q_gfGHScEE1BByLhRVDfT\",\"date\":\"_2GtZ6whmr8Uqk2OzQSFRfV\",\"comment\":\"G5NJBFwagIt7Ar6-1fYKI\",\"add-link\":\"_1by_qmtIDltl82MFv0pgi3\",\"wrap-block\":\"_1M1BEqNytmIxm1O1FHBKBP\",\"input\":\"gK3eVYcn4aAx0zySgp3j2\",\"submit\":\"_32gvbSqcI8BcP1C1l_ZTVz\",\"close\":\"_30_OjiMBHoCrK4pwtPJuLm\",\"commentText\":\"_3UpKtgshcVJpyzfTzcAS6T\"};","import React, { PureComponent } from 'react'\nimport cx from 'classnames'\nimport cssModules from 'react-css-modules'\nimport styles from './Row.scss'\nimport { FormattedMessage } from 'react-intl'\nimport actions from 'redux/actions'\nimport { constants, links } from 'helpers'\nimport { Link } from 'react-router-dom'\nimport { getFullOrigin } from 'helpers/links'\n\nimport CommentRow from 'components/Comment/Comment'\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\nimport getCurrencyKey from 'helpers/getCurrencyKey'\nimport Address from 'components/ui/Address/Address'\nimport { AddressFormat } from 'domain/address'\nimport erc20Like from 'common/erc20Like'\n\n@cssModules(styles, { allowMultiple: true })\nexport default class Row extends PureComponent<any, any> {\n  constructor(props) {\n    super(props)\n\n    const { hash, type, hiddenList, invoiceData, viewType } = props\n    const dataInd = invoiceData && invoiceData.id\n    const ind = `${dataInd || hash}-${type}`\n    const userWallets = actions.core.getWallets()\n\n    this.state = {\n      userWallets,\n      viewType: (viewType || 'transaction'),\n      exCurrencyRate: 0,\n      comment: actions.comments.returnDefaultComment(hiddenList, ind),\n      cancelled: false,\n      payed: false,\n      showFiat: true,\n    }\n  }\n\n  componentDidMount() {\n    const { type } = this.props\n    const { userWallets } = this.state\n\n    // request fiat balance if wallet has fiat price\n    userWallets.forEach((wallet) => {\n      if (wallet.currency.toLowerCase() === type.toLowerCase()) {\n        if (wallet.infoAboutCurrency) {\n          this.getFiatBalance(type)\n        } else {\n          this.setState(() => ({\n            showFiat: false\n          }))\n        }\n      }\n    })\n  }\n\n  getFiatBalance = async (type) => {\n    const { activeFiat } = this.props\n\n    if (activeFiat) {\n      actions.user.getExchangeRate(type, activeFiat.toLowerCase()).then((exCurrencyRate) => {\n        this.setState(() => ({\n          exCurrencyRate,\n          showFiat: true,\n        }))\n      })\n    }\n  }\n\n  handlePayInvoice = async () => {\n    const {\n      invoiceData: {\n        type,\n        toAddress: address,\n        amount,\n        destAddress,\n        fromAddress,\n      },\n      invoiceData: invoice,\n    } = this.props\n\n    const walletData = actions.core.getWallet({\n      address,\n      currency: type,\n    })\n    if (walletData) {\n      const {\n        currency,\n        balance,\n        unconfirmedBalance\n      } = walletData\n\n      actions.modals.open(constants.modals.Withdraw, {\n        currency,\n        address,\n        balance,\n        itemCurrency: walletData,\n        unconfirmedBalance,\n        toAddress: destAddress || fromAddress,\n        amount,\n        invoice,\n        hiddenCoinsList: [],\n        onReady: () => {\n          this.setState({\n            payed: true,\n          })\n        },\n      })\n    }\n  }\n\n  handleCancelInvoice = async () => {\n    const { invoiceData } = this.props\n\n    actions.modals.open(constants.modals.Confirm, {\n      onAccept: async () => {\n        await actions.invoices.cancelInvoice(invoiceData.id)\n        this.setState({\n          cancelled: true,\n        })\n      },\n    })\n  }\n\n  handleSendConfirmLink = () => {\n    const {\n      confirmTx: {\n        uniqhash,\n      },\n    } = this.props\n\n    const link = `${getFullOrigin()}${links.multisign}/btc/confirm/${uniqhash}`\n\n    actions.modals.open(constants.modals.Share, {\n      link,\n      title: `Confirm multisignature transaction`,\n    })\n  }\n\n  handleConfirmTx = () => {\n    const {\n      history,\n      confirmTx: {\n        uniqhash,\n      },\n    } = this.props\n\n    const shareLink = `${links.multisign}/btc/confirm/${uniqhash}`\n\n    history.push(shareLink)\n  }\n\n  parseFloat = (direction, value, directionType, type) => {\n    const { txType, standard } = this.props\n    switch (type) {\n      case 'btc (sms-protected)': type = 'BTC'\n        break\n      case 'btc (pin-protected)': type = 'BTC'\n        break\n      case 'btc (multisig)': type = 'BTC'\n        break\n    }\n\n    return (\n      <div id=\"historyRowAmountInfo\">\n        {direction === directionType ? (\n            <div styleName=\"amount\">\n              {`+ ${parseFloat(Number(value).toFixed(5))}`} {type.toUpperCase()}\n              {standard ? (\n                <span styleName=\"tokenStandard\">{standard.toUpperCase()}</span>\n              ) : ''}\n              {txType === 'INVOICE' ? (\n                <span styleName=\"smallTooltip\"><Tooltip id='RowTooltipInvoice'>Invoice</Tooltip></span>\n              ) : ''}\n            </div>\n          ) : (\n            <div styleName=\"amount\">\n              {`- ${parseFloat(Number(value).toFixed(5))}`}{' '}\n              {type.toUpperCase()}\n              {standard ? (\n                <span styleName=\"tokenStandard\">{standard.toUpperCase()}</span>\n              ) : ''}\n            </div>\n          )\n        }\n      </div>\n    )\n  }\n\n  returnLinkRouter = (params) => {\n    let {\n      location,\n      targetPath,\n      tokenPart,\n      name,\n      hash,\n      tokenBaseCurrency,\n    } = params\n\n    if (erc20Like.isToken({ name }) && tokenBaseCurrency) {\n      // react router doesn't rewrite url\n      // it fix problem with token transaction info url\n      if (location.pathname.includes(tokenPart)) {\n        targetPath = `tx/${hash}`\n      } else {\n        targetPath = `token/{${tokenBaseCurrency}}${name}/tx/${hash}`\n      }\n    }\n\n    return {\n      ...location,\n      pathname: targetPath,\n    }\n  }\n\n  render() {\n    const {\n      activeFiat,\n      address,\n      baseCurrency: tokenBaseCurrency,\n      type,\n      direction,\n      value,\n      hash: propsHash,\n      confirmations,\n      txType,\n      invoiceData,\n      date,\n      confirmTx,\n    } = this.props\n\n    const {\n      showFiat,\n    } = this.state\n\n    const substrAddress = address ? `${address.slice(0, 2)}...${address.slice(-2)}` : ''\n    const hash = (invoiceData && invoiceData.txInfo) ? invoiceData.txInfo : propsHash\n\n    const { exCurrencyRate, cancelled, payed } = this.state\n    const fiatValue = value * exCurrencyRate\n\n    const paymentAddress = invoiceData\n      ? invoiceData.destAddress\n        ? invoiceData.destAddress\n        : invoiceData.fromAddress\n      : ''\n\n    const statusStyleName = cx('status', {\n      'in': direction === 'in',\n      'out': direction !== 'in',\n      'self': direction === 'self',\n    })\n    let statusStyleAmount = statusStyleName\n\n    if (invoiceData) {\n      statusStyleAmount = cx('status', {\n        'in': direction !== 'in',\n        'out': direction === 'in',\n        'self': direction === 'self',\n      })\n    }\n\n    const hasInvoiceButtons = (invoiceData && !invoiceData.txid && direction === 'in' && invoiceData.status === 'new' && !cancelled && !payed)\n    let invoiceStatusClass = 'confirm green'\n    let invoiceStatusText = <FormattedMessage id=\"HistoryRowInvoiceStatusNew\" defaultMessage=\"Пока не оплачен\" />\n    if (invoiceData && ((invoiceData.status === 'ready') || payed)) {\n      invoiceStatusClass = 'confirm'\n      invoiceStatusText = <FormattedMessage id=\"RowHistoryInvoicePayed\" defaultMessage=\"Оплачен\" />\n    }\n    if (invoiceData && ((invoiceData.status === 'cancelled') || cancelled)) {\n      invoiceStatusClass = 'confirm red'\n      invoiceStatusText = <FormattedMessage id=\"RowHistoryInvoiceCancelled\" defaultMessage=\"Отклонен\" />\n    }\n\n    let txLink = `/${getCurrencyKey(type, false)}/tx/${hash}`\n\n    if (txType === 'INVOICE' && invoiceData.uniqhash) {\n      txLink = `${links.invoice}/${invoiceData.uniqhash}`\n    }\n\n    if (txType === 'CONFIRM' && confirmTx.uniqhash) {\n      txLink = `${links.multisign}/btc/confirm/${confirmTx.uniqhash}`\n    }\n\n    return (\n      <>\n        <tr styleName=\"historyRow\">\n          <td>\n            <div styleName={`${statusStyleAmount} circleIcon`}>\n              <div styleName='arrowWrap'>\n                <Link to={txLink}>\n                  <svg width='12' height='15' viewBox='0 0 12 15' fill='none'>\n                    <path d='M6 15V3' stroke='#8E9AA3' strokeWidth='2' />\n                    <path d='M11 7L6 2L1 7' stroke='#8E9AA3' strokeWidth='2' />\n                  </svg>\n                </Link>\n              </div>\n            </div>\n            <div styleName=\"historyInfo\">\n              <div>\n                {txType === 'INVOICE' ?\n                  <>\n                    <Link to={txLink}>\n                      <FormattedMessage\n                        id=\"RowHistoryInvoce\"\n                        defaultMessage=\"Invoice #{number}\"\n                        values={{\n                          number: `${invoiceData.id}-${invoiceData.invoiceNumber}`,\n                        }}\n                      />\n                    </Link>\n                    <div styleName={`${invoiceStatusClass} cell`}>\n                      {invoiceStatusText}\n                    </div>\n                  </> :\n                  <>\n                    <Link\n                      to={(location) => this.returnLinkRouter({\n                        location,\n                        targetPath: txLink,\n                        tokenPart: `token/{${tokenBaseCurrency}}${type}/`,\n                        name: type,\n                        hash: hash,\n                        tokenBaseCurrency,\n                      })}\n                    >\n                      {(txType === 'CONFIRM') ? (\n                        <FormattedMessage id=\"RowHistory_Confirm_Sending\" defaultMessage=\"Sent\" />\n                      ) : (\n                          <>\n                            {\n                              direction === 'in'\n                                ? <FormattedMessage id=\"RowHistory281\" defaultMessage=\"Received {address}\" values={{\n                                  address: substrAddress ? <span><FormattedMessage id=\"fromRow\" defaultMessage=\"from\" /> {substrAddress}</span> : \"\"\n                                }} />\n                                : (\n                                  direction !== 'self'\n                                    ? <FormattedMessage id=\"RowHistory282\" defaultMessage=\"Sent {address}\" values={{\n                                      address: substrAddress ? <span><FormattedMessage id=\"toRow\" defaultMessage=\"to\" /> {substrAddress}</span> : \"\"\n                                    }} />\n                                    : <FormattedMessage id=\"RowHistory283\" defaultMessage=\"Self\" />\n                                )\n                            }\n                          </>\n                        )}\n                    </Link>\n\n                    {/* Transaction status */}\n                    {(txType === 'CONFIRM') ? (\n                      <>\n                        {confirmTx.status === 'pending' && (\n                          <div styleName=\"unconfirmed cell\">\n                            <FormattedMessage id=\"RowHistory_Confirm_InProgress\" defaultMessage=\"Pending\" />\n                          </div>\n                        )}\n                        {confirmTx.status === 'reject' && (\n                          <div styleName=\"confirm red\">\n                            <FormattedMessage id=\"RowHistory_Confirm_Rejected\" defaultMessage=\"Rejected\" />\n                          </div>\n                        )}\n                        {confirmTx.status === 'cancel' && (\n                          <div styleName=\"confirm red\">\n                            <FormattedMessage id=\"RowHistory_Confirm_Cancelled\" defaultMessage=\"Canceled\" />\n                          </div>\n                        )}\n                      </>\n                    ) : (\n                        <div styleName={confirmations > 0 ? 'confirm cell' : 'unconfirmed cell'}>\n                          {confirmations > 0 ? confirmations > 6 ?\n                            <FormattedMessage id=\"RowHistory34\" defaultMessage=\"Received\" /> :\n                            <a href=\"#\"><FormattedMessage id=\"RowHistory341\" defaultMessage=\"Confirmed\" /></a> :\n                            <FormattedMessage id=\"RowHistory342\" defaultMessage=\"Unconfirmed\" />\n                          }\n                        </div>\n                      )}\n                  </>\n                }\n              </div>\n\n              {/* Date */}\n              <CommentRow\n                label={invoiceData && invoiceData.label}\n                date={date}\n                showComment={true}\n                commentKey={hash}\n              />\n\n              {/* Contacts */}\n              {invoiceData && invoiceData.contact &&\n                <div styleName='invoiceContactWrapper'>\n                  <FormattedMessage\n                    id=\"RowHistoryInvoiceContact\"\n                    defaultMessage='Contact:'\n                  />{' '}\n                  <span styleName='contact'>{invoiceData.contact}</span>\n                </div>\n              }\n\n              {/* Payment address */}\n              {txType === 'INVOICE' && direction === 'in' &&\n                <div styleName='addressWrapper'>\n                  <FormattedMessage\n                    id=\"RowHistoryInvoiceAddress\"\n                    defaultMessage='Payment address:'\n                  />{' '}\n                  <div style={{ display: 'flex', alignItems: 'center' }}>\n                    <Address address={paymentAddress} format={AddressFormat.Short} />\n                    <span styleName='requests'>({invoiceData.totalCount})</span>\n                  </div>\n                </div>\n              }\n            </div>\n\n            {/* Invoice buttons */}\n            {hasInvoiceButtons &&\n              <div styleName=\"btnWrapper\">\n                <button onClick={this.handlePayInvoice}>\n                  <FormattedMessage id='RowHistoryPayInvoice' defaultMessage='Pay' />\n                </button>\n                <button onClick={this.handleCancelInvoice}>\n                  <FormattedMessage id='RowHistoryCancelInvoice' defaultMessage='Decline' />\n                </button>\n              </div>\n            }\n\n            {txType === 'CONFIRM' && confirmTx.status === 'pending' && (\n              <div styleName=\"confirmWrapper\">\n                {(confirmTx.isHolder) ? (\n                  <>\n                    <span>\n                      <FormattedMessage\n                        id=\"RowHistory_ConfirmTX_NeedConfirm\"\n                        defaultMessage=\"Confirmation of another participant is required\" />\n                    </span>\n                    <button onClick={this.handleSendConfirmLink}>\n                      <FormattedMessage\n                        id=\"RowHistory_ConfirmTX_SendLink\"\n                        defaultMessage=\"Send link\"\n                      />\n                    </button>\n                  </>\n                ) : (\n                    <>\n                      <span>\n                        <FormattedMessage\n                          id=\"RowHistory_ConfirmTX_NeedYourSign\"\n                          defaultMessage=\"Your signature is required\"\n                        />\n                      </span>\n                      <button onClick={this.handleConfirmTx}>\n                        <FormattedMessage\n                          id=\"RowHistory_ConfirmTX_Sign\"\n                          defaultMessage=\"Confirm\"\n                        />\n                      </button>\n                    </>\n                  )}\n              </div>\n            )}\n\n            {/* Currency amount */}\n            <div styleName={statusStyleAmount}>\n              {invoiceData ? this.parseFloat(direction, value, 'out', type) : this.parseFloat(direction, value, 'in', type)}\n              {\n                showFiat\n                  ? <span styleName='amountUsd'>{`~${fiatValue.toFixed(2)}`}{` `}{activeFiat}</span>\n                  : null\n              }\n            </div>\n          </td>\n        </tr>\n      </>\n    )\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"status\":\"BmagCr8Nam9UjOt8uW425\",\"in\":\"_1rduM7Ppdd7a-TXnfR5R_x\",\"arrowWrap\":\"_2MD0og1zPufEYVSzysvbzz\",\"amount\":\"_1ljZZxiak7_3SML0Wgxdim\",\"out\":\"_3tO7fFPj-AmbZ2DEWHsjYO\",\"self\":\"_1D9QKsIC8RItYGRicFGJyM\",\"cell\":\"qtMzECWCiq7_wYDQVoR0g\",\"confirm\":\"_9n_zhjvI3zEtMGxSQw73x\",\"unconfirmed\":\"_1JPcEtpeKMUS8IBpEpWqzA\",\"red\":\"_21B3LbCv38oS5k3zcdodQU\",\"green\":\"_2iLYI8sDzCZodprLdH0XUE\",\"date\":\"_1YEn0ZYkmGL2Xxz7npsFhU\",\"address\":\"_6f-lSmffZgNXiX_nQOXZ1\",\"amountUsd\":\"_2-W6LFQEE8LUiVdu01H4zT\",\"tokenStandard\":\"_2imogQ2EeKSi8vouP36GUs\",\"historyInfo\":\"_1NQHaiA45RD_d-NS1kdBid\",\"invoiceContactWrapper\":\"_3S9jy4wfJVouHdCA71j8Ay\",\"contact\":\"_1Mc-5CnAA02-v6nMhMdVSv\",\"addressWrapper\":\"_2w_iLgyNGhuxMwMKnrSnSR\",\"requests\":\"_1S71LH5SPkSuKnQ5M9k4p7\",\"comment\":\"_21_xBQEPUoZkaiH94t2U1O\",\"btnWrapper\":\"_2XvUdOC2Rm0E7Mu68-dMnZ\",\"confirmWrapper\":\"_2S81LrI9nS8EaGpClcYKcL\",\"historyRow\":\"_2BUGdF774lHI6I6byy3Ekm\",\"smallTooltip\":\"_296R10iljzRVLq3naGssQD\",\"circleIcon\":\"_6ZQpmO3J2LYXquC5Prh1W\"};","// extracted by mini-css-extract-plugin\nexport default {\"table\":\"_1rcm_wQFnBzyxaRaiwUhY7\",\"noticeText\":\"_3tTv0EXN5QvEdimcl2oFfn\",\"wallet\":\"_1j2eBJ2cpuSiMkKIvVWhq0\",\"history\":\"_3F1s816238wr2ABzikaYBc\",\"historySwap\":\"H9aCvlRs3ciUvPiiadaps\",\"mobileThead\":\"_3_LKHy4J4BRhU4FFZwceZX\",\"exchange\":\"_1lrp30CS5r3Syk0bJQh2A_\",\"img\":\"_2EmXq-n4VckoiAlrowcM5d\"};","// extracted by mini-css-extract-plugin\nexport default {\"history\":\"jqQ0x5BRG2c5U2gBt6DtF\",\"historyHeading\":\"nst6zQJIWGKDZ1cA0TQwx\",\"historyLoader\":\"_1eZVOmMJZAv7JYKWLaWpAz\"};","import React from 'react'\nimport { FormattedMessage } from 'react-intl'\n\nimport CSSModules from 'react-css-modules'\nimport styles from './Table.scss'\n\ntype TableProps = {\n  rows: { [key: string]: any }[]\n  rowRender: (...any) => JSX.Element\n  \n  id?: string\n  className?: string\n  isLoading?: boolean\n  textIfEmpty?: JSX.Element | string\n  loadingText?: JSX.Element\n  titles?: (string | JSX.Element)[]\n}\n\ntype TableState = {\n  selectId: number\n}\n\n@CSSModules(styles, { allowMultiple: true })\nexport default class Table extends React.Component<TableProps, TableState> {\n  linkOnTableHead: any\n  linkOnTableBody: any\n  linkOnTable: any\n\n  static defaultProps = {\n    textIfEmpty: <FormattedMessage id=\"Table95\" defaultMessage=\"The table is empty\" />,\n    loadingText: <FormattedMessage id=\"Table96\" defaultMessage=\"Loading...\" />,\n    titles: []\n  }\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      selectId: 0,\n    }\n  }\n\n  componentDidMount() {\n    if (this.props.id === 'table-wallet') {\n      window.addEventListener('resize', this.handleResponsiveTable)\n      this.handleResponsiveTable()\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.props.id === 'table-wallet') {\n      window.removeEventListener('resize', this.handleResponsiveTable)\n    }\n  }\n\n  handleSelectId = (id) => {\n    this.setState(() => ({ selectId: id }))\n  }\n\n  handleResponsiveTable = () => {\n    const { linkOnTableBody: tdLink, linkOnTableHead: thLink } = this\n\n    let th = thLink.children[0].cells\n    let td = tdLink.children[0].cells\n\n    for (let i = 0; i < th.length; i++) {\n      th[i].style.width = `${td[i].offsetWidth}px`\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    const { rows, isLoading} = this.props\n\n    return isLoading !== nextProps.isLoading || rows !== nextProps.rows || this.state.selectId !== nextState.selectId\n  }\n\n  render() {\n    const {\n      titles,\n      rows,\n      rowRender,\n      textIfEmpty,\n      isLoading,\n      loadingText,\n      className,\n    } = this.props\n\n    return (\n      <table styleName=\"table\" className={`table ${className}`} ref={(table) => this.linkOnTable = table}>\n        <thead ref={(thead) => this.linkOnTableHead = thead}>\n          <tr>\n            {\n              titles && titles.filter(title => !!title).map((title, index) => (\n                <th key={index}>{title}</th>\n              ))\n            }\n          </tr>\n        </thead>\n        <tbody ref={(tbody) => this.linkOnTableBody = tbody}>\n          {\n            isLoading && (\n              <tr>\n                <td styleName=\"noticeText\">{loadingText}</td>\n              </tr>\n            )\n          }\n          {\n            !isLoading && !rows.length && (\n              <tr>\n                <td styleName=\"noticeText\">{textIfEmpty}</td>\n              </tr>\n            )\n          }\n          {\n            !isLoading && !!rows.length && rows.map((row, rowIndex) => {\n              if (typeof rowRender === 'function') {\n                return rowRender(row, rowIndex, this.state.selectId, this.handleSelectId)\n              }\n            })\n          }\n        </tbody>\n      </table>\n    )\n  }\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\n\nexport const withInfiniteScroll = () => Component => {\n  class InfiniteScroll extends React.Component<any, any> {\n    componentDidMount() {\n      window.addEventListener('scroll', this.onScroll)\n    }\n\n    componentWillUnmount() {\n      window.removeEventListener('scroll', this.onScroll)\n    }\n\n    onScroll = () => {\n      const { bottomOffset, items, itemsCount } = this.props\n\n      const bottomSidePositionOnPage = document.documentElement.scrollTop + document.documentElement.clientHeight\n\n      if (bottomSidePositionOnPage >= document.body.offsetHeight - bottomOffset && items.length !== itemsCount && items.length) {\n        this.props.getMore()\n      }\n    }\n\n    render() {\n      const { getMore, bottomOffset, itemsCount, ...rest } = this.props\n      return <Component {...rest} />\n    }\n  }\n\n  //@ts-ignore\n  InfiniteScroll.propTypes = {\n    getMore: PropTypes.func,\n    bottomOffset: PropTypes.number,\n    items: PropTypes.array,\n    itemsCount: PropTypes.number,\n  }\n\n  return InfiniteScroll\n}\n","import React from 'react'\nimport Table from 'components/tables/Table/Table'\nimport { withInfiniteScroll } from 'decorators/withInfiniteScroll'\n\n@withInfiniteScroll()\nexport default class InfiniteScrollTable extends React.Component<any, any> {\n  render() {\n    const { items, ...rest } = this.props\n    const { rowRender } = rest\n\n    return (\n      <Table {...rest} rowRender={rowRender} rows={items} />\n    )\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"animationLoading\":\"_323E63TPa376LeK3AlffTl\",\"rideSideContent\":\"_2nBp9g3_vDE3wYqrCvKbB0\",\"leftSideContent\":\"_1ZStJ7FfHGuOCqkvZyM6l_\",\"stop\":\"RSkKmsQEONE0qT0BmhNAq\",\"container\":\"_1FHjwoVU5nFe3bNC3sVSjf\",\"inner\":\"_23Faf5aDYz448uCl4uIbSD\",\"descr\":\"_OgdJTKeRZKB9GmB__oW7\",\"one\":\"_3wgqBsoXt04QWqz001d26E\",\"balance\":\"_1YsIF1AweYOafwJyrceqV2\",\"three\":\"HCXKIF4kKqf5kPbWMZOnX\",\"two\":\"_11DCCxSDt9PvXmDw7OJgq_\",\"content\":\"_2nZBiUnnt8NDfZyT4WtCJH\",\"four\":\"_3nIdFa7-3pDhgOEonnrWgH\",\"five\":\"j1WDGOS-Mbv4pbDVLzhti\",\"six\":\"_3LPuAxEQ9LEp_peVioDdn6\",\"animate\":\"_36XXDMXBRQJSP-tjaqLfCs\",\"banners\":\"_23P324srd69OgI-1G3FaZ9\",\"textBlock\":\"_3_n6QvlCjFSv591AOoNk6h\"};","import React, { Fragment, useState } from 'react'\nimport CSSModules from 'react-css-modules'\n\nimport styles from '../../ContentLoader.scss'\n\n\nconst ContentSection = () => (\n  <div styleName=\"container content\">\n    <div styleName=\"one\" />\n    <div styleName=\"two\" />\n    <div styleName=\"three\" />\n    <div styleName=\"four\" />\n    <div styleName=\"five\" />\n    <div styleName=\"six\" />\n  </div>\n)\n\nexport default CSSModules(ContentSection, styles, { allowMultiple: true })\n","import React, { Fragment, useState } from 'react'\nimport CSSModules from 'react-css-modules'\n\nimport styles from '../../ContentLoader.scss'\n\n\nconst DescrSection = () => (\n  <div styleName=\"container descr\">\n    <div styleName=\"one\" />\n  </div>\n)\n\nexport default CSSModules(DescrSection, styles, { allowMultiple: true })\n","import React, { Fragment, useState } from 'react'\nimport CSSModules from 'react-css-modules'\n\nimport styles from '../../ContentLoader.scss'\n\n\nfunction BalanceSection() {\n\n  return (\n    <div styleName=\"container balance\">\n      <div styleName=\"one\" />\n      <div styleName=\"two\" />\n      <div styleName=\"three\" />\n    </div>\n  )\n}\n\nexport default CSSModules(BalanceSection, styles, { allowMultiple: true })\n\n","import React, { Fragment, useState } from 'react'\nimport CSSModules from 'react-css-modules'\n\nimport styles from '../../ContentLoader.scss'\n\n\nfunction BannersSection() {\n\n  return (\n    <div styleName=\"container banners\">\n      <div styleName=\"one\" />\n      <div styleName=\"two\" />\n      <div styleName=\"three\" />\n      <div styleName=\"four\" />\n    </div>\n  )\n}\n\nexport default CSSModules(BannersSection, styles, { allowMultiple: true })\n\n","import React, { Fragment, useState } from 'react'\nimport CSSModules from 'react-css-modules'\n\nimport styles from './ContentLoader.scss'\nimport ContentSection from './components/ContentSection/ContentSection'\nimport DescrSection from './components/DescrSection/DescrSection'\nimport BalanceSection from './components/BalanceSection/BalanceSection'\nimport BannersSection from './components/BannersSection/BannersSection'\n\nfunction ContentLoader({ empty, inner, rideSideContent, leftSideContent, banners, nonHeader }) {\n\n  return (\n    <Fragment>\n      {\n        rideSideContent ? (\n          <div styleName={`animationLoading rideSideContent ${empty ? 'stop' : ''} ${inner ? 'inner' : ''}`}>\n            {\n              empty ? (\n                <div styleName=\"textBlock\">\n                  <p>No transactions</p>\n                  <span>There isn't any activity in your account yet</span>\n                </div>\n              ) : ''\n            }\n            {!empty && !nonHeader ? <DescrSection /> : ''}\n            <ContentSection />\n            <ContentSection />\n          </div>\n        ) : ''\n      }\n      {\n        leftSideContent ? (\n          <div styleName=\"animationLoading leftSideContent\">\n            <BalanceSection />\n          </div>\n        ) : ''\n      }\n      {\n        banners ? (\n          <div styleName=\"animationLoading banners\">\n            <BannersSection />\n          </div>\n        ) : ''\n      }\n    </Fragment>\n  )\n}\n\nexport default CSSModules(ContentLoader, styles, { allowMultiple: true })\n\n","import React from 'react'\nimport CSSModules from 'react-css-modules'\nimport { FormattedMessage } from 'react-intl'\nimport styles from './styles.scss'\n\n\nconst FilterForm = ({ filterValue, onSubmit, onChange, resetFilter }) => {\n\n  const handleSubmit = e => {\n    e.preventDefault()\n\n    onSubmit()\n  }\n\n  const handleResetFilter = e => {\n    e.preventDefault()\n    e.stopPropagation()\n\n    resetFilter()\n  }\n\n  return (\n    <form styleName=\"filterForm\" onSubmit={handleSubmit} >\n      <input placeholder=\"Search\" value={filterValue} type=\"text\" onChange={onChange} />\n      <div styleName=\"buttons\">\n        <button styleName=\"show\" onClick={handleSubmit} type=\"button\">\n          <FormattedMessage id=\"FilterTextFind\" defaultMessage=\"Find\" />\n        </button>\n        <button styleName={`all ${filterValue ? 'active' : ''}`} onClick={handleResetFilter} type=\"button\">\n          <FormattedMessage id=\"FilterTextAll\" defaultMessage=\"All\" />\n        </button>\n      </div>\n    </form>\n  )\n}\n\nexport default CSSModules(FilterForm, styles, { allowMultiple: true })\n","// extracted by mini-css-extract-plugin\nexport default {\"filterForm\":\"T0SGZ9S9quJJtsMjeUxeP\",\"buttons\":\"_3OoPApY64vwJFRTsVdIiYe\",\"show\":\"DiilWLLRiGdVgvaWcPV-z\",\"all\":\"X76HWQlh0vGlIzaWRfNYx\",\"active\":\"_2uAwd5KTNoVAQbknbx5lbj\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"_1r3sCwx5GoYkczwHOggk9T\",\"currencyWalletWrapper\":\"_2IFVqFwxDJn0Xu42yL6FdO\",\"currencyWalletBalance\":\"Y_hfRK7zIBwqJWI-m6Uwg\",\"currencyWalletActivity\":\"_1jhyc0AQ1IgdVEempMJN7-\",\"title\":\"_1Z5i2_yNnLBEhOVbVTtK_k\",\"heading\":\"_3wcn3qIeDNkg6IbQmxWzDM\",\"currencyHistory\":\"_1OJzl_2xgwrHskFm9x4rPH\",\"historyContent\":\"_361tNiTn8EjYBuozZDSG4G\",\"btc\":\"_2HXC_mZFTVuwSnX-qYlGvC\",\"subtitle\":\"FUQnG42Kxd5JFJ3JSar3-\",\"table\":\"_14xX6XF1ZLoWAi0lAqA365\",\"inRow\":\"_394tmLIpS-yFbztUmLn3h\",\"button\":\"_3uYwVDJRVEss6mbxVTSq6X\",\"actions\":\"WMqtdOhQIaQiqeNwrNBe9\",\"widgetNav\":\"hb-E5G-LiszItz7wa15Jk\",\"widgetNavItem\":\"_1dcI-g0HCTiZ7c3R_5YhfW\",\"active\":\"_30NxFMyaJaKypeP3qwVvlj\",\"widgetNavItemLink\":\"_3QFX3m_joWBHRCGaCDpAwm\",\"info\":\"_2nSpNTFyVgunP9VW_4PBqG\"};","import getUnixTimeStamp from 'common/utils/getUnixTimeStamp'\n\nconst localStorage = window.localStorage\n\nconst push = ({ key, data, time }) => {\n  const cacheData = {\n    data,\n    time,\n    createtime: getUnixTimeStamp(),\n  }\n\n  let cacheKeys = localStorage.getItem(`${process.env.ENTRY}:cacheKeys`)\n  try {\n    //@ts-ignore: strictNullChecks\n    cacheKeys = JSON.parse(cacheKeys)\n  } catch (e) {}\n  //@ts-ignore\n  if (!cacheKeys) cacheKeys = {}\n  //@ts-ignore\n  cacheKeys[key] = cacheData.createtime + cacheData.time\n  localStorage.setItem(`${process.env.ENTRY}:cache:${key}`, JSON.stringify(cacheData))\n  localStorage.setItem(`${process.env.ENTRY}:cacheKeys`, JSON.stringify(cacheKeys))\n}\n\nconst get = (key) => {\n  let data = localStorage.getItem(`${process.env.ENTRY}:cache:${key}`)\n  try {\n    //@ts-ignore: strictNullChecks\n    data = JSON.parse(data)\n    //@ts-ignore\n    if (data && data.data) {\n      //@ts-ignore\n      return data.data\n    }\n    return false\n  } catch (e) {\n    return false\n  }\n}\n\nconst remove = (key) => {\n  localStorage.removeItem(`${process.env.ENTRY}:cache:${key}`)\n}\n\nconst cleanup = () => {\n  let cacheKeys = localStorage.getItem(`${process.env.ENTRY}:cacheKeys`)\n  const newKeys = {}\n  try {\n    //@ts-ignore: strictNullChecks\n    cacheKeys = JSON.parse(cacheKeys)\n  } catch (e) {}\n  //@ts-ignore\n  if (!cacheKeys) cacheKeys = {}\n\n  const curTime = getUnixTimeStamp()\n\n  //@ts-ignore: strictNullChecks\n  Object.keys(cacheKeys).forEach((key) => {\n    //@ts-ignore: strictNullChecks\n    if (!cacheKeys[key] || (curTime > cacheKeys[key])) {\n      remove(key)\n    } else {\n      //@ts-ignore: strictNullChecks\n      newKeys[key] = cacheKeys[key]\n    }\n  })\n\n  localStorage.setItem(`${process.env.ENTRY}:cacheKeys`, JSON.stringify(newKeys))\n}\n\ncleanup()\n\nexport default {\n  push,\n  get,\n  remove,\n  cleanup,\n}\n","import React, { PureComponent, Fragment } from 'react'\n\nimport { connect } from 'redaction'\nimport actions from 'redux/actions'\nimport { withRouter } from 'react-router-dom'\n\nimport { links, constants } from 'helpers'\n\nimport CSSModules from 'react-css-modules'\nimport styles from 'pages/CurrencyWallet/CurrencyWallet.scss'\n\nimport Row from 'pages/History/Row/Row'\n\nimport Table from 'components/tables/Table/Table'\nimport { FormattedMessage, injectIntl } from 'react-intl'\nimport { localisedUrl } from 'helpers/locale'\nimport config from 'helpers/externalConfig'\nimport ContentLoader from 'components/loaders/ContentLoader/ContentLoader'\nimport lsDataCache from 'helpers/lsDataCache'\n\n\nconst isWidgetBuild = config && config.isWidget\n\n@connect(({\n  user: {\n    btcData,\n    ethData,\n    bnbData,\n    maticData,\n    arbethData,\n    ghostData,\n    nextData,\n    multisigStatus,\n    activeFiat,\n  },\n}) => {\n  return {\n    data: {\n      btc: btcData,\n      eth: ethData,\n      bnb: bnbData,\n      matic: maticData,\n      arbeth: arbethData,\n      ghost: ghostData,\n      next: nextData,\n    },\n    multisigStatus,\n    activeFiat,\n  }\n})\n@withRouter\n@CSSModules(styles, { allowMultiple: true })\nclass InvoicesList extends PureComponent<any, any> {\n  unmounted = false\n\n  constructor(props) {\n    super(props)\n\n    const {\n      match: {\n        params: {\n          type = null,\n          address = null,\n        },\n      },\n    } = props\n\n    let items = false\n    if (type && address) {\n      items = lsDataCache.get(`Invoices_${type.toLowerCase()}_${address.toLowerCase()}`)\n    } else {\n      items = lsDataCache.get(`Invoices_All`)\n    }\n    this.state = {\n      type,\n      address,\n      items,\n    }\n  }\n\n  handleGoWalletHome = () => {\n    const { history, intl: { locale } } = this.props\n\n    history.push(localisedUrl(locale, links.wallet))\n  }\n\n  fetchItems = () => {\n    const {\n      type,\n      address,\n    } = this.state\n\n    if (type && address) {\n      // Fetch for one wallet\n      actions.invoices.getInvoices({\n        currency: type,\n        address,\n      //@ts-ignore\n      }).then((items) => {\n        lsDataCache.push({\n          key: `Invoices_${type.toLowerCase()}_${address.toLowerCase()}`,\n          time: 3600,\n          data: items,\n        })\n        if (!this.unmounted) {\n          this.setState({ items })\n        }\n      })\n    } else {\n      // Fetch for all my wallets\n      const wallets = actions.core.getWallets({})\n      const invoicesData = wallets.map((wallet) => {\n        const {\n          currency: type,\n          address,\n        } = wallet\n\n        return {\n          type,\n          address,\n        }\n      }).filter((wallet) => wallet.address !== `Not connected`)\n\n      actions.invoices.getManyInvoices(invoicesData).then((items) => {\n        lsDataCache.push({\n          key: `Invoices_All`,\n          time: 3600,\n          data: items,\n        })\n        if (!this.unmounted) {\n          this.setState({ items })\n        }\n      })\n    }\n  }\n\n  async componentWillUnmount() {\n    console.log('InvoicesList unmounted')\n    this.unmounted = true\n  }\n\n  async componentDidMount() {\n    console.log('InvoicesList mounted')\n    this.fetchItems()\n  }\n\n  componentDidUpdate(prevProps) {\n    let {\n      match: {\n        params: {\n          type = null,\n          address = null,\n        },\n      },\n    } = this.props\n\n    let {\n      match: {\n        params: {\n          address: prevAddress = null,\n          type: prevType = null,\n        },\n      },\n    } = prevProps\n\n    if ((prevAddress !== address) || (prevType !== type)) {\n      let items = false\n      if (type && address) {\n        items = lsDataCache.get(`Invoices_${type.toLowerCase()}_${address.toLowerCase()}`)\n      } else {\n        items = lsDataCache.get(`Invoices_All`)\n      }\n      this.setState({\n        type,\n        address,\n        items,\n      }, () => {\n        this.fetchItems()\n      })\n    }\n  }\n\n  rowRender = (row, rowIndex) => {\n    const {\n      history,\n      activeFiat,\n    } = this.props\n\n    return (\n      <Row key={rowIndex} {...row} viewType=\"invoice\" activeFiat={activeFiat} history={history} />\n    )\n  }\n\n  render() {\n    let {\n      onlyTable,\n    } = this.props\n\n    const {\n      isRedirecting,\n      items,\n    } = this.state\n\n    if (isRedirecting) return null\n\n    const invoicesTable = (\n      <div styleName=\"currencyWalletActivity\">\n        <h3>\n          <FormattedMessage id=\"InvoicesList_Title\" defaultMessage=\"Invoices\" />\n        </h3>\n        {(items && items.length > 0) ? (\n          <Table rows={items} styleName=\"currencyHistory\" rowRender={this.rowRender} />\n        ) : (\n          //@ts-ignore\n          <ContentLoader rideSideContent empty inner />\n        )}\n      </div>\n    )\n\n    if (onlyTable) {\n      return invoicesTable\n    }\n\n    return (\n      <div styleName=\"root\">\n        {isWidgetBuild && !config.isFullBuild && (\n          <ul styleName=\"widgetNav\">\n            <li styleName=\"widgetNavItem\" onClick={this.handleGoWalletHome}>\n              <a href=\"#\" styleName=\"widgetNavItemLink\">\n                <FormattedMessage id=\"MybalanceswalletNav\" defaultMessage=\"Мои кошельки\" />\n              </a>\n            </li>\n            <li styleName=\"widgetNavItem active\">\n              <a href=\"#\" styleName=\"widgetNavItemLink\">\n                <FormattedMessage id=\"InvoicesList_Title\" defaultMessage=\"Invoices\" />\n              </a>\n            </li>\n          </ul>\n        )}\n        <Fragment>\n          <div styleName=\"currencyWalletWrapper\">\n            <div styleName=\"currencyWalletBalance\">\n              {(items && items.length > 0) ? (\n                <div>\n                  {/* Right form holder */}\n                </div>\n              ) : (\n                //@ts-ignore\n                <ContentLoader leftSideContent />\n              )}\n            </div>\n            <div styleName=\"currencyWalletActivity\">\n              {invoicesTable}\n            </div>\n          </div>\n        </Fragment>\n      </div>\n    )\n  }\n}\n\nexport default injectIntl(InvoicesList)\n","// extracted by mini-css-extract-plugin\nexport default {\"statusFinished\":\"_2lv3IyIHBlsFFi2x9lWb4q\",\"statusRefunded\":\"njeDDUeJ6SRiqkj68SBcE\",\"statusStopped\":\"_2uFJzJAtG-TAQGghjPIBZt\",\"refundStatus\":\"_1AAL78n1xDFOPskjLus4x\"};","import React, { Fragment, Component } from 'react'\nimport PropTypes from 'prop-types'\nimport moment from 'moment/moment'\nimport cx from 'classnames'\n\nimport { links, localStorage } from 'helpers'\nimport actions from 'redux/actions'\nimport { Link } from 'react-router-dom'\n\nimport CSSModules from 'react-css-modules'\nimport styles from './RowHistory.scss'\n\nimport Timer from 'pages/Swap/Timer/Timer'\nimport Avatar from 'components/Avatar/Avatar'\nimport { FormattedMessage, injectIntl } from 'react-intl'\nimport { localisedUrl } from 'helpers/locale'\nimport BigNumber from 'bignumber.js'\n\n\n@CSSModules(styles, { allowMultiple: true })\nclass RowHistory extends Component<any, any> {\n  static propTypes = {\n    row: PropTypes.object,\n  }\n\n  tryRefund = (timeLeft) => {\n    const {\n      row: { id },\n    } = this.props\n\n    if (timeLeft > 0) {\n      return\n    }\n\n    try {\n      const { flow } = actions.core.getSwapById(id)\n\n      const {\n        state: { isFinished, isRefunded, step, scriptBalance, isEthContractFunded },\n        swap: { sellCurrency },\n      } = flow\n      let isPayed = 5,\n        isEmptyBalance = false\n      if (sellCurrency === 'BTC') {\n        isPayed = sellCurrency === 'BTC' ? 4 : 5\n        isEmptyBalance = sellCurrency === 'BTC' ? scriptBalance === 0 : !isEthContractFunded\n      }\n\n      if (sellCurrency === 'GHOST') {\n        isPayed = sellCurrency === 'GHOST' ? 4 : 5\n        isEmptyBalance = sellCurrency === 'GHOST' ? scriptBalance === 0 : !isEthContractFunded\n      }\n\n      if (sellCurrency === 'NEXT') {\n        isPayed = sellCurrency === 'NEXT' ? 4 : 5\n        isEmptyBalance = sellCurrency === 'NEXT' ? scriptBalance === 0 : !isEthContractFunded\n      }\n\n      if (isFinished || isRefunded || (step === isPayed && isEmptyBalance)) {\n        console.group('HISTORY ROW > %c Refund of swap', 'color: red;')\n        console.error(`Refund of swap ${id} is not available`)\n        console.groupEnd()\n        return\n      }\n\n      flow.tryRefund().then((result) => {\n        console.log('refunded', result)\n      })\n    } catch (err) {\n      console.error(`RefundError`, err)\n    }\n  }\n\n  getSwapStatusText = (isFinished: boolean, isRefunded: boolean, isStoppedSwap: boolean) => {\n    if (isFinished) {\n      return <FormattedMessage id=\"RowHistory94\" defaultMessage=\"Finished\" />\n    }\n    if (isRefunded) {\n      return <FormattedMessage id=\"RowHistory77\" defaultMessage=\"Refunded\" />\n    }\n    if (isStoppedSwap) {\n      return <FormattedMessage id=\"RowHistory139\" defaultMessage=\"Stopped\" />\n    }\n\n    return ''\n  }\n\n  closeIncompleted = () => {\n    actions.modals.close('IncompletedSwaps')\n  }\n  componentDidMount() {\n    const {\n      utxoScriptValues: values,\n    } = this.props.row\n\n    if (!values) return\n\n    const lockTime = values.lockTime * 1000\n\n    const timeLeft = lockTime - Date.now()\n\n    this.tryRefund(timeLeft)\n  }\n\n  render() {\n    const {\n      row,\n      intl: { locale },\n    } = this.props\n\n    if (row === 'undefined') {\n      return null\n    }\n\n    let {\n      buyAmount,\n      buyCurrency,\n      sellAmount,\n      utxoScriptValues: values,\n      scriptBalance,\n      isRefunded,\n      isMy,\n      isTurbo,\n      sellCurrency,\n      isFinished,\n      id,\n      scriptValues,\n      isStoppedSwap,\n    } = row\n\n    const canBeRefunded = values && scriptBalance > 0\n    const isDeletedSwap = isFinished || isRefunded\n\n    const date = Date.now() / 1000\n\n    if (!values) {\n      return\n    }\n\n    const lockDateAndTime = moment.unix(values.lockTime || date).format('HH:mm:ss DD/MM/YYYY')\n\n    const swapUri = isTurbo ?\n      `${links.turboSwap}/${id}`\n      :\n      `${links.atomicSwap}/${id}`\n\n    buyAmount = new BigNumber(buyAmount)\n    sellAmount = new BigNumber(sellAmount)\n\n    return (\n      <tr key={id}>\n        <td>\n          <span>You buy</span>\n          {isMy\n            ? `${sellAmount.toFixed(5)} ${sellCurrency.toUpperCase()}`\n            : `${buyAmount.toFixed(5)} ${buyCurrency.toUpperCase()}`}\n        </td>\n        <td>\n          <span>You sell</span>\n          {isMy\n            ? `${buyAmount.toFixed(5)} ${buyCurrency.toUpperCase()}`\n            : `${sellAmount.toFixed(5)} ${sellCurrency.toUpperCase()}`}\n        </td>\n        <td>\n          <span>Lock time</span>\n          {lockDateAndTime.split(' ').map((item, key) => (\n            <Fragment key={key}> {item}</Fragment>\n          ))}\n        </td>\n        <td>\n          <span>Status</span>\n          <p\n            className={cx({\n              [styles.statusFinished]: isFinished,\n              [styles.statusRefunded]: isRefunded,\n              [styles.statusStopped]: isStoppedSwap && (isFinished || isRefunded) ? false : true,\n            })}\n          >\n            {this.getSwapStatusText(isFinished, isRefunded, isStoppedSwap)}\n\n            {!isDeletedSwap && (\n              <div styleName=\"refundStatus\">\n                {canBeRefunded ? (\n                  <Timer lockTime={values.lockTime * 1000} enabledButton={this.tryRefund} />\n                ) : (\n                  <FormattedMessage id=\"RowHistory76\" defaultMessage=\"Refund not available\" />\n                )}\n              </div>\n            )}\n          </p>\n        </td>\n        <td>\n          <Link to={swapUri} onClick={this.closeIncompleted}>\n            <FormattedMessage id=\"RowHistory91\" defaultMessage=\"Link\" />\n          </Link>\n        </td>\n      </tr>\n    )\n  }\n}\n\nexport default injectIntl(RowHistory)\n","import React, { PureComponent } from 'react'\n\nimport Table from 'components/tables/Table/Table'\nimport styles from 'components/tables/Table/Table.scss'\nimport RowHistory from './RowHistory/RowHistory'\n\nimport { FormattedMessage } from 'react-intl'\n\nimport CSSModules from 'react-css-modules'\nimport stylesSwaps from './SwapsHistory.scss'\n\n@CSSModules({ ...styles, ...stylesSwaps }, { allowMultiple: true })\nexport default class SwapsHistory extends PureComponent<any, any> {\n\n  render() {\n    let { orders } = this.props\n\n    if (orders === null || orders.length === 0) {\n      return null\n    }\n\n    return (\n      <div styleName=\"swapsHistory\">\n        <h3>\n          <FormattedMessage id=\"SwapHisrory21\" defaultMessage=\"Swaps history\" />\n        </h3>\n        <Table\n          id=\"table-history\"\n          className={styles.historySwap}\n          rows={orders.reverse()}\n          rowRender={(row, index) => (\n            <RowHistory\n              key={index}\n              row={row}\n            />\n          )}\n        />\n      </div>\n    )\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"swapsHistory\":\"_3ztqkLjjYvNgUeaZSR4K2W\"};","import React, { Component, Fragment } from 'react'\nimport CSSModules from 'react-css-modules'\n\nimport { connect } from 'redaction'\nimport actions from 'redux/actions'\nimport { constants } from 'helpers'\n\nimport Row from './Row/Row'\n\nimport styles from 'components/tables/Table/Table.scss'\nimport stylesHere from './History.scss'\n\nimport InfiniteScrollTable from 'components/tables/InfiniteScrollTable/InfiniteScrollTable'\nimport { FormattedMessage, injectIntl } from 'react-intl'\nimport ContentLoader from '../../components/loaders/ContentLoader/ContentLoader'\nimport FilterForm from 'components/FilterForm/FilterForm'\n\nimport InvoicesList from 'pages/Invoices/InvoicesList'\nimport SwapsHistory from 'pages/History/SwapsHistory/SwapsHistory'\n\nimport { onInit as onSwapCoreInited } from 'instances/newSwap'\n\n\nconst filterHistory = (items, filter) => {\n  if (filter === 'sent') {\n    return items.filter(({ direction }) => direction === 'out')\n  }\n\n  if (filter === 'received') {\n    return items.filter(({ direction }) => direction === 'in')\n  }\n\n  return items\n}\n\n@connect(({\n  user: { activeFiat },\n  history: {\n    transactions,\n    filter,\n    swapHistory,\n  },\n}) => ({\n  activeFiat,\n  items: filterHistory(transactions, filter),\n  swapHistory,\n}))\n@CSSModules(stylesHere, { allowMultiple: true })\nclass History extends Component<any, any> {\n\n  constructor(props) {\n    super(props)\n\n    const {\n      items,\n      match: {\n        params: {\n          page = null,\n        }\n      }\n    } = props\n\n    const commentsList = actions.comments.getComments()\n\n    this.state = {\n      page,\n      items,\n      filterValue: \"\",\n      isLoading: false,\n      renderedItems: 10,\n      commentsList: commentsList || null\n    }\n  }\n\n  componentDidMount() {\n    const user = this.props.user\n    const objCurrency = {}\n\n    for (let prop in user) {\n      if (typeof user[prop] === 'object' && !!user[prop] && user[prop].currency) {\n        objCurrency[user[prop].currency] = {\n          isBalanceFetched: user[prop].isBalanceFetched,\n        }\n      }\n    }\n\n    actions.user.setTransactions(objCurrency)\n    onSwapCoreInited(() => {\n      actions.core.getSwapHistory()\n    })\n  }\n\n  componentDidUpdate(prevProps) {\n    const { items: prevItems } = prevProps\n    const { items } = this.props\n\n    if (items !== prevItems) {\n      this.createItemsState(items)\n    }\n  }\n\n  createItemsState = (items) => {\n    this.setState(() => ({ items }))\n  }\n\n  loadMore = () => {\n    const { items } = this.props\n    const { renderedItems } = this.state\n\n    if (renderedItems < items.length) {\n      this.setState(state => ({\n        renderedItems: state.renderedItems + Math.min(10, items.length - state.renderedItems),\n      }))\n    }\n  }\n\n  rowRender = (row, rowIndex) => {\n    const { activeFiat } = this.props\n    const { commentsList } = this.state\n\n    return (\n      <Row\n        activeFiat={activeFiat}\n        key={rowIndex}\n        hiddenList={commentsList}\n        {...row}\n      />\n    )\n  }\n\n  handleFilterChange = ({ target }) => {\n    const { value } = target\n\n    this.setState(() => ({ filterValue: value }))\n  }\n\n  handleFilter = () => {\n    const { filterValue, items } = this.state\n\n    if (filterValue && filterValue.length) {\n      const newRows = items.filter(({ address }) => address && address.includes(filterValue.toLowerCase()))\n      this.setState(() => ({ items: newRows }))\n\n    } else {\n      this.resetFilter()\n    }\n  }\n\n  loading = () => {\n    this.setState(() => ({ isLoading: true }))\n    setTimeout(() => this.setState(() => ({ isLoading: false })), 1000)\n  }\n\n  resetFilter = () => {\n\n    this.loading()\n    const { items } = this.props\n    this.setState(() => ({ filterValue: \"\" }))\n\n    this.createItemsState(items)\n  }\n\n  render() {\n    const { filterValue, items, isLoading } = this.state\n    const { swapHistory } = this.props\n    const titles = []\n\n    return (\n      <Fragment>\n      <section styleName=\"history\">\n        <h3 styleName=\"historyHeading\">\n          <FormattedMessage id=\"History_Activity_Title\" defaultMessage=\"Activity\" />\n        </h3>\n        {items ? (\n          <div>\n            <FilterForm\n              filterValue={filterValue}\n              onSubmit={this.handleFilter}\n              onChange={this.handleFilterChange}\n              resetFilter={this.resetFilter}\n            />\n            <div>\n              {\n                items.length > 0 && !isLoading ? (\n                  <InfiniteScrollTable\n                    className={styles.history}\n                    titles={titles}\n                    bottomOffset={400}\n                    getMore={this.loadMore}\n                    itemsCount={items.length}\n                    items={items.slice(0, this.state.renderedItems)}\n                    rowRender={this.rowRender}\n                  />\n                ) : (\n                  //@ts-ignore\n                  <ContentLoader rideSideContent empty={!isLoading} nonHeader />\n                )\n              }\n            </div>\n          </div>\n          ) : (\n            <div styleName=\"historyLoader\">\n              {/*\n              //@ts-ignore */}\n              <ContentLoader rideSideContent />\n            </div>\n          )\n        }\n      </section>\n\n      <InvoicesList onlyTable />\n\n      { swapHistory.length > 0 &&\n        <SwapsHistory orders={swapHistory.filter((item) => item.step >= 1)} />\n      }\n\n      </Fragment>\n    )\n  }\n}\n\nexport default injectIntl(History)\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"_1YJ3ahjL14FhVWCIEUahDa\",\"closeButton\":\"_3waOZPpjlOZf0OQV-jF_Gk\",\"mobileFormBody\":\"_1XlEfuXwitydw6XhIiQ0Qf\",\"formBody\":\"_2oxC0OuOtS00JS9UhsvbcZ\",\"currencyChooserWrapper\":\"_3ttUbqU_TzQn2Y5ThWw86J\",\"inLine\":\"_1bdHl1zU3k8Ut2cl0AIrX1\",\"notMain\":\"_3tdDcowOq9ct4Ti9BS71tX\",\"stepNumber\":\"_1lyN4lkvc3TE9pqxz4t4kr\",\"logo\":\"_1UpE1ssyp8AkEDsL9WjkzV\",\"purple\":\"_1pTcu4VlzrjBTDXPsebdqI\",\"green\":\"_3TUtgfnYuyDAYQlqxc2tND\",\"assetsTableIcon\":\"_2k6-suSo54HYi9ZYQWmbjH\",\"continue\":\"vWuA80BaLFeLZDJOWJI7g\",\"subHeader\":\"zBtPjTAxhPZzezxyuaaNg\",\"smallArr\":\"_30u21P_OE3iFZINbfL89jD\",\"alertTooltipWrapper\":\"_2cZwq4l_lHxEy9epAzlmup\",\"buttonWrapper\":\"_225_9ACbEMx_acTwCtMTrc\",\"card\":\"KMQ2lb4S6iCcx6eLD-SuY\",\"currencyInfoList\":\"V3i1Djiq9K5yprJAA_BA\",\"connectWalletIcon\":\"CPsE5wxuj2cunRSEgUQis\",\"cupture1\":\"_1UR5oCcZ832cde9OHKWJ1e\",\"cardDisabled\":\"_3G3kn-94rV3hm5GduaoG40\",\"purpleBorder\":\"jeNsIH3immfoLhMEgQGJa\",\"cardActivated\":\"_36SxLETQ1sQck3y8SolANa\",\"secureSize\":\"_3qfz8if0PhaHZ6C_Ym0GhP\",\"securityIcon\":\"_2qHmo9LTcKqOOtGIa_cp1e\",\"flex\":\"_3EB2XSau5qhk-K_NX8ZanY\",\"ind\":\"_5pbwOQU-MfxMVGaC8bjYc\",\"second\":\"_2o1sBib-v5_pTysseSv-z9\",\"capture\":\"_1JTg-kbOlfbKfliSPcwwz-\",\"steps\":\"dBTE0GCEPOhqYmDmB6pNB\",\"thirdCard\":\"_2lcztYygglGE-ndOJCxAo6\",\"error\":\"_1fwREhpPaX5kAHjNVwgFA2\"};","import config from 'helpers/externalConfig'\n\nconst curEnabled = config.opts.curEnabled\n\n// TODO: Move it in a better place\n\nexport const defaultPack = [\n  ...(!curEnabled || curEnabled.btc ? [{ name: 'BTC', capture: 'Bitcoin' }] : []),\n\n  ...(!curEnabled || curEnabled.eth ? [{ name: 'ETH', capture: 'Ethereum' }] : []),\n  ...(config.erc20 ? [{ name: 'ERC20', capture: 'Token', baseCurrency: 'ETH' }] : []),\n\n  ...(!curEnabled || curEnabled.bnb ? [{ name: 'BNB', capture: 'Binance Coin' }] : []),\n  ...(config.bep20 ? [{ name: 'BEP20', capture: 'Token', baseCurrency: 'BNB' }] : []),\n\n  ...(!curEnabled || curEnabled.matic ? [{ name: 'MATIC', capture: 'MATIC Token' }] : []),\n  ...(config.erc20matic ? [{ name: 'ERC20MATIC', capture: 'Token', baseCurrency: 'MATIC' }] : []),\n\n  ...(!curEnabled || curEnabled.arbeth ? [{ name: 'ARBETH', capture: 'Arbitrum ETH' }] : []),\n\n  ...(!curEnabled || curEnabled.ghost ? [{ name: 'GHOST', capture: 'Ghost' }] : []),\n  ...(!curEnabled || curEnabled.next ? [{ name: 'NEXT', capture: 'NEXT.coin' }] : []),\n\n  ...(config.bep20 ? [{ name: 'BTCB', capture: 'BTCB Token', baseCurrency: 'BNB' }] : []),\n  ...(config.erc20\n    ? [\n        { name: 'WBTC', capture: 'Wrapped Bitcoin', baseCurrency: 'ETH' },\n        { name: 'USDT', capture: 'Tether', baseCurrency: 'ETH' },\n        { name: 'EURS', capture: 'Eurs', baseCurrency: 'ETH' },\n      ]\n    : []),\n  ...(config.erc20matic ? [{ name: 'WBTC', capture: 'WBTC Token', baseCurrency: 'MATIC' }] : []),\n  ...(process.env.MAINNET\n    ? [{ name: 'SWAP', capture: 'Swap', baseCurrency: 'ETH' }]\n    : [{ name: 'WEENUS', capture: 'Weenus', baseCurrency: 'ETH' }]),\n]\n\nexport const widgetPack = [\n  ...(!curEnabled || curEnabled.btc ? [{ name: 'BTC', capture: 'Bitcoin' }] : []),\n  ...(!curEnabled || curEnabled.eth ? [{ name: 'ETH', capture: 'Ethereum' }] : []),\n  ...(config.erc20 ? [{ name: 'ERC20', capture: 'Token', baseCurrency: 'ETH' }] : []),\n  ...(!curEnabled || curEnabled.bnb ? [{ name: 'BNB', capture: 'Binance Coin' }] : []),\n  ...(config.bep20 ? [{ name: 'BEP20', capture: 'Token', baseCurrency: 'BNB' }] : []),\n  ...(!curEnabled || curEnabled.matic ? [{ name: 'MATIC', capture: 'MATIC Token' }] : []),\n  ...(config.erc20matic ? [{ name: 'ERC20', capture: 'Token', baseCurrency: 'MATIC' }] : []),\n  ...(!curEnabled || curEnabled.arbeth ? [{ name: 'ARBETH', capture: 'Arbitrum ETH' }] : []),\n  ...(!curEnabled || curEnabled.ghost ? [{ name: 'GHOST', capture: 'Ghost' }] : []),\n  ...(!curEnabled || curEnabled.next ? [{ name: 'NEXT', capture: 'NEXT.coin' }] : []),\n]\n","// extracted by mini-css-extract-plugin\nexport default {\"coin\":\"_3hE6vDuRstbho-MKfapAWQ\",\"noColors\":\"_2uS54uC4ckZSgWjOITjMNc\",\"icon\":\"exuYk2RZu4VqC09kA9tN1\",\"letter\":\"_2q0RY0lGvvDnCM2XilLtvn\"};","export default __webpack_public_path__ + \"images/btc_dbe6fa.svg\";","export default __webpack_public_path__ + \"images/eth_4c4c45.svg\";","export default __webpack_public_path__ + \"images/bnb_7ed5b8.svg\";","export default __webpack_public_path__ + \"images/matic_004b10.svg\";","export default __webpack_public_path__ + \"images/arbeth_433cc8.svg\";","export default __webpack_public_path__ + \"images/wbtc_0b63ba.svg\";","export default __webpack_public_path__ + \"images/icx_9e5f59.svg\";","export default __webpack_public_path__ + \"images/waves_c745ec.svg\";","export default __webpack_public_path__ + \"images/xrp_814ed4.svg\";","export default __webpack_public_path__ + \"images/swap_74345d.svg\";","export default __webpack_public_path__ + \"images/usdt_5e33e1.svg\";","export default __webpack_public_path__ + \"images/syc2_8118a1.svg\";","export default __webpack_public_path__ + \"images/drt_c33d9d.svg\";","export default __webpack_public_path__ + \"images/omg_4fc058.svg\";","export default __webpack_public_path__ + \"images/yup_303414.svg\";","export default __webpack_public_path__ + \"images/kn_21e17c.svg\";","export default __webpack_public_path__ + \"images/arn_e03233.svg\";","export default __webpack_public_path__ + \"images/lev_dd4a33.svg\";","export default __webpack_public_path__ + \"images/bxb_daa748.svg\";","import btc from './btc.svg'\nimport eth from './eth.svg'\nimport bnb from './bnb.svg'\nimport matic from './matic.svg'\nimport arbeth from './arbeth.svg'\nimport wbtc from './wbtc.svg'\nimport icx from './icx.svg'\nimport waves from './waves.svg'\nimport xrp from './xrp.svg'\nimport swap from './swap.svg'\nimport usdt from './usdt.svg'\nimport syc2 from './syc2.svg'\nimport drt from './drt.svg'\nimport omg from './omg.svg'\nimport yup from './yup.svg'\nimport kn from './kn.svg'\nimport arn from './arn.svg'\nimport lev from './lev.svg'\nimport bxb from './bxb.svg'\nimport dcn from './dcn.svg'\nimport pay from './pay.png'\nimport eurs from './eurs.svg'\nimport ghost from './ghost.svg'\nimport next from './next.svg'\n\n\nexport default {\n  btc,\n  'btc (multisig)': btc,\n  'btc (sms-protected)': btc,\n  'btc (pin-protected)': btc,\n  wbtc,\n  dcn,\n  bxb,\n  kn,\n  drt,\n  lev,\n  arn,\n  omg,\n  eth,\n  bnb,\n  matic,\n  arbeth,\n  syc2,\n  icx,\n  usdt,\n  swap,\n  waves,\n  xrp,\n  yup,\n  pay,\n  eurs,\n  ghost,\n  next,\n}\n","export default __webpack_public_path__ + \"images/dcn_cff5c4.svg\";","export default __webpack_public_path__ + \"images/pay_f76fe2.png\";","export default __webpack_public_path__ + \"images/eurs_e40bdb.svg\";","export default __webpack_public_path__ + \"images/ghost_3fa9cb.svg\";","export default __webpack_public_path__ + \"images/next_477a7b.svg\";","import React from 'react'\nimport cssModules from 'react-css-modules'\nimport styles from './CurrencyIcon.scss'\nimport TOKEN_STANDARDS from 'helpers/constants/TOKEN_STANDARDS'\nimport icons from './images'\nimport getCoinInfo from 'common/coins/getCoinInfo'\nimport { FormattedMessage } from 'react-intl'\nimport config from 'app-config'\n\nexport const currencyIcons = Object.keys(icons)\n\nfunction returnTokenIcon(name) {\n  try {\n    for (const key in TOKEN_STANDARDS) {\n      const standard = TOKEN_STANDARDS[key].standard\n      const icon = config[standard][name]?.icon\n\n      if (icon) return icon\n    }\n  } catch (error) {\n    console.group('%c CurrencyIcon', 'color: red')\n    console.error('can\\'t to load currency icon')\n    console.groupEnd()\n  }\n}\n\ntype CurrencyIconProps = {\n  style?: { [key: string]: string }\n  className?: string\n  name: string\n  source?: string\n}\n\nconst CurrencyIcon = (props: CurrencyIconProps) => {\n  const { className, style, name: coinName , source } = props\n  const {\n    coin: name,\n    blockchain,\n  } = getCoinInfo(coinName)\n\n  if (typeof name === 'undefined') {\n    return <p><FormattedMessage id=\"currencyIcon15\" defaultMessage=\"Error\" /></p>\n  }\n\n  if (source) {\n    return (\n      <img\n        styleName=\"sizeLimit\"\n        src={source}\n        style={style}\n        alt=\"icon\"\n        role=\"image\"\n      />\n    )\n  }\n\n  const tokenIcon = returnTokenIcon(name.toLowerCase())\n\n  if (tokenIcon) {\n    return (\n      <img\n        styleName=\"sizeLimit\"\n        src={tokenIcon}\n        alt={`${name} icon`}\n        role=\"image\"\n      />\n    )\n  }\n\n  const isIconExist = currencyIcons.includes(name.toLowerCase())\n\n  if (isIconExist) {\n    return (\n      <img\n        styleName=\"sizeLimit\"\n        className={className}\n        src={icons[name.toLowerCase()]}\n        alt={`${name} icon`}\n        role=\"image\"\n      />\n    )\n  }\n\n  return (\n    <span\n      className={className}\n      style={style}\n      styleName=\"text\"\n      role=\"letter\"\n    >\n      {name.charAt(0).toUpperCase()}\n    </span>\n  )\n}\n\n\nexport default cssModules(CurrencyIcon, styles)\n","// extracted by mini-css-extract-plugin\nexport default {\"text\":\"_2D60zgtgmFDupvEt10FEVO\",\"sizeLimit\":\"_2zRbMDF1TDtUmp-gAoxYwK\"};","import React from 'react'\nimport CSSModules from 'react-css-modules'\nimport styles from './Coin.scss'\nimport web3Icons from 'images'\nimport CurrencyIcon, { currencyIcons } from 'components/ui/CurrencyIcon/CurrencyIcon'\nimport config from 'app-config'\n\nconst defaultCurrencyColors = {\n  'btc': 'orange',\n  'btc (multisig)': 'orange',\n  'btc (sms-protected)': 'orange',\n  'btc (pin-protected)': 'orange',\n  'usdt': '#33a681',\n  'ghost': 'black',\n  'next': 'white',\n}\n\ntype CoinProps = {\n  className?: string\n  size?: number\n  name: string\n}\n\nconst Coin = (props: CoinProps) => {\n  const {\n    size = 40,\n    className, \n    name,\n  } = props\n\n  const isIconExist = currencyIcons.includes(name.toLowerCase())\n  const iconSource = web3Icons[name]\n  let isIconConfigExist = false\n\n  if (\n    config?.erc20[name.toLowerCase()]?.icon ||\n    config?.bep20[name.toLowerCase()]?.icon ||\n    config?.erc20matic[name.toLowerCase()]?.icon\n  ) {\n    isIconConfigExist = true\n  }\n\n  // Coin styles *************************\n\n  const style: {\n    [ k: string]: string | null\n  } = {\n    width: size ? `${size}px` : null,\n    height: size ? `${size}px` : null,\n  }\n\n  if (defaultCurrencyColors[name.toLowerCase()]) {\n    style.backgroundColor = defaultCurrencyColors[name.toLowerCase()]\n  }\n\n  if (config?.erc20[name.toLowerCase()]?.iconBgColor) {\n    style.backgroundColor = config.erc20[name.toLowerCase()].iconBgColor\n  }\n\n  if (config?.bep20[name.toLowerCase()]?.iconBgColor) {\n    style.backgroundColor = config.bep20[name.toLowerCase()].iconBgColor\n  }\n\n  if (config?.erc20matic[name.toLowerCase()]?.iconBgColor) {\n    style.backgroundColor = config.erc20matic[name.toLowerCase()].iconBgColor\n  }\n\n  // *************************************\n\n  let currencyIconProps = {\n    name: name.toLowerCase(),\n    styleName: '',\n    style: {},\n    source: iconSource,\n  }\n\n  if (isIconExist || isIconConfigExist) {\n    currencyIconProps.styleName = 'icon'\n  } else {\n    currencyIconProps.styleName = 'letter'\n    currencyIconProps.style = {\n      lineHeight: `${size}px`,\n      fontSize: `${size / 2}px`,\n    }\n  }\n\n  return (\n    <div \n      styleName={`coin ${iconSource ? 'noColors' : ''}`}\n      className={className}\n      style={style}\n    >\n      <CurrencyIcon {...currencyIconProps} />\n    </div>\n  )\n}\n\nexport default CSSModules(Coin, styles, { allowMultiple: true })\n","import React from 'react'\n\nimport { isMobile } from 'react-device-detect'\n\n\nexport const color = (step, el) => {\n  if (step === el) {\n    return 'purple'\n  } else if (isMobile ? el < step : el > step) {\n    return 'green'\n  }\n  return ''\n}\n","import React, { useState } from 'react'\n\nimport { connect } from 'redaction'\n\nimport CSSModules from 'react-css-modules'\n\nimport { isMobile } from 'react-device-detect'\n\nimport styles from './CreateWallet.scss'\nimport { color } from './chooseColor'\nimport check from './images/check'\n\n\nconst Explanation = ({ subHeaderText, children, step, createWallet: { step: stepNum }, notMain, isShow }) => (\n  <div styleName={`inLine ${notMain ? 'notMain' : ''}`}>\n    {!isMobile && !isShow &&\n      <div styleName={`stepNumber ${color(step, stepNum)}`}>\n        {stepNum > step ? check() : step}\n      </div>\n    }\n    <div styleName={`subHeader ${step === '2' ? 'second' : ''}`}>\n      <h5>\n        {subHeaderText}\n      </h5>\n      <p styleName=\"capture\">\n        {children}\n      </p>\n    </div>\n  </div>\n)\nexport default connect({\n  createWallet: 'createWallet',\n})(CSSModules(Explanation, styles, { allowMultiple: true }))\n","import React from 'react'\n\n/* eslint-disable */\nexport default () => (\n  <img alt=\"svgImg\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjBweCIgeT0iMHB4Igp3aWR0aD0iMjQiIGhlaWdodD0iMjQiCnZpZXdCb3g9IjAgMCAyMjYgMjI2IgpzdHlsZT0iIGZpbGw6IzAwMDAwMDsiPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIHN0cm9rZS1saW5lY2FwPSJidXR0IiBzdHJva2UtbGluZWpvaW49Im1pdGVyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjAiIGZvbnQtZmFtaWx5PSJub25lIiBmb250LXdlaWdodD0ibm9uZSIgZm9udC1zaXplPSJub25lIiB0ZXh0LWFuY2hvcj0ibm9uZSIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOiBub3JtYWwiPjxwYXRoIGQ9Ik0wLDIyNnYtMjI2aDIyNnYyMjZ6IiBmaWxsPSJub25lIj48L3BhdGg+PGcgZmlsbD0iI2ZmZmZmZiI+PHBhdGggZD0iTTE5MS4wOTIxMiw0OS44NDIxMmwtMTA2LjM0MjEyLDEwNi4zNDIxM2wtNDAuNDI1NDYsLTQwLjQyNTQ2bC0xMy4zMTU3NSwxMy4zMTU3NWw1My43NDEyMSw1My43NDEyMWwxMTkuNjU3ODgsLTExOS42NTc4N3oiPjwvcGF0aD48L2c+PC9nPjwvc3ZnPg==\" />\n)\n","import React from 'react'\nimport { FormattedMessage } from 'react-intl'\nimport CSSModules from 'react-css-modules'\n\nimport styles from '../CreateWallet.scss'\n\n\nexport const subHeaderText1 = () => (\n  <FormattedMessage\n    id=\"createWalletSubHeader1\"\n    defaultMessage=\"Укажите валюту кошелька\"\n  />\n)\n\n/* eslint-disable */\nconst Cupture = () => (\n  <>\n    <span styleName=\"cupture1\">\n      <FormattedMessage\n        id=\"createWalletCapture1\"\n        defaultMessage=\"На выбор Bitcoin, Ethereum, Swap, Tokens\"\n      />\n    </span>\n  </>\n)\n\nexport default CSSModules(Cupture, styles, { allowMultiple: true })\n\nexport const subHeaderText2 = () => (\n  <FormattedMessage\n    id=\"createWalletSubHeader2\"\n    defaultMessage=\"Выберите уровень защиты вашего кошелька\"\n  />\n)\n\nexport const cupture2 = () => (\n  <FormattedMessage\n    id=\"createWalletCapture2\"\n    defaultMessage=\"Без защиты, sms, google auth, мультисиг\"\n  />\n)\n/* eslint-enable */\n","import React from 'react'\n\nimport CSSModules from 'react-css-modules'\nimport styles from '../CreateWallet.scss'\n\nimport { isMobile } from 'react-device-detect'\n\nimport { FormattedMessage } from 'react-intl'\nimport Coin from 'components/Coin/Coin'\n\nimport Explanation from '../Explanation'\nimport config from 'helpers/externalConfig'\n\nimport Cupture, {\n  subHeaderText1,\n  subHeaderText2,\n  cupture2,\n} from './texts'\n\nconst isWidgetBuild = config && config.isWidget\n\n\nfunction FirstStep(props) {\n  const { onClick, error, curState, startPack, handleClick } = props\n\n  return (\n    <div>\n      <div>\n        <div>\n          <Explanation step={1} subHeaderText={subHeaderText1()}>\n            {!isWidgetBuild && (\n              <Cupture />\n            )}\n          </Explanation>\n          <div styleName={`currencyChooserWrapper ${startPack.length < 4 ? \"smallArr\" : \"\"}`}>\n            {startPack.map((el, index) => {\n              const { name, capture, baseCurrency } = el\n              const firstIdPart = `${baseCurrency ? `${baseCurrency}${name}` : `${name}`}`\n              const secondIdPart = 'Wallet'\n              const selectedCurrency = `${\n                baseCurrency ? `{${baseCurrency}}${name}` : `${name}`\n              }`.toUpperCase()\n\n              return (\n                <div\n                  id={firstIdPart.toLowerCase() + secondIdPart}\n                  key={index}\n                  styleName={`card ${curState[selectedCurrency] ? 'purpleBorder' : ''}`}\n                  onClick={() => handleClick(selectedCurrency)}\n                >\n                  <div styleName=\"logo\">\n                    <Coin name={name} styleName=\"assetsTableIcon\" />\n                  </div>\n                  <ul styleName=\"currencyInfoList\">\n                    <li><b>{name}</b></li>\n                    <li>{baseCurrency && `(${baseCurrency}) `}{capture}</li>\n                  </ul>\n                </div>\n              )\n            })}\n          </div>\n        </div>\n        <button id='continueBtn' styleName=\"continue\" onClick={onClick} disabled={error}>\n          <FormattedMessage id=\"createWalletButton1\" defaultMessage=\"Продолжить\" />\n        </button>\n      </div>\n      {\n        !isMobile &&\n        <div>\n          <Explanation step={2} subHeaderText={subHeaderText2()} notMain>\n            {cupture2()}\n          </Explanation>\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default CSSModules(FirstStep, styles, { allowMultiple: true })\n","import swap from 'components/ui/CurrencyIcon/images/swap.svg'\nimport btc from 'components/ui/CurrencyIcon/images/btc.svg'\nimport eth from 'components/ui/CurrencyIcon/images/eth.svg'\nimport usdt from 'components/ui/CurrencyIcon/images/usdt.svg'\n\nimport withoutSecure from './withoutSecure.svg'\nimport sms from './sms.svg'\nimport pin from './pin.svg'\nimport google2FA from './google2FA.svg'\nimport multisignature from './multisignature.svg'\nimport fingerprint from './fingerprint.svg'\n\n\nexport default {\n  btc,\n  swap,\n  eth,\n  usdt,\n  withoutSecure,\n  sms,\n  pin,\n  google2FA,\n  multisignature,\n  fingerprint,\n}\n","export default __webpack_public_path__ + \"images/withoutSecure_54478f.svg\";","export default __webpack_public_path__ + \"images/sms_b50f11.svg\";","export default __webpack_public_path__ + \"images/pin_b50f11.svg\";","export default __webpack_public_path__ + \"images/google2FA_e041bd.svg\";","export default __webpack_public_path__ + \"images/multisignature_f16506.svg\";","export default __webpack_public_path__ + \"images/fingerprint_5813ba.svg\";","import React, { useState, useEffect, useRef } from 'react'\nimport CSSModules from 'react-css-modules'\nimport styles from '../CreateWallet.scss'\nimport reducers from 'redux/core/reducers'\n\nimport { FormattedMessage, injectIntl } from 'react-intl'\nimport { isMobile } from 'react-device-detect'\n\nimport actions from 'redux/actions'\nimport { constants } from 'helpers'\nimport feedback from 'shared/helpers/feedback'\nimport Explanation from '../Explanation'\nimport icons from '../images'\nimport Cupture, {\n  subHeaderText1,\n  subHeaderText2,\n  cupture2,\n} from './texts'\n\n\nconst SecondStep = (props) => {\n  const { \n    intl: { locale }, \n    onClick, \n    currencies, \n    error, \n    setError, \n    forcedCurrencyData, \n    btcData,\n  } = props\n\n  const _protection = {\n    sms: {},\n    pin: {\n      btc: true,\n    },\n    g2fa: {},\n    multisign: {},\n    fingerprint: {},\n  }\n\n  const _activated = {\n    nothing: {},\n    sms: {},\n    pin: {},\n    g2fa: {},\n    multisign: {},\n    fingerprint: {},\n  }\n\n  const { hiddenCoinsList } = constants.localStorage\n  //@ts-ignore: strictNullChecks\n  const hiddenCoins = JSON.parse(localStorage.getItem(hiddenCoinsList))\n\n  if (currencies.BTC) {\n    //@ts-ignore\n    _protection.sms.btc = true\n    //@ts-ignore\n    _protection.pin.btc = true\n    //@ts-ignore\n    _protection.g2fa.btc = false\n    //@ts-ignore\n    _protection.multisign.btc = true\n    //@ts-ignore\n    _protection.fingerprint.btc = true\n    //@ts-ignore\n    _activated.nothing.btc = btcData.balance > 0 || (hiddenCoins.length ? !hiddenCoins.includes('BTC') && !hiddenCoins.includes(`BTC:${btcData.address}`) : false)\n    //@ts-ignore\n    _activated.sms.btc = actions.btcmultisig.checkSMSActivated()\n    //@ts-ignore\n    _activated.pin.btc = actions.btcmultisig.checkPINActivated()\n    //@ts-ignore\n    _activated.g2fa.btc = actions.btcmultisig.checkG2FAActivated()\n    //@ts-ignore\n    _activated.multisign.btc = actions.btcmultisig.checkUserActivated()\n    //@ts-ignore\n    _activated.fingerprint.btc = false\n  }\n\n  const [border, setBorder] = useState({\n    color: {\n      withoutSecure: false,\n      sms: false,\n      pin: false,\n      google2FA: false,\n      multisignature: false,\n    },\n    selected: '',\n  })\n\n  const [isFingerprintAvailable, setFingerprintAvaillable] = useState(false)\n\n  const thisComponentInitHelper = useRef(true)\n\n  const [isFingerprintFeatureAsked, setFingerprintFeatureAsked] = useState(false)\n  const [isTrivialFeatureAsked, setTrivialFeatureAsked] = useState(false)\n  const [isSmsFeatureAsked, setSmsFeatureAsked] = useState(false)\n  const [isPinFeatureAsked, setPinFeatureAsked] = useState(false)\n  const [is2FAFeatureAsked, set2FAFeatureAsked] = useState(false)\n  const [isMultisigFeatureAsked, setMultisigFeatureAsked] = useState(false)\n\n  useEffect(() => {\n    try {\n      //@ts-ignore\n      if (typeof PublicKeyCredential !== 'undefined') {\n        // eslint-disable-next-line no-undef\n        //@ts-ignore\n        if (thisComponentInitHelper.current && PublicKeyCredential) {\n          // eslint-disable-next-line no-undef\n          //@ts-ignore\n          PublicKeyCredential\n            .isUserVerifyingPlatformAuthenticatorAvailable()\n            .then(result => {\n              if (result) {\n                setFingerprintAvaillable(true)\n              }\n            })\n            .catch(e => console.error(e))\n        }\n      }\n    } catch (error) {\n      console.error(error)\n    }\n  })\n\n  const handleFinish = () => {\n    if (currencies.BTC) {\n      feedback.createWallet.finished('BTC')\n    } else {\n      feedback.createWallet.finished()\n    }\n    onClick()\n    // onCreateTrigger()\n  }\n\n  const handleClick = (index, el) => {\n    const { name, enabled, activated } = el\n\n    if (el.name === 'fingerprint') {\n      // eslint-disable-next-line no-alert\n      alert('We don\\'t support this type of device for now :(')\n      return null\n    }\n\n    if (!enabled) {\n      return\n    }\n    // if (activated) return\n    const colors = border.color\n\n    Object.keys(border.color).forEach(el => {\n      if (el !== name) {\n        colors[el] = false\n      } else {\n        colors[el] = true\n      }\n    })\n    setBorder({ color: colors, selected: name })\n    reducers.createWallet.newWalletData({ type: 'secure', data: name })\n    setError(null)\n  }\n\n  const currencyName = Object.keys(currencies).filter((el) => currencies[el])[0] || 'Cant define currency'\n  const currencyKey = currencyName.toLowerCase()\n\n  const coins = [\n    {\n      text: {\n        en: 'No security',\n        ru: 'Без защиты',\n        nl: 'Geen beveliging',\n        es: 'Sin seguridad',\n        pl: 'Brak ochrony',\n      }[locale],\n      name: 'withoutSecure',\n      capture: {\n        en: 'Suitable for small amounts',\n        ru: 'Подходит для небольших сумм',\n        nl: 'Geschikt voor kleine bedragen',\n        es: 'Apto para pequeñas cantidades',\n        pl: 'Nadaje się do małych ilości',\n      }[locale],\n      enabled: !_activated.nothing[currencyKey],\n      activated: _activated.nothing[currencyKey],\n      onClickHandler: () => {\n        if (isTrivialFeatureAsked) {\n          return null\n        }\n        setTrivialFeatureAsked(true)\n        feedback.createWallet.securitySelected(`${currencyName}-normal`)\n      },\n    },\n    /*\n    {\n      text: 'SMS',\n      name: 'sms',\n      capture: {\n        en: 'Verify your transactions via SMS code',\n        ru: 'Транзакции подтверждаются кодом по SMS',\n        nl: 'Verifieer uw transacties via SMS code',\n        es: 'Verifique sus transacciones mediante código SMS',\n        pl: 'Zweryfikuj swoje transakcje za pomocą kodu SMS',\n      }[locale],\n      // enabled: _protection.sms[currencyKey],\n      enabled: false, // sms temporarly disabled\n      activated: _activated.sms[currencyKey],\n      onClickHandler: () => {\n        if (isSmsFeatureAsked) {\n          return null\n        }\n        setSmsFeatureAsked(true)\n        feedback.createWallet.securitySelected(`${currencyName}-sms`)\n      },\n    },\n    */\n    {\n      text: 'PIN',\n      name: 'pin',\n      capture: {\n        en: 'Verify your transactions via PIN code',\n        ru: 'Транзакции подтверждаются PIN-кодом',\n        nl: 'Verifieer uw transacties via PIN code',\n        es: 'Verifique sus transacciones mediante el código PIN',\n        pl: 'Zweryfikuj swoje transakcje za pomocą kodu PIN',\n      }[locale],\n      enabled: _protection.pin[currencyKey],\n      activated: _activated.pin[currencyKey],\n      onClickHandler: () => {\n        if (isPinFeatureAsked) {\n          return null\n        }\n        setPinFeatureAsked(true)\n        feedback.createWallet.securitySelected(`${currencyName}-pin`)\n      },\n    },\n    /*\n    {\n      text: 'Google 2FA',\n      name: 'google2FA',\n      capture: locale === 'en' ?\n        'Verify your transactions through the Google Authenticator app' :\n        'Транзакции подтверждаются через приложение Google Authenticator',\n      enabled: _protection.g2fa.btc,\n      activated: _activated.g2fa.btc,\n      onClickHandler: () => {\n        if (is2FAFeatureAsked) {\n          return null\n        }\n        set2FAFeatureAsked(true)\n        feedback.createWallet.securitySelected(`${currencyName}-2fa`)\n      },\n    },\n    */\n    {\n      text: 'Multisignature',\n      name: 'multisignature',\n      capture: {\n        en: 'Verify your transactions by using another device or by another person',\n        ru: 'Транзакции подтверждаются с другого устройства и/или другим человеком',\n        nl: 'Verifieer uw transacties met een ander apparaat of persoon',\n        es: 'Verifique sus transacciones usando otro dispositivo o por otra persona',\n        pl: 'Zweryfikuj swoje transakcje za pomocą innego urządzenia lub innej osoby',\n      }[locale],\n      enabled: _protection.multisign[currencyKey],\n      activated: _activated.multisign[currencyKey],\n      onClickHandler: () => {\n        if (isMultisigFeatureAsked) {\n          return null\n        }\n        setMultisigFeatureAsked(true)\n        feedback.createWallet.securitySelected(`${currencyName}-multisig`)\n      },\n    },\n  ]\n\n  if (isFingerprintAvailable) {\n    coins.push({\n      text: 'Fingerprint',\n      name: 'fingerprint',\n      capture: {\n        en: 'Transactions are confirmed with your fingerprint authenticator',\n        ru: 'Транзакции подтверждаются с помощью считывателя отпечатков пальцев',\n        nl: 'Transacties bevestigd met uw vingerprint authenticator',\n        es: 'Las transacciones se confirman con su autenticador de huellas digitales',\n        pl: 'Transakcje są potwierdzane za pomocą Twojego czytnika linii papilarnych',\n      }[locale],\n\n      enabled: _protection.fingerprint[currencyKey],\n      activated: _activated.fingerprint[currencyKey],\n      onClickHandler: () => {\n        if (isFingerprintFeatureAsked) {\n          return null\n        }\n        setFingerprintFeatureAsked(true)\n        feedback.createWallet.securitySelected(`${currencyName}-fingerprint`)\n      },\n    })\n  }\n\n  return (\n    <div>\n      {!isMobile && !forcedCurrencyData &&\n        <div>\n          <Explanation subHeaderText={subHeaderText1()} step={1} notMain>\n            <Cupture />\n          </Explanation>\n        </div>\n      }\n      <div>\n        <div>\n          <Explanation subHeaderText={subHeaderText2()} step={2} isShow={forcedCurrencyData}>\n            {cupture2()}\n          </Explanation>\n          <div styleName=\"currencyChooserWrapper\">\n            {coins.map((el, index) => {\n              const { name, capture, text, enabled, activated } = el\n\n              const cardStyle = ['card', 'secureSize', 'thirdCard']\n\n              if (border.color[name] && enabled) cardStyle.push('purpleBorder')\n              if (!enabled) cardStyle.push('cardDisabled')\n\n              if (activated) cardStyle.push('cardActivated')\n              const cardStyle_ = cardStyle.join(' ')\n\n              return (\n                <div\n                  key={index}\n                  styleName={`${cardStyle_}`}\n                  id={name}\n                  onClick={() => {\n                    if (typeof el.onClickHandler !== 'undefined') { el.onClickHandler() }\n                    return handleClick(index, el)\n                  }}\n                >\n                  <div styleName=\"ind\">\n                    {(!enabled || activated) &&\n                      <em>\n                        {!activated && <FormattedMessage id=\"createWalletSoon\" defaultMessage=\"Soon!\" />}\n                        {activated && <FormattedMessage id=\"createWalletActivated\" defaultMessage=\"Activated!\" />}\n                      </em>\n                    }\n                  </div>\n                  <div styleName=\"flex\">\n                    <div styleName=\"logo securityIcon\">\n                      <img\n                        src={icons[name]}\n                        alt={`${name} icon`}\n                        role=\"image\"\n                      />\n                    </div>\n                    <ul styleName=\"currencyInfoList\">\n                      <li>\n                        <b>{text}</b>\n                      </li>\n                      <li>{capture}</li>\n                    </ul>\n                  </div>\n                </div>\n              )\n            })}\n          </div>\n        </div>\n        <button\n          id=\"createWalletBtn\"\n          styleName=\"continue\"\n          onClick={handleFinish}\n          disabled={error || border.selected === '' || border.selected === 'fingerprint'}\n        >\n          <FormattedMessage id=\"createWalletButton3\" defaultMessage=\"Create Wallet\" />\n        </button>\n      </div>\n    </div>\n  )\n}\nexport default injectIntl(CSSModules(SecondStep, styles, { allowMultiple: true }))","import React, { Component } from 'react'\nimport { connect } from 'redaction'\nimport reducers from 'redux/core/reducers'\nimport TOKEN_STANDARDS from 'helpers/constants/TOKEN_STANDARDS'\nimport feedback from 'shared/helpers/feedback'\nimport { getActivatedCurrencies } from 'helpers/user'\nimport config from 'helpers/externalConfig'\nimport { defaultPack, widgetPack } from './startPacks'\nimport FirstStep from './FirstStep'\nimport SecondStep from './SecondStep'\n\nconst isWidgetBuild = config && config.isWidget\nconst curEnabled = config.opts.curEnabled\n\n\n@connect(({ currencies: { items: currencies } }) => ({ currencies }))\nexport default class StepsWrapper extends Component<any, any> {\n\n  defaultStartPack = defaultPack\n  widgetStartPack = widgetPack\n\n  constructor(props) {\n    super(props)\n    const { currencies } = props\n    \n    if (config?.opts.ownTokens?.length) {\n      this.defaultStartPack = []\n\n      if (!curEnabled || curEnabled.btc) {\n        this.defaultStartPack.push({ name: \"BTC\", capture: \"Bitcoin\" })\n      }\n      if (!curEnabled || curEnabled.eth) {\n        this.defaultStartPack.push({ name: \"ETH\", capture: \"Ethereum\" })\n      }\n      if (!curEnabled || curEnabled.bnb) {\n        this.defaultStartPack.push({ name: \"BNB\", capture: \"Binance Coin\" })\n      }\n      if (!curEnabled || curEnabled.matic) {\n        this.defaultStartPack.push({ name: \"MATIC\", capture: \"Matic token\" })\n      }\n      if (!curEnabled || curEnabled.arbeth) {\n        this.defaultStartPack.push({ name: \"ARBETH\", capture: \"Arbitrum ETH\" })\n      }\n      if (!curEnabled || curEnabled.ghost) {\n        this.defaultStartPack.push({ name: \"GHOST\", capture: \"Ghost\" })\n      }\n      if (!curEnabled || curEnabled.next) {\n        this.defaultStartPack.push({ name: \"NEXT\", capture: \"NEXT.coin\" })\n      }\n\n      config.opts.ownTokens.forEach((token) => {\n        config[token.standard][token.name.toLowerCase()] = token\n\n        this.defaultStartPack.push({\n          name: token.name.toUpperCase(),\n          capture: token.fullName,\n        })\n      })\n    }\n\n    const enabledCurrencies = getActivatedCurrencies()\n\n    let items = currencies\n      .filter(({ addAssets, name }) => addAssets)\n      //@ts-ignore: strictNullChecks\n      .filter(({ name }) => enabledCurrencies.includes(name))\n\n    const untouchable = this.defaultStartPack.map(({ name }) => name)\n\n    const coins = items\n      .map(({ name, fullTitle }) => ({ name, capture: fullTitle }))\n      .filter(({ name }) => !untouchable.includes(name))\n\n    const curState = {}\n    items.forEach(({ currency }) => { curState[currency] = false })\n\n    let haveTokenConfig = true\n\n    Object.keys(TOKEN_STANDARDS).forEach((key) => {\n      if (!config[TOKEN_STANDARDS[key].standard]) {\n        haveTokenConfig = false\n      }\n    })\n\n    if (isWidgetBuild && haveTokenConfig) {\n      if (window?.widgetEvmLikeTokens?.length) {\n        // Multi token build\n        window.widgetEvmLikeTokens.forEach((token) => {\n          const name = token.name.toLowerCase()\n          const standard = token.standard.toLowerCase()\n          const baseCurrency = TOKEN_STANDARDS[standard].currency.toUpperCase()\n          const isTokenAdded = this.widgetStartPack.find((packToken) => {\n            return packToken.name.toLowerCase() === name\n          })\n\n          if (config[standard][name] && !isTokenAdded) {\n            this.widgetStartPack.push({\n              name: name.toUpperCase(),\n              capture: config[standard][name].fullName,\n              baseCurrency,\n            })\n          }\n        })\n      } else {\n        // Single token build\n        if (config.erc20[config.erc20token]) {\n          this.widgetStartPack.push({\n            name: config.erc20token.toUpperCase(),\n            capture: config.erc20[config.erc20token].fullName,\n            baseCurrency: 'ETH',\n          })\n        }\n      }\n    }\n\n    this.state = {\n      curState,\n      coins,\n      startPack: (isWidgetBuild) ? this.widgetStartPack : this.defaultStartPack,\n    }\n  }\n\n\n  handleClick = (name) => {\n    feedback.createWallet.currencySelected(name)\n    const { setError } = this.props\n    const { curState } = this.state\n\n    const dataToReturn = { [name]: !curState[name] }\n    this.setState(() => ({ curState: dataToReturn }))\n    reducers.createWallet.newWalletData({ type: 'currencies', data: dataToReturn })\n    setError(null)\n  }\n\n  render() {\n    const { \n      forcedCurrencyData,\n      onClick,\n      error,\n      setError,\n      btcData,\n      step,\n      currenciesForSecondStep\n    } = this.props\n    const { curState, startPack } = this.state\n\n    return (\n      <div>\n        {\n          forcedCurrencyData \n          ? <SecondStep \n              error={error}\n              onClick={onClick}\n              currencies={currenciesForSecondStep}\n              setError={setError}\n              handleClick={this.handleClick}\n              btcData={btcData}\n              forcedCurrencyData\n            />\n          : (\n            <div>\n              {\n                step === 1 && \n                <FirstStep \n                  error={error} \n                  onClick={onClick}\n                  setError={setError}\n                  handleClick={this.handleClick}\n                  curState={curState}\n                  startPack={startPack}\n                />\n              }\n              {\n                step === 2 && \n                <SecondStep\n                  error={error}\n                  btcData={btcData}\n                  onClick={onClick} \n                  currencies={currenciesForSecondStep}\n                  setError={setError}\n                  handleClick={this.handleClick}\n                />\n              }\n            </div>\n          )\n        }\n      </div>\n    )\n  }\n}","import React from 'react'\nimport cssModules from 'react-css-modules'\nimport styles from './CloseIcon.scss'\n\ntype ComponentProps = {\n  onClick: (...args: any) => void\n  styleName: string\n}\n\nconst CloseIcon = (props: ComponentProps) => {\n  const { onClick, styleName: externalName, ...rest } = props\n\n  return (\n    <div styleName=\"button\" {...rest} role=\"closeButton\" onClick={onClick}>\n      <div styleName=\"icon\" role=\"closeIcon\" />\n    </div>\n  )\n}\n\nexport default cssModules(CloseIcon, styles, { allowMultiple: true })\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"_2376TaMVb6uGvZ3jdwSRxe\",\"icon\":\"_1dY89zdwHl9ThxrV7V4FDI\"};","import React, { useState, useEffect } from 'react'\nimport config from 'app-config'\n\nimport CSSModules from 'react-css-modules'\nimport styles from './CreateWallet.scss'\nimport { connect } from 'redaction'\nimport actions from 'redux/actions'\nimport { FormattedMessage, useIntl } from 'react-intl'\nimport { withRouter } from 'react-router-dom'\nimport { isMobile } from 'react-device-detect'\nimport reducers from 'redux/core/reducers'\nimport getCoinInfo from 'common/coins/getCoinInfo'\nimport TOKEN_STANDARDS from 'helpers/constants/TOKEN_STANDARDS'\nimport links from 'helpers/links'\nimport metamask from 'helpers/metamask'\nimport { localisedUrl } from 'helpers/locale'\n\nimport StepsWrapper from './Steps/StepsWrapper'\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\n\nimport { constants, localStorage, user } from 'helpers'\nimport CloseIcon from 'components/ui/CloseIcon/CloseIcon'\nimport web3Icons from 'images'\n\nconst isWidgetBuild = config && config.isWidget\n\nconst CreateWallet = (props) => {\n  const {\n    history,\n    createWallet: { currencies, secure },\n    location: { pathname },\n    userData,\n    core: { hiddenCoinsList },\n  } = props\n\n  const { locale } = useIntl()\n\n  const forcedCurrency = pathname.split('/')[2]\n  const allCurrencies = props.currencies.items\n\n  const {\n    btcData,\n  } = userData\n\n  const userWallets = actions.core\n    .getWallets({})\n    .filter(({ currency }) => !hiddenCoinsList.includes(currency))\n\n  useEffect(() => {\n    if (forcedCurrency) {\n      const hiddenList = localStorage.getItem('hiddenCoinsList')\n\n      const isExist = hiddenList.find((el) => {\n        if (el.includes(':')) {\n          const [elCoin, elAddress] = el.split(':')\n          return elCoin === forcedCurrency.toUpperCase()\n        }\n        return el === forcedCurrency.toUpperCase()\n      })\n\n      if (!isExist) {\n        setExist(true)\n      }\n\n      if (forcedCurrency.toUpperCase() === 'SWAP') {\n        // SWAP has no security options\n        // just add and redirect\n        const isWasOnWallet = localStorage\n          .getItem('hiddenCoinsList')\n          .find((cur) => cur.includes(forcedCurrency))\n        actions.core.markCoinAsVisible(isWasOnWallet || forcedCurrency.toUpperCase(), true)\n        handleClick()\n      }\n    }\n  }, [pathname])\n\n  const [step, setStep] = useState(1)\n  const [error, setError] = useState('Choose something')\n  const [isExist, setExist] = useState(false)\n\n  const goHome = () => {\n    history.push(localisedUrl(locale, links.home))\n  }\n\n  const handleConnectWallet = () => {\n    history.push(localisedUrl(locale, links.connectWallet))\n  }\n\n  const handleClick = () => {\n    //@ts-ignore: strictNullChecks\n    setError(null)\n    if (step !== 2 && !forcedCurrencyData) {\n      reducers.createWallet.newWalletData({ type: 'step', data: step + 1 })\n      return setStep(step + 1)\n    }\n    localStorage.setItem(constants.localStorage.isWalletCreate, true)\n    goHome()\n  }\n\n  const handleRestoreMnemonic = () => {\n    actions.modals.open(constants.modals.RestoryMnemonicWallet)\n  }\n\n  const validate = () => {\n    //@ts-ignore: strictNullChecks\n    setError(null)\n\n    if (!Object.values(currencies).includes(true) && step === 1) {\n      setError('Choose something')\n      return\n    }\n\n    const isIgnoreSecondStep = !Object.keys(currencies).includes('BTC')\n    const tokenStandards = Object.keys(TOKEN_STANDARDS).map((key) => TOKEN_STANDARDS[key])\n\n    for (const standardObj of tokenStandards) {\n      const standardName = standardObj.standard.toUpperCase()\n      const baseCurrency = standardObj.currency.toUpperCase()\n      const key = `{${baseCurrency}}${standardName}`\n\n      if (currencies[key] && isIgnoreSecondStep) {\n        actions.core.markCoinAsVisible(standardObj.currency.toUpperCase(), true)\n        localStorage.setItem(constants.localStorage.isWalletCreate, true)\n\n        goHome()\n\n        actions.modals.open(constants.modals.AddCustomToken, {\n          standard: standardName,\n          baseCurrency: standardObj.currency,\n        })\n\n        return\n      }\n    }\n\n    if (isIgnoreSecondStep) {\n      Object.keys(currencies).forEach((currency) => {\n        if (currencies[currency]) {\n          actions.core.markCoinAsVisible(currency.toUpperCase(), true)\n        }\n      })\n      localStorage.setItem(constants.localStorage.isWalletCreate, true)\n      goHome()\n      return\n    }\n\n    if (!secure.length && (step === 2 || forcedCurrencyData)) {\n      setError('Choose something')\n      return\n    }\n\n    if (step === 2 || forcedCurrencyData) {\n      switch (secure) {\n        case 'withoutSecure':\n          Object.keys(currencies).forEach((el) => {\n            if (currencies[el]) {\n              const isWasOnWallet = localStorage\n                .getItem('hiddenCoinsList')\n                .find((cur) => cur.includes(`${el}:`))\n              actions.core.markCoinAsVisible(isWasOnWallet || el.toUpperCase(), true)\n            }\n          })\n          break\n        case 'sms':\n          if (currencies.BTC) {\n            if (!actions.btcmultisig.checkSMSActivated()) {\n              actions.modals.open(constants.modals.RegisterSMSProtected, {\n                callback: () => {\n                  actions.core.markCoinAsVisible('BTC (SMS-Protected)', true)\n                  handleClick()\n                },\n              })\n              return\n            }\n\n            actions.modals.open(constants.modals.Confirm, {\n              title: (\n                <FormattedMessage\n                  id=\"ConfirmActivateSMS_Title\"\n                  defaultMessage=\"Добавление кошелька BTC (SMS-Protected)\"\n                />\n              ),\n              message: (\n                <FormattedMessage\n                  id=\"ConfirmActivateSMS_Message\"\n                  defaultMessage=\"У вас уже активирован этот тип кошелька. Хотите активировать другой кошелек?\"\n                />\n              ),\n              labelYes: <FormattedMessage id=\"ConfirmActivateSMS_Yes\" defaultMessage=\"Да\" />,\n              labelNo: <FormattedMessage id=\"ConfirmActivateSMS_No\" defaultMessage=\"Нет\" />,\n              onAccept: () => {\n                actions.modals.open(constants.modals.RegisterSMSProtected, {\n                  callback: () => {\n                    actions.core.markCoinAsVisible('BTC (SMS-Protected)', true)\n                    handleClick()\n                  },\n                })\n              },\n              onCancel: () => {\n                actions.core.markCoinAsVisible('BTC (SMS-Protected)', true)\n                handleClick()\n              },\n            })\n            return\n          }\n          break\n        case 'pin':\n          if (currencies.BTC) {\n            if (!actions.btcmultisig.checkPINActivated()) {\n              actions.modals.open(constants.modals.RegisterPINProtected, {\n                callback: () => {\n                  actions.core.markCoinAsVisible('BTC (PIN-Protected)', true)\n                  handleClick()\n                },\n              })\n              return\n            }\n\n            actions.modals.open(constants.modals.Confirm, {\n              title: (\n                <FormattedMessage\n                  id=\"ConfirmActivatePIN_Title\"\n                  defaultMessage=\"Добавление кошелька BTC (PIN-Protected)\"\n                />\n              ),\n              message: (\n                <FormattedMessage\n                  id=\"ConfirmActivatePIN_Message\"\n                  defaultMessage=\"У вас уже активирован этот тип кошелька. Хотите активировать другой кошелек?\"\n                />\n              ),\n              labelYes: <FormattedMessage id=\"ConfirmActivatePIN_Yes\" defaultMessage=\"Да\" />,\n              labelNo: <FormattedMessage id=\"ConfirmActivatePIN_No\" defaultMessage=\"Нет\" />,\n              onAccept: () => {\n                actions.modals.open(constants.modals.RegisterPINProtected, {\n                  callback: () => {\n                    actions.core.markCoinAsVisible('BTC (PIN-Protected)', true)\n                    handleClick()\n                  },\n                })\n              },\n              onCancel: () => {\n                actions.core.markCoinAsVisible('BTC (PIN-Protected)', true)\n                handleClick()\n              },\n            })\n            return\n          }\n          break\n        case 'multisignature':\n          if (currencies.BTC) {\n            actions.modals.open(constants.modals.MultisignJoinLink, {\n              callback: () => {\n                actions.core.markCoinAsVisible('BTC (Multisig)', true)\n                handleClick()\n              },\n              showCloseButton: false,\n            })\n            return\n          }\n          break\n        default:\n          console.warn('unconnected secure type')\n      }\n    }\n    handleClick()\n  }\n\n  let forcedCurrencyData\n\n  if (forcedCurrency) {\n    forcedCurrencyData = allCurrencies.find(({ name, standard, value }) => (standard ? value.toUpperCase() : name ) === forcedCurrency.toUpperCase())\n    if (forcedCurrencyData) {\n      currencies[forcedCurrency.toLowerCase()] = true\n    }\n  }\n\n  if (isExist) {\n    goHome()\n  }\n\n  const web3Type = metamask.web3connect.getInjectedType()\n  const web3Icon = (web3Icons[web3Type] && web3Type !== `UNKNOWN` && web3Type !== `NONE`) ? web3Icons[web3Type] : false\n\n  return (\n    <div styleName=\"wrapper\">\n      {userWallets.length ? (\n        <CloseIcon\n          styleName=\"closeButton\"\n          onClick={goHome}\n          data-testid=\"modalCloseIcon\"\n        />\n      ) : null}\n\n      <div styleName={isMobile ? 'mobileFormBody' : 'formBody'}>\n        <h2>\n          <FormattedMessage id=\"createWalletHeader1\" defaultMessage=\"Создание кошелька\" />{' '}\n          {forcedCurrency && forcedCurrency.toUpperCase()}\n        </h2>\n        <div styleName=\"buttonWrapper\">\n          <div>\n            <button onClick={handleRestoreMnemonic}>\n              <FormattedMessage id=\"ImportKeys_RestoreMnemonic\" defaultMessage=\"Restore from 12-word seed\" />\n            </button>\n            &nbsp;\n            <Tooltip id=\"ImportKeys_RestoreMnemonic_tooltip\">\n              <span>\n                <FormattedMessage\n                  id=\"ImportKeys_RestoreMnemonic_Tooltip\"\n                  defaultMessage=\"12-word backup phrase\"\n                />\n                <React.Fragment>\n                  <br />\n                  <br />\n                  <div styleName=\"alertTooltipWrapper\">\n                    <FormattedMessage\n                      id=\"ImportKeys_RestoreMnemonic_Tooltip_withBalance\"\n                      defaultMessage=\"Please, be causious!\"\n                    />\n                  </div>\n                </React.Fragment>\n              </span>\n            </Tooltip>\n          </div>\n          {!metamask.isConnected() && (\n            <div>\n              <button onClick={handleConnectWallet}>\n                {web3Icon && (\n                  <img styleName=\"connectWalletIcon\" src={web3Icon} />\n                )}\n                <FormattedMessage id=\"ImportKeys_ConnectWallet\" defaultMessage=\"Connect Wallet\" />\n              </button>\n              &nbsp;\n              <Tooltip id=\"CreateWallet_ConnectWalletTooltip\">\n                <FormattedMessage\n                  id=\"CreateWallet_ConnectWalletButton\"\n                  defaultMessage=\"Use this if you already have ethereum wallet\"\n                />\n              </Tooltip>\n            </div>\n          )}\n        </div>\n\n        <StepsWrapper\n          step={step}\n          forcedCurrencyData={forcedCurrencyData}\n          error={error}\n          onClick={validate}\n          setError={setError}\n          btcData={btcData}\n          currenciesForSecondStep={currencies}\n        />\n      </div>\n    </div>\n  )\n}\nexport default connect({\n  createWallet: 'createWallet',\n  currencies: 'currencies',\n  userData: 'user',\n  core: 'core',\n})(withRouter(CSSModules(CreateWallet, styles, { allowMultiple: true })))\n","import React from 'react'\n\nimport styles from './NotFound.scss'\nimport CSSModules from 'react-css-modules'\n\nimport { FormattedMessage } from 'react-intl'\n\n\nconst NotFound = () => (\n  <div className=\"container\">\n    <h2 styleName=\"text\">\n      <FormattedMessage id=\"NotFound8\" defaultMessage=\"Page not found!\" />\n    </h2>\n  </div>\n)\nexport default CSSModules(NotFound, styles)\n","// extracted by mini-css-extract-plugin\nexport default {\"text\":\"_3laCix9qajyLTUXduAct3b\"};","// extracted by mini-css-extract-plugin\nexport default {\"wallet\":\"_3lXsxl6uE7soR51EOzqBuT\",\"btc\":\"_2SGGXQq_7OZwlddcFfU2Ru\",\"walletTable\":\"_1SrEynhtHNkmnmKKc269Vx\",\"btns\":\"_3EDIOu9AUY5J9eX9nVYuqn\",\"yourAssets\":\"_1AgKk8ETfXz8LT6Pg6BG0E\",\"yourAssetsHeading\":\"_1TUN44MhTQggM0ZvnSFktq\",\"yourAssetsDescr\":\"C4PUtMsUd0VhSCbbd7Wdx\",\"yourBalance\":\"_2Raekt5IWLvf-h3XfNyyvF\",\"multisigWaitCount\":\"_2Tffxve0H5RcmoAv8WFlbt\",\"yourBalanceTop\":\"_3kfBdLvPi4ybFUbnp2Y4x9\",\"yourBalanceDescr\":\"_2cQqWZHuV527IU7BNMkRv8\",\"yourBalanceValue\":\"_1mlZDcO5F4K6jfIOlS-r9P\",\"loaderHolder\":\"_8JseXqNO9AaHcqc5A4RTN\",\"yourBalanceBottomWrapper\":\"eU_ENmuGzxmZ2I4v41wEA\",\"yourBalanceBottom\":\"_3NWZUTYd9uqAocqpy5vbsV\",\"button__invoice\":\"_1E6o2BezFi0NrKJAqolRUf\",\"yourBalanceCurrencies\":\"_16Ul5LbZDHiwfLBcXbVOTR\",\"separator\":\"_3hsj15miP8V_QpzxV7OeL7\",\"active\":\"_3mZ1oNnyqHMB2f7y-ARY0m\",\"widgetBuild\":\"_17-N_Yrmgsu31lMYvFqXCa\",\"addCurrencyBtnWrapper\":\"_2OJ-SqaZSIP_9QlJGxjhnU\",\"walletBalance\":\"_1m0v55VMA_vS65-MKymyED\"};","// extracted by mini-css-extract-plugin\nexport default {\"txWaitConfirm\":\"_11CPJPWHU3uoDrnLtrZHs4\",\"nameRow\":\"_2_EB_7g2Zam8pWiOvPSRe5\",\"linkToHistory\":\"qltVmnkwJ3m8VQIFmcO4b\",\"desktop\":\"_2HhYXlfiJ_GrWHvLUKfKFg\",\"mobile\":\"PZ_J1_tHRoujvjxJ5YsT6\",\"tokenStandard\":\"_3HqnJhttX4iC_Y2KRtcKfw\",\"cryptoBalanceBtn\":\"OrDNBrtG4jkUOaDNnHjsp\",\"icon\":\"_2KYF53viYqL7JAAO3IHFTp\",\"assetsTableRow\":\"_21CKSisPGalrlEBZ3904LG\",\"assetsTableCurrency\":\"M53frADCbfDpAb9XCKs2v\",\"assetsTableIcon\":\"_219SWp7eUJAxiMhut9_YRg\",\"web3ProviderIcon\":\"_1eRWMpxgDbgYjh45A5U2fE\",\"assetsTableCurrencyWrapper\":\"_2rq_NFee1OoDDzw7ns-xiV\",\"assetsTableCurrencyBalance\":\"_2tj5dS9crBpE221_iRLEEg\",\"addressStyle\":\"_1z4wgDLkjlmcPEM_2S2iV7\",\"showAddressStyle\":\"_2MO84k8anQYCoSanJNXA08\",\"statusStyle\":\"_2xOgB8mLvjCN8JRf-piy4v\",\"assetsTableValue\":\"_2Xo5gXaGOnMBJWTe_9o6Sb\",\"errorMessage\":\"_22ieDGjK-dAdRIEoAY8F1P\",\"assetsTableInfo\":\"_1aC7EYkV0xN1SKzThqGtvV\",\"unconfirmedBalance\":\"_1FYNQSGXupNDWFyGygNuCU\",\"assetsTableDots\":\"_2gYL2wSWHTlh65Mn5SqU74\",\"loader\":\"_2PGjN15Ipv2NQpB47dR8it\"};","import React, { Component } from 'react';\nimport classNames from 'classnames';\nimport cssModules from 'react-css-modules'\nimport styles from './DropdownMenu.scss'\n\ntype Props = {\n\tclassName: string\n\titems: {\n\t\taction: () => void\n\t\ttitle: JSX.Element\n\t\tdisabled?: boolean\n\t\thidden?: boolean\n\t\tid: number\n\t}[]\n}\n\n@cssModules(styles, { allowMultiple: true })\nexport default class DropdownMenu extends Component<Props, any> {\n\n\tdropdownMenu: any\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\topen: false,\n\t\t}\n\n\t\tthis.dropdownMenu = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tdocument.addEventListener('mousedown', this.handleAnyClick, false);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tdocument.removeEventListener('mousedown', this.handleAnyClick, false);\n\t}\n\n\thandleAnyClick = (e) => {\n\t\tif (!this.dropdownMenu.current.contains(e.target)) {\n\t\t\tthis.setState({\n\t\t\t\topen: false\n\t\t\t});\n\t\t}\n\t}\n\n\thandleClick = () => {\n\t\tconst { open } = this.state;\n\n\t\tthis.setState({\n\t\t\topen: !open\n\t\t});\n\t}\n\n\thandleItemClick = (action) => {\n\t\tthis.setState({\n\t\t\topen: false\n\t\t});\n\n\t\taction();\n\t}\n\n\trender() {\n\t\tconst { items, className } = this.props\n\t\tconst { open } = this.state\n\n\t\treturn (\n\t\t\t<div styleName={classNames('dropdownMenu')} ref={this.dropdownMenu}>\n\t\t\t\t<button styleName=\"dotsButton\" type=\"button\" onClick={this.handleClick} className=\"data-tut-row-menu\">\n\t\t\t\t\t<i className=\"fas fa-circle\" styleName=\"icon\"></i>\n\t\t\t\t\t<i className=\"fas fa-circle\" styleName=\"icon\"></i>\n\t\t\t\t\t<i className=\"fas fa-circle\" styleName=\"icon\"></i>\n\t\t\t\t</button>\n\n\t\t\t\t<div styleName={`${classNames('menu', className, { open })}`}>\n\t\t\t\t\t{\n\t\t\t\t\t\titems.map((item, index) => item.hidden ? null : (\n\t\t\t\t\t\t\t<div key={index} styleName=\"dropdownMenuItem\">\n\t\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\t\tdisabled={item.disabled}\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={() => this.handleItemClick(item.action)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{item.title}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n","// extracted by mini-css-extract-plugin\nexport default {\"dropdownMenu\":\"K0Vr4aAVCsy6YC73GtEwN\",\"dotsButton\":\"_3eNT63C2A-tgahf2Z8kRI3\",\"icon\":\"_3Msw9DC0LvAF4LLpYzt9Jd\",\"dropdownMenuItem\":\"_1JBzhyi3-6DbCTHL7v9qv7\",\"menu\":\"_3MYCQSPoMxQoQFa6KOWGIU\",\"open\":\"_8YHgIrRrQa8mNiJ9R8eMR\",\"walletControls\":\"_28DbWqIPUEyib_AHiYpOpI\"};","import React from 'react'\nimport { NavLink } from 'react-router-dom'\nimport cssModules from 'react-css-modules'\n\nimport styles from './Href.scss'\n\ninterface HrefProps {\n  children: React.ReactNode\n  to?: string\n  redirect?: string\n  tab?: string\n  rel?: string\n  className?: string\n}\n\nconst Href = ({ children, to, redirect, tab, rel, className }: HrefProps) => {\n  if (to) {\n    return (\n      <NavLink styleName=\"link\" to={to}>\n        {children}\n      </NavLink>\n    )\n  }\n\n  return (\n    <a\n      styleName=\"link\"\n      className={className}\n      href={redirect || tab}\n      //@ts-ignore: strictNullChecks\n      target={tab ? '_blank' : null}\n      //@ts-ignore: strictNullChecks\n      rel={rel || null}\n    >\n      {children}\n    </a>\n  )\n}\n\nexport default cssModules(Href, styles)\n","// extracted by mini-css-extract-plugin\nexport default {\"link\":\"_2--icKnhgTxMxm3DCJw5GG\"};","import React from 'react'\nimport config from 'app-config'\nimport Href from 'components/Href/Href'\n\nconst ApiEndpoint = (props) => {\n  const { symbol, isERC20, isBTC, children } = props\n  const lowerSymbol = symbol.toLowerCase()\n  let api = '.'\n\n  // TODO: add BEP20 api\n\n  if (isERC20 || lowerSymbol === 'eth') {\n    api = config.api.etherscan\n  } else if (isBTC) { // btc [pin, sms, multisig]\n    api = config.api.bitpay\n  } else if (lowerSymbol === 'ghost') {\n    api = config.api.ghostscan\n  } else if (lowerSymbol === 'next') {\n    api = config.api.nextExplorer\n  }\n\n  return <Href tab={api}>{children}</Href>\n}\n\nconst LinkEndpoint = (props) => {\n  const {\n    symbol,\n    address,\n    children,\n    contractAddress,\n    isERC20,\n    isBTC,\n  } = props\n  const lowerSymbol = symbol.toLowerCase()\n  let link = '.'\n\n    // TODO: add BEP20 link\n\n  if (isERC20 || lowerSymbol === 'eth') {\n    link = config.link.etherscan\n  } else if (isBTC) { // btc [pin, sms, multisig]\n    link = config.link.bitpay\n  } else if (lowerSymbol === 'ghost') {\n    link = config.link.ghostscan\n  } else if (lowerSymbol === 'next') { // only mainnet link\n    link = config.link.nextExplorer\n  }\n\n  return (\n    <>\n      {lowerSymbol === 'next'\n        ? <Href tab={`${link}/#/address/${address}`}>{children}</Href>\n        : isERC20\n        ? <Href tab={`${link}/token/${contractAddress}?a=${address}`}>{children}</Href>\n        : <Href tab={`${link}/address/${address}`}>{children}</Href>\n      }\n    </>\n  )\n}\n\nexport {\n  ApiEndpoint,\n  LinkEndpoint,\n}\n","import React from 'react'\n\nimport Address from 'components/ui/Address/Address'\nimport { AddressFormat } from 'domain/address'\nimport { LinkEndpoint } from '../Endpoints'\n\nexport default function PartOfAddress(props) {\n  const { \n    style,\n    currency, \n    contractAddress, \n    address, \n    withoutLink,\n  } = props\n\n  const styleOverwrited = {\n    fontSize: '12px',\n    fontWeight: 'bold',\n    color: 'rgb(142, 154, 163)',\n  }\n\n  const AddressElement = (\n    <Address\n      address={address}\n      format={AddressFormat.Short}\n      style={{ ...style, ...styleOverwrited }}\n    />\n  )\n\n  return (\n    <div>\n      {!withoutLink ? (\n        <LinkEndpoint symbol={currency} contractAddress={contractAddress} address={address}>\n          {AddressElement}\n        </LinkEndpoint>\n      ) : AddressElement}\n    </div>\n  )\n}\n","import React, { Component, Fragment } from 'react'\nimport actions from 'redux/actions'\nimport { connect } from 'redaction'\nimport erc20Like from 'common/erc20Like'\nimport { constants } from 'helpers'\nimport config from 'helpers/externalConfig'\nimport { isMobile } from 'react-device-detect'\n\nimport cssModules from 'react-css-modules'\nimport styles from './Row.scss'\nimport metamask from 'helpers/metamask'\nimport Coin from 'components/Coin/Coin'\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\nimport DropdownMenu from 'components/ui/DropdownMenu/DropdownMenu'\nimport { withRouter } from 'react-router-dom'\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\nimport { localisedUrl } from 'helpers/locale'\nimport { BigNumber } from 'bignumber.js'\nimport { Button } from 'components/controls'\nimport PartOfAddress from '../PartOfAddress'\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\nimport { ApiEndpoint } from '../Endpoints'\nimport Copy from 'components/ui/Copy/Copy'\n\ntype RowProps = {\n  // from component\n  currency: IUniversalObj\n  itemData: IUniversalObj\n  // from store\n  activeFiat?: string\n  ethDataHelper?: {\n    address: string\n    privateKey: string\n  }\n  history?: IUniversalObj\n  intl?: IUniversalObj\n  multisigStatus?: any\n}\n\ntype RowState = {\n  isBalanceFetching: boolean\n  isBalanceEmpty: boolean\n  isDropdownOpen: boolean\n  isToken: boolean\n  reduxActionName: string\n}\n\nconst langLabels = defineMessages({\n  unconfirmedBalance: {\n    id: 'RowWallet181',\n    defaultMessage: `Unconfirmed balance`,\n  },\n  msConfirmCount: {\n    id: 'RowWallet_MsConfirmCountMobile',\n    defaultMessage: `{count} tx wait your confirm`,\n  },\n})\n\n@withRouter\n@connect(\n  (\n    {\n      user: {\n        activeFiat,\n        ethData: {\n          address,\n          privateKey,\n        },\n        multisigStatus,\n      }\n    }\n  ) => ({\n    activeFiat,\n    multisigStatus,\n    ethDataHelper: {\n      address,\n      privateKey,\n    },\n  })\n)\n@cssModules(styles, { allowMultiple: true })\nclass Row extends Component<RowProps, RowState> {\n  constructor(props) {\n    super(props)\n    \n    const { currency, itemData } = props\n    const currencyName = currency.currency\n    const isToken = erc20Like.isToken({ name: currencyName })\n    const reduxActionName = itemData.standard || currencyName.toLowerCase()\n\n    this.state = {\n      isBalanceFetching: false,\n      isBalanceEmpty: true,\n      isDropdownOpen: false,\n      isToken,\n      reduxActionName,\n    }\n  }\n\n  async componentDidMount() {\n    const { balance } = this.props.itemData\n\n    this.setState({\n      isBalanceEmpty: balance === 0,\n    })\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      itemData: { \n        balance: prevBalance\n      }\n    } = prevProps\n\n    const {\n      itemData: { \n        currency, \n        balance \n      }\n    } = this.props\n\n    if (balance > 0) {\n      actions.analytics.balanceEvent({ action: 'have', currency, balance })\n    }\n\n    if (prevBalance !== balance) {\n      this.setState({\n        isBalanceEmpty: balance === 0,\n      })\n    }\n  }\n\n  handleReloadBalance = () => {\n    const {\n      isBalanceFetching,\n      isToken,\n      reduxActionName,\n    } = this.state\n    const {\n      itemData: {\n        isMetamask,\n        isConnected,\n      }\n    } = this.props\n\n    if (isBalanceFetching) {\n      return null\n    }\n\n    if (isMetamask && !isConnected ) {\n      this.setState({\n        isBalanceFetching: true,\n      }, () => {\n        setTimeout(() => {\n          this.setState({isBalanceFetching: false})\n        }, 500)\n      })\n      return null\n    }\n\n    this.setState({\n      isBalanceFetching: true,\n    }, () => {\n      // here is timeout for the impression of the balance request\n      setTimeout(async () => {\n        const {\n          itemData: { currency, address },\n        } = this.props\n        switch (currency) {\n          case 'BTC (SMS-Protected)':\n            await actions.btcmultisig.getBalance()\n            break\n          case 'BTC (Multisig)':\n            await actions.btcmultisig.getBalanceUser(address)\n            break\n          case 'BTC (PIN-Protected)':\n            await actions.btcmultisig.getBalancePin()\n            break\n          default:\n            if (isMetamask && !isToken && metamask.isAvailableNetwork()) {\n              await metamask.getBalance()\n            } else {\n              await actions[reduxActionName].getBalance(currency)\n            }\n        }\n\n        this.setState(() => ({\n          isBalanceFetching: false,\n        }))\n      }, 250)\n    })\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    const getComparableProps = ({ itemData, index, selectId }) => ({\n      itemData,\n      index,\n      selectId,\n    })\n    return (\n      JSON.stringify({\n        ...getComparableProps(nextProps),\n        ...nextState,\n      }) !==\n      JSON.stringify({\n        //@ts-ignore\n        ...getComparableProps(this.props),\n        ...this.state,\n      })\n    )\n  }\n\n  handleWithdrawPopup = () => {\n    const {\n      itemData\n    } = this.props\n\n    actions.modals.open(constants.modals.Withdraw, itemData)\n  }\n\n  handleWithdraw = () => {\n    const {\n      itemData,\n      history,\n      intl\n    } = this.props\n\n    if (itemData.currency.toLowerCase() === 'ghost') {\n      this.handleWithdrawPopup()\n      return\n    }\n\n    if (itemData.currency.toLowerCase() === 'next') {\n      this.handleWithdrawPopup()\n      return\n    }\n\n    let targetCurrency = itemData.currency\n    switch (itemData.currency.toLowerCase()) {\n      case 'btc (multisig)':\n      case 'btc (sms-protected)':\n      case 'btc (pin-protected)':\n        targetCurrency = 'btc'\n        break\n    }\n\n    const firstUrlPart = itemData.tokenKey ? `/token/${itemData.tokenKey}` : `/${targetCurrency}`\n\n    history?.push(\n      localisedUrl(intl?.locale, `${firstUrlPart}/${itemData.address}/send`)\n    )\n  }\n\n  handleReceive = () => {\n    const {\n      itemData: { currency, address },\n    } = this.props\n\n    actions.modals.open(constants.modals.ReceiveModal, {\n      currency,\n      address,\n    })\n  }\n\n  handleActivateProtected = async () => {\n    actions.modals.open(constants.modals.RegisterSMSProtected, {})\n  }\n\n  handleActivatePinProtected = async () => {\n    actions.modals.open(constants.modals.RegisterPINProtected, {})\n  }\n\n  handleGenerateMultisignLink = async () => {\n    actions.modals.open(constants.modals.MultisignJoinLink, {})\n  }\n\n  handleHowToWithdraw = () => {\n    const {\n      itemData: { currency, address },\n    } = this.props\n\n    actions.modals.open(constants.modals.HowToWithdrawModal, {\n      currency,\n      address,\n    })\n  }\n\n  handleOpenDropdown = () => {\n    this.setState({\n      isDropdownOpen: true,\n    })\n  }\n\n  handleCreateInvoiceLink = () => {\n    const {\n      itemData: { currency, address },\n    } = this.props\n\n    actions.modals.open(constants.modals.InvoiceLinkModal, {\n      currency,\n      address,\n    })\n  }\n\n  handleSwitchMultisign = () => {\n    actions.modals.open(constants.modals.BtcMultisignSwitch)\n  }\n\n  handleCreateInvoice = () => {\n    const {\n      itemData: {\n        decimals,\n        token,\n        contractAddress,\n        unconfirmedBalance,\n        currency,\n        address,\n        balance,\n      },\n    } = this.props\n\n    actions.modals.open(constants.modals.InvoiceModal, {\n      currency,\n      address,\n      contractAddress,\n      decimals,\n      token,\n      balance,\n      unconfirmedBalance,\n    })\n  }\n\n  goToExchange = () => {\n    const {\n      history,\n      intl,\n    } = this.props\n    history?.push(localisedUrl(intl?.locale, '/exchange'))\n  }\n\n  goToCurrencyHistory = () => {\n    const {\n      history,\n      intl,\n      itemData,\n    } = this.props\n\n\n    let targetCurrency = itemData.currency\n    switch (itemData.currency.toLowerCase()) {\n      case 'btc (multisig)':\n      case 'btc (sms-protected)':\n      case 'btc (pin-protected)':\n        targetCurrency = 'btc'\n        break\n    }\n\n\n    const firstUrlPart = itemData.tokenKey ? `/token/${itemData.tokenKey}` : `/${targetCurrency}`\n\n    history?.push(\n      localisedUrl(intl?.locale, `${firstUrlPart}/${itemData.address}`)\n    )\n  }\n\n  hideCurrency = () => {\n    const {\n      itemData: { currency, address, balance, isToken, tokenKey },\n    } = this.props\n\n    if (balance > 0) {\n      actions.modals.open(constants.modals.AlertModal, {\n        message: (\n          <FormattedMessage\n            id=\"WalletRow_Action_HideNonZero_Message\"\n            defaultMessage=\"У этого кошелка положительный баланс. Его скрыть нельзя.\"\n          />\n        ),\n      })\n    } else {\n      actions.core.markCoinAsHidden(`${isToken ? tokenKey.toUpperCase() : currency}:${address}`)\n      actions.notifications.show(constants.notifications.Message, {\n        message: (\n          <FormattedMessage\n            id=\"WalletRow_Action_Hidden\"\n            defaultMessage=\"Кошелек скрыт\"\n          />\n        ),\n      })\n    }\n  }\n\n  copy = () => {\n    const {\n      itemData: { address, fullName },\n    } = this.props\n\n    actions.modals.open(constants.modals.WalletAddressModal, {\n      address,\n      fullName,\n    })\n  }\n\n  copyPrivateKey = () => {\n    const {\n      itemData: { address, privateKey, fullName },\n      ethDataHelper,\n    } = this.props\n\n    actions.modals.open(constants.modals.PrivateKeysModal, {\n      key: address === ethDataHelper?.address ? ethDataHelper?.privateKey : privateKey,\n      fullName,\n    })\n  }\n\n  handleShowMnemonic = () => {\n    actions.modals.open(constants.modals.SaveMnemonicModal)\n  }\n\n  connectMetamask = () => {\n    metamask.handleConnectMetamask()\n  }\n\n  render() {\n    const {\n      isBalanceFetching,\n      isBalanceEmpty,\n    } = this.state\n\n    const {\n      itemData,\n      intl,\n      activeFiat,\n      multisigStatus,\n    } = this.props\n\n    const {\n      currency,\n      baseCurrency,\n      balance,\n      isBalanceFetched,\n      fullName,\n      unconfirmedBalance,\n      balanceError,\n      standard,\n    } = itemData\n\n    let nodeDownErrorShow = true\n    let currencyFiatBalance = 0\n    let currencyView = currency\n\n    switch (currencyView) {\n      case 'BTC (Multisig)':\n      case 'BTC (SMS-Protected)':\n      case 'BTC (PIN-Protected)':\n        currencyView = 'BTC'\n        break\n    }\n\n    if (itemData?.infoAboutCurrency?.price_fiat) {\n      currencyFiatBalance = new BigNumber(balance).multipliedBy(itemData.infoAboutCurrency.price_fiat).dp(2, BigNumber.ROUND_FLOOR).toNumber()\n    }\n\n    let hasHowToWithdraw = false\n    if (\n      config?.erc20?.[this.props.currency.currency.toLowerCase()]?.howToWithdraw\n    ) {\n      hasHowToWithdraw = true\n    }\n\n    const isSafari = 'safari' in window\n\n    const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\n    const mnemonicSaved = (mnemonic === `-`)\n\n    type DropDownItem = {\n      action: () => void\n      disabled?: boolean\n      title: JSX.Element\n      id: number\n    }\n\n    //@ts-ignore: strictNullChecks\n    let dropDownMenuItems: DropDownItem[] = [\n      {\n        id: 1001,\n        title: (\n          <FormattedMessage\n            id=\"WalletRow_Menu_Deposit\"\n            defaultMessage=\"Deposit\"\n          />\n        ),\n        action: this.handleReceive,\n        disabled: false,\n      },\n      ...(hasHowToWithdraw\n        ? [\n          {\n            id: 10021,\n            title: (\n              <FormattedMessage\n                id=\"WalletRow_Menu_HowToWithdraw\"\n                defaultMessage=\"How to withdraw\"\n              />\n            ),\n            action: this.handleHowToWithdraw,\n          },\n        ]\n        : []),\n      {\n        id: 1002,\n        title: (\n          <FormattedMessage id=\"WalletRow_Menu_Send\" defaultMessage=\"Send\" />\n        ),\n        action: this.handleWithdraw,\n        disabled: isBalanceEmpty,\n      },\n      !config.opts.exchangeDisabled && {\n        id: 1004,\n        title: (\n          <FormattedMessage\n            id=\"WalletRow_Menu_Exchange\"\n            defaultMessage=\"Exchange\"\n          />\n        ),\n        action: this.goToExchange,\n        disabled: false,\n      },\n      {\n        id: 1003,\n        title: (\n          <FormattedMessage\n            id=\"WalletRow_Menu_History\"\n            defaultMessage=\"History\"\n          />\n        ),\n        action: this.goToCurrencyHistory,\n        disabled: !mnemonicSaved,\n      },\n      !isSafari && {\n        id: 1012,\n        title: (\n          <FormattedMessage\n            id=\"WalletRow_Menu_Сopy\"\n            defaultMessage=\"Copy address\"\n          />\n        ),\n        action: this.copy,\n        disabled: !mnemonicSaved,\n      },\n      !config.opts.hideShowPrivateKey && {\n        id: 1012,\n        title: (\n          <FormattedMessage\n            id=\"WalletRow_Menu_Сopy_PrivateKey\"\n            defaultMessage=\"Copy Private Key\"\n          />\n        ),\n        action: this.copyPrivateKey,\n        disabled: false,\n      },\n      {\n        id: 1011,\n        title: (\n          <FormattedMessage id=\"WalletRow_Menu_Hide\" defaultMessage=\"Hide\" />\n        ),\n        action: this.hideCurrency,\n        disabled: false,\n      },\n    ].filter((el) => el)\n\n    if (\n      config.opts.invoiceEnabled\n    ) {\n      dropDownMenuItems.push({\n        id: 1004,\n        title: (\n          <FormattedMessage\n            id=\"WalletRow_Menu_Invoice\"\n            defaultMessage=\"Выставить счет\"\n          />\n        ),\n        action: this.handleCreateInvoice,\n        disabled: false,\n      })\n      dropDownMenuItems.push({\n        id: 1005,\n        title: (\n          <FormattedMessage\n            id=\"WalletRow_Menu_InvoiceLink\"\n            defaultMessage=\"Получить ссылку для выставления счета\"\n          />\n        ),\n        action: this.handleCreateInvoiceLink,\n        disabled: false,\n      })\n    }\n\n    if (itemData.isMetamask\n      && !itemData.isConnected\n    ) {\n      dropDownMenuItems = [{\n        id: 1,\n        title: (\n          <FormattedMessage\n            id=\"WalletRow_MetamaskConnect\"\n            defaultMessage=\"Подключить\"\n          />\n        ),\n        action: metamask.handleConnectMetamask,\n        disabled: false,\n      }]\n    }\n\n    if (itemData.isMetamask\n      && itemData.isConnected\n    ) {\n      dropDownMenuItems = [\n        {\n          id: 1123,\n          title: (\n            <FormattedMessage\n              id=\"MetamaskDisconnect\"\n              defaultMessage=\"Отключить кошелек\"\n            />\n          ),\n          action: metamask.handleDisconnectWallet,\n          disabled: false\n        },\n        ...dropDownMenuItems\n      ]\n    }\n\n    let showBalance = true\n    let statusInfo = ''\n\n    // Prevent render SMS wallet\n    if (itemData.isSmsProtected) return null\n\n    if (\n      itemData.isPinProtected &&\n      !itemData.isRegistered\n    ) {\n      statusInfo = 'Not activated'\n      showBalance = false\n      nodeDownErrorShow = false\n      dropDownMenuItems = [\n        {\n          id: 1,\n          title: (\n            <FormattedMessage\n              id=\"WalletRow_Menu_ActivatePinProtected\"\n              defaultMessage=\"Activate\"\n            />\n          ),\n          action: this.handleActivatePinProtected,\n          disabled: false,\n        },\n        {\n          id: 1011,\n          title: (\n            <FormattedMessage id=\"WalletRow_Menu_Hide\" defaultMessage=\"Hide\" />\n          ),\n          action: this.hideCurrency,\n          disabled: false,\n        },\n      ]\n    }\n\n    const msConfirmCount = (\n      itemData.isUserProtected\n      && multisigStatus\n      && multisigStatus[itemData.address]\n      && multisigStatus[itemData.address].count\n    ) ? multisigStatus[itemData.address].count : false\n\n    if (\n      itemData.isSmsProtected &&\n      !itemData.isRegistered\n    ) {\n      statusInfo = 'Not activated'\n      showBalance = false\n      nodeDownErrorShow = false\n      dropDownMenuItems = [\n        {\n          id: 1,\n          title: (\n            <FormattedMessage\n              id=\"WalletRow_Menu_ActivateSMSProtected\"\n              defaultMessage=\"Activate\"\n            />\n          ),\n          action: this.handleActivateProtected,\n          disabled: false,\n        },\n        {\n          id: 1011,\n          title: (\n            <FormattedMessage id=\"WalletRow_Menu_Hide\" defaultMessage=\"Hide\" />\n          ),\n          action: this.hideCurrency,\n          disabled: false,\n        },\n      ]\n    }\n\n    if (itemData.isUserProtected) {\n      if (!itemData.active) {\n        statusInfo = 'Not joined'\n        showBalance = false\n        nodeDownErrorShow = false\n        dropDownMenuItems = []\n      } else {\n        dropDownMenuItems.push({\n          id: 1105,\n          title: (\n            <FormattedMessage\n              id=\"WalletRow_Menu_BTCMS_SwitchMenu\"\n              defaultMessage=\"Switch wallet\"\n            />\n          ),\n          action: this.handleSwitchMultisign,\n          disabled: false,\n        })\n      }\n      dropDownMenuItems.push({\n        id: 3,\n        title: (\n          <FormattedMessage\n            id=\"WalletRow_Menu_BTCMS_GenerateJoinLink\"\n            defaultMessage=\"Generate join link\"\n          />\n        ),\n        action: this.handleGenerateMultisignLink,\n        disabled: false,\n      })\n      if (!itemData.active) {\n        dropDownMenuItems.push({\n          id: 1011,\n          title: (\n            <FormattedMessage id=\"WalletRow_Menu_Hide\" defaultMessage=\"Hide\" />\n          ),\n          action: this.hideCurrency,\n          disabled: false,\n        })\n      }\n    }\n\n    const ethRowWithoutExternalProvider = itemData.address.toLowerCase() === 'not connected' && !metamask.web3connect.isInjectedEnabled()\n    const web3Type = metamask.web3connect.getInjectedType()\n\n    const isMetamask = itemData.isMetamask\n    const metamaskIsConnected = isMetamask && itemData.isConnected\n    const metamaskDisconnected = isMetamask && !itemData.isConnected\n    const isAvailableMetamaskNetwork = isMetamask && metamask.isAvailableNetwork()\n    const isNotAvailableMetamaskNetwork = isMetamask && !metamask.isAvailableNetwork()\n    const currencyTitleId = `${standard ? standard.toLowerCase() : ''}${currency.toLowerCase()}`\n\n    return (\n      !ethRowWithoutExternalProvider\n      && <tr>\n        <td styleName={`assetsTableRow`}>\n          <div styleName=\"assetsTableCurrency\">\n            <Coin\n              className={styles.assetsTableIcon}\n              name={metamaskDisconnected || isNotAvailableMetamaskNetwork ? web3Type : currency }\n            />\n\n            {/* Title-Link */}\n            <div id={currencyTitleId + 'WalletTitle'} styleName=\"assetsTableInfo\">\n              <div styleName=\"nameRow\">\n                <a onClick={\n                  metamaskDisconnected\n                    ? this.connectMetamask\n                    : isNotAvailableMetamaskNetwork\n                      ? () => null\n                      : mnemonicSaved || (metamaskIsConnected && isAvailableMetamaskNetwork)\n                        ? this.goToCurrencyHistory\n                        : () => null\n                  }\n                  styleName={`${\n                    mnemonicSaved && isMobile\n                      ? 'linkToHistory mobile'\n                        : mnemonicSaved || (metamaskIsConnected && isAvailableMetamaskNetwork)\n                          ? 'linkToHistory desktop'\n                          : ''\n                  }`}\n                  title={`Online ${fullName} wallet`}\n                >\n                  {fullName}\n                  {/* label for tokens */}\n                  {standard ? (\n                    <span styleName=\"tokenStandard\">\n                      {` ${standard.toUpperCase()}`}\n                    </span>\n                  ) : ''}\n                </a>\n              </div>\n            </div>\n\n            {/* Tip - if something wrong with endpoint */}\n            {balanceError && nodeDownErrorShow && (\n              <div className={styles.errorMessage}>\n                <ApiEndpoint\n                  contractAddress={itemData.contractAddress}\n                  address={itemData.address}\n                  symbol={itemData.currency}\n                  isERC20={itemData.isERC20}\n                  isBTC={itemData.isBTC}\n                >\n                  <FormattedMessage\n                    id=\"RowWallet276\"\n                    defaultMessage=\"Node is down\"\n                  />\n                </ApiEndpoint>\n                {' '}\n                <Tooltip id=\"WalletRowNodeIsDownTooltip\">\n                  <div style={{ textAlign: 'center' }}>\n                    <FormattedMessage\n                      id=\"WalletRowNodeIsDownTooltipMessage\"\n                      defaultMessage=\"You can not perform transactions\"\n                    />\n                  </div>\n                </Tooltip>\n              </div>\n            )}\n\n            {/* Currency amount */}\n            <span styleName=\"assetsTableCurrencyWrapper\">\n              {showBalance && (\n                <Fragment>\n                  {/*\n                  If it's a metamask and it disconnected then showing connect button\n                  else if balance fetched or fetching then showing loader\n                  else showing fetch-button and currency balance\n                  */}\n                  {metamaskDisconnected ? (\n                      <Button small empty onClick={metamask.handleConnectMetamask}>\n                        <FormattedMessage id=\"CommonTextConnect\" defaultMessage=\"Connect\" />\n                      </Button>\n                    ) :\n                      isNotAvailableMetamaskNetwork\n                        ? (\n                          <Button small empty onClick={metamask.handleDisconnectWallet}>\n                            <FormattedMessage id=\"MetamaskDisconnect\" defaultMessage=\"Отключить кошелек\" />\n                          </Button>\n                        )\n                        : !isBalanceFetched || isBalanceFetching ? (\n                          itemData.isUserProtected &&\n                            !itemData.active ? (\n                              <span>\n                                <FormattedMessage\n                                  id=\"walletMultisignNotJoined\"\n                                  defaultMessage=\"Not joined\"\n                                />\n                              </span>\n                            ) : (\n                              <div styleName=\"loader\">\n                                {!(balanceError && nodeDownErrorShow) && <InlineLoader />}\n                              </div>\n                            )\n                        ) : (\n                          <button\n                            id=\"walletRowUpdateBalanceBtn\"\n                            styleName=\"cryptoBalanceBtn\"\n                            onClick={this.handleReloadBalance}\n                          >\n                            <i className=\"fas fa-sync-alt\" styleName=\"icon\" />\n                            <span id=\"walletRowCryptoBalance\">\n                              {balanceError\n                                ? '?'\n                                : new BigNumber(balance).dp(5, BigNumber.ROUND_FLOOR).toString()\n                              }{' '}\n                            </span>\n                            <span styleName=\"assetsTableCurrencyBalance\">\n                              {currencyView}\n                            </span>\n                            {unconfirmedBalance !== 0 && (\n                              <Fragment>\n                                <br />\n                                <span\n                                  styleName=\"unconfirmedBalance\"\n                                  title={intl?.formatMessage(\n                                    langLabels.unconfirmedBalance\n                                  )}\n                                >\n                                  {unconfirmedBalance > 0 && <>{'+'}</>}\n                                  {unconfirmedBalance}{' '}\n                                </span>\n                              </Fragment>\n                            )}\n                          </button>\n                        )\n                  }\n                </Fragment>\n              )}\n            </span>\n\n            {/* Address */}\n            <Fragment>\n              {statusInfo ?\n                <p styleName=\"statusStyle\">{statusInfo}</p>\n                :\n                !mnemonicSaved && !itemData.isMetamask ?\n                  <p styleName=\"showAddressStyle\" onClick={this.handleShowMnemonic}>\n                    <FormattedMessage\n                      id=\"WalletRow_ShowAddress\"\n                      defaultMessage=\"Show address\"\n                    />\n                  </p>\n                  : // only for metamask\n                  metamaskDisconnected ?\n                    <p styleName=\"addressStyle\">\n                      <FormattedMessage\n                        id=\"WalletRow_MetamaskNotConnected\"\n                        defaultMessage=\"Not connected\"\n                      />\n                    </p>\n                    : isNotAvailableMetamaskNetwork\n                      ?\n                        <p styleName=\"addressStyle\">\n                          <FormattedMessage\n                            id=\"WalletRow_MetamaskNotAvailableNetwork\"\n                            defaultMessage=\"Please choose another\"\n                          />\n                        </p>\n                      : // Address shows\n                      <div styleName=\"addressStyle\">\n                        <Copy text={itemData.address}>\n                          {isMobile ? (\n                              <PartOfAddress\n                                withoutLink\n                                currency={itemData.currency}\n                                contractAddress={itemData.contractAddress}\n                                address={itemData.address}\n                                style={{\n                                  position: 'relative',\n                                  bottom: '16px',\n                                }}\n                              />\n                            ) : (\n                              <p id={`${\n                                baseCurrency ? baseCurrency + currency.toLowerCase() : currency.toLowerCase()\n                              }Address`}>\n                                {itemData.address}\n                              </p>\n                            )\n                          }\n                        </Copy>\n                      </div>\n              }\n            </Fragment>\n\n            {/* Fiat amount */}\n            {(currencyFiatBalance && showBalance && !balanceError) || msConfirmCount ? (\n              <div styleName=\"assetsTableValue\">\n                {msConfirmCount && !isMobile && (\n                  <p styleName=\"txWaitConfirm\" onClick={this.goToCurrencyHistory}>\n                    {intl?.formatMessage(\n                      langLabels.msConfirmCount,\n                      {\n                        count: msConfirmCount,\n                      }\n                    )}\n                  </p>\n                )}\n                {currencyFiatBalance && showBalance && !balanceError && (\n                  <>\n                    <p>{currencyFiatBalance}</p>\n                    <strong>{activeFiat}</strong>\n                  </>\n                )}\n              </div>\n            ) : (\n                ''\n              )}\n          </div>\n\n          {/* Additional option. Ethereum row with external wallet */}\n          {!metamaskDisconnected && !isNotAvailableMetamaskNetwork &&\n            <div onClick={this.handleOpenDropdown} styleName=\"assetsTableDots\">\n              <DropdownMenu\n                className=\"walletControls\"\n                items={dropDownMenuItems}\n              />\n            </div>\n          }\n        </td>\n      </tr>\n    )\n  }\n}\n\nexport default injectIntl(Row)\n","export default __webpack_public_path__ + \"images/security_8a5b4d.svg\";","// extracted by mini-css-extract-plugin\nexport default {\"notifyBlock\":\"_1ypY-OIusAthOoqOXlgRqL\",\"notifyBlockIcon\":\"_1mmmSyXGqDTovqZh1NGbu9\",\"notifyBlockOverlay\":\"mDH_VQBiK0ChclliWDdi1\",\"notifyBlockDescr\":\"_1slB4Ih06nromAwPtSHa6r\",\"bannersHeading\":\"_1l7VI1aknFtsSxyJGicSrX\",\"swiperContainer\":\"_2MOzhkeQhmxRNHoG8qzbo1\"};","import React from 'react'\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\nimport CSSModules from 'react-css-modules'\nimport styles from './NotifyBlock.scss'\nimport feedback from 'shared/helpers/feedback'\n\n\ninterface INotifyBlockProps {\n  className?: string\n  background: string\n  icon?: string\n  text: JSX.Element | string\n  feedbackText?: string\n  onPress?: () => void\n  link?: string\n}\n\nconst NotifyBlock = (props: INotifyBlockProps & RouteComponentProps) => {\n  const {\n    className,\n    icon,\n    text,\n    onPress,\n    background,\n    link,\n    feedbackText,\n    history,\n  } = props\n\n  const handleClick = () => {\n    onPress && onPress()\n\n    if (link && link.includes('http')) {\n      window.location.href = link\n    } else {\n      if (link) {\n        history.push(link)\n      }\n    }\n\n    const textToSend = feedbackText || text\n    feedback.wallet.clickedBanner(textToSend)\n  }\n\n  const backGroundStyle = { background: `#${background}` }\n  const backGroundImgStyle = { backgroundImage: `url(${background})` }\n  const style = background && background.length < 7 ? backGroundStyle : backGroundImgStyle\n\n  return (\n    <div styleName=\"notifyBlock\" style={style} onClick={handleClick}>\n      {background && background.length > 7 ? <div styleName=\"notifyBlockOverlay\" /> : ''}\n      <div>\n        <div styleName=\"notifyBlockIcon\">\n          <img src={icon} alt=\"\" />\n        </div>\n        <div styleName=\"notifyBlockDescr\">\n          <span>{text}</span>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n\nexport default withRouter(CSSModules(NotifyBlock, styles, { allowMultiple: true }))\n","import * as React from 'react'\n\nimport { connect } from 'redaction'\n\nimport Swiper from 'swiper'\nimport 'swiper/swiper-bundle.css'\n\nimport { constants, getItezUrl } from 'helpers'\nimport actions from 'redux/actions'\nimport axios from 'axios'\nimport security from '../images/security.svg'\nimport styles from '../NotityBlock/NotifyBlock.scss'\nimport NotifyBlock from '../NotityBlock/NotifyBlock'\nimport ContentLoader from 'components/loaders/ContentLoader/ContentLoader'\nimport { FormattedMessage, injectIntl } from 'react-intl'\nimport linksManager from 'helpers/links'\n\n\ntype WallerSliderProps = {\n  intl?: { [key: string]: any }\n  user?: { [key: string]: any }\n  multisigPendingCount: number\n}\n\ntype WallerSliderState = {\n  mnemonicDeleted: boolean\n  isFetching: boolean\n  metamaskConnected: boolean\n  banners?: any[]\n}\n\n@connect(({ user }) => ({ user }))\nclass WallerSlider extends React.Component<WallerSliderProps, WallerSliderState> {\n  _mounted = false\n\n  constructor(props) {\n    super(props)\n\n    const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\n    const mnemonicDeleted = mnemonic === '-'\n    this.state = {\n      mnemonicDeleted,\n      isFetching: false,\n      metamaskConnected: false,\n    }\n  }\n\n  componentDidMount() {\n    this._mounted = true\n    this.getBanners()\n  }\n\n  componentWillUnmount() {\n    this._mounted = false\n  }\n\n  initBanners = () => {\n    let starterSwiper = new Swiper('#swiper_banners', {\n      spaceBetween: 10,\n      slidesPerView: 4,\n      // centeredSlides: true,\n      // loop: true,\n      // Responsive breakpoints\n      breakpoints: {\n        480: {\n          slidesPerView: 3,\n        },\n        // when window width is >= 640px\n        640: {\n          slidesPerView: 3,\n          spaceBetween: 20,\n        },\n      },\n    })\n  }\n\n  processItezBanner = (inBanners) => {\n    const {\n      user,\n      //@ts-ignore: strictNullChecks\n      intl: { locale: intlLocale },\n    } = this.props\n\n    let locale = intlLocale\n\n    if (!locale) locale = `en`\n\n    const oldItezUrl = 'https://itez.swaponline.io/'\n    const newItezUrl = 'https://buy.itez.com/swaponline/'\n\n    const banners = inBanners\n      .map((el) => {\n        let bannerUrl = el[4]\n        if (bannerUrl.includes(oldItezUrl)) {\n          bannerUrl = bannerUrl.replace(oldItezUrl, newItezUrl)\n          const bannerArr = [...el]\n          bannerArr.splice(4, 1, getItezUrl({ user, locale, url: bannerUrl }))\n\n          return bannerArr\n        }\n        return el\n      })\n      .filter((el) => el && el.length)\n    return banners\n  }\n\n  getBanners = () => {\n    if (\n      window &&\n      window.bannersOnMainPage !== undefined\n    ) {\n      // Используем банеры, которые были определены в index.html (используется в виджете вордпресса)\n      const widgetBanners = window.bannersOnMainPage.length ? window.bannersOnMainPage : []\n\n      if (!this._mounted) return\n\n      this.setState(\n        () => ({\n          banners: this.processItezBanner(widgetBanners).filter((el) => el && el.length),\n          isFetching: true,\n        }),\n        () => this.initBanners()\n      )\n    } else {\n      try {\n        return axios\n          .get('https://noxon.wpmix.net/swapBanners/banners.php')\n          .then(({ data }) => {\n            const banners = this.processItezBanner(data).filter((el) => el && el.length)\n\n            if (!this._mounted) return\n\n            this.setState(\n              () => ({\n                banners,\n                isFetching: true,\n              }),\n              () => this.initBanners()\n            )\n          })\n          .catch((error) => {\n            console.error('getBanners:', error)\n          })\n      } catch (error) {\n        console.error(error)\n      }\n    }\n    return null\n  }\n\n  handleShowKeys = () => {\n    actions.modals.open(constants.modals.DownloadModal)\n  }\n\n  handleSaveKeys = () => {\n    actions.modals.open(constants.modals.PrivateKeys)\n  }\n\n  handleShowMnemonic = () => {\n    //@ts-ignore: strictNullChecks\n    actions.modals.open(constants.modals.SaveMnemonicModal, {\n      onClose: () => {\n        const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\n        const mnemonicDeleted = mnemonic === '-'\n        this.setState({\n          mnemonicDeleted,\n        })\n      },\n    })\n  }\n\n  handleGoToMultisigRequest = () => {\n    actions.multisigTx.goToLastWallet()\n  }\n\n  render() {\n    const { mnemonicDeleted, banners } = this.state\n    const { multisigPendingCount } = this.props\n\n    const isPrivateKeysSaved = localStorage.getItem(constants.localStorage.privateKeysSaved)\n\n    const needSignMultisig = (\n      <FormattedMessage\n        id=\"Banner_YouAreHaveNotSignegTx\"\n        defaultMessage=\"{count} multisig transaction is waiting for your confirmation\"\n        values={{\n          count: multisigPendingCount,\n        }}\n      />\n    )\n\n    return window.location.hash !== linksManager.hashHome ? null : (\n      <div className=\"data-tut-banners\">\n        <h3 className={`${styles.bannersHeading}`}>\n          <FormattedMessage id=\"ForYou\" defaultMessage=\"For you\" />\n        </h3>\n        {!this.state.isFetching ? (\n          //@ts-ignore\n          <ContentLoader banners />\n        ) : (\n          <div\n            id=\"swiper_banners\"\n            className={`swiper-container ${styles.swiperContainer}`}\n            style={{ marginTop: '20px', marginBottom: '30px' }}\n          >\n            <div className=\"swiper-wrapper\">\n              {multisigPendingCount > 0 && (\n                <div className=\"swiper-slide\">\n                  <NotifyBlock\n                    className=\"notifyIncomeRequest\"\n                    background=\"129218\"\n                    text={needSignMultisig}\n                    feedbackText={`BTC multisig`}\n                    onPress={this.handleGoToMultisigRequest}\n                  />\n                </div>\n              )}\n              {!isPrivateKeysSaved && !mnemonicDeleted && (\n                <div className=\"swiper-slide\">\n                  <NotifyBlock\n                    className=\"notifyBlockSaveKeys\"\n                    background=\"6144e5\"\n                    icon={security}\n                    text={\n                      <FormattedMessage\n                        id=\"ShowMyMnemonic_copy\"\n                        defaultMessage=\"Please backup your wallet\"\n                      />\n                    }\n                    feedbackText={`Save mnemonic`}\n                    onPress={mnemonicDeleted ? this.handleShowKeys : this.handleShowMnemonic}\n                  />\n                </div>\n              )}\n              {banners &&\n                banners.length > 0 &&\n                banners.map((banner) => (\n                  <div key={banner[0]} className=\"swiper-slide\">\n                    <NotifyBlock\n                      background={`${banner[3]}`}\n                      icon={banner[5]}\n                      text={banner[2]}\n                      link={banner[4]}\n                    />\n                  </div>\n                ))}\n            </div>\n          </div>\n        )}\n      </div>\n    )\n  }\n}\n\nexport default injectIntl(WallerSlider)\n","import React, { Fragment } from 'react'\nimport CSSModules from 'react-css-modules'\nimport config from 'app-config'\nimport styles from './Wallet.scss'\nimport Button from 'components/controls/Button/Button'\nimport Row from './Row/Row'\nimport Slider from './WallerSlider'\nimport Table from 'components/tables/Table/Table'\n\nimport { FormattedMessage } from 'react-intl'\nimport exConfig from 'helpers/externalConfig'\n\nconst isWidgetBuild = config && config.isWidget\n\ntype CurrenciesListProps = {\n  multisigPendingCount: number\n  goToСreateWallet: () => void\n  hiddenCoinsList: string[]\n  tableRows: IUniversalObj[]\n}\n\nconst CurrenciesList = (props: CurrenciesListProps) => {\n  const {\n    tableRows,\n    goToСreateWallet,\n    multisigPendingCount,\n  } = props\n\n  return (\n    <div styleName=\"yourAssets\">\n      {(exConfig && exConfig.opts && exConfig.opts.showWalletBanners) || isWidgetBuild ? (\n        <Fragment>\n          <Slider multisigPendingCount={multisigPendingCount} />\n        </Fragment>\n      ) : (\n        ''\n      )}\n      <h3 styleName=\"yourAssetsHeading\">\n        <FormattedMessage id=\"YourAssets\" defaultMessage=\"Your assets\" />\n      </h3>\n      <div styleName=\"yourAssetsDescr\">\n        <FormattedMessage\n          id=\"YourAssetsDescription\"\n          defaultMessage=\"Here you can safely store, send and receive assets\"\n        />\n      </div>\n      <Table\n        className={`${styles.walletTable} data-tut-address`}\n        rows={tableRows}\n        rowRender={(row, index) => (\n          <Row\n            key={index}\n            currency={row}\n            itemData={row}\n          />\n        )}\n      />\n      <div styleName='addCurrencyBtnWrapper'>\n        <Button id=\"addAssetBtn\" onClick={goToСreateWallet} transparent fullWidth>\n          <FormattedMessage id=\"addAsset\" defaultMessage=\"Add currency\" />\n        </Button>\n      </div>\n    </div>\n  )\n}\n\nexport default CSSModules(CurrenciesList, styles, { allowMultiple: true })\n","// extracted by mini-css-extract-plugin\nexport default {\"faQuestions\":\"_3M9IfGDiTBxUMB6tBNZLjx\",\"faQuestions__header\":\"_1fUSqve7ijI4tuTS6V7L_9\",\"faQuestions__tabsContainer\":\"-SYTN4fP34lmFe6WJxOrG\",\"tab\":\"_2nCaJz_mBlJqrvicfzRtsR\",\"tab__header\":\"_1FA5wm72szcoHqANjbHzmg\",\"tab__content\":\"_3wM96N1fABaQXQi48NzE_B\",\"tab__content_active\":\"_2lPDoZ4Q6KSGnI5MPQleGK\",\"feeInfoTitle\":\"LLSc_H-3i3hA_48NSKWQs\",\"chrest\":\"_35F--nMCbg-_4Jtry_AdQU\",\"chrest_active\":\"w6YWVwjkOzfnE7AgRguKM\",\"descriptionFee\":\"dlrDmLl2aS2UTnjdAIcIB\",\"link\":\"_2dU_s077xBCNOqZMFCugMg\"};","import React, { useState, useEffect } from 'react'\nimport BigNumber from 'bignumber.js'\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\nimport btcUtils from 'common/utils/coin/btc'\nimport ethLikeHelper from 'common/helpers/ethLikeHelper'\nimport { FormattedMessage, injectIntl } from 'react-intl'\nimport { feedback, adminFee, externalConfig } from 'helpers'\nimport cssModules from 'react-css-modules'\nimport cx from 'classnames'\nimport styles from './styles.scss'\n\nconst NETWORK = process.env.MAINNET\n  ? 'MAINNET'\n  : 'TESTNET'\n\nconst tabsIdsDictionary = {\n  FIRST_TAB: 'MainFAQ1_header',\n  SECOND_TAB: 'MainFAQ2_header',\n  THIRD_TAB: 'MainFAQ3_header',\n}\n\nconst FAQ = (props) => {\n  const { intl: { formatMessage } } = props\n  const [tabsVisibility, setTabsVisibility] = useState({\n    FIRST_TAB: false,\n    SECOND_TAB: false,\n    THIRD_TAB: false,\n  })\n  const [openedTabs, setOpenedTabs] = useState({\n    FIRST_TAB: false,\n    SECOND_TAB: false,\n    THIRD_TAB: false,\n  })\n\n  const handleTabClick = (tabName) => {\n    setTabsVisibility({ ...tabsVisibility, [tabName]: !tabsVisibility[tabName] })\n\n    if (!openedTabs[tabName]) {\n      feedback.faq.opened(formatMessage({ id: tabsIdsDictionary[tabName] }))\n      setOpenedTabs({ ...openedTabs, [tabName]: true })\n    }\n  }\n\n  const convertToGwei = (value) => {\n    return new BigNumber(value)\n      .dividedBy(1e9)\n      .dp(2, BigNumber.ROUND_HALF_CEIL)\n      .toNumber()\n  }\n\n  const [fees, setFees] = useState({\n    btc: 0,\n    eth: 0,\n    bnb: 0,\n    matic: 0,\n    arbeth: 0,\n  })\n\n  useEffect(() => {\n    let _mounted = true\n\n    async function fetchFees() {\n      try {\n        const BYTE_IN_KB = 1024\n\n        const btcSatoshiPrice = await btcUtils.estimateFeeRate({ speed: 'fast', NETWORK })\n        const bnbGasPrice = await ethLikeHelper.bnb.estimateGasPrice()\n        const ethGasPrice = await ethLikeHelper.eth.estimateGasPrice()\n        const maticGasPrice = await ethLikeHelper.matic.estimateGasPrice()\n        const arbethGasPrice = await ethLikeHelper.arbeth.estimateGasPrice()\n\n        // remove memory leak\n        if (_mounted) {\n          setFees((prevFees) => ({\n            ...prevFees,\n            // divided by 1 kb to convert it to satoshi / byte\n            btc: Math.ceil(btcSatoshiPrice / BYTE_IN_KB),\n            eth: convertToGwei(bnbGasPrice),\n            bnb: convertToGwei(ethGasPrice),\n            matic: convertToGwei(maticGasPrice),\n            arbeth: convertToGwei(arbethGasPrice),\n          }))\n        }\n      } catch (error) {\n        feedback.faq.failed(`FAQ. Fetch fees error(${error.message})`)\n      }\n    }\n\n    if (tabsVisibility.SECOND_TAB) {\n      fetchFees()\n    }\n\n    return () => {\n      _mounted = false\n    }\n  }, [tabsVisibility.SECOND_TAB])\n\n  const miningFeeItems = [\n    {\n      ticker: 'BTC',\n      fee: fees.btc,\n      unit: 'sat/byte',\n      sourceLink: externalConfig.api.blockcypher,\n    },\n    {\n      ticker: 'ETH',\n      fee: fees.eth,\n      unit: 'gwei',\n    },\n    {\n      ticker: 'BNB',\n      fee: fees.bnb,\n      unit: 'gwei',\n    },\n    {\n      ticker: 'MATIC',\n      fee: fees.matic,\n      unit: 'gwei',\n    },\n    {\n      ticker: 'ARBETH',\n      fee: fees.arbeth,\n      unit: 'gwei',\n    },\n  ]\n\n  const adminFeeItems = [\n    {\n      ticker: 'BTC',\n      percentFee: adminFee.isEnabled('BTC'),\n    },\n    {\n      ticker: 'ETH',\n      percentFee: adminFee.isEnabled('ETH'),\n    },\n    {\n      ticker: 'BNB',\n      percentFee: adminFee.isEnabled('BNB'),\n    },\n    {\n      ticker: 'MATIC',\n      percentFee: adminFee.isEnabled('MATIC'),\n    },\n    {\n      ticker: 'ARBETH',\n      percentFee: adminFee.isEnabled('ARBETH'),\n    },\n  ]\n\n  return (\n    <div className={`${styles.faQuestions}`}>\n      <h5 className={styles.faQuestions__header}>\n        <FormattedMessage id=\"MainFAQHeader\" defaultMessage=\"FAQ\" />\n      </h5>\n      <div className={styles.faQuestions__tabsContainer}>\n        <article className={styles.tab}>\n          <h6 className={styles.tab__header} onClick={() => handleTabClick('FIRST_TAB')}>\n            <div className={cx({\n              [styles.chrest]: true,\n              [styles.chrest_active]: tabsVisibility.FIRST_TAB,\n            })} />\n            <FormattedMessage id=\"MainFAQ1_header\" defaultMessage=\"How are my private keys stored?\" />\n          </h6>\n          <div className={cx({\n            [styles.tab__content]: true,\n            [styles.tab__content_active]: tabsVisibility.FIRST_TAB,\n          })}>\n            <FormattedMessage id=\"MainFAQ1_content\" defaultMessage=\"Your private keys are stored ONLY on your device, in the localStorage of your browser. Please backup your keys, because your browser or device may be crashed.\" />\n          </div>\n        </article>\n\n        <article className={styles.tab}>\n          <h6 className={styles.tab__header} onClick={() => handleTabClick('SECOND_TAB')}>\n            <div className={cx({\n              [styles.chrest]: true,\n              [styles.chrest_active]: tabsVisibility.SECOND_TAB,\n            })} />\n            <FormattedMessage id=\"MainFAQ2_header\" defaultMessage=\"What are the fees involved?\" />\n          </h6>\n          <div className={cx({\n            [styles.tab__content]: true,\n            [styles.tab__content_active]: tabsVisibility.SECOND_TAB,\n          })}>\n            <p>\n              <FormattedMessage id=\"MainFAQ2_content\" defaultMessage=\"You pay the standard TX (miners fees) for all transactions you conduct on the platform.\" />\n            </p>\n            <p>\n              <FormattedMessage\n                id=\"MainFAQ2_content1\"\n                defaultMessage=\"For {tokenType} tokens, it is required that you have at least 0.001 {currency} on your wallets. Remember! when sending {tokenType} tokens, you are required to hold some {currency} as miners fees for transactions. This is also the case for all atomic swaps for {currency} & {tokenType} tokens.\"\n                values={{\n                  currency: 'ETH',\n                  tokenType: 'ERC20'\n                }}\n              />\n            </p>\n            <p>\n              <FormattedMessage id=\"MainFAQ2_content2\" defaultMessage=\"NOTE: You can easily check the ‘miners fees’ required for each respective coin by simply googling them.\" />\n            </p>\n\n            <p className={styles.feeInfoTitle}>\n              <FormattedMessage id=\"MainFAQ2_content3\" defaultMessage=\"Current mining fees:\" />\n            </p>\n\n            {miningFeeItems.map((item, index) => {\n              const { ticker, fee, unit, sourceLink } = item\n\n              return (\n                <div className={styles.descriptionFee} key={index}>\n                  <span>{ticker}:</span>{' '}\n                  {fee ? (\n                    <span>\n                      <b>{fee}</b> {unit}\n                      {' '}\n                      {sourceLink && (\n                        <a className={styles.link} href={sourceLink} target=\"_blank\">\n                          <FormattedMessage id=\"FAQFeeApiLink\" defaultMessage=\"(source)\" />\n                        </a>\n                      )}\n                    </span>\n                  ) : (\n                    <InlineLoader />\n                  )}\n                </div>\n              )\n            })}\n\n            <br />\n\n            <p className={styles.feeInfoTitle}>\n              <FormattedMessage id=\"FAQServiceFee\" defaultMessage=\"Service fee (only withdraw):\" />\n            </p>\n\n            {adminFeeItems.map((item, index) => {\n              const { ticker, percentFee } = item\n\n              return (\n                <p className={styles.descriptionFee} key={index}>\n                  <span>{ticker}:</span>{' '}\n                  {percentFee\n                    ? (\n                      <span>\n                        {percentFee.fee + '%, '}\n                        <FormattedMessage id=\"FAQServiceFeeDescription\" defaultMessage=\"no less than\" />\n                        {' '}<b>{adminFee.calc(ticker, null)}</b> {ticker}\n                      </span>\n                    )\n                    : <span>0%</span>\n                  }\n                </p>\n              )\n            })}\n          </div>\n        </article>\n\n        <article className={styles.tab}>\n          <h6 className={styles.tab__header} onClick={() => handleTabClick('THIRD_TAB')}>\n            <div className={cx({\n              [styles.chrest]: true,\n              [styles.chrest_active]: tabsVisibility.THIRD_TAB,\n            })} />\n            <FormattedMessage id=\"MainFAQ3_header\" defaultMessage=\"Why mining fee is too high?\" />\n          </h6>\n          <div className={cx({\n            [styles.tab__content]: true,\n            [styles.tab__content_active]: tabsVisibility.THIRD_TAB,\n          })}>\n            <p>\n              <FormattedMessage id=\"MainFAQ3_content\" defaultMessage=\"Blockchain fees depend on several factors including network congestion and transaction size (affected when converting crypto from multiple inputs such as faucet earnings or other micro-transactions).\" />\n            </p>\n            <p>\n              <FormattedMessage id=\"MainFAQ3_content1\" defaultMessage=\"In other words, you may need to pay higher blockchain fees if:\" />\n            </p>\n            <p>\n              <FormattedMessage id=\"MainFAQ3_content2\" defaultMessage=\"1) The blockchain network is busy or loaded at the moment. Usually, the fee increases during sudden blockchain rate fluctuations and major world events;\" />\n              <br/>\n              <FormattedMessage id=\"MainFAQ3_content3\" defaultMessage=\"2) Your crypto account has a history of microdeposits. If your account has large amounts of small deposits, the size of your transaction will be bigger as it will consist of many inputs. The bigger the transaction size, the higher the blockchain fee.\" />\n            </p>\n            <p>\n              <FormattedMessage id=\"MainFAQ3_content4\" defaultMessage=\"There might be other causes of higher blockchain fees, but we've listed the most common ones.\" />\n            </p>\n          </div>\n        </article>\n      </div>\n    </div>\n  )\n}\n\nexport default React.memo(cssModules(injectIntl(FAQ), styles, { allowMultiple: true }))","import React from 'react'\nimport PropTypes from 'prop-types'\nimport cx from 'classnames'\n\nimport cssModules from 'react-css-modules'\nimport styles from './WidthContainer.scss'\n\n\nconst WidthContainer = ({ children, className, main, fullHeight, relative, contentCentering, ...rest }) => {\n  const containerStyleName = cx('widthContainer', {\n    'main': main,\n    'fullHeight': fullHeight,\n    'centeringContent': contentCentering,\n  })\n\n  if (fullHeight || relative) {\n    const containerInStyleName = cx('widthContainerIn', {\n      'fullHeight': fullHeight,\n      'relative': relative,\n    })\n\n    return (\n      <div styleName={containerStyleName} className={className} {...rest}>\n        <div styleName={containerInStyleName}>\n          {children}\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div styleName={containerStyleName} className={className} {...rest}>\n      {children}\n    </div>\n  )\n}\n\nWidthContainer.propTypes = {\n  children: PropTypes.node,\n  main: PropTypes.bool, // uses for main container between header and footer with vertical paddings\n  fullHeight: PropTypes.bool,\n  relative: PropTypes.bool,\n  contentCentering: PropTypes.bool,\n  className: PropTypes.string,\n}\n\nexport default cssModules(WidthContainer, styles, { allowMultiple: true })\n","// extracted by mini-css-extract-plugin\nexport default {\"widthContainer\":\"_1DwicTdHVcvOx7OabSorN6\",\"widthContainerIn\":\"_3S2D6OyQhNp_8Qi2lW6hFH\",\"relative\":\"gGIh70RNHGpYy_-eJCUJV\",\"fullHeight\":\"_2sz7oPypcoe11juUf0Gpk8\",\"centeringContent\":\"_3bVx8ySOHsEGw2sdx4pMv5\",\"main\":\"_2thLnpzT5TLBm6HeoMweZu\"};","import React, { useEffect } from 'react'\nimport cssModules from 'react-css-modules'\nimport styles from './Overlay.scss'\n\ntype ComponentProps = {\n  children: JSX.Element | JSX.Element[]\n  onClick?: () => void\n  dashboardView?: boolean\n}\n\nconst Overlay = (props: ComponentProps) => {\n  const {\n    children,\n    onClick = () => undefined,\n    dashboardView = false,\n  } = props\n\n  const [evaluatedHeight, setEvaluatedHeight] = React.useState(400)\n\n  useEffect(() => {\n    if (dashboardView) {\n      const elWithHeight: HTMLElement | null = document.querySelector('.__modalConductorProvided__ .contentHeightEvaluateHere')\n\n      if (elWithHeight) {\n        setEvaluatedHeight(elWithHeight.clientHeight ||\n          elWithHeight.offsetHeight ||\n          400)\n      }\n    }\n  })\n\n  return (\n    <div styleName={dashboardView ? 'overlayDashboardView' : 'overlay'} onClick={onClick} style={dashboardView ? { minHeight: `${evaluatedHeight + 88}px` } : {}}>\n      {children}\n    </div>\n  )\n}\n\nexport default cssModules(Overlay, styles)\n","// extracted by mini-css-extract-plugin\nexport default {\"overlay\":\"_1_qlCPpyvYdvtv4ugd_kgv\",\"overlayDashboardView\":\"_1nqNq3pysYdi7FSE-A0sYe\"};","import React from 'react'\nimport cx from 'classnames'\n\nimport cssModules from 'react-css-modules'\nimport styles from './Center.scss'\n\ntype CenterProps = {\n  children: React.ReactNode\n  relative?: boolean\n  scrollable?: boolean\n  keepFontSize?: boolean\n  centerVertically?: boolean\n  centerHorizontally?: boolean\n}\n\nconst Center = ({\n  children,\n  scrollable = false,\n  centerHorizontally = true,\n  centerVertically = true,\n  keepFontSize = false,\n  relative = false,\n  ...rest\n}: CenterProps) => {\n  // TODO move overflow to Modal and any other cases where it belongs\n  const styleName = cx('centringContainer', {\n    scrollable: scrollable,\n    centerHorizontally: centerHorizontally,\n    centerVertically: centerVertically,\n    keepFontSize: keepFontSize,\n    relative: relative,\n  })\n\n  return (\n    <div styleName={styleName} {...rest}>\n      <div styleName=\"centringContent\">{children}</div>\n    </div>\n  )\n}\n\nexport default cssModules(Center, styles, { allowMultiple: true })\n","// extracted by mini-css-extract-plugin\nexport default {\"centringContainer\":\"_3eTinhXCjYSRLs1fAyGc7D\",\"scrollable\":\"_1RljjU4k8qnHuX-leuYl7p\",\"keepFontSize\":\"_29Q853q_sSDwqgTtKo6NK6\",\"relative\":\"_2dQus7R4HfVy7KLruBgiXV\",\"centerHorizontally\":\"_19VJJ_xwgnCDymfcHBdMOo\",\"centerVertically\":\"v1U8SP74N3PjeLfjIKYIp\",\"centringContent\":\"_1SVZHXKOeqCS3ydD1dKXWw\"};","import React, { Component } from 'react'\nimport { connect } from 'redaction'\n\nimport actions from 'redux/actions'\nimport cx from 'classnames'\nimport cssModules from 'react-css-modules'\nimport styles from './Modal.scss'\n\nimport WidthContainer from 'components/layout/WidthContainer/WidthContainer'\nimport CloseIcon from 'components/ui/CloseIcon/CloseIcon'\nimport Overlay from 'components/layout/Overlay/Overlay'\nimport Center from 'components/layout/Center/Center'\n\ntype ModalProps = {\n  title?: JSX.Element | string\n  closeOnLocationChange?: boolean | Function\n  onClose?: (isLocationChange) => boolean | void\n\n  children: JSX.Element | JSX.Element[]\n  data?: IUniversalObj\n  onLocationChange?: (hash: string) => boolean\n  name: string\n  className?: string\n  styleName?: string\n  showLogo?: boolean\n  whiteLogo?: boolean\n  delayClose?: boolean\n  disableClose?: boolean\n  dashboardView?: boolean\n  titleUppercase?: boolean\n  showCloseButton?: boolean\n  shouldCenterVertically?: boolean\n  shouldCenterHorizontally?: boolean\n}\n\n@connect(({\n  ui: { dashboardModalsAllowed },\n}) => ({\n  dashboardView: dashboardModalsAllowed,\n}))\n@cssModules(styles, { allowMultiple: true })\nexport default class Modal extends Component<ModalProps, null> {\n  static defaultProps = {\n    data: {},\n    whiteLogo: false,\n    showLogo: true,\n    showCloseButton: true,\n    fullWidth: false,\n    disableClose: false,\n    disableCloseOverlay: false,\n    uppercase: false,\n    shouldCenterVertically: true,\n    shouldCenterHorizontally: true,\n  }\n\n  catchLocationChange = null\n\n  componentDidMount() {\n    const {\n      closeOnLocationChange,\n      onLocationChange,\n      name,\n    } = this.props\n\n    window.addEventListener('popstate', () => actions.modals.close(name))\n\n    if (closeOnLocationChange) {\n      let currentLocation = window.location.hash\n\n      //@ts-ignore: strictNullChecks\n      this.catchLocationChange = setInterval(() => {\n        if (window.location.hash != currentLocation) {\n          if (typeof onLocationChange === 'function') {\n            if (onLocationChange(window.location.hash)) {\n              currentLocation = window.location.hash\n            } else {\n              //@ts-ignore: strictNullChecks\n              clearInterval(this.catchLocationChange)\n              this.close(null, true)\n            }\n          } else {\n            //@ts-ignore: strictNullChecks\n            clearInterval(this.catchLocationChange)\n            this.close(null, true)\n          }\n        }\n      }, 500)\n    }\n  }\n\n  componentWillUnmount() {\n    const { name } = this.props\n\n    window.removeEventListener('popstate', () => actions.modals.close(name))\n    //@ts-ignore: strictNullChecks\n    clearInterval(this.catchLocationChange)\n  }\n\n  close = (event, isLocationChange) => {\n    const { name, data, onClose, disableClose } = this.props\n\n    if (name === 'OfferModal') {\n      // actions.analytics.dataEvent('orderbook-addoffer-click-exit-button')\n    }\n\n    if (!disableClose) {\n      actions.modals.close(name)\n\n      if (typeof onClose === 'function') {\n        onClose(isLocationChange)\n      }\n\n      //@ts-ignore: strictNullChecks\n      if (typeof data.onClose === 'function') {\n        //@ts-ignore: strictNullChecks\n        data.onClose(isLocationChange)\n      }\n    }\n  }\n\n  render() {\n    const { \n      className, \n      title, \n      showCloseButton, \n      disableClose, \n      children,\n      titleUppercase, \n      shouldCenterHorizontally, \n      shouldCenterVertically, \n      styleName, \n      delayClose, \n      dashboardView \n    } = this.props\n\n    const titleStyleName = cx('title', {\n      'uppercase': titleUppercase,\n    })\n\n    return (\n      <Overlay dashboardView={dashboardView} styleName={styleName}>\n        <div \n          styleName={cx({\n            modal: true,\n            modal_dashboardView: dashboardView,\n          })} \n          className={className}\n        >\n          {\n            Boolean(title || showCloseButton) && (\n              <div styleName=\"header\">\n                {/*\n                //@ts-ignore */}\n                <WidthContainer styleName=\"headerContent\">\n                  <div styleName={titleStyleName} role=\"title\">{title}</div>\n                  {\n                    showCloseButton && !disableClose && (\n                      <CloseIcon styleName={`closeButton ${delayClose ? 'delayClose' : ''}`} onClick={this.close} data-testid=\"modalCloseIcon\" />\n                    )\n                  }\n                </WidthContainer>\n              </div>\n            )\n          }\n          <div styleName={cx({\n            contentContainer: true,\n            contentContainer_dashboardView: dashboardView,\n          })}>\n            {\n              dashboardView\n                ? (\n                  <div styleName=\"content content_dashboardView\" className=\"contentHeightEvaluateHere\">\n                    {children}\n                  </div>\n                )\n                : (\n                  <Center scrollable centerHorizontally={shouldCenterHorizontally} centerVertically={shouldCenterVertically}>\n                    <div styleName=\"content\">\n                      {children}\n                    </div>\n                  </Center>\n                )\n            }\n          </div>\n        </div>\n      </Overlay>\n    )\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"modal\":\"Av6-JKTyjHjAryC1QtAei\",\"modal_dashboardView\":\"dz_fqOMYX0lypTbH59687\",\"header\":\"_2rrth_UwyXNDbxTXgJGkXz\",\"headerContent\":\"_2r1r57MUo8mlSOLatabGvV\",\"title\":\"K3DcC6cOqgNGeqgst3_i_\",\"uppercase\":\"c3nHE_2yUXTLmTiBF91EG\",\"closeButton\":\"_3wVb-ECWaau5tKQxh3d1ox\",\"delayClose\":\"vtL1i36AOKrDjG0IGowJM\",\"contentContainer\":\"_3wJBRo-QJL-Q-r_gGbUxru\",\"contentContainer_dashboardView\":\"_3o_YPdP5DmpRvvGQatcSWh\",\"content\":\"_1ZXXdF7QDoK_x4iZE7bVOM\",\"content_dashboardView\":\"_1M3Ry_DdweOKy2__2EOJ_q\",\"header__logo\":\"_26qmcxzrH_TAbKnWXJ_cWO\"};","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport cssModules from 'react-css-modules'\nimport styles from './Row.scss'\n\n\nconst Row = ({ children, className }) => (\n  <div className={className}>\n    <div styleName=\"row\" >\n      {children}\n    </div>\n  </div>\n)\n\nRow.propTypes = {\n  children: PropTypes.node.isRequired,\n  className: PropTypes.string,\n}\n\nexport default cssModules(Row, styles)\n","// extracted by mini-css-extract-plugin\nexport default {\"row\":\"_29QiVpB9je9XV5YvsMSibF\"};","import React from 'react'\nimport CSSModules from 'react-css-modules'\nimport styles from './Coins.scss'\n\nimport Coin from 'components/Coin/Coin'\n\ntype ComponentProps = {\n  names: string[]\n  size?: number\n  className?: string\n}\n\nconst Coins = (props: ComponentProps) => {\n  const { className, names, size = 40 } = props\n\n  return (\n    <div styleName=\"coins\" className={className}>\n      <Coin name={names[0]} size={size} />\n      <Coin name={names[1]} size={size} />\n    </div>\n  )\n}\n\nexport default CSSModules(Coins, styles)\n\n","// extracted by mini-css-extract-plugin\nexport default {\"coins\":\"_2hDQVvSb7y-LliOfhEADSY\"};","import React from 'react'\n\nimport cssModules from 'react-css-modules'\nimport styles from './Row.scss'\n\n\nconst Row = ({ title, children }) => (\n  <div styleName=\"row\">\n    <div styleName=\"title\">{title}</div>\n    <div styleName=\"content\">\n      {children}\n    </div>\n  </div>\n)\n\nexport default cssModules(Row, styles)\n","// extracted by mini-css-extract-plugin\nexport default {\"row\":\"_1LiUfuT9RibNNXzrIsFUE0\",\"title\":\"FYD6kLDvrg1Tkg9lLJyT6\",\"content\":\"_2-uUMGucOXgqjjDHe3yy3M\"};","import React from 'react'\n\nimport cssModules from 'react-css-modules'\nimport styles from './Value.scss'\n\n\nconst Value = ({ value, currency }) => (\n  <span styleName=\"value\">\n    <span>{value}{' '}</span>\n    <span styleName=\"currency\">{' '}{currency.toUpperCase()}</span>\n  </span>\n)\n\nexport default cssModules(Value, styles)\n","// extracted by mini-css-extract-plugin\nexport default {\"value\":\"_3A_fEhV7lW9bBfYROn3vgX\",\"currency\":\"_2In7zwqeYUrVsppjRMT39o\"};","import React from 'react'\n\nimport CSSModules from 'react-css-modules'\nimport styles from './Amounts.scss'\n\nimport Row from '../Row/Row'\nimport Value from '../Value/Value'\nimport { FormattedMessage } from 'react-intl'\n\nconst title = (\n  <FormattedMessage id=\"amount\" defaultMessage=\"Exchange\" />\n)\n\nconst Amounts = ({ buyAmount, sellAmount, buyCurrency, sellCurrency }) => (\n  <Row title={title}>\n    <Value value={sellAmount} currency={sellCurrency} />\n    <span styleName=\"arrow\">&rarr;</span>\n    <Value value={buyAmount} currency={buyCurrency} />\n  </Row>\n)\n\nexport default CSSModules(Amounts, styles)\n","// extracted by mini-css-extract-plugin\nexport default {\"arrow\":\"_3TicOxUqZBynlmEJoVNvrg\"};","import React, { PureComponent } from 'react'\n\nimport CSSModules from 'react-css-modules'\nimport styles from './ExchangeRate.scss'\n\nimport Row from '../Row/Row'\nimport Value from '../Value/Value'\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\nimport BigNumber from 'bignumber.js'\nimport config from 'app-config'\n\n\nconst title = defineMessages({\n  ExchangeRate: {\n    id: 'ExchangeRate12',\n    defaultMessage: `Exchange Rate`,\n  },\n})\n\n@CSSModules(styles)\nclass ExchangeRate extends PureComponent<any, any> {\n  render() {\n    const { sellCurrency, buyCurrency, exchangeRate, intl } = this.props\n    return (\n      <Row title={intl.formatMessage(title.ExchangeRate)}>\n        <Value value={1} currency={buyCurrency} />\n        {' '}\n        <div styleName=\"equal\">\n          <FormattedMessage id=\"ExchangeRate14\" defaultMessage=\"=\" />\n        </div>\n        {' '}\n        <Value value={new BigNumber(exchangeRate).toString()} currency={sellCurrency} />\n      </Row>\n    )\n  }\n}\n\nexport default injectIntl(ExchangeRate)\n","// extracted by mini-css-extract-plugin\nexport default {\"equal\":\"_1WfOx0s2CNDE40wF7roFzh\"};","import React, { Component, Fragment } from 'react'\nimport actions from 'redux/actions'\n\nimport cssModules from 'react-css-modules'\nimport styles from './ConfirmOffer.scss'\n\nimport Row from 'components/Row/Row'\nimport Button from 'components/controls/Button/Button'\nimport Coins from 'components/Coins/Coins'\n\nimport Amounts from './Amounts/Amounts'\nimport ExchangeRate from './ExchangeRate/ExchangeRate'\nimport { FormattedMessage, injectIntl } from 'react-intl'\nimport feedback from 'shared/helpers/feedback'\n\n\n@cssModules(styles)\nclass ConfirmOffer extends Component<any, any> {\n  handleConfirm = () => {\n    const { offer: { buyCurrency, sellCurrency } } = this.props\n\n    feedback.createOffer.finished(`${sellCurrency}->${buyCurrency}`)\n    this.createOrder()\n    actions.modals.close('OfferModal')\n  }\n\n  createOrder = () => {\n    const { offer } = this.props\n\n    actions.core.createOrder(offer, offer.isPartial)\n    actions.core.updateCore()\n  }\n\n  render() {\n    const { offer: { buyAmount, sellAmount, buyCurrency, sellCurrency, exchangeRate }, onBack } = this.props\n\n    return (\n      <Fragment>\n        <Coins styleName=\"coins\" names={[ sellCurrency, buyCurrency ]} size={60} />\n        <Amounts {...{ buyAmount, sellAmount, buyCurrency, sellCurrency }} />\n        <ExchangeRate {...{ sellCurrency, buyCurrency, exchangeRate }} />\n\n        <Row styleName=\"buttonsInRow\">\n          <Button styleName=\"button\" brand onClick={onBack}>\n            <FormattedMessage id=\"ConfirmOffer69\" defaultMessage=\"Back\" />\n          </Button>\n          <Button styleName=\"button\" id=\"confirm\" brand onClick={this.handleConfirm}>\n            <FormattedMessage id=\"ConfirmOffer73\" defaultMessage=\"Add\" />\n          </Button>\n        </Row>\n      </Fragment>\n    )\n  }\n}\n\nexport default injectIntl(ConfirmOffer)\n","// extracted by mini-css-extract-plugin\nexport default {\"coins\":\"yKTryISH4sWy7voV5Rl8r\",\"buttonsInRow\":\"jddm5adB-IOcPHTAJrcuM\",\"button\":\"_2U6NbQbh869OnRmE1VRwjU\",\"link\":\"_3NNxMQcQoRU8MZz8iNDWC0\"};","import React, { Component } from 'react'\nimport InputMask from 'react-input-mask'\nimport cx from 'classnames'\nimport { ignoreProps } from 'helpers'\n\n\nconst setValue = (x, e) => e.target.value\nconst setBoolValue = (x, e) => Boolean(e.target.checked)\n\nconst validationClasses = ({ className, invalidClass, requiredClass }, value, error) =>\n  cx(className, {\n    [invalidClass || 'invalid']: Boolean(error),\n    [requiredClass || 'required']: Boolean(error && value === ''),\n  })\n\n\nconst Input = (props) => {\n  const { valueLink, checkedLink, pattern, mask, maskChar, maskReplace, onChange, ...rest } = props\n  const link = valueLink || checkedLink\n\n  switch (props.type) {\n    case 'checkbox':\n      return (\n        <input\n          {...rest}\n          checked={Boolean(link.value)}\n          onChange={link.action(setBoolValue)}\n        />\n      )\n    case 'radio':\n      return (\n        <input\n          {...rest}\n          checked={link.value === props.value}\n          onChange={e => {\n            if (e.target.checked) {\n              link.set(props.value)\n            }\n          }}\n        />\n      )\n    /* eslint-disable no-case-declarations */\n    default:\n      const className = validationClasses(rest, valueLink.value, valueLink.error)\n      const node = Boolean(mask) ? InputMask : 'input'\n\n      const nodeProps = {\n        ...rest,\n        className,\n        value: typeof valueLink.value !== 'undefined' ? String(valueLink.value) : '',\n        onChange: valueLink.action((x, e) => {\n          let val = e.target.value\n\n          if (pattern && val) {\n            val = val.replace(new RegExp(`[^${pattern}]+`, 'g'), '')\n          }\n\n          if (rest.isPriceValueMask && val) {\n            if (val.length === 1 && val === '.') {\n              val = '0.'\n            }\n            if (x.match(/\\./g) && val.match(/\\./g) && x.match(/\\./g).length === 1 && val.match(/\\./g).length > 1) {\n              val = x\n            }\n          }\n\n          if (mask && val) {\n            if (maskReplace) {\n              return val.replace(maskReplace, '')\n            }\n            else if (maskReplace !== null && maskReplace !== false) {\n              return val.replace(/[^0-9]+/g, '')\n            }\n          }\n          if (typeof onChange === 'function') onChange(e)\n          return val\n        }),\n      }\n\n      if (mask) {\n        nodeProps.mask = mask\n        nodeProps.maskChar = maskChar\n      }\n\n      return React.createElement(node, nodeProps)\n  }\n  /* eslint-enable no-case-declarations */\n}\n\nclass NumberInput extends Component<any, any> {\n\n   onKeyPress: any\n   value: any\n   error: any\n\n  constructor() {\n    //@ts-ignore\n    super(...arguments)\n\n    this.onKeyPress = (event) => {\n      const { integer, positive } = this.props\n      const { charCode, ctrlKey } = event\n\n      const allowedCharCodes = (positive ? [] : [45]).concat(integer ? [] : [46])\n\n      if (ctrlKey) {\n        return\n      }\n\n      if (\n        charCode\n        && (charCode < 48 || charCode > 57)\n        && allowedCharCodes.indexOf(charCode) < 0\n      ) {\n        event.preventDefault()\n      }\n    }\n  }\n\n  componentWillMount() {\n    this.setAndConvert(this.props.valueLink.value)\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { valueLink: next } = nextProps\n\n    if (Number(next.value) !== Number(this.value)) {\n      this.setAndConvert(next.value) // keep state being synced\n    }\n  }\n\n  setValue(x) {\n    // We're not using native state in order to avoid race condition.\n    this.value = String(x)\n    this.error = this.value === '' || isNaN(Number(x))\n\n    this.forceUpdate()\n  }\n\n  setAndConvert(x) {\n    let value = Number(x)\n\n    if (this.props.positive) {\n      value = Math.abs(x)\n    }\n    if (this.props.integer) {\n      value = Math.round(value)\n    }\n\n    this.setValue(value)\n  }\n\n  onChange = (e) => {\n    const { value } = e.target\n    const asNumber = Number(value)\n\n    this.setValue(value)\n\n    if (value && !isNaN(asNumber)) {\n      this.props.valueLink.update(x => {\n        // Update link if value is changed\n        if (asNumber !== Number(x)) {\n          return asNumber\n        }\n      })\n    }\n  }\n\n  render() {\n    const { valueLink, ...props } = this.props\n    const error = valueLink.error || this.error\n\n    return (\n      <input\n        {...ignoreProps(props, 'positive', 'integer')}\n        //@ts-ignore\n        className={validationClasses(props, this.value, error)}\n        value={this.value}\n        onKeyPress={this.onKeyPress}\n        onChange={this.onChange}\n      />\n    )\n  }\n}\n\n/**\n * Wrapper for standard <textarea/> to be compliant with React 0.14 valueLink semantic.\n * Simple supports for link validation - adds 'invalid' class if link has an error.\n *\n *     <TextArea valueLink={ linkToText } />\n */\nconst TextArea = ({ valueLink, ...props }) => (\n  <textarea\n    {...props}\n    //@ts-ignore\n    className={validationClasses(props, valueLink.value, valueLink.error)}\n    value={valueLink.value}\n    onChange={valueLink.action(setValue)}\n  />\n)\n\n/**\n * Wrapper for standard <select/> to be compliant with React 0.14 valueLink semantic.\n * Regular <option/> tags must be used:\n *\n *     <Select valueLink={ linkToSelectedValue }>\n *         <option value=\"a\">A</option>\n *         <option value=\"b\">B</option>\n *     </Select>\n */\nconst Select = ({ valueLink, children, ...props }) => (\n  <select\n    {...props}\n    value={valueLink.value}\n    onChange={valueLink.action(setValue)}\n  >\n    {children}\n  </select>\n)\n\n/**\n * Simple custom <Radio/> tag implementation. Can be easily styled.\n * Intended to be used with offhand bool link:\n *\n *    <Radio checkedLink={ linkToValue.equals( optionValue ) />\n */\nconst Radio = ({ className = 'radio', checkedLink, children }) => (\n  <div\n    className={cx(className, { 'selected': checkedLink.value })}\n    onClick={checkedLink.action(() => true)}\n  >\n    {children}\n  </div>\n)\n\n/**\n * Simple custom <Checkbox /> tag implementation.\n * Takes any type of boolean link. Can be easily styled.\n *\n *     <Checkbox checkedLink={ boolLink } />\n */\nconst Checkbox = ({ className = 'checkbox', checkedLink, children }) => (\n  <div\n    className={cx(className, { 'selected': checkedLink.value })}\n    onClick={checkedLink.action(x => !x)}\n  >\n    {children}\n  </div>\n)\n\n\nexport {\n  Input,\n  TextArea,\n  Select,\n  Radio,\n  Checkbox,\n  NumberInput,\n}\n","import Link from 'valuelink'\n\n\n// this.state = { foo: '', bar: '' }  =>   Link.all(this, 'foo', 'bar')\n//@ts-ignore\nLink.allFields = (component) => Link.all(component, ...Object.keys(component.state))\n\n\nexport { Input, NumberInput, Checkbox, Radio, TextArea, Select } from './tags'\n\nexport default Link\n","import React, { Fragment } from 'react'\nimport styles from './Select.scss'\nimport cssModules from 'react-css-modules'\nimport FieldLabel from 'components/forms/FieldLabel/FieldLabel'\nimport { FormattedMessage } from 'react-intl'\nimport Switching from 'components/controls/Switching/Switching'\nimport BigNumber from 'bignumber.js'\n\n\nconst Select = ({ balance, changeBalance, switching }) => {\n\n  return (\n    <Fragment>\n      <div styleName=\"groupField\">\n        <div styleName=\"group\">\n          <span styleName=\"cell\" onClick={() => changeBalance(new BigNumber(balance).div(4))}><FormattedMessage id=\"Select23\" defaultMessage=\"25%\" /></span>\n          <span styleName=\"cell\" onClick={() => changeBalance(new BigNumber(balance).div(2))}><FormattedMessage id=\"Select25\" defaultMessage=\"50%\" /></span>\n          <span styleName=\"cell\" onClick={() => changeBalance(new BigNumber(balance).div(4).multipliedBy(3))}><FormattedMessage id=\"Select30\" defaultMessage=\"75%\" /></span>\n          <span styleName=\"cell\" onClick={() => changeBalance(new BigNumber(balance).div(1))}><FormattedMessage id=\"Select40\" defaultMessage=\"100%\" /></span>\n        </div>\n        <div styleName=\"switchButton\">\n          <Switching onClick={switching} />\n        </div>\n      </div>\n    </Fragment>\n  )\n}\n\nexport default cssModules(Select, styles, { allowMultiple: true })\n","// extracted by mini-css-extract-plugin\nexport default {\"groupField\":\"_3Wb67BMenFPM-hJuUItwJG\",\"balance\":\"_3_AnKDom4kSiqAH7c_3n4k\",\"group\":\"_17_jBNJdmqMt2StdXKiIe9\",\"cell\":\"_3NOH2bTMysEvSuFE0LlBA7\",\"switchButton\":\"g9VnsP272z7IUNwLDRKq_\"};","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport autosize from 'autosize'\n\n\nconst UPDATE  = 'autosize:update'\nconst DESTROY = 'autosize:destroy'\nconst RESIZED = 'autosize:resized'\n\nexport default class TextareaAutosize extends Component<any, any> {\n\n  static propTypes = {\n    valueLink: PropTypes.object.isRequired,\n    onResize: PropTypes.func,\n  }\n\n  static defaultProps = {\n    rows: 1,\n  }\n\n  textareaEl: any\n\n  componentDidMount() {\n    autosize(this.textareaEl)\n\n    if (this.props.onResize) {\n      this.textareaEl.addEventListener(RESIZED, this.props.onResize)\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.props.onResize) {\n      this.textareaEl.removeEventListener(RESIZED, this.props.onResize)\n    }\n    //@ts-ignore\n    this.dispatchEvent(DESTROY)\n  }\n\n  componentWillReceiveProps(nextProps) {\n    //@ts-ignore\n    if (this.getValue(nextProps) !== this.getValue(this.props)) {\n      this.dispatchEvent(UPDATE, true)\n    }\n  }\n\n  dispatchEvent = (EVENT_TYPE, defer) => {\n    const event = document.createEvent('Event')\n\n    event.initEvent(EVENT_TYPE, true, false)\n\n    const dispatch = () => this.textareaEl.dispatchEvent(event)\n\n    if (defer) {\n      setTimeout(dispatch)\n    }\n    else {\n      dispatch()\n    }\n  }\n\n  getValue = ({ valueLink, value }) => valueLink ? valueLink.value : value\n\n  render() {\n    const { valueLink, ...props } = this.props\n\n    return (\n      <textarea\n        ref={(el) => this.textareaEl = el}\n        {...props}\n        value={valueLink.value}\n        onChange={valueLink.action((x, e) => e.target.value)}\n      />\n    )\n  }\n}\n","import React, { Component } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { Input as ValueLinkInput } from \"local_modules/sw-valuelink\"\nimport cx from \"classnames\";\nimport { ignoreProps } from \"helpers\"\nimport reducers from \"redux/core/reducers\"\nimport { isMobile } from \"react-device-detect\"\n\nimport cssModules from \"react-css-modules\"\nimport styles from \"./Input.scss\"\nimport \"./style.css\"\nimport TextArea from \"components/forms/TextArea/TextArea\"\n\n\n@cssModules(styles, { allowMultiple: true })\nexport default class Input extends Component<any, any> {\n  static propTypes = {\n    className: PropTypes.string,\n    rootClassName: PropTypes.string,\n    inputClassName: PropTypes.string,\n    placeholder: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    type: PropTypes.string,\n    valueLink: PropTypes.object.isRequired,\n    focusOnInit: PropTypes.bool,\n    multiline: PropTypes.bool,\n    disabled: PropTypes.bool,\n    readOnly: PropTypes.bool,\n    required: PropTypes.bool,\n    icon: PropTypes.bool,\n    intl: PropTypes.object\n  };\n\n  static defaultProps = {\n    focusOnInit: false,\n    multiline: false,\n    disabled: false,\n    readOnly: false,\n    required: false,\n    type: \"text\"\n  };\n\n  handleFocus = () => {\n    const { onFocus } = this.props;\n\n    if (onFocus) {\n      onFocus();\n    }\n\n    // Hide the Header if Input is blured\n    if (isMobile) {\n      const header = document.getElementById('header-mobile')\n      if (header) {\n        header.classList.add(\"hidden-header\")\n      }\n    }\n    reducers.inputActive.setInputActive(true);\n  };\n\n  handleBlur = (event) => {\n    const { onBlur } = this.props\n\n    if (onBlur) {\n      onBlur(event)\n    }\n\n    // Show the Header if Input is blured\n    if (isMobile) {\n      const header = document.getElementById('header-mobile')\n      if (header) {\n        header.classList.remove(\"hidden-header\")\n      }\n    }\n    reducers.inputActive.setInputActive(false);\n  };\n\n  render() {\n    const {\n      className,\n      inputContainerClassName,\n      inputClassName,\n      errorStyle,\n      openScan,\n      qr,\n      smallFontSize,\n      valueLink: { error },\n      valueLink,\n      dontDisplayError,\n      inputCustomStyle,\n      withMargin,\n      multiline,\n      focusOnInit,\n      disabled,\n      readOnly,\n      type,\n      fiat,\n      srollingForm,\n      activeFiat,\n      ...rest\n    } = this.props;\n\n    const inputContainerStyleName = cx(\"inputContainer\", {\n      withError: error,\n      withMargin: withMargin,\n      smallFontSize: smallFontSize,\n      withQr: qr,\n    });\n\n    const focusEvent = !isMobile\n      ? {}\n      : {\n        onFocus: this.handleFocus,\n        onBlur: this.handleBlur\n      };\n\n    let style = errorStyle ? \"input inputError\" : \"input \";\n    if (srollingForm) {\n      style = style + \"srollingForm\";\n    }\n\n    return (\n      <div styleName=\"root\" className={className}>\n        <div styleName={inputContainerStyleName} className={inputContainerClassName}>\n          {React.createElement(multiline ? TextArea : ValueLinkInput, {\n            ...ignoreProps(rest, \"styles\"),\n            styleName: style,\n            className: inputClassName,\n            style: inputCustomStyle,\n            valueLink,\n            type,\n            disabled: disabled || readOnly,\n            autoFocus: !!focusOnInit,\n            dir: \"auto\",\n            autoComplete: \"off\",\n            ...focusEvent\n          })}\n          {fiat > 0 && <p styleName=\"dollar\">{`~${fiat}`}{activeFiat}</p>}\n          {qr && (\n            <p styleName=\"qrWrapper\">\n              <i className=\"fas fa-qrcode\" onClick={openScan} />\n            </p>\n          )}\n        </div>\n        {Boolean(error && !dontDisplayError) && <div styleName=\"error\">{error}</div>}\n      </div>\n    );\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"H2cTwG1JsbaWVMVzoM1-J\",\"srollingForm\":\"_3hbxvGQ1ejdVzC0ZxuO9gh\",\"root\":\"JR9QnEbnwJ7w4KzehCyh8\",\"inputContainer\":\"_2LM73jfDhf__UFg--tiw5H\",\"withMargin\":\"_2tUFclTdy5Z-g0e8XrQD4T\",\"disabled\":\"_2-p3flXg2FiKqZF4zBnH0D\",\"withError\":\"gn6GEv1M8puGsbchErnHI\",\"label\":\"_2sajIBeaR7005ixvQkdYJT\",\"withQr\":\"_2-qtq29YOKTxH2dJxRpJ3P\",\"dollar\":\"a0btM0uupSSMqwTPjQNns\",\"qrWrapper\":\"_3Wf106DOUdp0aqfUjvsNr_\",\"inputError\":\"_2yHHwtDba53B6qwDY8PFr-\",\"error\":\"_3o9JuRqPaLUA6JsrZevPE8\",\"smallFontSize\":\"_2tREaEbk_HmwzKvK3KGikU\"};","const ignoreProps = (props = {}, ...ignored) => {\n  const list = {}\n\n  Object.keys(props).forEach(key => {\n    if (!ignored.includes(key)) {\n      list[key] = props[key]\n    }\n  })\n\n  return list\n}\n\n\nexport default ignoreProps\n","import React, { Fragment } from 'react'\n\nimport styles from './Group.scss'\nimport cssModules from 'react-css-modules'\n\nimport Input from 'components/forms/Input/Input'\nimport FieldLabel from 'components/forms/FieldLabel/FieldLabel'\n\n\nconst Group = ({ className, disabled, label, id, inputValueLink, isInteger = false, placeholder, children }) => (\n  <Fragment>\n    <div styleName=\"groupField\" className={className}>\n      <Input\n        styleName=\"inputRoot\"\n        inputContainerClassName=\"inputContainer\"\n        valueLink={inputValueLink}\n        type=\"number\"\n        pattern={isInteger ? '0-9' : '0-9.'}\n        id={id}\n        placeholder={placeholder}\n        disabled={disabled}\n      />\n      {children}\n    </div>\n  </Fragment>\n)\n\nexport default cssModules(Group, styles)\n","// extracted by mini-css-extract-plugin\nexport default {\"groupField\":\"_2YzPRjDxtAo8VXjemNY5wz\",\"inputRoot\":\"_1mPn9g0ZovuZ8omRBBg3Ue\",\"inputContainer\":\"qEMiPnxUgSOT0GjwAwkvQ\"};","import React from 'react'\nimport styles from './ExchangeRateGroup.scss'\nimport cssModules from 'react-css-modules'\nimport Group from '../Group/Group'\n\nconst ExchangeRateGroup = ({\n  className = null,\n  disabled,\n  label,\n  id,\n  inputValueLink,\n  placeholder,\n  buyCurrency,\n  sellCurrency,\n}) => (\n  <Group\n    styleName=\"exRate\"\n    className={className}\n    label={label}\n    id={id}\n    disabled={disabled}\n    inputValueLink={inputValueLink}\n    placeholder={placeholder}\n  >\n    <span styleName=\"currencyRatio\">\n      {sellCurrency} / {buyCurrency}\n    </span>\n  </Group>\n)\n\nexport default cssModules(ExchangeRateGroup, styles)\n","// extracted by mini-css-extract-plugin\nexport default {\"currencyRatio\":\"_1PmO7w9xhDM0ZFD-pkwemB\",\"exRate\":\"V0VgHSURtzEQRNBEGXKfc\"};","import React from 'react'\n\nimport cssModules from 'react-css-modules'\nimport styles from './Option.scss'\n\nimport CurrencyIcon from 'components/ui/CurrencyIcon/CurrencyIcon'\nimport config from 'app-config'\n\n\nconst Option = (props) => {\n  let { icon, title, blockchain } = props\n\n  return (\n    <div styleName=\"optionrow\">\n      <span styleName=\"circle\">\n        <CurrencyIcon styleName=\"icon\" name={icon} />\n      </span>\n      {(blockchain) ? `${title} (${blockchain})` : title}\n    </div>\n  )\n}\n\n\nexport default cssModules(Option, styles)\n","// extracted by mini-css-extract-plugin\nexport default {\"optionrow\":\"_3pO6OFxAUQyN5swxdAcPLf\",\"icon\":\"_2_y__Encb2w0J3YcfiG1yH\",\"circle\":\"_1cjP3OrKur3a767zRTVoE7\"};","// extracted by mini-css-extract-plugin\nexport default {\"dropDown\":\"UWqljfJkAROP2a_R4d76j\",\"active\":\"_13WTAjWOKGic9uoJPqanOi\",\"arrow\":\"_3A7fyhBXMMT3P_xWxY0PHN\",\"closeBtn\":\"_3MF8UGS_UmYTxF16g3jNJx\",\"searchInput\":\"_2P8575TtCGe9_xa7qw5L2J\",\"selectedItem\":\"_3gfQlRmvBgdKHCnYuN56AN\",\"simpleDropdown\":\"_3JOaeicJnQFzTI5yp5LTEr\",\"select\":\"_2vgidTDChqsJKf0PlQHBxN\",\"smallTooltip\":\"_16z1GHY97b113-uT7vxuoN\",\"dropDownLabel\":\"_3jUT6rpi5A4obqIpG8Q511\",\"activeLabel\":\"_3-IQTAIgg30uGM1VOLuF41\",\"listName\":\"_3k0trXIEAxAFP8LzzGKXg1\",\"fullTitle\":\"_374bX_B46IZwNwzxpQuMjZ\",\"left\":\"_3dBWnU36MeHbu-_S6c9co2\",\"single\":\"Z5kp9pojwY6vhL-9jKtA_\",\"disabled\":\"_7-CErL3AriXW3LPTcLzYe\",\"selectedItemInner\":\"_3p0rCSe_e2oq3JOayOdvWi\",\"reducedLength\":\"_1BFSgcJ_aFKqz1uhfqLA6Q\",\"dontscroll\":\"_3usRqFIKZk7q1bFRSetFRf\",\"dropDownItem\":\"_3LqSxgffLX2x_JNEsV4y7i\"};","import React, { Component } from 'react'\n\ntype OutsideClickProps = {\n  children: JSX.Element[] | JSX.Element\n  outsideAction: () => void\n}\n\nexport default class OutsideClick extends Component<OutsideClickProps, null> {\n  wrapperRef: Node\n\n  componentDidMount() {\n    document.addEventListener('mousedown', this.handleClickOutside)\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.handleClickOutside)\n  }\n\n  setWrapperRef = (node) => {\n    this.wrapperRef = node\n  }\n\n  handleClickOutside = (event) => {\n    const { outsideAction } = this.props\n\n    if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\n      outsideAction()\n    }\n  }\n\n  render() {\n    return <div ref={this.setWrapperRef}>{this.props.children}</div>\n  }\n}\n","import React, { Component, ReactNode } from 'react'\nimport cx from 'classnames'\nimport cssModules from 'react-css-modules'\nimport styles from './index.scss'\nimport Link from 'local_modules/sw-valuelink'\nimport { FormattedMessage } from 'react-intl'\nimport Input from 'components/forms/Input/Input'\nimport OutsideClick from 'components/OutsideClick'\n\ntype DropDownProps = {\n  selectedValue: string\n  items: IUniversalObj[]\n  selectedItemRender?: (item) => void\n  itemRender: (item) => ReactNode\n  onSelect?: (item) => void\n  className?: string\n  name?: string\n  placeholder?: string\n  arrowSide?: string\n  disableSearch?: boolean\n  dontScroll?: boolean\n  role?: string\n}\n\ntype DropDownState = {\n  error: boolean\n  optionToggleIsOpen: boolean\n  inputValue: string\n  selectedValue: number\n}\n\n@cssModules(styles, { allowMultiple: true })\nexport default class DropDown extends Component<DropDownProps, DropDownState> {\n  constructor(props) {\n    super(props)\n\n    const { selectedValue } = props\n\n    this.state = {\n      optionToggleIsOpen: false,\n      selectedValue: selectedValue,\n      inputValue: '',\n      error: false,\n    }\n  }\n\n  toggleClose = () => {\n    this.setState(() => ({\n      optionToggleIsOpen: false,\n    }))\n  }\n\n  toggleOpen = () => {\n    this.setState(() => ({\n      optionToggleIsOpen: true,\n    }))\n  }\n\n  toggle = () => {\n    this.setState((state) => ({\n      optionToggleIsOpen: !state.optionToggleIsOpen,\n    }))\n  }\n\n  handleOptionClick = (item) => {\n    const { onSelect } = this.props\n    \n    // for example we'd like to change `selectedValue` manually\n    if (typeof onSelect === 'function' && !item.disabled) {\n      onSelect(item)\n      this.setState({ selectedValue: item.value })\n    }\n\n    this.toggleClose()\n  }\n\n  renderItem = (item) => {\n    return this.props.itemRender(item)\n  }\n\n  renderSelectedItem = () => {\n    const { items, selectedItemRender } = this.props\n\n    const selectedValue = this.props.selectedValue || this.state.selectedValue\n    const selectedItem = items.find(({ value }) => value === selectedValue)\n\n    if (selectedItem !== undefined) {\n      if (typeof selectedItemRender !== 'function') {\n        const textToShow = selectedItem.title || selectedItem.fullTitle\n        return (\n          <div\n            styleName={`selectedItemInner ${selectedItem.disabled ? 'disabled' : ''} ${\n              selectedItem.reduceSelectedItemText ? 'reducedLength' : ''\n            }`}\n          >\n            {textToShow}\n          </div>\n        )\n      } else {\n        return selectedItemRender(selectedItem)\n      }\n    }\n  }\n\n  handleClickOutside = () => {\n    const { disableSearch } = this.props\n    const { optionToggleIsOpen } = this.state\n    const linkedValue = Link.all(this, 'inputValue')\n    \n    if (optionToggleIsOpen) {\n      // cleanup the search field\n      if (!disableSearch) {\n        linkedValue.inputValue.set('')\n      }\n\n      this.toggleClose()\n    }\n  }\n\n  render() {\n    const {\n      className,\n      name,\n      placeholder,\n      items,\n      selectedValue,\n      disableSearch,\n      dontScroll, // Show all items, for small lists\n      arrowSide,\n      role,\n    } = this.props\n\n    const { optionToggleIsOpen, inputValue } = this.state\n    const dropDownStyleName = cx('dropDown', { active: optionToggleIsOpen })\n    const {\n      inputValue: linkedInputValue,\n    } = Link.all(this, 'inputValue')\n\n\n    let itemsFiltered = items\n    // Filtering values for search input\n    if (!disableSearch && inputValue) {\n      itemsFiltered = items\n        .filter((item) => item.name.includes(inputValue.toUpperCase()))\n        .filter((item) => item.value !== selectedValue)\n    }\n\n    const noOptions = itemsFiltered.length === 0\n    const moreThenOneOption = itemsFiltered.length > 1\n\n    const dropDownId = role ? `dropDown${role}` : 'dropDownNoRole'\n\n    return (\n      //@ts-ignore: strictNullChecks\n      <OutsideClick outsideAction={this.handleClickOutside}>\n        <div styleName={`${dropDownStyleName}`} className={className}>\n          <div\n            className={dropDownId}\n            styleName={`\n              selectedItem\n              ${arrowSide === 'left' ? 'left' : ''}\n              ${!moreThenOneOption ? 'single' : ''}\n            `}\n            onClick={moreThenOneOption ? this.toggleOpen : () => null}\n          >\n            {/* Drop Down arrow */}\n            {moreThenOneOption && <div styleName={`arrow ${arrowSide === 'left' ? 'left' : ''}`} />}\n\n            {/* Search input */}\n            {optionToggleIsOpen && !disableSearch ? (\n              <Input\n                styleName=\"searchInput\"\n                placeholder={placeholder}\n                valueLink={linkedInputValue}\n                ref=\"searchInput\"\n                focusOnInit\n              />\n            ) : (\n              this.renderSelectedItem()\n            )}\n          </div>\n\n          {/* Drop Down list */}\n          {optionToggleIsOpen && (\n            <div styleName={`select ${dontScroll ? 'dontscroll' : ''}`}>\n              {name ? <span styleName=\"listName\">{name}</span> : ''}\n\n              {noOptions ? (\n                  <FormattedMessage id=\"DropDownNoOptionsInTheList\" defaultMessage=\"No options\" />\n                ) : moreThenOneOption ? (\n                  itemsFiltered.map((item, index) => {\n                    if (!item.hidden) {\n                      return (\n                        <div\n                          id={item.value}\n                          key={index}\n                          styleName=\"dropDownItem\"\n                          onClick={() => {\n                            linkedInputValue.set('')\n                            this.handleOptionClick(item)\n                          }}\n                        >\n                          {this.renderItem(item)}\n                        </div>\n                      )\n                    }\n\n                    return null\n                  })\n                ) : (\n                  <div\n                    styleName=\"dropDownItem\"\n                    onClick={() => {\n                      linkedInputValue.set('')\n                      this.handleOptionClick(itemsFiltered[0])\n                    }}\n                  >\n                    {this.renderItem(itemsFiltered[0])}\n                  </div>\n                )\n              }\n            </div>\n          )}\n        </div>\n      </OutsideClick>\n    )\n  }\n}\n","import React from 'react'\nimport Option from './Option/Option'\nimport DropDown from 'shared/components/ui/DropDown'\n\nconst CurrencySelect = (props) => {\n  const {\n    className,\n    selectedValue,\n    onSelect,\n    currencies,\n    name = '',\n    placeholder = '',\n    selectedItemRender,\n  } = props\n\n  const defaultRenderSelected = (item) => <Option {...item} />\n  const usedSelectedItemRender = (selectedItemRender || defaultRenderSelected)\n  return (\n    <DropDown\n      className={className}\n      placeholder={placeholder}\n      items={currencies}\n      selectedValue={selectedValue}\n      selectedItemRender={usedSelectedItemRender}\n      itemRender={item => <Option {...item} />}\n      onSelect={onSelect}\n      name={name}\n      role=\"SelectCurrency\"\n    />\n  )\n}\n\nexport default CurrencySelect\n","import ReactDOM from 'react-dom'\n\n\nexport const bodySelector = document.querySelector('body')\nexport const portalSelector = document.getElementById('portal')\n\nexport const fixBodyOverflow = (fix) => {\n  //@ts-ignore: strictNullChecks\n  bodySelector.style.overflow = !!fix ? 'hidden' : 'auto'\n}\n\nexport const inputReplaceCommaWithDot = (event) => {\n  const isCommaKey = event.key === ','\n\n  if (isCommaKey) {\n    event.preventDefault()\n    document.execCommand('insertHTML', false, '.')\n  }\n}\n\nexport const createPortal = (component, customSelector = null) =>\n  //@ts-ignore: strictNullChecks\n  ReactDOM.createPortal(component, customSelector || portalSelector)\n\nexport const animate = (draw, duration) => {\n  let start = performance.now()\n\n  requestAnimationFrame(function animate(time) {\n    let timePassed = time - start\n\n    if (timePassed > duration) timePassed = duration\n\n    draw(timePassed)\n\n    if (timePassed < duration) {\n      requestAnimationFrame(animate)\n    }\n\n  })\n}\n","import React, { Fragment } from 'react'\nimport { FormattedMessage, injectIntl, IntlShape } from 'react-intl'\nimport config from 'app-config'\n\nimport CSSModules from 'react-css-modules'\nimport styles from './SelectGroup.scss'\n\nimport Input from 'components/forms/Input/Input'\nimport CurrencySelect from 'components/ui/CurrencySelect/CurrencySelect'\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\nimport { BigNumber } from 'bignumber.js'\n\nimport { inputReplaceCommaWithDot } from 'helpers/domUtils'\n\n// TODO to split data and view this component\nconst SelectGroup = (props) => {\n  const {\n    dynamicFee,\n    isToken,\n    extendedControls,\n    selectedValue,\n    onSelect,\n    currencies,\n    fiat,\n    placeholder,\n    label,\n    disabled,\n    className,\n    inputValueLink,\n    tooltip, balance, error,\n    id,\n    idFee,\n    tooltipAboutFee,\n    haveAmount,\n    dontDisplayError,\n    activeFiat,\n    onFocus,\n    onBlur,\n  } = props\n\n  const currAllowed = currencies\n    .filter((item) => !item.dontCreateOrder)\n\n  const doNothing = () => {}\n\n  return (\n    <div>\n      <div styleName=\"groupField\" className={className}>\n        <div>\n          <div styleName='row'>\n            <span styleName=\"label\">\n              {label}\n            </span>\n            <div styleName=\"tooltip\">\n              <Tooltip id={id}>\n                {tooltip}\n              </Tooltip>\n            </div>\n          </div>\n\n          <span styleName=\"balance\">{balance && `Balance: ${new BigNumber(balance).dp(8, BigNumber.ROUND_CEIL)}`}</span>\n          {/*<div styleName=\"smallTooltip\">\n            <Tooltip id={id}>\n              {tooltip}\n            </Tooltip>\n          </div>*/}\n        </div>\n        <Input\n          styleName=\"inputRoot\"\n          inputContainerClassName=\"inputContainer\"\n          valueLink={inputValueLink}\n          type=\"number\"\n          placeholder={placeholder}\n          pattern=\"0-9\\.\"\n          errorStyle={error}\n          dontDisplayError={dontDisplayError}\n          disabled={disabled}\n          onFocus={onFocus ? onFocus : doNothing}\n          onBlur={onBlur ? onBlur : doNothing}\n          onKeyDown={inputReplaceCommaWithDot}\n        />\n        {\n          (selectedValue === 'eth' || selectedValue === 'btc') && fiat > 0 &&\n          <p styleName=\"textUsd\" >{`~${fiat}`} {activeFiat}</p>\n        }\n        <CurrencySelect\n          styleName=\"currencySelect\"\n          selectedItemRender={(item) => (item.blockchain) ? `${item.fullTitle} (${item.blockchain})` : item.fullTitle}\n          placeholder=\"Enter the name of coin\"\n          selectedValue={selectedValue}\n          onSelect={onSelect}\n          currencies={currAllowed}\n        />\n      </div>\n      {label.props.defaultMessage === 'You sell' && !extendedControls &&\n        (balance > 0 ?\n          !isToken &&\n          <span\n            styleName={\n              (new BigNumber(haveAmount).isLessThanOrEqualTo(balance)\n                && new BigNumber(balance).isLessThan(new BigNumber(haveAmount).plus(dynamicFee))\n                && new BigNumber(haveAmount).isGreaterThan(0))\n                ? 'red'\n                : 'balance'\n            }\n          >\n            <FormattedMessage\n              id=\"select75\"\n              defaultMessage=\"Available for exchange: {availableBalance} {tooltip}\"\n              values={{\n                availableBalance: `${new BigNumber(balance).minus(dynamicFee)} ${selectedValue.toUpperCase()}`,\n                tooltip: <Tooltip id={idFee}> {tooltipAboutFee}</Tooltip>,\n              }} />\n          </span> :\n          <span styleName=\"textForNull\">\n            <FormattedMessage id=\"selected53\" defaultMessage=\"You can use an external wallet to perform a swap\" />\n          </span>\n        )\n      }\n    </div>\n  )\n}\n\nexport default injectIntl(CSSModules(SelectGroup, styles, { allowMultiple: true }))\n","// extracted by mini-css-extract-plugin\nexport default {\"groupField\":\"_1tqi_BzLZMrBAXmIqOjA-z\",\"row\":\"_2bOnOVDqcFyJueQn6FS7ug\",\"smallTooltip\":\"KSUCyEZImEV2aBaAcTl5f\",\"balance\":\"_3ZS3KojU6Wa513zhjy_vUa\",\"textUsd\":\"_1KIalousL-mgORTpcn9_1w\",\"inputRoot\":\"xUSpSmlhyR_sROsbYeOx_\",\"textForNull\":\"_1JlY6Oaj7uBjRXe5FtS_6e\",\"inputContainer\":\"eTh9MB3T3gLi3vmSSwZaI\",\"tooltip\":\"sBf90dAb6XknpZSb2SZUB\",\"label\":\"_3KLTjfdzYgwDckdxk6zzTW\",\"red\":\"_2X15PT6INISvkHG4diTlhA\",\"selectGroupContainer\":\"os_a8I-Dwbe45xvNDigbQ\",\"currencySelect\":\"_2QN2Ktbhw8TgH2cSF2bxkM\",\"dropDown\":\"_32zM79JrVhLFyzmTDgdYtN\"};","export default __webpack_public_path__ + \"images/turbo_8b45f4.svg\";","import React from 'react'\nimport cssModules from 'react-css-modules'\nimport { FormattedMessage } from 'react-intl'\n\nimport styles from './TurboIcon.scss'\nimport turboSwapIcon from 'shared/images/turbo.svg'\nimport Tooltip from 'shared/components/ui/Tooltip/Tooltip'\n\n\nconst TurboIcon = () => {\n  return (\n    <div styleName='turboIcon' id=\"ti\">\n      <img styleName='turboIconImage' src={turboSwapIcon} />\n      <span styleName='turboIconText'>turbo</span>\n      {/* @ts-ignore: strictNullChecks */}\n      <Tooltip id=\"test\" mark={false} place={'bottom'}>\n        <FormattedMessage id=\"TurboIcon_Tip\" defaultMessage=\"Faster and cheaper swap with trusted marketmaker, recommended for small amounts\" />\n      </Tooltip>\n    </div>\n  )\n}\n\nexport default cssModules(TurboIcon, styles, { allowMultiple: true })\n","// extracted by mini-css-extract-plugin\nexport default {\"turboIcon\":\"eEBy8oKMeNV9AxXRSxrAb\",\"turboIconImage\":\"_1EAZvdTVB0hHzF-YYgJ1IE\",\"turboIconText\":\"_1KJQXBzlhMSQn3n2OiHIWv\"};","// temporarily: no tokens support at the turboswaps-alpha\n// see https://github.com/swaponline/MultiCurrencyWallet/issues/3875\n\nconst supportedAssets = ['btc', 'eth', /*'next', 'ghost'*/]\n\nconst isAssetSupported = (asset: string) => supportedAssets.includes(asset.toLowerCase())\n\nexport default {\n  isAssetSupported\n}","import React, { Component } from 'react'\n\nimport { connect } from 'redaction'\nimport actions from 'redux/actions'\nimport erc20Like from 'common/erc20Like'\nimport helpers, { constants } from 'helpers'\nimport swapsHelper from 'helpers/swaps'\n\nimport Link from 'local_modules/sw-valuelink'\nimport config from 'app-config'\n\nimport { BigNumber } from 'bignumber.js'\n\nimport styles from './AddOffer.scss'\nimport cssModules from 'react-css-modules'\n\nimport Select from './Select/Select'\nimport ExchangeRateGroup from './ExchangeRateGroup/ExchangeRateGroup'\nimport SelectGroup from './SelectGroup/SelectGroup'\n\nimport Button from 'components/controls/Button/Button'\nimport Toggle from 'components/controls/Toggle/Toggle'\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\nimport { FormattedMessage } from 'react-intl'\nimport COINS_WITH_DYNAMIC_FEE from 'common/helpers/constants/COINS_WITH_DYNAMIC_FEE'\nimport TurboIcon from 'shared/components/ui/TurboIcon/TurboIcon'\nimport MIN_AMOUNT_OFFER from 'common/helpers/constants/MIN_AMOUNT'\nimport turboSwap from 'common/helpers/turboSwap'\nimport getCoinInfo from 'common/coins/getCoinInfo'\n\n\nconst mathConstants = {\n  high_precision: 10e-8,\n  low_precision: 10e-5,\n}\n\nconst isNumberStringFormatCorrect = number => {\n  const stringified = String(number)\n\n  const firstDotIndex = stringified.indexOf('.')\n  const lastDotIndex = stringified.lastIndexOf('.')\n\n  // first and last dot positions match, so it has only one dot\n  return firstDotIndex === lastDotIndex\n}\n\n@connect(\n  ({\n    currencies,\n  }) => ({\n    currencies: swapsHelper.isExchangeAllowed(currencies.partialItems),\n    addSelectedItems: swapsHelper.isExchangeAllowed(currencies.addPartialItems),\n    currenciesOrig: currencies,\n  })\n)\n@cssModules(styles, { allowMultiple: true })\nexport default class AddOffer extends Component<any, any> {\n\n  isSending: any\n\n  constructor(props) {\n    super(props)\n\n    const { initialData } = props\n\n    if (config?.isWidget) {\n      if (window?.widgetEvmLikeTokens?.length) {\n        window.widgetEvmLikeTokens.forEach((token) => {\n          MIN_AMOUNT_OFFER[token.name.toLowerCase()] = 1\n        })\n      } else {\n        MIN_AMOUNT_OFFER[config.erc20token] = 1\n      }\n    }\n\n    const { exchangeRate, buyAmount, sellAmount, buyCurrency, sellCurrency } = initialData || {}\n\n    this.state = {\n      balance: null,\n      isTokenSell: false,\n      isTokenBuy: false,\n      isPartial: true,\n      isTurbo: false,\n      isSending: false,\n      manualRate: true,\n      buyAmount: buyAmount || '',\n      sellAmount: sellAmount || '',\n      exchangeRate: exchangeRate || 1,\n      buyCurrency: buyCurrency || 'btc',\n      sellCurrency: sellCurrency || 'eth',\n      buyBlockchain: ``,\n      sellBlockchain: ``,\n      minimalestAmountForBuy: MIN_AMOUNT_OFFER[buyCurrency] || MIN_AMOUNT_OFFER.btc,\n      minimalestAmountForSell: MIN_AMOUNT_OFFER[sellCurrency] || MIN_AMOUNT_OFFER.eth,\n      tokenBaseCurrencyBalance: 0,\n      // @to-do buy and sell for support token-token orders\n      balanceForBuyTokenFee: 0,\n      balanceForSellTokenFee: 0,\n    }\n  }\n\n  componentDidMount() {\n    const { sellCurrency, buyCurrency } = this.state\n\n    actions.pairs.selectPairPartial(sellCurrency)\n    this.checkBalance(sellCurrency)\n    this.updateExchangeRate(sellCurrency, buyCurrency)\n    this.isTokenOffer(sellCurrency, buyCurrency)\n    this.getFee()\n    this.checkBalanceForTokenFee()\n\n    const {\n      coin: sellName,\n      blockchain: sellBlockchain,\n    } = getCoinInfo(sellCurrency)\n    const {\n      coin: buyName,\n      blockchain: buyBlockchain,\n    } = getCoinInfo(buyCurrency)\n\n    if (sellBlockchain) {\n      this.setState(() => ({ sellBlockchain }))\n      this.updateTokenBaseWalletBalance(sellBlockchain)\n    }\n    if (buyBlockchain) {\n      this.setState(() => ({ buyBlockchain }))\n      this.updateTokenBaseWalletBalance(buyBlockchain)\n    }\n  }\n\n  updateTokenBaseWalletBalance = async (baseCurrency) => {\n    const tokenBaseCurrencyBalance = await actions[baseCurrency.toLowerCase()].getBalance()\n\n    this.setState(() => ({\n      tokenBaseCurrencyBalance,\n    }))\n  }\n\n  getFee = () => {\n    const { sellCurrency, buyCurrency } = this.state\n\n    this.correctMinAmountSell(sellCurrency)\n    this.correctMinAmountBuy(buyCurrency)\n  }\n\n  checkBalanceForTokenFee = async () => {\n    const {\n      sellBlockchain,\n      buyBlockchain,\n    } = this.state\n    const balanceForBuyTokenFee = (buyBlockchain !== ``)\n      ? await actions[buyBlockchain.toLowerCase()].getBalance()\n      : 0\n    const balanceForSellTokenFee = (sellBlockchain !== ``)\n      ? await actions[sellBlockchain.toLowerCase()].getBalance()\n      : 0\n\n    this.setState(() => ({\n      balanceForBuyTokenFee,\n      balanceForSellTokenFee,\n    }))\n  }\n\n  checkBalance = async (sellCurrency) => {\n    const sellWallet = actions.core.getWallet({ currency: sellCurrency })\n    let balance = new BigNumber(\n      await actions.core.fetchWalletBalance(sellWallet)\n    )\n    let { unconfirmedBalance } = sellWallet\n\n    unconfirmedBalance = new BigNumber(unconfirmedBalance)\n\n    const currentBalance = unconfirmedBalance.isNaN() && unconfirmedBalance.isLessThan(0)\n      ? balance.plus(unconfirmedBalance)\n      : balance\n\n    const balanceWithoutFee = !erc20Like.isToken({ name: sellCurrency })\n      ? currentBalance\n      : currentBalance.minus(this.state.minimalestAmountForSell)\n\n    const finalBalance = balanceWithoutFee.isGreaterThan(0) ? balanceWithoutFee : new BigNumber(0)\n\n    this.setState({\n      balance: finalBalance.toString(),\n    })\n  }\n\n  isTokenOffer = (sellCurrency, buyCurrency) => {\n    const isTokenSell = erc20Like.isToken({ name: sellCurrency })\n    const isTokenBuy = erc20Like.isToken({ name: buyCurrency })\n\n    this.setState(() => ({\n      isTokenBuy,\n      isTokenSell,\n    }))\n  }\n\n  correctMinAmountSell = async (sellCurrency) => {\n    const isToken = erc20Like.isToken({ name: sellCurrency })\n\n    if (COINS_WITH_DYNAMIC_FEE.includes(sellCurrency) && !isToken) {\n      const minimalestAmountForSell = await helpers[sellCurrency].estimateFeeValue({ method: 'swap', speed: 'fast' })\n\n      this.setState({\n        minimalestAmountForSell,\n      })\n    }\n  }\n\n  correctMinAmountBuy = async (buyCurrency) => {\n    const isToken = erc20Like.isToken({ name: buyCurrency })\n\n    if (COINS_WITH_DYNAMIC_FEE.includes(buyCurrency) && !isToken) {\n      const minimalestAmountForBuy = await helpers[buyCurrency].estimateFeeValue({ method: 'swap', speed: 'fast' })\n\n      this.setState({\n        minimalestAmountForBuy,\n      })\n    }\n  }\n\n  updateExchangeRate = async (sellCurrency, buyCurrency) => {\n    const exchangeRateSell: any = await actions.user.getExchangeRate(sellCurrency, 'usd')\n    const exchangeRateBuy: any = await actions.user.getExchangeRate(buyCurrency, 'usd')\n\n    const exchangeRate = sellCurrency === 'swap' || buyCurrency === 'swap'\n      ? await actions.user.getExchangeRate(sellCurrency, buyCurrency)\n      : new BigNumber(exchangeRateSell).div(exchangeRateBuy).dp(4, BigNumber.ROUND_CEIL)\n\n    return new Promise((resolve, reject) => {\n      this.setState({ exchangeRate }, () => resolve(true))\n    })\n  }\n\n  handleBuyCurrencySelect = async (selectedItem) => {\n    const { value, blockchain } = selectedItem\n    const { sellCurrency, buyAmount, sellAmount } = this.state\n\n    this.setState({\n      isTurbo: false,\n    })\n\n    if (sellCurrency === value) {\n      this.switching()\n    } else {\n      this.checkPair(sellCurrency)\n      await this.checkBalance(sellCurrency)\n      await this.updateExchangeRate(sellCurrency, value)\n      this.isTokenOffer(sellCurrency, value)\n\n      this.setState(() => ({\n        buyCurrency: value,\n        buyBlockchain: blockchain,\n      }), () => {\n        const { isTokenBuy } = this.state\n\n        if (isTokenBuy) {\n          this.checkBalanceForTokenFee()\n          this.updateTokenBaseWalletBalance(blockchain)\n        }\n      })\n\n      if (sellAmount > 0 || buyAmount > 0) {\n        this.handleBuyAmountChange(buyAmount)\n        this.handleSellAmountChange(sellAmount)\n      }\n\n      this.getFee()\n    }\n  }\n\n  handleSellCurrencySelect = async (selectedItem) => {\n    const { value, blockchain } = selectedItem\n    const { buyCurrency, sellCurrency, sellAmount, buyAmount } = this.state\n\n    this.setState({\n      isTurbo: false,\n    })\n\n    if (buyCurrency === value) {\n      this.switching()\n    } else {\n      this.checkPair(value)\n      await this.checkBalance(value)\n      await this.updateExchangeRate(value, buyCurrency)\n      this.isTokenOffer(value, buyCurrency)\n\n      this.setState(() => ({\n        sellCurrency: value,\n        sellBlockchain: blockchain,\n      }), () => {\n        const { isTokenSell } = this.state\n\n        if (isTokenSell) {\n          this.checkBalanceForTokenFee()\n          this.updateTokenBaseWalletBalance(blockchain)\n        }\n      })\n\n      if (sellAmount > 0 || buyAmount > 0) {\n        this.handleBuyAmountChange(buyAmount)\n        this.handleSellAmountChange(sellAmount)\n      }\n\n      this.getFee()\n    }\n  }\n\n  handleExchangeRateChange = (value) => {\n    if (!isNumberStringFormatCorrect(value)) {\n      return undefined\n    }\n\n    this.handleAnyChange({\n      type: 'rate',\n      value,\n    })\n\n    return value\n  }\n\n  handleBuyAmountChange = (value) => {\n    if (!isNumberStringFormatCorrect(value)) {\n      return undefined\n    }\n\n    this.handleAnyChange({\n      type: 'buy',\n      value,\n    })\n\n    return value\n  }\n\n  handleSellAmountChange = (value) => {\n    if (!isNumberStringFormatCorrect(value)) {\n      return undefined\n    }\n\n    this.handleAnyChange({\n      type: 'sell',\n      value,\n    })\n\n    return value\n  }\n\n  handleAnyChange = ({ type, value }) => {\n    const { manualRate, exchangeRate, buyAmount, sellAmount, buyCurrency, sellCurrency } = this.state\n\n    if (type === 'sell' || type === 'buy') {\n      if (!this.isSending) {\n        this.setState({ isSending: true })\n      }\n    }\n\n    /*\n        XR = S / B\n        B = S / XR\n        S = XR * B\n    */\n\n    switch (type) {\n      case 'sell': {\n        /*\n          S++ -> XR++ -> B (Manual Rate)\n          S++ -> XR -> B++ (Auto Rate)\n        */\n\n        const newSellAmount = new BigNumber(value || 0)\n\n        if (manualRate) {\n          const newExchangeRate = new BigNumber(value).dividedBy(buyAmount)\n\n          this.setState({\n            exchangeRate: newExchangeRate.isGreaterThan(0) ? newExchangeRate.toString() : '',\n            sellAmount: newSellAmount.toString(),\n          })\n        } else {\n          const newBuyAmount = newSellAmount.multipliedBy(exchangeRate || 0)\n            .dp(constants.tokenDecimals[buyCurrency.toLowerCase()], BigNumber.ROUND_DOWN)\n\n          this.setState({\n            sellAmount: newSellAmount.toString(),\n            buyAmount: newBuyAmount.toString(),\n          })\n        }\n        break\n      }\n\n      case 'buy': {\n        /*\n          B++ -> XR-- -> S (Manual Rate)\n          B++ -> XR -> S++ (Auto Rate)\n        */\n\n        const newBuyAmount = new BigNumber(value || 0)\n\n        if (manualRate) {\n          const newExchangeRate = new BigNumber(sellAmount).dividedBy(value)\n\n          this.setState({\n            exchangeRate: newExchangeRate.isGreaterThan(0) ? newExchangeRate.toString() : '',\n            buyAmount: newBuyAmount.toString(),\n          })\n        } else {\n          const newSellAmount = newBuyAmount.dividedBy(exchangeRate || 0)\n            .dp(constants.tokenDecimals[sellCurrency.toLowerCase()], BigNumber.ROUND_DOWN)\n\n          this.setState({\n            sellAmount: newSellAmount.toString(),\n            buyAmount: newBuyAmount.toString(),\n          })\n        }\n\n        break\n      }\n\n      case 'rate': {\n        if (new BigNumber(sellAmount).isGreaterThan(mathConstants.high_precision)) {\n          // If user has set sell value change buy value\n          /*\n            XR++ -> S -> B--\n          */\n\n          const newBuyAmount = new BigNumber(sellAmount).dividedBy(value || 0)\n\n          this.setState({\n            buyAmount: newBuyAmount.toString(),\n          })\n        } else {\n          // Otherwise change sell value if buy value is not null\n          /*\n            XR++ -> S++ -> B\n          */\n\n          const newSellAmount = new BigNumber(value || 0).multipliedBy(buyAmount)\n\n          this.setState({\n            sellAmount: newSellAmount.toString(),\n          })\n        }\n\n        break\n      }\n      default:\n        console.error('Unknown type')\n        break\n    }\n  }\n\n  handleNext = () => {\n    const { onNext } = this.props\n\n    onNext(this.state)\n  }\n\n  changeBalance = (value) => {\n    this.setState(() => ({\n      sellAmount: new BigNumber(value).toString(),\n    }))\n\n    this.handleSellAmountChange(value)\n  }\n\n  handleManualRate = (value) => {\n    if (!value) {\n      const { sellCurrency } = this.state\n      this.handleSellCurrencySelect({ value: sellCurrency })\n    }\n    this.setState(() => ({ manualRate: value }))\n  }\n\n  switching = async () => {\n    const {\n      sellCurrency,\n      buyCurrency,\n      balanceForSellTokenFee,\n      balanceForBuyTokenFee,\n      buyBlockchain,\n      sellBlockchain,\n    } = this.state\n\n    this.setState(() => ({\n      sellCurrency: buyCurrency,\n      sellBlockchain: buyBlockchain,\n      sellAmount: '',\n      balanceForSellTokenFee: balanceForBuyTokenFee,\n      // ----\n      buyCurrency: sellCurrency,\n      buyBlockchain: sellBlockchain,\n      buyAmount: '',\n      balanceForBuyTokenFee: balanceForSellTokenFee,\n    }), async () => {\n      await this.checkBalance(buyCurrency)\n      await this.updateExchangeRate(buyCurrency, sellCurrency)\n\n      actions.pairs.selectPairPartial(buyCurrency)\n\n      this.isTokenOffer(this.state.sellCurrency, this.state.buyCurrency)\n      this.getFee()\n    })\n  }\n\n  checkPair = (value) => {\n    const selected = actions.pairs.selectPairPartial(value)\n    const check = selected.map(item => item.value).includes(this.state.buyCurrency)\n\n    if (!check) {\n      this.setState(() => ({\n        buyCurrency: selected[0].value,\n      }))\n    }\n  }\n\n  render() {\n    const { currencies, addSelectedItems } = this.props\n\n    const { \n      exchangeRate,\n      buyAmount,\n      sellAmount,\n      buyCurrency,\n      sellCurrency,\n      minimalestAmountForSell,\n      minimalestAmountForBuy,\n      balance,\n      tokenBaseCurrencyBalance,\n      manualRate,\n      isPartial,\n      isTurbo,\n      isTokenSell,\n      isTokenBuy,\n    } = this.state\n\n    // @to-do - fetch eth miner fee for swap\n    const minAmountForSwap = 0.004\n    const needEthBalance = (new BigNumber(tokenBaseCurrencyBalance).isLessThan(minAmountForSwap) && (isTokenBuy || isTokenSell))\n    const linked = Link.all(this, 'exchangeRate', 'buyAmount', 'sellAmount')\n\n    const minimalAmountSell = !isTokenSell\n      ? COINS_WITH_DYNAMIC_FEE.includes(sellCurrency) ? minimalestAmountForSell : MIN_AMOUNT_OFFER[buyCurrency]\n      : 0.001\n\n    const minimalAmountBuy = !isTokenBuy\n      ? COINS_WITH_DYNAMIC_FEE.includes(buyCurrency) ? minimalestAmountForBuy : MIN_AMOUNT_OFFER[buyCurrency]\n      : 0.001\n\n    // temporary: hide turboswaps on mainnet\n    const isShowSwapModeSwitch = !process.env.MAINNET\n\n    const isTurboAllowed = turboSwap.isAssetSupported(buyCurrency) && turboSwap.isAssetSupported(sellCurrency)\n\n    const isDisabled = !exchangeRate\n      || !buyAmount && !sellAmount\n      || new BigNumber(sellAmount).isGreaterThan(balance)\n      || new BigNumber(sellAmount).isLessThan(minimalAmountSell)\n      || new BigNumber(buyAmount).isLessThan(minimalAmountBuy)\n      || needEthBalance\n\n    if (linked.sellAmount.value !== '' && linked.sellAmount.value > 0) {\n      linked.sellAmount.check((value) => (new BigNumber(value).isGreaterThan(minimalAmountSell)),\n        <span>\n          <FormattedMessage id=\"transaction444\" defaultMessage=\"Sell amount must be greater than \" />\n          {' '}\n          {minimalAmountSell}\n        </span>\n      )\n    }\n    if (linked.buyAmount.value !== '' && linked.buyAmount.value > 0) {\n      linked.buyAmount.check((value) => (new BigNumber(value).isGreaterThan(minimalAmountBuy)),\n        <span>\n          <FormattedMessage id=\"transaction450\" defaultMessage=\"Buy amount must be greater than \" />\n          {' '}\n          {minimalAmountBuy}\n        </span>\n      )\n    }\n\n    return (\n      <div styleName={`wrapper addOffer`}>\n        <div styleName=\"offerTitle\">\n          <FormattedMessage id=\"offerMessageToUser\" defaultMessage=\"You must be online all the time, otherwise your order will not be visible to other users\" />\n        </div>\n\n        <SelectGroup\n          label={<FormattedMessage id=\"addoffer381\" defaultMessage=\"Sell\" />}\n          tooltip={<FormattedMessage id=\"partial462\" defaultMessage=\"The amount you have on swap.online or an external wallet that you want to exchange\" />}\n          inputValueLink={linked.sellAmount.pipe(this.handleSellAmountChange)}\n          dontDisplayError\n          selectedValue={sellCurrency}\n          onSelect={this.handleSellCurrencySelect}\n          id=\"sellAmount\"\n          balance={balance}\n          currencies={currencies}\n          placeholder=\"0.00000000\"\n        />\n        <Select\n          changeBalance={this.changeBalance}\n          balance={balance}\n          switching={this.switching}\n        />\n\n        <SelectGroup\n          label={<FormattedMessage id=\"addoffer396\" defaultMessage=\"Buy\" />}\n          tooltip={<FormattedMessage id=\"partial478\" defaultMessage=\"The amount you will receive after the exchange\" />}\n          inputValueLink={linked.buyAmount.pipe(this.handleBuyAmountChange)}\n          dontDisplayError\n          selectedValue={buyCurrency}\n          onSelect={this.handleBuyCurrencySelect}\n          id=\"buyAmount\"\n          currencies={addSelectedItems}\n          placeholder=\"0.00000000\"\n        />\n\n        <div styleName=\"exchangeRate\">\n          <ExchangeRateGroup\n            label={<FormattedMessage id=\"addoffer406\" defaultMessage=\"Exchange rate\" />}\n            inputValueLink={linked.exchangeRate.pipe(this.handleExchangeRateChange)}\n            disabled={!manualRate}\n            id=\"exchangeRate\"\n            placeholder=\"Enter exchange rate amount\"\n            buyCurrency={buyCurrency}\n            sellCurrency={sellCurrency}\n          />\n        </div>\n\n        <div styleName=\"controlsToggles\">\n          <div styleName=\"toggle\">\n            {/*\n            //@ts-ignore */}\n            <Toggle checked={manualRate} onChange={this.handleManualRate} />\n            <div styleName=\"toggleText\">\n              <FormattedMessage id=\"AddOffer418\" defaultMessage=\"Custom exchange rate\" />\n              {' '}\n              <Tooltip id=\"add264\">\n                <FormattedMessage id=\"add408\" defaultMessage=\"To change the exchange rate \" />\n              </Tooltip>\n            </div>\n          </div>\n\n          <div styleName=\"toggle\">\n            {/*\n            //@ts-ignore */}\n            <Toggle checked={isPartial} onChange={() => this.setState((state) => ({ isPartial: !state.isPartial }))} />\n            <div styleName=\"toggleText\">\n              <FormattedMessage id=\"AddOffer423\" defaultMessage=\"Enable partial fills\" />\n              {' '}\n              <Tooltip id=\"add547\">\n                <div style={{ textAlign: 'center' }} >\n                  <FormattedMessage\n                    id=\"addOfferPartialTooltip\"\n                    defaultMessage={`You will receive exchange requests or the {p} amount less than the total amount you want {p} sell. For example you want to sell 1 BTC,\n                      other users can send you exchange requests {p}for 0.1, 0.5 BTC`}\n                    values={{ p: <br /> }}\n                  />\n                </div>\n              </Tooltip>\n            </div>\n          </div>\n\n          {isShowSwapModeSwitch &&\n            <div styleName=\"toggle\">\n              <div styleName=\"toggleText\">\n                <FormattedMessage id=\"AtomicSwap_Title\" defaultMessage=\"Atomic swap\" />\n              </div>\n              {/*\n              //@ts-ignore */}\n              <Toggle checked={isTurbo} isDisabled={!isTurboAllowed} onChange={() => this.setState((state) => ({ isTurbo: !state.isTurbo }))} />\n              <div styleName=\"toggleText\">\n                <TurboIcon />\n                <span>\n                  <FormattedMessage id=\"TurboSwap_Title\" defaultMessage=\"Turbo swap\" />\n                  &nbsp;\n                  <a href=\"https://github.com/swaponline/MultiCurrencyWallet/blob/master/docs/TURBO_SWAPS.md\" target=\"_blank\">(?)</a>\n                </span>\n              </div>\n            </div>\n          }\n        </div>\n        {needEthBalance && (\n          <div styleName=\"Error\">\n            {isTokenBuy && (\n              <FormattedMessage\n                id=\"CreateOffer_BuyToken_NeedEth\"\n                defaultMessage=\"Для покупки {buyCurrency} вам нужно иметь {ethAmount} ETH для оплаты коммисии\"\n                values={{\n                  buyCurrency: buyCurrency.toUpperCase(),\n                  ethAmount: minAmountForSwap,\n                }}\n              />\n            )}\n            {isTokenSell && (\n              <FormattedMessage\n                id=\"CreateOffer_SellToken_NeedEth\"\n                defaultMessage=\"Для продажи {sellCurrency} вам нужно иметь {ethAmount} ETH для оплаты коммисии\"\n                values={{\n                  sellCurrency: sellCurrency.toUpperCase(),\n                  ethAmount: minAmountForSwap,\n                }}\n              />\n            )}\n          </div>\n        )}\n        {\n          Object.values(linked).map((item, index) => Boolean(item.error)\n            ? <div key={index} styleName=\"Error\">{item.error}</div>\n            : ''\n          )\n        }\n        <Button styleName=\"button\" fullWidth blue disabled={isDisabled} onClick={this.handleNext}>\n          <FormattedMessage id=\"AddOffer396\" defaultMessage=\"Next\" />\n        </Button>\n      </div>\n    )\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"_3LVhJE_Ls6pg95M80j_jeB\",\"offerTitle\":\"_1tcSN9Y347_kGAR22S0I4O\",\"exchangeRate\":\"_2R3N1B7HmJc-ERhutuGA6F\",\"toggle\":\"_2rOETp7b6THGm2d_Xl7ahz\",\"toggleText\":\"_2tXI819zuCUrt-ABHY8vwx\",\"controlsToggles\":\"_3GHw8upEZEp0spb6DZhQX-\",\"button\":\"_3EH3Mz_O4mPUqfHRb7SCPn\",\"error\":\"_6QFikDDBBaPxbvgzAebb\",\"Error\":\"_2l6s9AgMvEOfTxUpBkjsYc\",\"errorAppend\":\"_1AIcQKBEPKb1YM979RYyor\",\"addOffer\":\"_1TeMuGyr_UM0CvE34g0hhc\"};","import React from 'react'\nimport cssModules from 'react-css-modules'\nimport styles from './OfferModal.scss'\nimport Modal from 'components/modal/Modal/Modal'\nimport ConfirmOffer from './ConfirmOffer/ConfirmOffer'\nimport AddOffer from './AddOffer/AddOffer'\nimport { FormattedMessage } from 'react-intl'\n\ntype OfferCurrency = {\n  sellCurrency: string\n  buyCurrency: string\n}\n\ntype OfferProps = {\n  name: string\n  data: OfferCurrency\n}\n\ntype OfferState = {\n  view: string\n  offer: OfferCurrency\n}\n\n@cssModules(styles)\nexport default class Offer extends React.Component<OfferProps, OfferState> {\n  constructor(props) {\n    super(props)\n\n    const propsData = props && props.data\n    const buyCurrency = propsData ? propsData.buyCurrency : 'eth'\n    const sellCurrency = propsData ? propsData.sellCurrency : 'btc'\n\n    this.state = {\n      view: 'editOffer',\n      offer: {\n        buyCurrency,\n        sellCurrency,\n      },\n    }\n  }\n\n  componentWillUnmount() {\n    window.scrollTo({ top: 0 })\n  }\n\n  handleMoveToConfirmation = (offer) => {\n    this.setState({\n      view: 'Confirm offer',\n      offer,\n    })\n  }\n\n  handleMoveToOfferEditing = () => {\n    // actions.analytics.dataEvent('orderbook-addoffer-click-confirm-button')\n    this.setState({\n      view: 'editOffer',\n    })\n  }\n\n  render() {\n    const { view, offer } = this.state\n    const { name } = this.props\n\n    const title =\n      view === 'editOffer' ? (\n        <FormattedMessage id=\"Add52\" defaultMessage=\"Place an offer\" />\n      ) : (\n        <FormattedMessage id=\"Confirm52\" defaultMessage=\"Confirm Offer\" />\n      )\n\n    return (\n      //@ts-ignore: strictNullChecks\n      <Modal name={name} title={title}>\n        <div styleName=\"content\">\n          {view === 'editOffer' ? (\n            <AddOffer initialData={offer} onNext={this.handleMoveToConfirmation} />\n          ) : (\n            <ConfirmOffer offer={offer} onBack={this.handleMoveToOfferEditing} />\n          )}\n        </div>\n      </Modal>\n    )\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"SidFKYhdFi3KfZ8Ve5_Mo\"};","// extracted by mini-css-extract-plugin\nexport default {\"note\":\"_1qRYidiwKfcy0vmzkoFsia\",\"prompt\":\"_3isYql8x9ACd0PtdMsOVJ0\",\"hide\":\"Le3prfk5lUB1DEbEP1CJ4\",\"r-tooltip\":\"_2LGT9urbL-FIypvx1p85kL\",\"rednote\":\"o3VTOIegi8SHopP_-1Wjb\",\"bottom0\":\"hlxRApbq5bJ3t1-4ecUfA\",\"groupField\":\"_150Ba9HFhrbg2PoGsva5mi\",\"balance\":\"_1tnCbbBAhBdrv6R51smqN5\",\"notice\":\"_2spp1_3rgi-I0BrrGI5wcn\",\"rednotes\":\"_2YzIB9LlFhmFRx5AXmq0x8\",\"buttonFull\":\"UqxDk17vWm94OH2tqzvYA\",\"group\":\"_2W5GCXYJmW9TbDUwaererT\",\"input\":\"_3A3XuPD1JD7QQ79usIK8Ya\",\"downLabel\":\"_10UA_JfLbnnrO0bs1cBSZ4\",\"highLevel\":\"aEzPQkQ64prFOLoVB-jv\",\"lowLevel\":\"hyQUKRs6KdYO6ZEkFWhO6\",\"sendBtnsWrapper\":\"_3YSsUd3iL_MVBUHMxvbfSt\",\"commentFormWrapper\":\"_1ze3nOiOtXr4SSrFMtb8S-\",\"actionBtn\":\"_1eBUoCK6Cd3hVM0YeLztJX\",\"dashboardViewNotice\":\"_9CCkLInoyOcjbEWYkaGAh\",\"button\":\"_3GO0F1rytlHCOvLazp4r2A\",\"mobileFont\":\"_1apWb8T2b6YpcLTQ6l4k04\",\"qrCode\":\"_2TI7VZlYppXpNR9tyFjXbN\",\"customSelectContainer\":\"_3ziydHYlnxJI2BAfKAirkj\",\"customSelectValue\":\"_1butqdekThyrSKsCwpg-Ot\",\"address\":\"_3n-khQiB4vZPIy3pxkgTTQ\",\"mobileAddress\":\"_1oqgnSllJQcUsqqiarfkGz\",\"currencySelectContainer\":\"_1w1JyDnj6-ndC-RhPFiBs1\",\"coin\":\"_2H7iRx_fsVkvo3jz52njAA\",\"customSelectList\":\"_3N6wO390avccL8qx5ylpkz\",\"additionalСurrencies\":\"Tw3jyzinKS_yS4N5kq-y_\",\"additionalСurrenciesItem\":\"os0IvQo8agiYZOlOqDpY8\",\"additionalСurrenciesItemActive\":\"_1agFh9gHgUDiw__ft-Tfmw\",\"delimiter\":\"_3eZm6IwXNHuN_nILnJENsz\",\"customSelectListItem\":\"_3f4vM29cf42r51YDDvbM5S\",\"customSelectArrow\":\"_T5WGwEXW9-ktqcdXXXXv\",\"active\":\"cxg8aeutfrqdCGqAcfIBL\",\"disabled\":\"tEfwcH6MlNX7HaSKLOmma\",\"amount\":\"_1LdXoa7YRUNb0QoPbPWdaA\",\"usd\":\"_1HHsubeOes-lGVbbmmNwRT\"};","import React from 'react'\nimport cx from 'classnames'\n\nimport cssModules from 'react-css-modules'\nimport styles from './FieldLabel.scss'\n\ninterface FieldLabelProps {\n  children: React.ReactNode\n  inRow?: boolean\n  inDropDown?: boolean\n  positionStatic?: boolean\n}\n\nconst FieldLabel = ({ children, inRow, inDropDown, positionStatic }: FieldLabelProps) => (\n  <div\n    styleName={cx(\n      'label',\n      { inRow: inRow },\n      { inDropDown: inDropDown },\n      { positionStatic: positionStatic },\n    )}\n  >\n    {children}\n  </div>\n)\n\nexport default cssModules(FieldLabel, styles, { allowMultiple: true })\n","// extracted by mini-css-extract-plugin\nexport default {\"label\":\"_1epgnTk2PG_dpDOYGknn8c\",\"positionStatic\":\"_1uD2VH6kW0Ab640z36ejp6\",\"inDropDown\":\"AjIHnsregtd_9PiQ8zt7t\",\"inRow\":\"t3uAmS3ja0ypXd0jhMvCZ\"};","import React from 'react'\n\nimport CSSModules from 'react-css-modules'\nimport styles from './styles.scss'\n\nimport { FormattedMessage } from 'react-intl'\nimport QrReader from 'react-qr-scanner'\n\n/* eslint-disable */\nconst QR = ({ openScan, handleScan, handleError }) => (\n  <div styleName=\"scan\">\n    <span styleName=\"close\" onClick={openScan}>\n      &times;\n    </span>\n    <QrReader\n      delay={10}\n      facingMode=\"rear\"\n      onError={handleError}\n      onScan={handleScan}\n      style={{ width: '100%' }}\n    />\n  </div>\n)\n\n/* eslint-enable */\n\nexport default CSSModules(QR, styles, { allowMultiple: true })\n","// extracted by mini-css-extract-plugin\nexport default {\"scan\":\"urkoFiltnprLl3MQbJKv9\",\"close\":\"_29Eb4gsycpwI8UWUkMCqQu\"};","import React from 'react'\nimport cssModules from 'react-css-modules'\nimport styles from './InvoiceInfoBlock.scss'\nimport { FormattedMessage } from 'react-intl'\n\ntype ComponentProps = {\n  invoiceData: {\n    invoiceNumber: number\n    amount: number\n    id: number\n    destAddress: string\n    fromAddress: string\n    label: string\n    type: string\n  }\n}\n\nconst InvoiceInfoBlock = (props: ComponentProps) => {\n  const { invoiceData } = props\n\n  let bip0020link = `bitcoin:${(invoiceData.destAddress) ? invoiceData.destAddress : invoiceData.fromAddress}`\n\n  bip0020link = `${bip0020link}?amount=${invoiceData.amount}`\n  bip0020link = `${bip0020link}&label=Invoice-${invoiceData.id}-${invoiceData.invoiceNumber}`\n\n  if (invoiceData.label) {\n    bip0020link = `${bip0020link}&message=${encodeURI(invoiceData.label)}`\n  }\n\n  return (\n    <div styleName=\"invoiceInfoBlock\">\n      <h4>\n        <FormattedMessage id=\"InvoiceInfoBlockTitle\" defaultMessage=\"Payment of invoice #{id}-{invoiceNumber}\" values={invoiceData} />\n      </h4>\n      {invoiceData.label &&\n        <span>{invoiceData.label}</span>\n      }\n      {invoiceData.type === 'BTC' &&\n        <a href={bip0020link}>\n          <FormattedMessage id=\"InvoiceInfoBlockOpenDesktopApp\" defaultMessage=\"Pay from an external wallet\" />\n        </a>\n      }\n      <hr />\n    </div>\n  )\n}\n\nexport default cssModules(InvoiceInfoBlock, styles, { allowMultiple: true })\n","// extracted by mini-css-extract-plugin\nexport default {\"invoiceInfoBlock\":\"_2Tz5C5Ar4LkCXcsV_pTtRo\"};","import React from 'react'\nimport cssModules from 'react-css-modules'\nimport styles from './AdminFeeInfoBlock.scss'\nimport { FormattedMessage } from 'react-intl'\n\nconst AdminFeeInfoBlock = (props) => {\n  const {\n    fee,\n    min,\n    currency,\n  } = props\n\n  return (\n    <div styleName=\"adminFeeInfoBlock\">\n      <FormattedMessage\n        id=\"AdminFee_Message\"\n        defaultMessage=\"Коммисия {fee}% от суммы перевода, но не менее {min} {currency}\"\n        values={{\n          fee,\n          min,\n          currency,\n        }}\n      />\n    </div>\n  )\n}\n\nexport default cssModules(AdminFeeInfoBlock, styles, { allowMultiple: true })\n","// extracted by mini-css-extract-plugin\nexport default {\"adminFeeInfoBlock\":\"_3bFy6iTqw1CqH2fwBUEHkL\"};","import React, { Component } from 'react'\nimport cssModules from 'react-css-modules'\nimport styles from './index.scss'\nimport cx from 'classnames'\nimport PartOfAddress from 'pages/Wallet/PartOfAddress'\nimport { isMobile } from 'react-device-detect'\nimport { constants, user } from 'helpers'\nimport { localisedUrl } from 'helpers/locale'\nimport getCurrencyKey from 'helpers/getCurrencyKey'\nimport Coin from 'components/Coin/Coin'\nimport OutsideClick from 'components/OutsideClick'\n\n@cssModules(styles, { allowMultiple: true })\nexport default class CurrencyList extends Component<any, any> {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isAssetsOpen: false,\n    }\n  }\n\n  openModal = (params) => {\n    const { target } = params\n    let { currency, address, tokenKey } = target\n\n    this.setState({\n      isAssetsOpen: false,\n    }, () => {\n      const {\n        history,\n        intl: { locale },\n      } = this.props\n\n      switch (currency.toLowerCase()) {\n        case 'btc (multisig)':\n        case 'btc (sms-protected)':\n        case 'btc (pin-protected)':\n          currency = 'btc'\n      }\n\n      const firstUrlPart = tokenKey ? `/token/${tokenKey}` : `/${currency}`\n\n      history.push(\n        localisedUrl(locale, `${firstUrlPart}/${address}/send`)\n      )\n    })\n  }\n\n  closeList = () => {\n    this.setState(() => ({\n      isAssetsOpen: false,\n    }))\n  }\n\n  toggleListDisplay = () => {\n    this.setState((state) => ({\n      isAssetsOpen: !state.isAssetsOpen,\n    }))\n  }\n\n  render() {\n    const {\n      selectedCurrency,\n      currentBalance,\n      currency,\n      activeFiat,\n      tableRows,\n      currentAddress,\n    } = this.props\n\n    const {\n      isAssetsOpen,\n    } = this.state\n\n    const standard = selectedCurrency.itemCurrency?.standard\n\n    return (\n      //@ts-ignore: strictNullChecks\n      <OutsideClick outsideAction={this.closeList}>\n        <div\n          id='withdrawCurrencyList'\n          styleName=\"customSelectValue\"\n          onClick={this.toggleListDisplay}\n        >\n          <div styleName=\"coin\">\n            <Coin name={selectedCurrency.currency} />\n          </div>\n\n          <div>\n            <a>\n              {selectedCurrency.currency}\n              {standard && <span styleName=\"tokenStandard\">{standard.toUpperCase()}</span>}\n            </a>\n            <span styleName=\"address\">{currentAddress}</span>\n            <span styleName=\"mobileAddress\">\n              {isMobile ? <PartOfAddress address={currentAddress} withoutLink /> : ''}\n            </span>\n          </div>\n\n          <div styleName=\"amount\">\n            <span>\n              {currentBalance} {getCurrencyKey(currency, true).toUpperCase()}\n            </span>\n            <span styleName=\"usd\">\n              {selectedCurrency.infoAboutCurrency && selectedCurrency.infoAboutCurrency.price_fiat\n                ? <span>{(currentBalance * selectedCurrency.infoAboutCurrency.price_fiat).toFixed(2)} {activeFiat}</span>\n                : null\n              }\n            </span>\n          </div>\n          <div styleName={cx('customSelectArrow', { active: isAssetsOpen })}></div>\n        </div>\n\n        {isAssetsOpen && (\n          <div styleName=\"customSelectList\">\n            {tableRows.map((item, index) => {\n              if (!user.isCorrectWalletToShow(item)) return\n\n              const baseCurrency = item.baseCurrency\n              const itemId = `${\n                baseCurrency ? baseCurrency.toLowerCase() : ''\n              }${item.currency.toLowerCase()}Send`\n\n              return (\n                <div id={itemId} key={index}\n                  styleName={cx('customSelectListItem customSelectValue', {\n                    disabled: !item.balance || item.balanceError,\n                  })}\n                  onClick={() => this.openModal({ target: item })}\n                >\n                  <Coin name={item.currency} />\n\n                  <div>\n                    <a>\n                      {item.fullName}\n                      {item.standard && <span styleName=\"tokenStandard\">{item.standard.toUpperCase()}</span>}\n                    </a>\n                    <span styleName=\"address\">{item.address}</span>\n                    <span styleName=\"mobileAddress\">\n                      {isMobile ? <PartOfAddress address={item.address} withoutLink /> : ''}\n                    </span>\n                  </div>\n   \n                  <div styleName=\"amount\">\n                    <span>\n                      {item.balance} {getCurrencyKey(item.currency, true).toUpperCase()}\n                    </span>\n                    <span styleName=\"usd\">\n                      {item.infoAboutCurrency && item.infoAboutCurrency.price_fiat\n                        ? <span>{(item.balance * item.infoAboutCurrency.price_fiat).toFixed(2)} {activeFiat}</span>\n                        : null\n                      }\n                    </span>\n                  </div>\n                </div>\n              )\n            })}\n          </div>\n        )}\n      </OutsideClick>\n    )\n  }\n}\n\n","// extracted by mini-css-extract-plugin\nexport default {\"coin\":\"_30qzHy0IIjH69CJhXv5gBV\",\"tokenStandard\":\"_1qSdoiCU0NbHFKdTwWz3ww\",\"amount\":\"tCEfmygJUcZKchFEDLSKp\",\"usd\":\"_1XwxcVLuqauGrZ1SAgsXmS\",\"customSelectArrow\":\"_3ojTqmLmfgXngAveP4uW_w\",\"active\":\"_wwsRTEfmTHDrYZaeo-Mw\",\"customSelectValue\":\"_2PWV753-Vi7Lhw3f7jjYZT\",\"address\":\"_32GFKTM927VNtrkcwo6Yez\",\"mobileAddress\":\"Qn_riMmbgRf6UT0hY46jw\",\"customSelectList\":\"_1xPUMM2taHjaoet42OD4Kd\",\"customSelectListItem\":\"_1bifGWc0skcwZm2BxW6ELK\",\"disabled\":\"_2XmwrqAtwskRQhqNsphA90\"};","import React, { Component } from 'react'\nimport cssModules from 'react-css-modules'\nimport styles from './index.scss'\nimport { FormattedMessage } from 'react-intl'\n\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\nimport InlineLoader from 'shared/components/loaders/InlineLoader/InlineLoader'\nimport BigNumber from 'bignumber.js'\n\ntype FeeRadiosProps = {\n  isLoading: boolean\n\n  speedType: string\n\n  fees: {\n    slow: number | any\n    normal: number | any\n    fast: number | any\n    custom: number\n  }\n  setFee: (speedType: string, customValue?: number) => void\n}\n\ntype FeeRadiosState = {\n  customFeeValue: number\n}\n\nconst bitcoinFees = [\n  {\n    slug: 'slow',\n    labelMessage: <FormattedMessage id=\"FeeRadiosSpeedTypeSlow\" defaultMessage=\"Slow\" />,\n    timeMessage: <FormattedMessage id=\"FeeRadiosSpeedTypeTimeSlow\" defaultMessage=\"~60 more minutes\" />,\n    tooltip: (\n      <Tooltip id=\"FeeRadiosSpeedTypeDescriptionSlow\">\n        <div styleName=\"tooltipMessage\">\n          <FormattedMessage\n            id=\"FeeRadiosSpeedTypeDescriptionSlow\"\n            defaultMessage=\"A rolling average of the fee for transactions to be confirmed in 7 or more blocks.\"\n          />\n        </div>\n      </Tooltip>\n    ),\n  },  \n  {\n    slug: 'normal',\n    labelMessage: <FormattedMessage id=\"FeeRadiosSpeedTypeMedium\" defaultMessage=\"Medium\" />,\n    timeMessage: <FormattedMessage id=\"FeeRadiosSpeedTypeTimeMedium\" defaultMessage=\"~25-60 minutes\" />,\n    tooltip: (\n      <Tooltip id=\"FeeRadiosSpeedTypeDescriptionMedium\">\n        <div styleName=\"tooltipMessage\">\n          <FormattedMessage\n            id=\"FeeRadiosSpeedTypeDescriptionMedium\"\n            defaultMessage=\"A rolling average of the fee for transactions to be confirmed within 3 to 6 blocks.\"\n          />\n        </div>\n      </Tooltip>\n    ),\n  },\n  {\n    slug: 'fast',\n    labelMessage: <FormattedMessage id=\"FeeRadiosSpeedTypeFast\" defaultMessage=\"Fast\" />,\n    timeMessage: <FormattedMessage id=\"FeeRadiosSpeedTypeTimeFast\" defaultMessage=\"~5-20 minutes\" />,\n    tooltip: (\n      <Tooltip id=\"FeeRadiosSpeedTypeDescriptionFast\">\n        <div styleName=\"tooltipMessage\">\n          <FormattedMessage\n            id=\"FeeRadiosSpeedTypeDescriptionFast\"\n            defaultMessage=\"A rolling average of the fee for transactions to be confirmed within 1 to 2 blocks.\"\n          />\n        </div>\n      </Tooltip>\n    ),\n  },\n  {\n    slug: 'custom',\n    labelMessage: <FormattedMessage id=\"FeeRadiosSpeedTypeCustom\" defaultMessage=\"Custom\" />,\n    timeMessage: null,\n    tooltip: (\n      <Tooltip id=\"FeeRadiosSpeedTypeDescriptionCustom\">\n        <div styleName=\"tooltipMessage\">\n          <FormattedMessage\n            id=\"FeeRadiosSpeedTypeDescriptionCustom\"\n            defaultMessage=\"Set custom fee rate.\"\n          />\n        </div>\n      </Tooltip>\n    ),\n  },\n]\n\n@cssModules(styles, { allowMultiple: true })\nexport default class FeeRadios extends Component<FeeRadiosProps, FeeRadiosState> {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      customFeeValue: 50\n    }\n  }\n\n  onFeeRateChange = (event) => {\n    const { setFee } = this.props;\n    setFee(event.target.value, this.state.customFeeValue)\n  }\n\n  onCustomFeeValueChange = (event) => {\n    const { setFee } = this.props\n    this.setState({\n      customFeeValue: event.target.value\n    })\n    setFee('custom', event.target.value)\n  }\n\n  render() {\n    const {\n      isLoading,\n      speedType,\n      fees,\n    } = this.props\n\n    return (\n      <div styleName=\"fee-radio\">\n        {bitcoinFees.map((fee, index) => {\n          const feeInByte = fee.slug === \"custom\"\n            ? this.state.customFeeValue\n            : new BigNumber(fees[fee.slug]).div(1024).dp(0, BigNumber.ROUND_HALF_EVEN).toNumber()\n\n          return (\n            <React.Fragment key={index}>\n              <input\n                type=\"radio\"\n                value={fee.slug}\n                id={fee.slug}\n                styleName=\"fee-radio__input\"\n                checked={isLoading ? 'fast' === fee.slug : speedType === fee.slug }\n                onChange={this.onFeeRateChange}\n              />\n\n              <label htmlFor={fee.slug} styleName=\"fee-radio__label\">\n                <div>\n                  <span styleName=\"labelTitle\">{fee.labelMessage}</span>\n                  {' '}\n                  {fee.tooltip}\n                </div>\n\n                {isLoading ? (\n                  <div styleName='paleLoader'>\n                    <InlineLoader />\n                  </div>\n                ) : (\n                  <div styleName=\"feeRadioDescription\">\n                    <span styleName=\"constantTextSize\">\n                      {feeInByte} sat/byte\n                    </span>\n                    <span styleName=\"constantTextSize\">\n                      {fee.timeMessage}\n                    </span>\n                    {speedType === \"custom\" && speedType === fee.slug &&\n                      <input\n                        styleName=\"customRangeInput\"\n                        type=\"range\"\n                        id=\"sat/byte\"\n                        name=\"volume\"\n                        min=\"1\"\n                        max=\"250\"\n                        value={this.state.customFeeValue}\n                        onChange={this.onCustomFeeValueChange}\n                      />\n                    }\n                  </div>\n                )}\n              </label>\n            </React.Fragment>\n            )\n          })\n        }\n      </div>\n    )\n  }\n}\n\n","// extracted by mini-css-extract-plugin\nexport default {\"fee-radio\":\"_18YGkqPj23uG8NPyY7MgCN\",\"fee-radio__input\":\"_1n4FsWa3RLrSoXwdgzi2cr\",\"fee-radio__label\":\"_2QTgNvPYJFKTvYFRjsrRPk\",\"labelTitle\":\"fC1eLXAwdFHKd0PsNKq-P\",\"tooltipMessage\":\"_2NZ4tVMJni05h2Y0MwUoDt\",\"feeRadioDescription\":\"_143oB57J5RGlphoWjRZfPQ\",\"constantTextSize\":\"_3pNWDIL6nMAgqzGVvtusvl\",\"customRangeInput\":\"_2Fk3ti3Hp65PNKFqONKvbo\",\"fee-radio__label--active\":\"_3ITjOhqZOyVitQxRgI5Hzg\",\"paleLoader\":\"_2P0LX0z6Wc-Qncl_P25Ki8\"};","import React from 'react'\nimport cssModules from 'react-css-modules'\nimport styles from './index.scss'\nimport { BigNumber } from 'bignumber.js'\nimport { FormattedMessage } from 'react-intl'\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\nimport FeeRadios  from \"./FeeRadios\";\nimport { links } from 'helpers'\nimport { COIN_DATA, COIN_MODEL } from 'swap.app/constants/COINS'\n\ntype FeeInfoBlockProps = {\n  isLoading: boolean\n  isToken: boolean\n  hasTxSize: boolean\n\n  currency: string\n  activeFiat: string\n  dataCurrency: string\n  bitcoinFeeSpeedType: string\n\n  currentDecimals: number\n  txSize?: number\n  feeCurrentCurrency?: number\n  exchangeRateForTokens?: BigNumber\n  exCurrencyRate?: BigNumber\n  minerFee: BigNumber\n  serviceFee: BigNumber\n  usedAdminFee: undefined | {\n    address: string\n    fee: number // percent (%)\n    min: number\n  }\n  bitcoinFees?: {\n    slow: number\n    normal: number\n    fast: number\n    custom: number\n  }\n\n  setBitcoinFee?: (speedType: string, customValue?: number) => void\n}\n\nfunction FeeInfoBlock(props: FeeInfoBlockProps) {\n  const {\n    isToken,\n    currency,\n    currentDecimals,\n    activeFiat,\n    dataCurrency,\n    exchangeRateForTokens = 0,\n    exCurrencyRate = 0,\n    isLoading,\n    minerFee: initialMinerFee,\n    serviceFee,\n    usedAdminFee,\n    hasTxSize,\n    txSize,\n    feeCurrentCurrency,\n    bitcoinFeeSpeedType,\n    bitcoinFees,\n    setBitcoinFee,\n  } = props\n\n  const minerFeeTicker = dataCurrency\n  const serviceFeeTicker = currency\n  let activeFiatSymbol = activeFiat\n\n  switch (activeFiatSymbol.toLowerCase()) {\n    case 'usd':\n      activeFiatSymbol = '$'\n      break\n    case 'eur':\n      activeFiatSymbol = '€'\n      break\n  }\n\n  const convertToFiat = (value, exchangeRate) => {\n    // check after converting\n    // if  0.<two-digit number more 0> then cut result to two numbers\n    // else cut result to currency decimals\n    let bigNumResult = new BigNumber(value).multipliedBy(exchangeRate)\n    const strResult = bigNumResult.toString()\n    const haveTwoZeroAfterDot =\n      strResult.match(/\\./)\n      && strResult.split('.')[1][0] === '0' // 12.34 -> ['12', '34'] -> '3' === '0'\n      && strResult.split('.')[1][1] === '0' // 12.34 -> ['12', '34'] -> '4' === '0'\n\n    bigNumResult = haveTwoZeroAfterDot\n      ? bigNumResult.dp(currentDecimals, BigNumber.ROUND_CEIL)\n      : bigNumResult.dp(2, BigNumber.ROUND_CEIL)\n\n    return bigNumResult.toNumber()\n  }\n\n  let minerFee = initialMinerFee\n\n  // double miner fee for user and admin transactions\n  if (usedAdminFee && (isToken || COIN_DATA[currency]?.model === COIN_MODEL.AB)) {\n    minerFee = initialMinerFee.multipliedBy(2)\n  }\n\n  const totalFee = minerFee.plus(serviceFee)\n\n  const fiatMinerFee = isToken\n    ? exchangeRateForTokens > 0 // eth rate for tokens\n      ? convertToFiat(minerFee, exchangeRateForTokens)\n      : 0\n    : exCurrencyRate > 0 // own currency rate for another\n      ? convertToFiat(minerFee, exCurrencyRate)\n      : 0\n\n  const fiatServiceFee = usedAdminFee\n    ? exCurrencyRate > 0\n      ? convertToFiat(serviceFee, exCurrencyRate)\n      : 0\n    : 0\n\n  const fiatTotalFee = exCurrencyRate > 0 && !isToken\n    ? convertToFiat(totalFee, exCurrencyRate)\n    : 0\n\n  const transactionSize = (\n    <>\n      {feeCurrentCurrency}&nbsp;sat/byte * {txSize}&nbsp;bytes&nbsp;\n      <a href={links.transactionRate} target=\"_blank\">(?)</a>{' '}\n      ={' '}\n    </>\n  )\n\n  return (\n    <section styleName='feeInfoBlock'>\n      {hasTxSize && (\n        <div styleName='feeRow'>\n          <span styleName='feeRowTitle'>\n            <FormattedMessage id=\"FeeInfoBlockChooseFeeRate\" defaultMessage=\"Choose Fee Rate:\" />\n          </span>\n          <FeeRadios\n            speedType={bitcoinFeeSpeedType}\n            //@ts-ignore: strictNullChecks\n            fees={bitcoinFees}\n            //@ts-ignore: strictNullChecks\n            setFee={setBitcoinFee}\n            isLoading={isLoading}\n          />\n        </div>)\n      }\n\n      <div styleName='feeRow'>\n        <span styleName='feeRowTitle'>\n          <FormattedMessage id=\"FeeInfoBlockMinerFee\" defaultMessage=\"Miner fee:\" />\n        </span>\n        <div className=\"feeRowInfo\">\n          {isLoading\n            ? <div styleName='paleLoader'><InlineLoader /></div>\n            : <span styleName='fee' id=\"feeInfoBlockMinerFee\">\n                {/* @ts-ignore: strictNullChecks */}\n                {hasTxSize && feeCurrentCurrency > 0 ? transactionSize : null}\n                {+minerFee}&nbsp;{minerFeeTicker}\n                {' '}\n                {fiatMinerFee > 0 && `(${activeFiatSymbol}${fiatMinerFee})`}\n              </span>\n          }\n          {' '}\n          <Tooltip id=\"FeeInfoBlockMinerFeeTooltip\">\n            <div style={{ maxWidth: '24em', textAlign: 'center' }}>\n              <FormattedMessage\n                id=\"FeeInfoBlockMinerFeeTooltip\"\n                defaultMessage=\"Amount of cryptocurrency paid to incentivize miners to confirm your transaction\"\n              />\n            </div>\n          </Tooltip>\n        </div>\n      </div>\n\n      {usedAdminFee && (\n          <div styleName='feeRow'>\n            <span styleName='feeRowTitle'>\n              <FormattedMessage id=\"FeeInfoBlockServiceFee\" defaultMessage=\"Service fee:\" />\n            </span>\n            <div className=\"feeRowInfo\">\n              <div styleName=\"serviceFeeConditions\">\n                <span>{usedAdminFee.fee}%</span>\n                {' '}\n                <span>\n                  <FormattedMessage id=\"FeeInfoBlockServiceFeeConditions\" defaultMessage=\"of the transfer amount, but not less than\" />\n                </span>\n                {' '}\n                <span>{usedAdminFee.min}&nbsp;{serviceFeeTicker}</span>\n              </div>\n              {isLoading\n                ? <div styleName='paleLoader'><InlineLoader /></div>\n                : <span styleName='fee' id=\"feeInfoBlockAdminFee\">\n                    {+serviceFee}&nbsp;{serviceFeeTicker}\n                    {' '}\n                    {fiatServiceFee > 0 && `(${activeFiatSymbol}${fiatServiceFee})`}\n                  </span>\n              }\n            </div>\n          </div>\n        )\n      }\n\n      {!isToken && (\n        <div styleName='feeRow'>\n          <span styleName='feeRowTitle'>\n            <FormattedMessage id=\"FeeInfoBlockTotalFee\" defaultMessage=\"Total fees you pay:\" />\n          </span>\n          <div className=\"feeRowInfo\">\n            {isLoading\n              ? <div styleName='paleLoader'><InlineLoader /></div>\n              : <span styleName='fee' id=\"feeInfoBlockTotalFee\">\n                  {+totalFee}&nbsp;{minerFeeTicker}\n                  {' '}\n                  {fiatTotalFee > 0 && `(${activeFiatSymbol}${fiatTotalFee})`}\n                </span>\n            }\n          </div>\n        </div>\n        )\n      }\n    </section>\n  )\n}\n\nexport default cssModules(FeeInfoBlock, styles, { allowMultiple: true })\n","// extracted by mini-css-extract-plugin\nexport default {\"feeInfoBlock\":\"J4F_iwZ_AX032R186O2cd\",\"feeRow\":\"_1zpECoPQyhltx-puSMSoFZ\",\"feeRowTitle\":\"_2b2wrvakKzV3GoeZT5calu\",\"feeRowInfo\":\"_2gWOJS_5cYyfW2ioyD4c53\",\"paleLoader\":\"_2wGUS7w088d2xlwsWaAhyz\",\"fee\":\"_2o53WoxT-uREpMlwxCkCr_\",\"serviceFeeConditions\":\"_3aofx1ZhrMefQCaStHuLeP\"};","import React, { Fragment } from 'react'\nimport cx from 'classnames'\nimport cssModules from 'react-css-modules'\nimport styles from './WithdrawModal.scss'\nimport actions from 'redux/actions'\nimport Link from 'local_modules/sw-valuelink'\nimport { connect } from 'redaction'\nimport typeforce from 'swap.app/util/typeforce'\nimport { BigNumber } from 'bignumber.js'\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\nimport { isMobile } from 'react-device-detect'\n\nimport MIN_AMOUNT from 'common/helpers/constants/MIN_AMOUNT'\nimport COINS_WITH_DYNAMIC_FEE from 'common/helpers/constants/COINS_WITH_DYNAMIC_FEE'\n\nimport TOKEN_STANDARDS from 'helpers/constants/TOKEN_STANDARDS'\nimport { inputReplaceCommaWithDot } from 'helpers/domUtils'\nimport { localisedUrl } from 'helpers/locale'\nimport getCurrencyKey from 'helpers/getCurrencyKey'\nimport lsDataCache from 'helpers/lsDataCache'\nimport helpers, {\n  user,\n  constants,\n  links,\n  adminFee,\n  feedback,\n  redirectTo,\n} from 'helpers'\nimport btcUtils from 'common/utils/coin/btc'\nimport erc20Like from 'common/erc20Like'\nimport ethLikeHelper from 'common/helpers/ethLikeHelper'\nimport Modal from 'components/modal/Modal/Modal'\nimport FieldLabel from 'components/forms/FieldLabel/FieldLabel'\nimport Input from 'components/forms/Input/Input'\nimport Button from 'components/controls/Button/Button'\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\nimport QrReader from 'components/QrReader'\nimport InvoiceInfoBlock from 'components/InvoiceInfoBlock/InvoiceInfoBlock'\nimport AdminFeeInfoBlock from 'components/AdminFeeInfoBlock/AdminFeeInfoBlock'\nimport CurrencyList from './components/CurrencyList'\nimport FeeInfoBlock from './components/FeeInfoBlock'\n\nconst NETWORK = process.env.MAINNET\n  ? 'MAINNET'\n  : 'TESTNET'\n\ntype WithdrawModalProps = {\n  name: 'WithdrawModal'\n  activeFiat: string\n  dashboardView: boolean\n\n  intl: IUniversalObj\n  history: IUniversalObj\n  data: IUniversalObj\n  coinsData: IUniversalObj[]\n}\n\ntype WithdrawModalState = {\n  isShipped: boolean\n  fetchFee: boolean\n  isInvoicePay?: boolean\n  openScanCam: boolean\n\n  reduxActionName: string\n  commissionCurrency: string\n  address: string\n  comment?: string\n  ownTx: string\n  selectedValue: string\n  fiatAmount: string\n  amount: string\n\n  currentDecimals: number\n  btcFeeRate: number | any\n  txSize: undefined | number\n  bitcoinFeeSpeedType: string\n  bitcoinFees: {\n    slow: number\n    normal: number\n    fast: number\n    custom: number\n  }\n\n  walletForTokenFee: IUniversalObj\n  exCurrencyRate: BigNumber\n  fees: {\n    miner: BigNumber\n    service: BigNumber\n    total: BigNumber\n    adminFeeSize: BigNumber\n  }\n  usedAdminFee: {\n    address: string\n    fee: number\n    min: number\n  }\n  balances: {\n    balance: BigNumber\n    allowedCurrency: BigNumber\n    allowedFiat: BigNumber\n  }\n\n  hiddenCoinsList: string[]\n  selectedCurrency: IUniversalObj\n  selectedItem: IUniversalObj\n}\n\n@connect(\n  ({\n    user: {\n      ethData,\n      bnbData,\n      maticData,\n      arbethData,\n      btcData,\n      ghostData,\n      nextData,\n      activeFiat,\n      metamaskData,\n    },\n    ui: { dashboardModalsAllowed },\n  }) => {\n    return {\n      activeFiat,\n      coinsData: [\n        ethData,\n        bnbData,\n        maticData,\n        arbethData,\n        btcData,\n        ghostData,\n        nextData,\n        metamaskData,\n      ],\n      dashboardView: dashboardModalsAllowed,\n    }\n  }\n)\n@cssModules(styles, { allowMultiple: true })\nclass WithdrawModal extends React.Component<WithdrawModalProps, WithdrawModalState> {\n  mounted = true\n  btcFeeTimer: ReturnType<typeof setTimeout> | null = null\n\n  constructor(props) {\n    super(props)\n\n    const {\n      coinsData,\n      data: selectedCurrency,\n    } = props\n\n    const {\n      toAddress,\n      currency,\n      address: walletAddressOwner,\n      itemCurrency,\n    } = selectedCurrency\n\n    const currentDecimals = constants.tokenDecimals[getCurrencyKey(currency, true).toLowerCase()]\n    const selectedItem = actions.user.getWithdrawWallet(\n      itemCurrency?.tokenKey || currency,\n      walletAddressOwner\n    )\n\n    const usedAdminFee = adminFee.isEnabled(currency)\n    const reduxActionName = selectedItem.standard || currency.toLowerCase()\n    let commissionCurrency = currency.toUpperCase()\n\n    // save wallet for token exchange's rate\n    const walletForTokenFee = coinsData.find((wallet) => {\n      if (TOKEN_STANDARDS[selectedItem.standard]) {\n        const tokenCurrency =  TOKEN_STANDARDS[selectedItem.standard].currency.toUpperCase()\n        commissionCurrency = tokenCurrency\n\n        return wallet.currency.toUpperCase() === tokenCurrency\n      }\n    })\n\n    const exCurrencyRate = selectedCurrency.infoAboutCurrency?.price_fiat\n      ? new BigNumber(selectedCurrency.infoAboutCurrency.price_fiat)\n      : new BigNumber(0)\n\n    this.state = {\n      isShipped: false,\n      usedAdminFee,\n      openScanCam: false,\n      address: toAddress ? toAddress : '',\n      fiatAmount: '',\n      amount: '',\n      selectedItem,\n      reduxActionName,\n      commissionCurrency,\n      currentDecimals,\n      selectedValue: currency,\n      ownTx: '',\n      hiddenCoinsList: actions.core.getHiddenCoins(),\n      selectedCurrency,\n      walletForTokenFee: walletForTokenFee || {},\n      exCurrencyRate,\n      bitcoinFees: {\n        slow: 5 * 1024,\n        normal: 15 * 1024,\n        fast: 30 * 1024,\n        custom: 50 * 1024\n      },\n      bitcoinFeeSpeedType: '',\n      fees: {\n        miner: new BigNumber(0),\n        service: new BigNumber(0),\n        total: new BigNumber(0),\n        adminFeeSize: new BigNumber(0),\n      },\n      balances: {\n        balance: new BigNumber(selectedItem.balance || 0),\n        allowedCurrency: new BigNumber(0),\n        allowedFiat: new BigNumber(0),\n      },\n      btcFeeRate: null,\n      fetchFee: true,\n      txSize: undefined,\n      isInvoicePay: !!(selectedCurrency.invoice),\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false\n    //@ts-ignore: strictNullChecks\n    clearTimeout(this.btcFeeTimer)\n  }\n\n  componentDidMount() {\n    this.setCommissions()\n    feedback.withdraw.entered()\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      data: prevData,\n    } = prevProps\n\n    const {\n      amount: prevAmount,\n      fiatAmount: prevFiatAmount,\n    } = prevState\n\n    const {\n      amount,\n      fiatAmount,\n      selectedCurrency,\n    } = this.state\n\n    const {\n      coinsData\n    } = this.props\n\n    const availableWallets = user.filterUserCurrencyData(actions.core.getWallets())\n    const walletIndex = availableWallets.findIndex(wallet => wallet.currency === selectedCurrency.currency && wallet.address === selectedCurrency.address)\n    if (walletIndex === -1) {\n      this.handleHaveNotAvailableWallet(availableWallets)\n    }\n\n    const selectedCurrencyInProps = coinsData.find(coinData => coinData.currency === selectedCurrency.currency && coinData.address === selectedCurrency.address)\n    if (selectedCurrencyInProps && selectedCurrencyInProps.balance !== selectedCurrency.balance) {\n      this.setState(() => ({\n        selectedCurrency: {...selectedCurrency, balance: selectedCurrencyInProps.balance},\n      }))\n    }\n\n    if (prevData !== this.props.data) {\n      this.updateCurrencyData()\n    }\n\n    if (prevAmount !== amount || prevFiatAmount !== fiatAmount) {\n      this.updateServiceAndTotalFee()\n    }\n  }\n\n  reportError = (error: IError, details: string = '-') => {\n    feedback.withdraw.failed(`details(${details}) : error message(${error.message})`)\n\n    console.group('%c Withdraw', 'color: red;')\n    console.error(`Withdraw. details(${details}) : error(${JSON.stringify(error)})`)\n    console.groupEnd()\n\n    actions.notifications.show(\n      constants.notifications.ErrorNotification,\n      { error: `name (${error.name}); message(${error.message}); details(${details})` }\n    )\n  }\n\n  handleHaveNotAvailableWallet = (availableWallets) => {\n    const {\n      history,\n      intl: { locale },\n    } = this.props\n\n    if (\n      !Object.keys(availableWallets).length ||\n      (Object.keys(availableWallets).length === 1 && !user.isCorrectWalletToShow(availableWallets[0]))\n    ) {\n      actions.notifications.show(\n        constants.notifications.Message,\n        {message: (\n          <FormattedMessage\n            id=\"WalletEmptyBalance\"\n            defaultMessage=\"No wallets available\"\n          />\n        )}\n      )\n\n      return\n    }\n\n    const firstWallet = user.isCorrectWalletToShow(availableWallets[0]) ? availableWallets[0] : availableWallets[1]\n\n    const { currency, address, tokenKey } = firstWallet\n    let targetCurrency = currency\n\n    switch (currency.toLowerCase()) {\n      case 'btc (multisig)':\n      case 'btc (sms-protected)':\n      case 'btc (pin-protected)':\n        targetCurrency = 'btc'\n    }\n\n    const firstUrlPart = tokenKey ? `/token/${tokenKey}` : `/${targetCurrency}`\n\n    history.push(\n      localisedUrl(locale, `${firstUrlPart}/${address}/send`)\n    )\n  }\n\n  updateCurrencyData = () => {\n    const { data } = this.props\n\n    this.setState(() => ({\n      selectedCurrency: data,\n    }))\n  }\n\n  fetchBtcFee = async () => {\n    const {\n      address: toAddress,\n      selectedItem: {\n        address,\n        isUserProtected,\n        isSmsProtected,\n        isPinProtected,\n      },\n      currentDecimals,\n      amount,\n    } = this.state\n\n    let method = `send`\n    if (isUserProtected) method = `send_multisig`\n    if (isSmsProtected || isPinProtected) method = `send_2fa`\n\n    const numAmount = Number(amount) || 0\n\n    try {\n      const { txSize } = await helpers.btc.estimateFeeValue({\n        method,\n        speed: 'fast',\n        address,\n        toAddress,\n        amount: numAmount,\n        moreInfo: true,\n      })\n\n      const bitcoinFeesRate = await btcUtils.getFeesRateBlockcypher({NETWORK});\n      const feeInByte = new BigNumber(bitcoinFeesRate.fast).div(1024).dp(0, BigNumber.ROUND_HALF_EVEN);\n      const fee = feeInByte.multipliedBy(txSize).multipliedBy(1e-8);\n      if (!this.mounted) return\n      this.setState((state) => ({\n        bitcoinFeeSpeedType: 'fast',\n        bitcoinFees: bitcoinFeesRate,\n        btcFeeRate: feeInByte.toNumber(),\n        txSize,\n        fees: {\n          ...state.fees,\n          miner: fee,\n          total: state.fees.service.plus(fee).dp(currentDecimals, BigNumber.ROUND_CEIL),\n        },\n      }))\n    } catch (error) {\n      this.reportError(error)\n    }\n  }\n\n  setBtcUserFee = (speedType: string, customValue?: number) => {\n    const { bitcoinFees, txSize, currentDecimals } = this.state\n    const feeInByte = speedType === 'custom' ?\n      //@ts-ignore: strictNullChecks\n      new BigNumber(customValue) :\n      //@ts-ignore: strictNullChecks\n      new BigNumber(bitcoinFees[speedType]).div(1024).dp(0, BigNumber.ROUND_HALF_EVEN);\n\n    //@ts-ignore: strictNullChecks\n    const fee = feeInByte.multipliedBy(txSize).multipliedBy(1e-8);\n\n    this.setState((state) => ({\n      bitcoinFeeSpeedType: speedType,\n      btcFeeRate: feeInByte.toNumber(),\n      fees: {\n        ...state.fees,\n        miner: fee,\n        total: state.fees.service.plus(fee).dp(currentDecimals, BigNumber.ROUND_CEIL),\n      }\n    }))\n    this.setAlowedBalances()\n  }\n\n  setCommissions = async () => {\n    const {\n      data: { currency },\n    } = this.props\n    const {\n      selectedItem,\n      usedAdminFee,\n      amount,\n      currentDecimals,\n    } = this.state\n\n    const currentCoin = getCurrencyKey(currency, true).toLowerCase()\n    const adminFeeSize = usedAdminFee ? adminFee.calc(currency, amount) : 0\n    let newMinerFee = new BigNumber(0)\n\n    if (!this.mounted) return\n    this.setState({ fetchFee: true })\n\n    try {\n      if (selectedItem.isToken) {\n        const tokenBaseCurrency = selectedItem.baseCurrency\n        const tokenStandard = selectedItem.standard\n        // if decimals < 7 then equal 0.0...1\n        // if decimals >= 7 then equal 1e-<decimals>\n        MIN_AMOUNT[tokenBaseCurrency] = 10 ** -currentDecimals\n        MIN_AMOUNT.eth = await ethLikeHelper[tokenBaseCurrency].estimateFeeValue({\n          method: 'send',\n        })\n\n        newMinerFee = new BigNumber(await erc20Like[tokenStandard].estimateFeeValue({\n          method: 'send',\n        }))\n      } \n\n      else if (COINS_WITH_DYNAMIC_FEE.includes(currentCoin)) {\n        let method = 'send'\n        if (selectedItem.isUserProtected) method = 'send_multisig'\n        if (selectedItem.isPinProtected || selectedItem.isSmsProtected) method = 'send_2fa'\n\n        newMinerFee = new BigNumber(await helpers[currentCoin].estimateFeeValue({\n          method,\n          speed: 'fast',\n          address: selectedItem.address,\n          amount,\n        }))\n\n        MIN_AMOUNT[currentCoin] = newMinerFee.toNumber()\n\n        if (selectedItem.isBTC) {\n          this.fetchBtcFee()\n        }\n      }\n\n      this.setState((state) => ({\n        fees: {\n          ...state.fees,\n          miner: newMinerFee,\n          service: new BigNumber(adminFeeSize).dp(currentDecimals, BigNumber.ROUND_CEIL),\n          total: newMinerFee.plus(adminFeeSize).dp(currentDecimals, BigNumber.ROUND_CEIL),\n          adminFeeSize: new BigNumber(adminFeeSize),\n        },\n      }))\n      this.setAlowedBalances()\n    } catch (error) {\n      this.reportError(error)\n    } finally {\n      this.setState({ fetchFee: false })\n    }\n  }\n\n  handleSubmit = async () => {\n    feedback.withdraw.started()\n\n    const {\n      address: to,\n      amount,\n      ownTx,\n      fees,\n      selectedItem,\n      reduxActionName,\n      comment = '',\n    } = this.state\n\n    const {\n      data: { currency, address, invoice, onReady },\n      name,\n    } = this.props\n\n    this.setState(() => ({\n      isShipped: true,\n    }))\n\n    let sendOptions = {\n      from: address,\n      to,\n      amount,\n      speed: 'fast',\n      name: selectedItem.isToken ? currency.toLowerCase() : '',\n      feeValue: selectedItem.isBTC && fees.miner,\n    }\n\n    if (invoice && ownTx) {\n      await actions.invoices.markInvoice(invoice.id, 'ready', ownTx, address)\n\n      actions.notifications.show(constants.notifications.SuccessWithdraw, {\n        amount,\n        currency,\n        address: to,\n      })\n      this.setState(() => ({ isShipped: false }))\n      actions.modals.close(name)\n      if (onReady instanceof Function) {\n        onReady()\n      }\n      return\n    }\n\n    if (selectedItem.isPinProtected || selectedItem.isSmsProtected || selectedItem.isUserProtected) {\n      let nextStepModal = constants.modals.WithdrawBtcPin\n      if (selectedItem.isSmsProtected) nextStepModal = constants.modals.WithdrawBtcSms\n      if (selectedItem.isUserProtected) nextStepModal = constants.modals.WithdrawBtcMultisig\n\n      actions.modals.close(name)\n      //@ts-ignore: strictNullChecks\n      actions.modals.open(nextStepModal, {\n        wallet: selectedItem,\n        invoice,\n        sendOptions,\n        onReady,\n        adminFee: fees.adminFeeSize,\n      })\n      return\n    }\n\n    await actions[reduxActionName]\n      .send(sendOptions)\n      .then(async (txRaw) => {\n        actions[reduxActionName].getBalance(currency)\n\n        if (invoice) {\n          await actions.invoices.markInvoice(invoice.id, 'ready', txRaw, address)\n        }\n\n        this.setState({\n          isShipped: false\n        })\n\n        if (onReady instanceof Function) {\n          onReady()\n        }\n\n        // Redirect to tx\n        const txInfo = helpers.transactions.getInfo(reduxActionName, txRaw)\n        const { tx: txId } = txInfo\n\n        // Не используем await. Сбрасываем статистику по транзакции (final balance)\n        // Без блокировки клиента\n        // Результат и успешность запроса критического значения не имеют\n        helpers.transactions.pullTxBalances(txId, amount, false, adminFee)\n\n        // Сохраняем транзакцию в кеш\n        const txInfoCache = {\n          amount,\n          senderAddress: address,\n          receiverAddress: to,\n          confirmed: false,\n          adminFee: fees.adminFeeSize,\n        }\n\n        lsDataCache.push({\n          key: `TxInfo_${currency.toLowerCase()}_${txId}`,\n          time: 3600,\n          data: txInfoCache,\n        })\n        feedback.withdraw.finished()\n\n        if (comment) {\n          actions.comments.setComment({\n            key: txId,\n            comment: comment\n          })\n        }\n\n        const { tokenKey, currency: selectedCurrency } = selectedItem\n        const txInfoUrl = helpers.transactions.getTxRouter(tokenKey || selectedCurrency, txId)\n\n        redirectTo(txInfoUrl)\n      })\n      .then(() => {\n        actions.modals.close(name)\n      })\n      .catch((error) => {\n        const { selectedItem } = this.state\n        const errorText = error.res ? error.res.text : ''\n        const customError = {\n          name: {\n            id: 'Withdraw218',\n            defaultMessage: 'Withdrawal error',\n          },\n          message: {\n            id: 'ErrorNotification12',\n            defaultMessage: 'Oops, looks like something went wrong!',\n          },\n        }\n\n        if (/insufficient priority|bad-txns-inputs-duplicate/.test(errorText)) {\n          customError.message = {\n            id: 'Withdraw232',\n            defaultMessage: 'There is not enough confirmation of the last transaction. Try later.',\n          }\n        }\n\n        this.reportError(error, `selected item: ${selectedItem.fullName} | custom message: ${customError.message.defaultMessage}`)\n        this.setState(() => ({\n          isShipped: false,\n        }))\n      })\n  }\n\n  addressIsCorrect() {\n    const {\n      data: { currency },\n    } = this.props\n    const { address, selectedItem } = this.state\n\n    if (getCurrencyKey(currency, false).toLowerCase() === `btc`) {\n      if (!typeforce.isCoinAddress.BTC(address)) {\n        return actions.btc.addressIsCorrect(address)\n      }\n      return true\n    }\n\n    if (selectedItem.isToken) {\n      const baseCurrency = selectedItem.baseCurrency.toUpperCase()\n      return typeforce.isCoinAddress[baseCurrency](address)\n    }\n\n    const currencyKey = getCurrencyKey(currency, true).toUpperCase()\n\n    return typeforce.isCoinAddress[currencyKey](address)\n  }\n\n  openScan = () => {\n    const { openScanCam } = this.state\n\n    this.setState(() => ({\n      openScanCam: !openScanCam,\n    }))\n  }\n\n  handleScan = (data) => {\n    if (data) {\n      const address = data.split(':')[1].split('?')[0]\n      const amount = data.split('=')[1]\n\n      this.setState(() => ({ address, amount }))\n      this.openScan()\n    }\n  }\n  // (value: any) => void' is not assignable to parameter of type Transform<string>\n  handleAmount = (value): any => {\n    const {\n      selectedCurrency,\n      currentDecimals,\n      exCurrencyRate,\n      selectedValue,\n      selectedItem: {\n        isBTC,\n      },\n    } = this.state\n\n    if (isBTC) {\n      //@ts-ignore: strictNullChecks\n      clearTimeout(this.btcFeeTimer)\n      this.btcFeeTimer = setTimeout(() => {\n        this.fetchBtcFee()\n      }, 2000)\n    }\n\n    const hasExCurrencyRate = exCurrencyRate.isGreaterThan(0)\n\n    if (selectedValue === selectedCurrency.currency) {\n      this.setState({\n        fiatAmount: value && hasExCurrencyRate\n          ? exCurrencyRate.times(value).dp(2, BigNumber.ROUND_CEIL).toString()\n          : '',\n        amount: value,\n      })\n    } else {\n      this.setState({\n        fiatAmount: value,\n        amount: value && hasExCurrencyRate\n          ? new BigNumber(value).div(exCurrencyRate).dp(currentDecimals).toString()\n          : '',\n      })\n    }\n  }\n\n  handleClose = () => {\n    const {\n      history,\n      intl: { locale },\n    } = this.props\n    const { name } = this.props\n\n    history.push(localisedUrl(locale, links.home))\n    actions.modals.close(name)\n  }\n\n  handleBuyCurrencySelect = (value) => {\n    this.setState({\n      selectedValue: value,\n    })\n  }\n\n  setAlowedBalances = () => {\n    const {\n      selectedItem,\n      usedAdminFee,\n      currentDecimals,\n      exCurrencyRate,\n      balances,\n      fees,\n    } = this.state\n\n    const ONE_HUNDRED_PERCENT = 100\n    const minerFee = selectedItem.isToken ? new BigNumber(0) : fees.miner\n    const maxService = usedAdminFee\n        ? new BigNumber(usedAdminFee.fee).dividedBy(ONE_HUNDRED_PERCENT).multipliedBy(balances.balance)\n        : new BigNumber(0)\n    const maxAmount = new BigNumber(balances.balance.minus(minerFee).minus(maxService).dp(currentDecimals, BigNumber.ROUND_CEIL))\n    const maxFiatAmount = maxAmount.multipliedBy(exCurrencyRate).dp(2, BigNumber.ROUND_CEIL)\n\n    if (maxAmount.isGreaterThan(balances.balance) || maxAmount.isLessThanOrEqualTo(0)) {\n      this.setState((state) => ({\n        balances: {\n          ...state.balances,\n          allowedCurrency: new BigNumber(0),\n          allowedFiat: new BigNumber(0),\n        },\n      }))\n    } else {\n      this.setState((state) => ({\n        balances: {\n          ...state.balances,\n          allowedCurrency: maxAmount,\n          allowedFiat: maxFiatAmount,\n        },\n      }))\n    }\n  }\n\n  setMaxBalance = () => {\n    const { balances } = this.state\n\n    this.setState({\n      amount: balances.allowedCurrency.toString(),\n      fiatAmount: balances.allowedFiat.toString(),\n    })\n  }\n\n  updateServiceAndTotalFee = () => {\n    const { usedAdminFee, amount, fees, currentDecimals } = this.state\n    const ONE_HUNDRED_PERCENT = 100\n\n    let newServiceFeeSize = usedAdminFee\n      ? new BigNumber(usedAdminFee.fee).dividedBy(ONE_HUNDRED_PERCENT).multipliedBy(amount)\n      : new BigNumber(0)\n\n    newServiceFeeSize = new BigNumber(amount).isGreaterThan(0)\n      && newServiceFeeSize.isGreaterThan(fees.adminFeeSize)\n        ? newServiceFeeSize\n        : fees.adminFeeSize\n\n    this.setState((state) => ({\n      fees: {\n        ...state.fees,\n        service: newServiceFeeSize.dp(currentDecimals, BigNumber.ROUND_CEIL),\n        total: fees.miner.plus(newServiceFeeSize).dp(currentDecimals, BigNumber.ROUND_CEIL),\n      },\n    }))\n  }\n\n  returnHaveInfoPrice = (params) => {\n    const { selectedCurrency } = this.state\n    const { arrOfCurrencies } = params\n    const activeCryptoCurrency = getCurrencyKey(selectedCurrency.currency, true).toUpperCase()\n    let result = true\n\n    arrOfCurrencies.forEach(item => {\n      if (item.currency === activeCryptoCurrency) {\n        result = item.infoAboutCurrency && item.infoAboutCurrency.price_fiat\n      }\n    })\n\n    return result\n  }\n\n  render() {\n    const {\n    } = this.props\n    const {\n      ownTx,\n      amount,\n      address,\n      balances,\n      walletForTokenFee,\n      isShipped,\n      fiatAmount,\n      commissionCurrency,\n      openScanCam,\n      exCurrencyRate,\n      currentDecimals,\n      selectedCurrency,\n      selectedValue,\n      usedAdminFee,\n      fees,\n      fetchFee,\n      txSize,\n      bitcoinFeeSpeedType,\n      bitcoinFees,\n      btcFeeRate,\n      selectedItem,\n      selectedItem: {\n        isBTC: isBTCWallet,\n      },\n    } = this.state\n\n    const { name, intl, activeFiat, dashboardView } = this.props\n    const linked = Link.all(this, 'address', 'amount', 'ownTx', 'fiatAmount', 'comment')\n\n    const {\n      currency,\n      address: currentAddress,\n      balance: currentBalance,\n      invoice,\n    } = selectedCurrency\n\n    const tableRows = user.filterUserCurrencyData(actions.core.getWallets())\n    const activeCryptoCurrency = getCurrencyKey(selectedCurrency.currency, true).toUpperCase()\n    const selectedValueView = getCurrencyKey(selectedValue, true).toUpperCase()\n    const criptoCurrencyHaveInfoPrice = this.returnHaveInfoPrice({\n      arrOfCurrencies: tableRows,\n    })\n    const notEnoughForTokenMinerFee = new BigNumber(walletForTokenFee?.balance).isLessThan(fees.miner)\n    const exchangeRateForTokens = new BigNumber(walletForTokenFee?.infoAboutCurrency?.price_fiat || 0)\n\n    const isDisabled =\n      !address ||\n      !+amount ||\n      isShipped ||\n      !!ownTx ||\n      !this.addressIsCorrect() ||\n      selectedItem.isToken && notEnoughForTokenMinerFee ||\n      new BigNumber(amount).isGreaterThan(balances.balance) ||\n      new BigNumber(amount).dp() > currentDecimals\n\n\n    const labels = defineMessages({\n      withdrawModal: {\n        id: 'withdrowTitle271',\n        defaultMessage: `Send`,\n      },\n      balanceFiatMobile: {\n        id: 'Withdraw_FiatBalanceMobile',\n        defaultMessage: '~{amount} {currency}',\n      },\n      balanceFiatDesktop: {\n        id: 'Withdraw_FiatBalanceDesktop',\n        defaultMessage: 'это ~{amount} {currency}',\n      },\n      balanceMobile: {\n        id: 'Withdraw_BalanceMobile',\n        defaultMessage: '{amount} {currency}',\n      },\n      balanceDesktop: {\n        id: 'Withdraw_BalanceDesktop',\n        defaultMessage: '{amount} {currency} will be send',\n      },\n      ownTxPlaceholder: {\n        id: 'withdrawOwnTxPlaceholder',\n        defaultMessage: 'If paid from another source',\n      },\n    })\n\n    const formRender = (\n      <Fragment>\n        {openScanCam && (\n          <QrReader\n            openScan={this.openScan}\n            handleError={this.reportError}\n            handleScan={this.handleScan}\n          />\n        )}\n        {invoice && <InvoiceInfoBlock invoiceData={invoice} />}\n        {!dashboardView && (\n          <p styleName={selectedItem.isToken ? 'rednotes' : 'notice'}>\n            <FormattedMessage\n              id=\"Withdrow213\"\n              defaultMessage=\"Please note: Fee is {minAmount} {data}.{br}Your balance must exceed this sum to perform transaction\"\n              values={{\n                minAmount: <span>{selectedItem.isToken ? MIN_AMOUNT.eth : fees.total.toNumber()}</span>,\n                br: <br />,\n                data: `${commissionCurrency}`,\n              }}\n            />\n          </p>\n        )}\n\n        <div style={{ marginBottom: '40px' }}>\n          <div styleName=\"customSelectContainer\">\n            <FieldLabel>\n              <FormattedMessage id=\"Withdrow559\" defaultMessage=\"Send from wallet \" />\n            </FieldLabel>\n            <CurrencyList\n              {...this.props}\n              selectedCurrency={selectedCurrency}\n              currentBalance={currentBalance}\n              currency={currency}\n              activeFiat={activeFiat}\n              tableRows={tableRows}\n              currentAddress={currentAddress}\n            />\n          </div>\n        </div>\n        <div styleName=\"highLevel\">\n          <FieldLabel>\n            <FormattedMessage id=\"Withdrow1194\" defaultMessage=\"Address \" />{' '}\n            <Tooltip id=\"WtH203\">\n              <div style={{ textAlign: 'center' }}>\n                <FormattedMessage\n                  id=\"WTH275\"\n                  defaultMessage=\"Make sure the wallet you{br}are sending the funds to supports {currency}\"\n                  values={{\n                    br: <br />,\n                    currency: `${currency.toUpperCase()}`,\n                  }}\n                />\n              </div>\n            </Tooltip>\n          </FieldLabel>\n          <Input\n            id='toAddressInput'\n            valueLink={linked.address}\n            focusOnInit\n            pattern=\"0-9a-zA-Z:\"\n            placeholder={`Enter ${currency.toUpperCase()} address to transfer`}\n            qr={isMobile}\n            openScan={this.openScan}\n          />\n          {/* show invalid value warning in address input */}\n          {address && !this.addressIsCorrect() && (\n            <div styleName=\"rednote bottom0\">\n              <FormattedMessage\n                id=\"WithdrawIncorectAddress\"\n                defaultMessage=\"Your address not correct\"\n              />\n            </div>\n          )}\n        </div>\n        <div styleName=\"lowLevel\" style={{ marginBottom: '30px' }}>\n          {/* why style ? see tip for max button */}\n          <div style={usedAdminFee ? { right: '20px' } : undefined} styleName=\"additionalСurrencies\">\n            {criptoCurrencyHaveInfoPrice && <>\n                <span\n                  styleName={cx('additionalСurrenciesItem', {\n                    additionalСurrenciesItemActive: selectedValue.toUpperCase() === activeFiat,\n                  })}\n                  onClick={() => this.handleBuyCurrencySelect(activeFiat)}\n                >\n                  {activeFiat}\n                </span>\n                <span styleName=\"delimiter\"></span>\n              </>\n            }\n            <span\n              styleName={cx('additionalСurrenciesItem', {\n                additionalСurrenciesItemActive:\n                  selectedValueView === activeCryptoCurrency,\n              })}\n              onClick={() => this.handleBuyCurrencySelect(selectedCurrency.currency)}\n            >\n              {activeCryptoCurrency}\n            </span>\n          </div>\n          {/* why style ? see tip for max button */}\n          <p style={usedAdminFee ? { right: '10px' } : undefined} styleName='balance'>\n            {new BigNumber(amount).isGreaterThan(0) && criptoCurrencyHaveInfoPrice && (\n              <FormattedMessage\n                {...labels[\n                  selectedValue !== activeFiat\n                    ? isMobile\n                      ? `balanceFiatMobile`\n                      : `balanceFiatDesktop`\n                    : isMobile\n                    ? `balanceMobile`\n                    : `balanceDesktop`\n                ]}\n                values={{\n                  amount: selectedValue !== activeFiat\n                    ? new BigNumber(fiatAmount).dp(2, BigNumber.ROUND_CEIL).toNumber()\n                    : new BigNumber(amount).dp(6, BigNumber.ROUND_CEIL).toNumber(),\n                  currency: selectedValue !== activeFiat ? activeFiat : activeCryptoCurrency.toUpperCase(),\n                }}\n              />\n            )}\n          </p>\n\n          <FieldLabel>\n            <FormattedMessage id=\"Withdrow118\" defaultMessage=\"Amount\" />\n          </FieldLabel>\n          <div styleName=\"group\">\n            <Input\n              id='amountInput'\n              pattern=\"0-9\\.\"\n              onKeyDown={inputReplaceCommaWithDot}\n              valueLink={selectedValue === selectedCurrency.currency\n                ? linked.amount.pipe(this.handleAmount)\n                : linked.fiatAmount.pipe(this.handleAmount)\n              }\n            />\n            {/*\n            with service commission we can't send all balance (there is a remainder)\n            so we disable this button\n            */}\n            {!usedAdminFee &&\n              <>\n                <div style={{ marginLeft: '15px' }}>\n                  <Button disabled={fetchFee} blue big onClick={this.setMaxBalance} id=\"Withdrow134\">\n                    <FormattedMessage id=\"Select210\" defaultMessage=\"MAX\" />\n                  </Button>\n                </div>\n                {!isMobile && (\n                  //@ts-ignore: strictNullChecks\n                  <Tooltip id=\"Withdrow134\" place=\"top\" mark={false}>\n                    <FormattedMessage\n                      id=\"WithdrawButton32\"\n                      defaultMessage=\"When you click this button, in the field, an amount{br}equal to your balance minus the miners commission will appear\"\n                      values={{\n                        br: <br />,\n                      }}\n                    />\n                  </Tooltip>\n                )}\n              </>\n            }\n          </div>\n          {/* hint for amount value */}\n          {dashboardView && (\n            <div styleName={`prompt ${fetchFee ? 'hide' : ''}`}>\n              {selectedItem.isToken && notEnoughForTokenMinerFee\n                ? (\n                    <FormattedMessage\n                      id=\"WithdrowTokenCurrencyBalance\"\n                      defaultMessage=\"Not enough {tokenCurrency} balance for miner fee\"\n                      values={{\n                        tokenCurrency: walletForTokenFee?.currency\n                      }}\n                    />\n                  )\n                : balances.allowedCurrency.isEqualTo(0) ?\n                  (\n                    <FormattedMessage\n                      id=\"WithdrowBalanceNotEnoughtPrompt\"\n                      defaultMessage=\"Not enough balance to send\"\n                    />\n                  ) : (\n                    <FormattedMessage\n                      id=\"Withdrow170\"\n                      defaultMessage=\"Maximum amount you can send is {allowedBalance} {currency}\"\n                      values={{\n                        allowedBalance: selectedValue === selectedCurrency.currency\n                          ? balances.allowedCurrency.toNumber()\n                          : balances.allowedFiat.toNumber(),\n                        currency: selectedValue === selectedCurrency.currency\n                          ? activeCryptoCurrency\n                          : activeFiat,\n                      }}\n                    />\n                  )\n              }{' '}\n              <Tooltip id=\"WtH204\">\n                <div style={{ maxWidth: '24em', textAlign: 'center' }}>\n                  <FormattedMessage\n                    id=\"WTH276\"\n                    defaultMessage=\"The amount should not exceed your{br} current balance minus mining fee\"\n                    values={{\n                      br: <br />,\n                    }}\n                  />\n                </div>\n              </Tooltip>\n            </div>\n          )}\n        </div>\n        <div styleName=\"commentFormWrapper\" >\n          <FieldLabel>\n            <FormattedMessage id=\"Comment\" defaultMessage=\"Comment\" />\n          </FieldLabel>\n          <div styleName=\"group\">\n            <Input\n              valueLink={linked.comment}\n              placeholder={\n                intl.formatMessage({\n                  id: 'Comment',\n                  defaultMessage: 'Comment',\n                })\n              }\n            />\n          </div>\n        </div>\n        <div styleName=\"sendBtnsWrapper\">\n          <div styleName=\"actionBtn\">\n            <Button big fill brand onClick={this.handleClose}>\n              <Fragment>\n                <FormattedMessage id=\"WithdrawModalCancelBtn\" defaultMessage=\"Cancel\" />\n              </Fragment>\n            </Button>\n          </div>\n          <div styleName=\"actionBtn\">\n            <Button\n              id='sendButton'\n              brand\n              big\n              fill\n              pending={isShipped}\n              disabled={isDisabled}\n              onClick={this.handleSubmit}\n            >\n              <Fragment>\n                <FormattedMessage id=\"WithdrawModal111\" defaultMessage=\"Send\" />{' '}\n                {`${currency.toUpperCase()}`}\n              </Fragment>\n            </Button>\n          </div>\n        </div>\n        {usedAdminFee && selectedItem.isToken && (\n          <AdminFeeInfoBlock {...usedAdminFee} currency={currency} />\n        )}\n        {invoice && (\n          <Fragment>\n            <hr />\n            <div styleName=\"lowLevel\" style={{ marginBottom: '50px' }}>\n              <div styleName=\"groupField\">\n                <div styleName=\"downLabel\">\n                  <FieldLabel inRow>\n                    <span styleName=\"mobileFont\">\n                      <FormattedMessage id=\"WithdrowOwnTX\" defaultMessage=\"Или укажите TX\" />\n                    </span>\n                  </FieldLabel>\n                </div>\n              </div>\n              <div styleName=\"group\">\n                <Input\n                  styleName=\"input\"\n                  valueLink={linked.ownTx}\n                  placeholder={`${intl.formatMessage(labels.ownTxPlaceholder)}`}\n                />\n              </div>\n            </div>\n            <Button\n              styleName=\"buttonFull\"\n              blue\n              big\n              fullWidth\n              disabled={!ownTx || isShipped}\n              onClick={this.handleSubmit}\n            >\n              {isShipped ? (\n                <Fragment>\n                  <FormattedMessage id=\"WithdrawModal11212\" defaultMessage=\"Processing ...\" />\n                </Fragment>\n              ) : (\n                <FormattedMessage\n                  id=\"WithdrawModalInvoiceSaveTx\"\n                  defaultMessage=\"Отметить как оплаченный\"\n                />\n              )}\n            </Button>\n          </Fragment>\n        )}\n        {dashboardView && (\n          <>\n            <div style={{ paddingTop: '2em' }}>\n              <FeeInfoBlock\n                isToken={selectedItem.isToken}\n                currency={currency}\n                currentDecimals={currentDecimals}\n                activeFiat={activeFiat}\n                dataCurrency={commissionCurrency}\n                exchangeRateForTokens={exchangeRateForTokens}\n                exCurrencyRate={exCurrencyRate}\n                feeCurrentCurrency={btcFeeRate}\n                isLoading={fetchFee}\n                usedAdminFee={usedAdminFee}\n                hasTxSize={isBTCWallet}\n                txSize={txSize}\n                bitcoinFees={bitcoinFees}\n                bitcoinFeeSpeedType={bitcoinFeeSpeedType}\n                setBitcoinFee={this.setBtcUserFee}\n                minerFee={fees.miner}\n                serviceFee={fees.service}\n              />\n            </div>\n          </>\n        )}\n      </Fragment>\n    )\n\n    return (\n      //@ts-ignore: strictNullChecks\n      <Modal\n        name={name}\n        onClose={this.handleClose}\n        title={`${intl.formatMessage(labels.withdrawModal)}${' '}${currency.toUpperCase()}`}\n      >\n        {formRender}\n      </Modal>\n    )\n  }\n}\n\nexport default injectIntl(WithdrawModal)\n","import React, { Fragment } from 'react'\nimport PropTypes from 'prop-types'\nimport helpers, { constants } from 'helpers'\nimport actions from 'redux/actions'\nimport Link from 'local_modules/sw-valuelink'\nimport { connect } from 'redaction'\nimport config from 'app-config'\n\nimport cssModules from 'react-css-modules'\nimport styles from '../WithdrawModal/WithdrawModal.scss'\nimport ownStyle from './WithdrawModalMultisig.scss'\n\nimport { BigNumber } from 'bignumber.js'\nimport Modal from 'components/modal/Modal/Modal'\nimport FieldLabel from 'components/forms/FieldLabel/FieldLabel'\nimport Input from 'components/forms/Input/Input'\nimport Button from 'components/controls/Button/Button'\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\nimport ReactTooltip from 'react-tooltip'\nimport { isMobile } from 'react-device-detect'\nimport InvoiceInfoBlock from 'components/InvoiceInfoBlock/InvoiceInfoBlock'\n\nimport typeforce from 'swap.app/util/typeforce'\nimport * as mnemonicUtils from 'common/utils/mnemonic'\nimport MIN_AMOUNT from 'common/helpers/constants/MIN_AMOUNT'\nimport { inputReplaceCommaWithDot } from 'helpers/domUtils'\nimport QrReader from 'components/QrReader'\n\nimport redirectTo from 'helpers/redirectTo'\nimport lsDataCache from 'helpers/lsDataCache'\n\n@connect(\n  ({\n    currencies,\n    user: { btcData, activeFiat, btcMultisigSMSData },\n    ui: { dashboardModalsAllowed },\n  }) => ({\n    activeFiat,\n    currencies: currencies.items,\n    items: [btcData, btcMultisigSMSData],\n    dashboardView: dashboardModalsAllowed,\n  })\n)\n@cssModules({ ...styles, ...ownStyle }, { allowMultiple: true })\nclass WithdrawModalMultisig extends React.Component<any, any> {\n  static propTypes = {\n    name: PropTypes.string,\n    data: PropTypes.object,\n  }\n\n  fiatRates: any\n\n  constructor(props) {\n    super(props)\n\n    const {\n      data: { amount, toAddress, currency },\n      items,\n    } = props\n\n    //@ts-ignore\n    const currentDecimals = constants.tokenDecimals.btcmultisig\n    const selectedItem = items.filter((item) => item.currency === currency)[0]\n\n    let usedAdminFee = false\n\n    let min = MIN_AMOUNT['btc_multisig_2fa']\n\n    if (config && config.opts && config.opts.fee && config.opts.fee.btc) {\n      usedAdminFee = config.opts.fee.btc\n      if (usedAdminFee) {\n        // miner fee + minimal admin fee\n        //@ts-ignore\n        min = new BigNumber(min).plus(usedAdminFee.min).toNumber()\n      }\n    }\n\n    this.state = {\n      usedAdminFee,\n      step: 'fillform',\n      isShipped: false,\n      address: toAddress ? toAddress : '',\n      amount: amount ? amount : '',\n      code: '',\n      minus: '',\n      balance: selectedItem.balance || 0,\n      ethBalance: null,\n      currentDecimals,\n      getFiat: 0,\n      error: false,\n      smsConfirmed: false,\n      ownTx: '',\n      mnemonic: '',\n      broadcastError: false,\n      sendSmsTimeout: 0,\n      sendSmsTimeoutTimer: false,\n      min,\n    }\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.state.sendSmsTimeoutTimer)\n  }\n\n  gotoSms = () => {\n    this.setState({\n      smsStatus: 'sended',\n      step: 'confirm',\n    })\n  }\n\n  componentDidMount() {\n    const { exCurrencyRate } = this.state\n    const {\n      data: { currency },\n    } = this.props\n\n    this.setBalanceOnState(currency)\n\n    this.fiatRates = {}\n    this.getFiatBalance()\n    this.actualyMinAmount()\n    //this.gotoSms()\n  }\n\n  getMinAmountForEthToken = () => {\n    const {\n      data: { currency },\n    } = this.props\n    const { currentDecimals } = this.state\n\n    let ethTokenMinAmount = '0.'\n\n    for (let a = 0; a < currentDecimals - 1; a++) {\n      ethTokenMinAmount += '0'\n    }\n\n    return (ethTokenMinAmount += '1')\n  }\n\n  actualyMinAmount = async () => {\n    const { usedAdminFee } = this.state\n\n    let min: any = await helpers['btc'].estimateFeeValue({ method: 'send_2fa', speed: 'fast' })\n    MIN_AMOUNT['btc_multisig_2fa'] = min\n\n    if (usedAdminFee) {\n      min = new BigNumber(min).plus(usedAdminFee.min).toNumber()\n    }\n\n    this.setState({\n      min,\n    })\n  }\n\n  setBalanceOnState = async (currency) => {\n    const {\n      data: { unconfirmedBalance },\n    } = this.props\n\n    const balance: any = await actions.btcmultisig.getBalance()\n\n    const finalBalance =\n      unconfirmedBalance !== undefined && unconfirmedBalance < 0\n        ? new BigNumber(balance).plus(unconfirmedBalance).toString()\n        : balance\n    const ethBalance = await actions.eth.getBalance()\n\n    this.setState(() => ({\n      balance: finalBalance,\n      ethBalance,\n    }))\n  }\n\n  getFiatBalance = async () => {\n    const {\n      data: { currency },\n      activeFiat,\n    } = this.props\n\n    const exCurrencyRate = await actions.user.getExchangeRate(currency, activeFiat.toLowerCase())\n    this.fiatRates[currency] = exCurrencyRate\n\n    this.setState(() => ({\n      exCurrencyRate,\n    }))\n  }\n\n  onFinishWithdraw = async (txId) => {\n    const { amount, address: to } = this.state\n\n    const {\n      data: { currency, address, balance, invoice, onReady },\n      name,\n    } = this.props\n\n    actions.loader.hide()\n\n    if (invoice) {\n      await actions.invoices.markInvoice(invoice.id, 'ready', txId, address)\n    }\n    this.setBalanceOnState(currency)\n\n    // Сохраняем транзакцию в кеш\n    const txInfoCache = {\n      amount,\n      senderAddress: address,\n      receiverAddress: to,\n      confirmed: false,\n    }\n\n    lsDataCache.push({\n      key: `TxInfo_btc_${txId}`,\n      time: 3600,\n      data: txInfoCache,\n    })\n\n    this.setState({\n      isShipped: false,\n      error: false,\n    })\n\n    if (onReady instanceof Function) {\n      onReady()\n    }\n\n    const txInfoUrl = helpers.transactions.getTxRouter('btc', txId)\n    redirectTo(txInfoUrl)\n\n    actions.modals.close(name)\n  }\n\n  handleConfirmSMS = async () => {\n    const { code } = this.state\n    const { address: to, amount } = this.state\n    const {\n      data: { currency, address, balance, invoice, onReady },\n      name,\n    } = this.props\n\n    const result = await actions.btcmultisig.confirmSMSProtected(code)\n    if (result && result.txID) {\n      this.onFinishWithdraw(result.txID)\n    } else {\n      console.log(result)\n      if (result && result.error && result.error == 'Fail broadcast' && result.rawTX) {\n        actions.btc.broadcastTx(result.rawTX).then(async ({ txid }) => {\n          if (txid) {\n            this.onFinishWithdraw(txid)\n          } else {\n            this.setState({\n              broadcastError: true,\n              rawTx: result.rawTX,\n              isShipped: false,\n              error: (\n                <FormattedMessage\n                  id=\"WithdrawSMS_BroadcastError\"\n                  defaultMessage=\"Не удалось отправить транзакцию в сеть ({errorText})\"\n                  values={{ errorText: `unknown` }}\n                />\n              ),\n            })\n          }\n        })\n      }\n    }\n  }\n\n  handleSubmit = async () => {\n    const { address: to, amount, ownTx, rawTx } = this.state\n\n    const {\n      data: { currency, address, balance, invoice, onReady },\n      name,\n    } = this.props\n\n    this.setState(() => ({\n      isShipped: true,\n      step: 'confirm',\n    }))\n\n    this.setBalanceOnState(currency)\n\n    if (invoice && ownTx) {\n      await actions.invoices.markInvoice(invoice.id, 'ready', ownTx, address)\n      actions.loader.hide()\n      actions.notifications.show(constants.notifications.SuccessWithdraw, {\n        amount,\n        currency,\n        address: to,\n      })\n      this.setState(() => ({ isShipped: false, error: false }))\n      actions.modals.close(name)\n      if (onReady instanceof Function) {\n        onReady()\n      }\n      return\n    }\n\n    let sendOptions = {\n      to,\n      amount,\n      speed: 'fast',\n      from: address,\n    }\n\n    this.setState({\n      sendSmsStatus: 'sending',\n    })\n    //@ts-ignore\n    const result = await actions.btcmultisig.sendSMSProtected(sendOptions)\n\n    console.log('sendSMSProtected result', result)\n    if (result && result.answer === 'ok') {\n      this.setState({\n        isShipped: false,\n        rawTx: result.rawTx ? result.rawTx : rawTx,\n        sendSmsStatus: 'sended',\n      })\n    } else {\n      this.setState({\n        isShipped: false,\n        sendSmsStatus: 'offline',\n        rawTx: result.rawTx ? result.rawTx : rawTx,\n      })\n    }\n  }\n\n  sellAllBalance = async () => {\n    const { amount, balance, currency, min, usedAdminFee } = this.state\n\n    const { data } = this.props\n\n    let minFee = min\n\n    if (usedAdminFee) {\n      let feeFromAmount = new BigNumber(usedAdminFee.fee).dividedBy(100).multipliedBy(balance)\n      minFee = new BigNumber(minFee).plus(feeFromAmount).toNumber()\n    }\n\n    const balanceMiner = balance\n      ? balance !== 0\n        ? new BigNumber(balance).minus(minFee).toString()\n        : balance\n      : 'Wait please. Loading...'\n\n    this.setState({\n      amount: balanceMiner,\n    })\n  }\n\n  isEthOrERC20() {}\n\n  openScan = () => {\n    const { openScanCam } = this.state\n\n    this.setState(() => ({\n      openScanCam: !openScanCam,\n    }))\n  }\n\n  handleMnemonicSign = () => {\n    const { mnemonic, rawTx, balance, amount, to } = this.state\n\n    if (!mnemonic || !mnemonicUtils.validateMnemonicWords(mnemonic)) {\n      this.setState({\n        error: (\n          <FormattedMessage\n            id=\"WithdrawSMS_NotValidMnemonic\"\n            defaultMessage=\"Секретная фраза не валидна\"\n          />\n        ),\n      })\n      return\n    }\n    if (!actions.btcmultisig.checkSmsMnemonic(mnemonic.trim())) {\n      this.setState({\n        error: (\n          <FormattedMessage\n            id=\"WithdrawSMS_WrongMnemonic\"\n            defaultMessage=\"Не правильная секретная фраза\"\n          />\n        ),\n      })\n      return\n    }\n\n    this.setState({\n      isShipped: true,\n      error: false,\n      broadcastError: false,\n    })\n\n    actions.btcmultisig\n      .signSmsMnemonicAndBuild(rawTx, mnemonic.trim())\n      .then(async (txHex) => {\n        console.log('signed', txHex)\n        this.setState({\n          txHex,\n        })\n        actions.btc\n          .broadcastTx(txHex)\n          .then(async ({ txid }) => {\n            if (txid) {\n              this.onFinishWithdraw(txid)\n            } else {\n              this.setState({\n                broadcastError: true,\n                isShipped: false,\n                error: (\n                  <FormattedMessage\n                    id=\"WithdrawSMS_BroadcastError\"\n                    defaultMessage=\"Не удалось отправить транзакцию в сеть ({errorText})\"\n                    values={{ errorText: `unknown` }}\n                  />\n                ),\n              })\n            }\n          })\n          .catch((e) => {\n            console.error(e)\n            const errorText = e.res ? e.res.text : e.message\n            this.setState({\n              broadcastError: true,\n              isShipped: false,\n              error: (\n                <FormattedMessage\n                  id=\"WithdrawSMS_BroadcastError\"\n                  defaultMessage=\"Не удалось отправить транзакцию в сеть ({errorText})\"\n                  values={{ errorText }}\n                />\n              ),\n            })\n          })\n      })\n      .catch((e) => {\n        console.log('fail sign tx by mnemonic')\n        this.setState({\n          isShipped: false,\n          error: (\n            <FormattedMessage\n              id=\"WithdrawSMS_FailSignByMnemonic\"\n              defaultMessage=\"Не удалось подписать транзакцию\"\n            />\n          ),\n        })\n      })\n  }\n\n  handleSwitchToMnemonic = () => {\n    this.setState({\n      step: 'mnemonicSign',\n    })\n  }\n\n  handleSwitchToSms = () => {\n    this.setState({\n      step: 'confirm',\n    })\n  }\n\n  handleError = (err) => {\n    console.error(err)\n  }\n\n  handleScan = (data) => {\n    if (data) {\n      const address = data.split(':')[1].split('?')[0]\n      const amount = data.split('=')[1]\n      this.setState(() => ({\n        address,\n        amount,\n      }))\n      this.openScan()\n    }\n  }\n\n  addressIsCorrect() {\n    const { address } = this.state\n\n    if (!typeforce.isCoinAddress.BTC(address)) {\n      return actions.btc.addressIsCorrect(address)\n    } else return true\n  }\n\n  handleClose = () => {\n    const { name } = this.props\n\n    actions.modals.close(name)\n  }\n\n  render() {\n    const {\n      address,\n      amount,\n      code,\n      balance,\n      isShipped,\n      minus,\n      ethBalance,\n      exCurrencyRate,\n      currentDecimals,\n      error,\n      mnemonic,\n      openScanCam,\n      step,\n      ownTx,\n      sendSmsTimeout,\n      sendSmsStatus,\n      usedAdminFee,\n    } = this.state\n\n    const {\n      name,\n      data: { currency, invoice },\n      tokenItems,\n      items,\n      intl,\n    } = this.props\n\n    let { min, min: defaultMin } = this.state\n\n    if (usedAdminFee) {\n      if (amount) {\n        let feeFromAmount = new BigNumber(usedAdminFee.fee).dividedBy(100).multipliedBy(amount)\n        if (new BigNumber(usedAdminFee.min).isGreaterThan(feeFromAmount))\n          feeFromAmount = new BigNumber(usedAdminFee.min)\n\n        min = new BigNumber(min).plus(feeFromAmount).toNumber() // Admin fee in satoshi\n      }\n    }\n\n    const linked = Link.all(this, 'address', 'amount', 'code', 'ownTx', 'mnemonic')\n\n    const dataCurrency = currency.toUpperCase()\n\n    const isDisabled =\n      !address ||\n      !amount ||\n      isShipped ||\n      ownTx ||\n      !this.addressIsCorrect() ||\n      new BigNumber(amount).isGreaterThan(balance) ||\n      new BigNumber(amount).dp() > currentDecimals\n\n    const NanReplacement = balance || '...'\n    const getFiat = amount * exCurrencyRate\n\n    if (new BigNumber(amount).isGreaterThan(0)) {\n      linked.amount.check(\n        (value) => new BigNumber(value).isLessThanOrEqualTo(balance),\n        <div style={{ width: '340px', fontSize: '12px' }}>\n          <FormattedMessage\n            id=\"Withdrow170\"\n            defaultMessage=\"The amount must be no more than your balance\"\n            values={{\n              min,\n              currency: `${currency}`,\n            }}\n          />\n        </div>\n      )\n    }\n\n    if (this.state.amount < 0) {\n      this.setState({\n        amount: '',\n        minus: true,\n      })\n    }\n\n    const labels = defineMessages({\n      withdrawModal: {\n        id: 'withdrowTitle271',\n        defaultMessage: `Send`,\n      },\n      ownTxPlaceholder: {\n        id: 'withdrawOwnTxPlaceholder',\n        defaultMessage: 'Если оплатили с другого источника',\n      },\n      smsPlaceholder: {\n        id: 'withdrawSMSCodePlaceholder',\n        defaultMessage: 'Enter SMS-code',\n      },\n      mnemonicPlaceholder: {\n        id: 'registerSMSMPlaceHolder',\n        defaultMessage: `12 слов`,\n      },\n    })\n\n    const formRender = (\n      <Fragment>\n        {openScanCam && (\n          <QrReader\n            openScan={this.openScan}\n            handleError={this.handleError}\n            handleScan={this.handleScan}\n          />\n        )}\n        {invoice && <InvoiceInfoBlock invoiceData={invoice} />}\n        {step === 'mnemonicSign' && (\n          <Fragment>\n            <p styleName=\"notice dashboardViewNotice\">\n              <FormattedMessage\n                id=\"WithdrawSMS_MnemonicSignCaption\"\n                defaultMessage=\"Подтверждение транзакции секретной фразой\"\n              />\n            </p>\n            <div styleName=\"highLevel\" className=\"ym-hide-content\">\n              <FieldLabel>\n                <FormattedMessage\n                  id=\"registerSMSModalWords\"\n                  defaultMessage=\"Секретная фраза (12 слов):\"\n                />\n              </FieldLabel>\n              <Input\n                styleName=\"input\"\n                valueLink={linked.mnemonic}\n                multiline={true}\n                placeholder={`${intl.formatMessage(labels.mnemonicPlaceholder)}`}\n              />\n            </div>\n            {error && <div styleName=\"rednotes\">{error}</div>}\n            <Button\n              styleName=\"buttonFull\"\n              big\n              blue\n              fullWidth\n              disabled={isShipped}\n              onClick={this.handleMnemonicSign}\n            >\n              {isShipped ? (\n                <FormattedMessage id=\"WithdrawModal11212\" defaultMessage=\"Processing ...\" />\n              ) : (\n                <FormattedMessage\n                  id=\"btcSMSProtectedSignByMnemonic\"\n                  defaultMessage=\"Использовать секретную фразу\"\n                />\n              )}\n            </Button>\n            <hr />\n            <p styleName=\"notice mnemonicUseNote dashboardViewNotice\">\n              <FormattedMessage\n                id=\"WithdrawSMS_UseSMSNote\"\n                defaultMessage=\"Так-же вы можете использовать смс-код, отправленный на привязанный номер телефона\"\n              />\n            </p>\n            <Button styleName=\"useAuthMethodButton\" blue onClick={this.handleSwitchToSms}>\n              <FormattedMessage id=\"WithdrawSMS_UseSMS\" defaultMessage=\"Использовать смс-код\" />\n            </Button>\n          </Fragment>\n        )}\n        {step === 'fillform' && (\n          <Fragment>\n            <p styleName=\"notice dashboardViewNotice\">\n              <FormattedMessage\n                id=\"Withdrow213\"\n                defaultMessage=\"Please note: Fee is {minAmount} {data}.{br}Your balance must exceed this sum to perform transaction\"\n                values={{ minAmount: `${min}`, br: <br />, data: `${dataCurrency}` }}\n              />\n            </p>\n            <div styleName=\"highLevel\" style={{ marginBottom: '20px' }}>\n              <FieldLabel inRow>\n                <span style={{ fontSize: '16px' }}>\n                  <FormattedMessage id=\"Withdrow1194\" defaultMessage=\"Address \" />\n                </span>{' '}\n                <Tooltip id=\"WtH203\">\n                  <div style={{ textAlign: 'center' }}>\n                    <FormattedMessage\n                      id=\"WTH275\"\n                      defaultMessage=\"Make sure the wallet you{br}are sending the funds to supports {currency}\"\n                      values={{ br: <br />, currency: `${currency.toUpperCase()}` }}\n                    />\n                  </div>\n                </Tooltip>\n              </FieldLabel>\n              <Input\n                valueLink={linked.address}\n                focusOnInit\n                pattern=\"0-9a-zA-Z:\"\n                placeholder={`Enter ${currency.toUpperCase()} address to transfer`}\n                qr\n                withMargin\n                openScan={this.openScan}\n              />\n              {address && !this.addressIsCorrect() && (\n                <div styleName=\"rednote\">\n                  <FormattedMessage\n                    id=\"WithdrawIncorectAddress\"\n                    defaultMessage=\"Your address not correct\"\n                  />\n                </div>\n              )}\n            </div>\n            <div styleName=\"lowLevel\" style={{ marginBottom: '50px' }}>\n              <p styleName=\"balance\">\n                {balance} {`BTC`}\n              </p>\n              <FieldLabel>\n                <FormattedMessage id=\"Withdrow118\" defaultMessage=\"Amount \" />\n              </FieldLabel>\n\n              <div styleName=\"group\">\n                <Input\n                  styleName=\"input\"\n                  valueLink={linked.amount}\n                  pattern=\"0-9\\.\"\n                  placeholder=\"Enter the amount\"\n                  fiat={getFiat.toFixed(2)}\n                  onKeyDown={inputReplaceCommaWithDot}\n                />\n                <div style={{ marginLeft: '15px' }}>\n                  <Button blue big onClick={this.sellAllBalance} data-tip data-for=\"Withdrow134\">\n                    <FormattedMessage id=\"Select210\" defaultMessage=\"MAX\" />\n                  </Button>\n                </div>\n                {!isMobile && (\n                  <ReactTooltip id=\"Withdrow134\" type=\"light\" effect=\"solid\" styleName=\"r-tooltip\">\n                    <FormattedMessage\n                      id=\"WithdrawButton32\"\n                      defaultMessage=\"when you click this button, in the field, an amount equal to your balance minus the miners commission will appear\"\n                    />\n                  </ReactTooltip>\n                )}\n                {!linked.amount.error && (\n                  <div styleName={minus ? 'rednote' : 'note'}>\n                    <FormattedMessage\n                      id=\"WithdrawModal256\"\n                      defaultMessage=\"No less than {minAmount}\"\n                      values={{ minAmount: `${defaultMin}` }}\n                    />\n                  </div>\n                )}\n              </div>\n            </div>\n            <div styleName=\"sendBtnsWrapper\">\n              <div styleName=\"actionBtn\">\n                <Button blue big fill disabled={isDisabled} onClick={this.handleSubmit}>\n                  {isShipped ? (\n                    <Fragment>\n                      <FormattedMessage id=\"WithdrawModal11212\" defaultMessage=\"Processing ...\" />\n                    </Fragment>\n                  ) : (\n                    <Fragment>\n                      <FormattedMessage id=\"WithdrawModal111\" defaultMessage=\"Send\" />\n                    </Fragment>\n                  )}\n                </Button>\n              </div>\n              <div styleName=\"actionBtn\">\n                <Button big fill gray onClick={this.handleClose}>\n                  <Fragment>\n                    <FormattedMessage id=\"WithdrawModalCancelBtn\" defaultMessage=\"Cancel\" />\n                  </Fragment>\n                </Button>\n              </div>\n            </div>\n            {error && (\n              <div styleName=\"rednote\">\n                <FormattedMessage\n                  id=\"WithdrawModalErrorSend\"\n                  defaultMessage=\"{errorName} {currency}:{br}{errorMessage}\"\n                  values={{\n                    errorName: intl.formatMessage(error.name),\n                    errorMessage: intl.formatMessage(error.message),\n                    br: <br />,\n                    currency: `${currency}`,\n                  }}\n                />\n              </div>\n            )}\n            {invoice && (\n              <Fragment>\n                <hr />\n                <div\n                  styleName=\"lowLevel\"\n                  style={{ marginBottom: '50px' }}\n                >\n                  <div styleName=\"groupField\">\n                    <div styleName=\"downLabel\">\n                      <FieldLabel inRow>\n                        <span styleName=\"mobileFont\">\n                          <FormattedMessage id=\"WithdrowOwnTX\" defaultMessage=\"Или укажите TX\" />\n                        </span>\n                      </FieldLabel>\n                    </div>\n                  </div>\n                  <div styleName=\"group\">\n                    <Input\n                      styleName=\"input\"\n                      valueLink={linked.ownTx}\n                      placeholder={`${intl.formatMessage(labels.ownTxPlaceholder)}`}\n                    />\n                  </div>\n                </div>\n                <Button\n                  styleName=\"buttonFull\"\n                  big\n                  blue\n                  fullWidth\n                  disabled={!ownTx || isShipped}\n                  onClick={this.handleSubmit}\n                >\n                  {isShipped ? (\n                    <Fragment>\n                      <FormattedMessage id=\"WithdrawModal11212\" defaultMessage=\"Processing ...\" />\n                    </Fragment>\n                  ) : (\n                    <FormattedMessage\n                      id=\"WithdrawModalInvoiceSaveTx\"\n                      defaultMessage=\"Отметить как оплаченный\"\n                    />\n                  )}\n                </Button>\n              </Fragment>\n            )}\n          </Fragment>\n        )}\n\n        {step === 'confirm' && (\n          <Fragment>\n            <div styleName=\"highLevel smsCodeHolder\">\n              <FieldLabel>\n                <FormattedMessage id=\"Withdrow2223\" defaultMessage=\"SMS code\" />\n              </FieldLabel>\n              <Input\n                styleName=\"input\"\n                valueLink={linked.code}\n                pattern=\"0-9\"\n                placeholder={`${intl.formatMessage(labels.smsPlaceholder)}`}\n              />\n            </div>\n            {sendSmsStatus === 'sending' && (\n              <div styleName=\"smsServerStatus\">\n                <FormattedMessage\n                  id=\"WithdrawSMS_SmsSending\"\n                  defaultMessage=\"Отправка проверочного кода\"\n                />\n              </div>\n            )}\n            {sendSmsStatus === 'sended' && (\n              <div styleName=\"smsServerStatus\">\n                <FormattedMessage id=\"WithdrawSMS_SmsSended\" defaultMessage=\"Код отправлен\" />\n              </div>\n            )}\n            {sendSmsStatus === 'offline' && (\n              <div styleName=\"rednotes smsServerStatus\">\n                <FormattedMessage\n                  id=\"WithdrawSMS_ServerOffline\"\n                  defaultMessage=\"Сервер авторизации не доступен\"\n                />\n              </div>\n            )}\n            {linked.code.error && (\n              <div styleName=\"rednotes smsServerStatus\">\n                <FormattedMessage\n                  id=\"WithdrawModal2225\"\n                  defaultMessage=\"Something went wrong, enter your current code please\"\n                />\n              </div>\n            )}\n            <Button\n              styleName=\"buttonFull confirmSmsCode\"\n              fullWidth\n              disabled={isShipped || sendSmsStatus === 'sending' || sendSmsStatus === 'offline'}\n              big\n              blue\n              onClick={this.handleConfirmSMS}\n            >\n              <FormattedMessage id=\"Withdrow2224\" defaultMessage=\"Confirm\" />\n            </Button>\n            <hr styleName=\"marginHr\" />\n            <p styleName=\"notice mnemonicUseNote dashboardViewNotice\">\n              <FormattedMessage\n                id=\"WithdrawSMS_MnemonicNote\"\n                defaultMessage=\"Если у вас нет доступа к телефону или не получается получить код, вы можете воспользовать секретной фразой\"\n              />\n            </p>\n            <Button styleName=\"useAuthMethodButton\" blue onClick={this.handleSwitchToMnemonic}>\n              <FormattedMessage\n                id=\"WithdrawSMS_UseMnemonic\"\n                defaultMessage=\"Использовать секретную фразу\"\n              />\n            </Button>\n          </Fragment>\n        )}\n      </Fragment>\n    )\n\n    return (\n      //@ts-ignore: strictNullChecks\n      <Modal\n        name={name}\n        title={`${intl.formatMessage(labels.withdrawModal)}${' '}${currency.toUpperCase()}`}\n      >\n        {formRender}\n      </Modal>\n    )\n  }\n}\n\nexport default injectIntl(WithdrawModalMultisig)\n","// extracted by mini-css-extract-plugin\nexport default {\"smsCodeHolder\":\"_23q7RmU1d6ula0YsYG1eWk\",\"smsServerStatus\":\"_3QmYXBfv-StvhkXf8FOFFB\",\"confirmSmsCode\":\"_3Q3v1BPOL8qR4hCZNWzIda\",\"useAuthMethodButton\":\"_3ZHhoD_BzavaMSVDcXiNv1\",\"mnemonicUseNote\":\"_1OBrkh_EeV_TjUZZUjuwkI\",\"marginHr\":\"_1NEOYYWjqOesW22ILtgelL\",\"sendBtnsWrapper\":\"_2MwWwVF_AEwpWa-9lLCu6Z\",\"actionBtn\":\"_3wIyOcDdNCYHQYQcMsfCBv\"};","import React, { Fragment } from 'react'\nimport PropTypes from 'prop-types'\nimport helpers, { constants } from 'helpers'\nimport actions from 'redux/actions'\nimport Link from 'local_modules/sw-valuelink'\nimport { connect } from 'redaction'\nimport config from 'app-config'\n\nimport cssModules from 'react-css-modules'\nimport styles from '../WithdrawModal/WithdrawModal.scss'\nimport ownStyle from './WithdrawModalMultisigUser.scss'\n\nimport { BigNumber } from 'bignumber.js'\nimport Modal from 'components/modal/Modal/Modal'\nimport FieldLabel from 'components/forms/FieldLabel/FieldLabel'\nimport Input from 'components/forms/Input/Input'\nimport Button from 'components/controls/Button/Button'\nimport { ShareLink } from 'components/controls'\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\nimport ReactTooltip from 'react-tooltip'\nimport { isMobile } from 'react-device-detect'\nimport InvoiceInfoBlock from 'components/InvoiceInfoBlock/InvoiceInfoBlock'\n\nimport typeforce from 'swap.app/util/typeforce'\nimport MIN_AMOUNT from 'common/helpers/constants/MIN_AMOUNT'\nimport { inputReplaceCommaWithDot } from 'helpers/domUtils'\nimport links from 'helpers/links'\nimport QrReader from 'components/QrReader'\nimport { getFullOrigin } from 'helpers/links'\n\n@connect(\n  ({\n    user: {\n      activeFiat,\n      btcMultisigUserData,\n      btcMultisigUserData: { wallets },\n    },\n    ui: { dashboardModalsAllowed },\n  }) => ({\n    activeFiat,\n    items: [btcMultisigUserData, ...wallets],\n    dashboardView: dashboardModalsAllowed,\n  })\n)\n@cssModules({ ...styles, ...ownStyle }, { allowMultiple: true })\nclass WithdrawModalMultisigUser extends React.Component<any, any> {\n  static propTypes = {\n    name: PropTypes.string,\n    data: PropTypes.object,\n  }\n\n  broadcastCancelFunc: any\n  fiatRates: any\n\n  constructor(props) {\n    super(props)\n\n    const {\n      data: { currency, amount, toAddress, address },\n      items,\n    } = props\n\n    //@ts-ignore\n    const currentDecimals = constants.tokenDecimals.btcmultisig\n\n    const selectedItem = items.filter((item) => item.address === address)[0]\n\n    this.broadcastCancelFunc = false\n\n    let usedAdminFee: any = false\n\n    let min = MIN_AMOUNT['btc_multisig_2n2']\n\n    if (config && config.opts && config.opts.fee && config.opts.fee.btc) {\n      usedAdminFee = config.opts.fee.btc\n      if (usedAdminFee) {\n        // miner fee + minimal admin fee\n        min = new BigNumber(min).plus(usedAdminFee.min).toNumber()\n      }\n    }\n\n    this.state = {\n      usedAdminFee,\n      step: 'fillform',\n      isShipped: false,\n      address: toAddress ? toAddress : '',\n      amount: amount ? amount : '',\n      code: '',\n      minus: '',\n      balance: selectedItem.balance || 0,\n      ethBalance: null,\n      currentDecimals,\n      getFiat: 0,\n      error: false,\n      smsConfirmed: false,\n      txRaw: '',\n      isLinkCopied: false,\n      ownTx: '',\n      min,\n    }\n  }\n\n  componentDidMount() {\n    const { exCurrencyRate } = this.state\n    const {\n      data: { currency },\n    } = this.props\n\n    this.setBalanceOnState(currency)\n\n    this.fiatRates = {}\n    this.getFiatBalance()\n    this.actualyMinAmount()\n  }\n\n  componentWillUnmount() {\n    if (this.broadcastCancelFunc) this.broadcastCancelFunc()\n  }\n\n  actualyMinAmount = async () => {\n    const { usedAdminFee } = this.state\n\n    let min: any = await helpers['btc'].estimateFeeValue({ method: 'send_multisig', speed: 'fast' })\n    MIN_AMOUNT['btc_multisig_2n2'] = min\n\n    if (usedAdminFee) {\n      min = new BigNumber(min).plus(usedAdminFee.min).toNumber()\n    }\n\n    this.setState({\n      min,\n    })\n  }\n\n  setBalanceOnState = async (currency) => {\n    const {\n      data: { address },\n    } = this.props\n\n    const {\n      //@ts-ignore\n      unconfirmedBalance,\n      //@ts-ignore\n      balance,\n    } = await actions.btcmultisig.getAddrBalance(address)\n\n    const finalBalance =\n      unconfirmedBalance !== undefined && unconfirmedBalance < 0\n        ? new BigNumber(balance).plus(unconfirmedBalance).toString()\n        : balance\n\n    this.setState(() => ({\n      balance: finalBalance,\n    }))\n  }\n\n  getFiatBalance = async () => {\n    const {\n      data: { currency },\n      activeFiat,\n    } = this.props\n\n    const exCurrencyRate = await actions.user.getExchangeRate(currency, activeFiat.toLowerCase())\n\n    this.fiatRates[currency] = exCurrencyRate\n\n    this.setState(() => ({\n      exCurrencyRate,\n    }))\n  }\n\n  handleSubmit = async () => {\n    const { address: to, amount, ownTx } = this.state\n    const {\n      data: { currency, address, balance, invoice, onReady },\n      name,\n    } = this.props\n\n    this.setState(() => ({ isShipped: true }))\n\n    this.setBalanceOnState(currency)\n\n    let sendOptions = {\n      to,\n      amount,\n      speed: 'fast',\n    }\n\n    if (invoice && ownTx) {\n      await actions.invoices.markInvoice(invoice.id, 'ready', ownTx, address)\n      actions.loader.hide()\n      actions.notifications.show(constants.notifications.SuccessWithdraw, {\n        amount,\n        currency,\n        address: to,\n      })\n      this.setState(() => ({ isShipped: false, error: false }))\n      actions.modals.close(name)\n      if (onReady instanceof Function) {\n        onReady()\n      }\n      return\n    }\n\n    sendOptions = {\n      ...sendOptions,\n      //@ts-ignore\n      from: address,\n    }\n\n    //@ts-ignore\n    const result = await actions.btcmultisig.send(sendOptions)\n\n    let txId = false\n\n    if (result) {\n      //@ts-ignore\n      txId = await actions.multisigTx.broadcast({\n        sender: address,\n        destination: to,\n        amount,\n        fee: 0.0001, // actions.helpers.lastBtcFee\n        rawTx: result,\n      })\n    }\n\n    this.broadcastCancelFunc = actions.btcmultisig.broadcastTX2Room(\n      {\n        txRaw: result,\n        txId,\n        address: to,\n        amount,\n        currency: 'BTC',\n        invoice,\n      },\n      () => {\n        this.setState({\n          step: 'rawlink',\n          txRaw: result,\n          txId,\n          isShipped: false,\n        })\n      },\n      () => {\n        this.setState({\n          step: 'rawlink',\n          txRaw: result,\n          txId,\n          isShipped: false,\n        })\n      }\n    )\n  }\n\n  sellAllBalance = async () => {\n    const { amount, balance, currency, min, usedAdminFee } = this.state\n\n    const { data } = this.props\n\n    let minFee = min\n\n    if (usedAdminFee) {\n      let feeFromAmount = new BigNumber(usedAdminFee.fee).dividedBy(100).multipliedBy(balance)\n      minFee = new BigNumber(minFee).plus(feeFromAmount).toNumber()\n    }\n\n    const balanceMiner = balance\n      ? balance !== 0\n        ? new BigNumber(balance).minus(minFee).toString()\n        : balance\n      : 'Wait please. Loading...'\n\n    this.setState({\n      amount: balanceMiner,\n    })\n  }\n\n  addressIsCorrect() {\n    const {\n      data: { currency },\n    } = this.props\n    const { address } = this.state\n\n    if (!typeforce.isCoinAddress.BTC(address)) {\n      return actions.btc.addressIsCorrect(address)\n    } else return true\n  }\n\n  handleCopyLink = () => {\n    this.setState(\n      {\n        isLinkCopied: true,\n      },\n      () => {\n        setTimeout(() => {\n          this.setState({\n            isLinkCopied: false,\n          })\n        }, 500)\n      }\n    )\n  }\n\n  handleReady = () => {\n    const { name } = this.props\n    actions.modals.close(name)\n  }\n\n  openScan = () => {\n    const { openScanCam } = this.state\n\n    this.setState(() => ({\n      openScanCam: !openScanCam,\n    }))\n  }\n\n  handleError = (err) => {\n    console.error(err)\n  }\n\n  handleScan = (data) => {\n    if (data) {\n      const address = data.split(':')[1].split('?')[0]\n      const amount = data.split('=')[1]\n      this.setState(() => ({\n        address,\n        amount,\n      }))\n      this.openScan()\n    }\n  }\n\n  handleClose = () => {\n    const { name } = this.props\n\n    actions.modals.close(name)\n  }\n\n  render() {\n    const {\n      address,\n      amount,\n      code,\n      balance,\n      isShipped,\n      minus,\n      exCurrencyRate,\n      currentDecimals,\n      error,\n      step,\n      txRaw,\n      txId,\n      isLinkCopied,\n      ownTx,\n      openScanCam,\n      usedAdminFee,\n    } = this.state\n\n    const {\n      name,\n      data: { currency, invoice },\n      items,\n      intl,\n    } = this.props\n\n    let { min, min: defaultMin } = this.state\n\n    if (usedAdminFee) {\n      if (amount) {\n        let feeFromAmount = new BigNumber(usedAdminFee.fee).dividedBy(100).multipliedBy(amount)\n        if (new BigNumber(usedAdminFee.min).isGreaterThan(feeFromAmount))\n          feeFromAmount = new BigNumber(usedAdminFee.min)\n\n        min = new BigNumber(min).plus(feeFromAmount).toNumber() // Admin fee in satoshi\n      }\n    }\n\n    let txConfirmLink = `${getFullOrigin()}${links.multisign}/btc/confirm/${txId}`\n    if (invoice) {\n      txConfirmLink = `${getFullOrigin()}${links.multisign}/btc/confirminvoice/${\n        invoice.id\n      }|${txId}`\n    }\n    //@ts-ignore\n    const linked = Link.all(this, 'address', 'amount', 'code', 'ownTx')\n\n    const dataCurrency = currency.toUpperCase()\n\n    const isDisabled =\n      !address ||\n      !amount ||\n      isShipped ||\n      ownTx ||\n      !this.addressIsCorrect() ||\n      new BigNumber(amount).isGreaterThan(balance) ||\n      new BigNumber(amount).dp() > currentDecimals\n\n    const NanReplacement = balance || '...'\n    const getFiat = amount * exCurrencyRate\n\n    if (new BigNumber(amount).isGreaterThan(0)) {\n      linked.amount.check(\n        (value) => new BigNumber(value).isLessThanOrEqualTo(balance),\n        <div style={{ width: '340px', fontSize: '12px' }}>\n          <FormattedMessage\n            id=\"Withdrow170\"\n            defaultMessage=\"The amount must be no more than your balance\"\n            values={{\n              min,\n              currency: `${currency}`,\n            }}\n          />\n        </div>\n      )\n    }\n\n    if (this.state.amount < 0) {\n      this.setState({\n        amount: '',\n        minus: true,\n      })\n    }\n\n    const labels = defineMessages({\n      withdrawModal: {\n        id: 'withdrowTitle271',\n        defaultMessage: `Send`,\n      },\n      ownTxPlaceholder: {\n        id: 'withdrawOwnTxPlaceholder',\n        defaultMessage: 'Если оплатили с другого источника',\n      },\n    })\n\n    const formRender = (\n      <Fragment>\n        {openScanCam && (\n          <QrReader\n            openScan={this.openScan}\n            handleError={this.handleError}\n            handleScan={this.handleScan}\n          />\n        )}\n        {invoice && <InvoiceInfoBlock invoiceData={invoice} />}\n        {step === 'fillform' && (\n          <Fragment>\n            <p styleName=\"notice dashboardViewNotice\">\n              <FormattedMessage\n                id=\"Withdrow213\"\n                defaultMessage=\"Please note: Fee is {minAmount} {data}.{br}Your balance must exceed this sum to perform transaction\"\n                values={{ minAmount: <span>{min}</span>, br: <br />, data: `${dataCurrency}` }}\n              />\n            </p>\n            <br />\n            <br />\n            <br />\n            <div styleName=\"highLevel\" style={{ marginBottom: '20px' }}>\n              <FieldLabel>\n                <FormattedMessage id=\"Withdrow1194\" defaultMessage=\"Address \" />{' '}\n                <Tooltip id=\"WtH203\">\n                  <div style={{ textAlign: 'center' }}>\n                    <FormattedMessage\n                      id=\"WTH275\"\n                      defaultMessage=\"Make sure the wallet you{br}are sending the funds to supports {currency}\"\n                      values={{ br: <br />, currency: `${currency.toUpperCase()}` }}\n                    />\n                  </div>\n                </Tooltip>\n              </FieldLabel>\n              <Input\n                valueLink={linked.address}\n                focusOnInit\n                pattern=\"0-9a-zA-Z:\"\n                placeholder={`Enter ${currency.toUpperCase()} address to transfer`}\n                qr\n                withMargin\n                openScan={this.openScan}\n              />\n              {address && !this.addressIsCorrect() && (\n                <div styleName=\"rednote\">\n                  <FormattedMessage\n                    id=\"WithdrawIncorectAddress\"\n                    defaultMessage=\"Your address not correct\"\n                  />\n                </div>\n              )}\n            </div>\n            <div styleName=\"lowLevel\" style={{ marginBottom: '50px' }}>\n              <p styleName=\"balance\">\n                {balance} {currency.toUpperCase()}\n              </p>\n              <FieldLabel>\n                <FormattedMessage id=\"Withdrow118\" defaultMessage=\"Amount \" />\n              </FieldLabel>\n\n              <div styleName=\"group\">\n                <Input\n                  styleName=\"input\"\n                  valueLink={linked.amount}\n                  pattern=\"0-9\\.\"\n                  placeholder=\"Enter the amount\"\n                  fiat={getFiat.toFixed(2)}\n                  onKeyDown={inputReplaceCommaWithDot}\n                />\n                <div style={{ marginLeft: '15px' }}>\n                  <Button blue big onClick={this.sellAllBalance} data-tip data-for=\"Withdrow134\">\n                    <FormattedMessage id=\"Select210\" defaultMessage=\"MAX\" />\n                  </Button>\n                </div>\n                {!isMobile && (\n                  <ReactTooltip id=\"Withdrow134\" type=\"light\" effect=\"solid\" styleName=\"r-tooltip\">\n                    <FormattedMessage\n                      id=\"WithdrawButton32\"\n                      defaultMessage=\"when you click this button, in the field, an amount equal to your balance minus the miners commission will appear\"\n                    />\n                  </ReactTooltip>\n                )}\n                {!linked.amount.error && (\n                  <div styleName={minus ? 'rednote' : 'note'}>\n                    <FormattedMessage\n                      id=\"WithdrawModal256\"\n                      defaultMessage=\"No less than {minAmount}\"\n                      values={{ minAmount: `${defaultMin}` }}\n                    />\n                  </div>\n                )}\n              </div>\n            </div>\n            <div styleName=\"sendBtnsWrapper\">\n              <div styleName=\"actionBtn\">\n                <Button blue big fill disabled={isDisabled} onClick={this.handleSubmit}>\n                  {isShipped ? (\n                    <Fragment>\n                      <FormattedMessage id=\"WithdrawModal11212\" defaultMessage=\"Processing ...\" />\n                    </Fragment>\n                  ) : (\n                    <Fragment>\n                      <FormattedMessage id=\"WithdrawModal111\" defaultMessage=\"Send\" />\n                    </Fragment>\n                  )}\n                </Button>\n              </div>\n              <div styleName=\"actionBtn\">\n                <Button big fill gray onClick={this.handleClose}>\n                  <Fragment>\n                    <FormattedMessage id=\"WithdrawModalCancelBtn\" defaultMessage=\"Cancel\" />\n                  </Fragment>\n                </Button>\n              </div>\n            </div>\n            {error && (\n              <div styleName=\"rednote\">\n                <FormattedMessage\n                  id=\"WithdrawModalErrorSend\"\n                  defaultMessage=\"{errorName} {currency}:{br}{errorMessage}\"\n                  values={{\n                    errorName: intl.formatMessage(error.name),\n                    errorMessage: intl.formatMessage(error.message),\n                    br: <br />,\n                    currency: `${currency}`,\n                  }}\n                />\n              </div>\n            )}\n            {invoice && (\n              <Fragment>\n                <hr />\n                <div\n                  styleName=\"lowLevel\"\n                  style={{ marginBottom: '50px' }}\n                >\n                  <div styleName=\"groupField\">\n                    <div styleName=\"downLabel\">\n                      <FieldLabel inRow>\n                        <span styleName=\"mobileFont\">\n                          <FormattedMessage id=\"WithdrowOwnTX\" defaultMessage=\"Или укажите TX\" />\n                        </span>\n                      </FieldLabel>\n                    </div>\n                  </div>\n                  <div styleName=\"group\">\n                    <Input\n                      styleName=\"input\"\n                      valueLink={linked.ownTx}\n                      placeholder={`${intl.formatMessage(labels.ownTxPlaceholder)}`}\n                    />\n                  </div>\n                </div>\n                <Button\n                  styleName=\"buttonFull\"\n                  blue\n                  big\n                  fullWidth\n                  disabled={!ownTx || isShipped}\n                  onClick={this.handleSubmit}\n                >\n                  {isShipped ? (\n                    <Fragment>\n                      <FormattedMessage id=\"WithdrawModal11212\" defaultMessage=\"Processing ...\" />\n                    </Fragment>\n                  ) : (\n                    <FormattedMessage\n                      id=\"WithdrawModalInvoiceSaveTx\"\n                      defaultMessage=\"Отметить как оплаченный\"\n                    />\n                  )}\n                </Button>\n              </Fragment>\n            )}\n          </Fragment>\n        )}\n        {step === 'rawlink' && (\n          <Fragment>\n            <p styleName=\"notice dashboardViewNotice\">\n              <FormattedMessage id=\"WithdrawMSUserReady\" defaultMessage=\"TX confirm link\" />\n              <br />\n              <FormattedMessage\n                id=\"WithdrawMSUserMessage\"\n                defaultMessage=\"Send this link to other wallet owner\"\n              />\n            </p>\n            <div styleName=\"highLevel\">\n              <div styleName=\"groupField\"></div>\n              <div>\n                <ShareLink link={txConfirmLink} />\n              </div>\n            </div>\n            <div styleName=\"centerAlign\">\n              <Button styleName=\"buttonFull\" big blue fullWidth onClick={this.handleReady}>\n                <FormattedMessage id=\"WithdrawMSUserFinish\" defaultMessage=\"Ready\" />\n              </Button>\n            </div>\n          </Fragment>\n        )}\n      </Fragment>\n    )\n    return (\n      //@ts-ignore: strictNullChecks\n      <Modal\n        name={name}\n        title={`${intl.formatMessage(labels.withdrawModal)}${' '}${currency.toUpperCase()}`}\n      >\n        {formRender}\n      </Modal>\n    )\n  }\n}\n\nexport default injectIntl(WithdrawModalMultisigUser)\n","// extracted by mini-css-extract-plugin\nexport default {\"multisignConfirmTxLink\":\"_3Q-FJ3d6v9c4wAkue3Shkt\",\"centerAlign\":\"_28748CHwuCd1x5FcZrebAo\",\"sendBtnsWrapper\":\"M3VZx2LmVk8cDON_qzK7O\",\"actionBtn\":\"_18-JVOl1dGdiNnfm783aqp\"};","import React from 'react'\n\nimport actions from 'redux/actions'\n\nimport cssModules from 'react-css-modules'\nimport styles from './PrivateKeysModal.scss'\n\nimport Modal from 'components/modal/Modal/Modal'\nimport { Button } from 'components/controls'\nimport { FormattedMessage, defineMessages, injectIntl } from 'react-intl'\n\n\nconst title = defineMessages({\n  PrivateKeysModal: {\n    id: 'ImCAUTIONport',\n    defaultMessage: 'CAUTION!',\n  },\n})\n\n@cssModules(styles, { allowMultiple: true })\nclass PrivateKeysModal extends React.PureComponent<any, any> {\n  handleSaveToClipBoard = () => {\n    const { data } = this.props\n    const { key } = data\n\n    navigator.clipboard.writeText(key)\n  }\n\n\n  handleCloseModal = () => {\n    const { name } = this.props\n\n    actions.modals.close(name)\n  }\n\n  render() {\n    const { name, intl, data } = this.props\n    const { fullName, key } = data\n\n    return (\n      //@ts-ignore: strictNullChecks\n      <Modal\n        name={name}\n        onClose={this.handleCloseModal}\n        title={intl.formatMessage(title.PrivateKeysModal)}\n      >\n        <section styleName=\"content\">\n          <p styleName=\"text\">\n            <FormattedMessage\n              id=\"privateKeyCurrency\"\n              defaultMessage=\"Your {cur} private key\"\n              values={{\n                cur: fullName,\n              }}\n            />\n          </p>\n          <p styleName=\"key\" className=\"ym-hide-content\">\n            {key}\n          </p>\n          {/* <Button blue fullWidth onClick={this.handleSaveToClipBoard}>\n            <FormattedMessage\n              id=\"privateKeyAction\"\n              defaultMessage=\"Copy\"\n            />\n          </Button> */}\n        </section>\n\n      </Modal>\n    )\n  }\n}\n\nexport default injectIntl(PrivateKeysModal)\n","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"_1cfN1YMpdOpPnC0mjvzjIp\",\"text\":\"_2GSsYpc87NVCozNuI5LgvO\",\"key\":\"hWbJziy8_JmrmBbvEfCvM\"};","// extracted by mini-css-extract-plugin\nexport default {\"note\":\"_37Q8to1IAyVrBGrqH6qnuk\",\"r-tooltip\":\"_2dXxs3t3LCB8AO9585Rm45\",\"link\":\"_3xK84d4PrW2cHPaEUonz30\",\"error\":\"meMeP1DLZufy0MRZHDatv\",\"rednote\":\"_2hKGbRhp-J3pVBJdKxKuDq\",\"groupField\":\"_6wykUAc8eXK8NapSCtsH7\",\"balance\":\"_2Sb3gq68m5U_TmceW_7Bs\",\"notice\":\"_3-RsoQm4pCwXYjW8kHQBbQ\",\"rednotes\":\"_1j_c0MD8RTX7F7HSro3zcP\",\"buttonCenter\":\"_3i5F4XU46PB4SXfg6kqghY\",\"buttonHalfFullWidth\":\"DP17jYLVOpmOFnx4ol1aQ\",\"buttonFull\":\"_1FLusEtxsMxd6pXkssrJ1c\",\"buttonFullMargin\":\"aohyNC0H_Sb_svPhJCD6n\",\"cell\":\"_33ByjZy8jUBBUSkX65ShQk\",\"group\":\"_3-XeHAGeDlTmh2b7gRgpPq\",\"input\":\"Jm1NUXkJMRC_-FKABcAN5\",\"label\":\"VRj_nttbs5gAR_b73YL12\",\"button\":\"_2_iW5TA1j4aBGh1f5Xplkv\",\"button_sms\":\"qSkiFNgKIv8dbbTbW-koR\",\"inputName\":\"_1Ih7xddGeSYAZ4DDarlWL7\",\"downLabel\":\"_2Zqdrr1JuSOsSoqn84YDcE\",\"highLevel\":\"_2GzIzauryn8VpEJkDD8X_h\",\"lowLevel\":\"wgTL69XNx-GOB-Dqdv7Iy\",\"inputMargin25\":\"_1SwgQ0ySiDlWiPhsMHxcmj\",\"mobileFont\":\"_1_LCure1vvlG3486HpNGj5\",\"centerInfoBlock\":\"_2RDGJVc3nBXGO4CZ7pz62N\",\"content-overlay\":\"tSYX7_S7-WAwc7MgkzO4A\",\"button-overlay\":\"_2b_LdoVshlLJW_lmmf9ShJ\",\"convent-overlay\":\"_2QQ0pGNAP2ZZiFo4yOMfIN\"};","import React, { Fragment }  from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'redaction'\nimport { constants } from 'helpers'\nimport erc20Like from 'common/erc20Like'\nimport cssModules from 'react-css-modules'\nimport styles from '../Styles/default.scss'\nimport ownStyles from './ReceiveModal.scss'\n\nimport QR from 'components/QR/QR'\nimport { Modal } from 'components/modal'\nimport { Button } from 'components/controls'\nimport Copy from 'components/ui/Copy/Copy'\nimport { FormattedMessage, defineMessages, injectIntl } from 'react-intl'\n\nimport config from 'helpers/externalConfig'\nimport getCurrencyKey from 'helpers/getCurrencyKey'\nimport { getItezUrl } from 'helpers'\n\n\nconst langPrefix = `ReceiveModal`\nconst langs = defineMessages({\n  title: {\n    id: 'Receive',\n    defaultMessage: 'Receive',\n  },\n  needSaveMnemonicToContinue: {\n    id: `${langPrefix}_YouNeedSaveMnemonic`,\n    defaultMessage: `Вы должны сохранить 12 слов.`,\n  },\n  pleaseSaveMnemonicToContinue: {\n    id: `${langPrefix}_SaveYourMnemonic`,\n    defaultMessage: `Пожалуйста сохраните свою секретную фразу.`\n  },\n  buttonSaveMnemonic: {\n    id: `${langPrefix}_ButtonSaveMnemonic`,\n    defaultMessage: `Save`,\n  },\n  buttonCancel: {\n    id: `${langPrefix}_ButtonCancel`,\n    defaultMessage: `Cancel`,\n  },\n})\n\n@connect(\n  ({ user }) => ({ user })\n)\n@withRouter\n@cssModules({ ...styles, ...ownStyles }, { allowMultiple: true })\nclass ReceiveModal extends React.Component<any, any> {\n  constructor(props) {\n    super(props)\n    const {\n      data: {\n        address,\n        currency,\n      },\n    } = props\n\n    let howToDeposit = ''\n    if (config\n      && config.erc20\n      && config.erc20[currency.toLowerCase()]\n      && config.erc20[currency.toLowerCase()].howToDeposit\n    ) howToDeposit = config.erc20[currency.toLowerCase()].howToDeposit\n\n    const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\n    const mnemonicSaved = (mnemonic === `-`)\n\n    howToDeposit = howToDeposit.replace(/{userAddress}/g, address);\n\n    const targetCurrency = getCurrencyKey(currency.toLowerCase(), true)\n    const isToken = erc20Like.isToken({ name: currency })\n    const recieveUrl = (isToken ? '/token' : '') + `/${targetCurrency}/${address}/receive`\n    \n    props.history.push(recieveUrl)\n\n    this.state = {\n      step: (mnemonicSaved) ? 'reveive' : 'saveMnemonic',\n      howToDeposit,\n    }\n  }\n\n  handleBeginSaveMnemonic = async () => {\n    //@ts-ignore\n    actions.modals.open(constants.modals.SaveMnemonicModal, {\n      onClose: () => {\n        const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\n        const mnemonicSaved = (mnemonic === `-`)\n        const step = (mnemonicSaved) ? 'reveive' : 'saveMnemonicWords'\n\n        this.setState({\n          mnemonicSaved,\n          step,\n        })\n      }\n    })\n  }\n\n  handleClose = () => {\n    const { name, history: { location: { pathname }, goBack } } = this.props\n\n    if (pathname.includes('receive')) {\n      goBack()\n    }\n    //@ts-ignore\n    actions.modals.close(name)\n  }\n\n  render() {\n    const {\n      props: {\n        user,\n        intl: { locale },\n        name,\n        intl,\n        data: {\n          currency,\n          address,\n        },\n      },\n      state: {\n        howToDeposit,\n        step,\n        mnemonicSaved,\n      },\n    } = this\n\n    const buyViaCreditCardLink = (\n      config\n      && config.opts\n      && config.opts.buyViaCreditCardLink\n    ) ? config.opts.buyViaCreditCardLink : false\n\n    if (howToDeposit) {\n      return (\n        //@ts-ignore: strictNullChecks\n        <Modal name={name} title={intl.formatMessage(langs.title)}>\n          <div dangerouslySetInnerHTML={{ __html: howToDeposit }} />\n        </Modal>\n      )\n    }\n\n    return (\n      //@ts-ignore: strictNullChecks\n      <Modal name={name} title={intl.formatMessage(langs.title)}>\n        <div styleName=\"content\">\n          {step === 'reveive' && (\n            <Fragment>\n              <p style={{ fontSize: 25 }}>\n                <FormattedMessage id=\"ReceiveModal50\" defaultMessage=\"This is your {currency} address\" values={{ currency: `${currency}` }} />\n              </p>\n              <Copy text={address}>\n                <div styleName=\"qr\">\n                  <QR address={address} />\n                  <p>{address}</p>\n\n                  <div styleName=\"sendBtnsWrapper\">\n                    <div styleName=\"actionBtn\">\n                      <Button big brand fill>\n                        <FormattedMessage id=\"recieved67\" defaultMessage=\"Copy to clipboard\" />\n                      </Button>\n                    </div>\n                    <div styleName=\"actionBtn\">\n                      <Button big gray fill onClick={this.handleClose}>\n                        <FormattedMessage id=\"WithdrawModalCancelBtn\" defaultMessage=\"Cancel\" />\n                      </Button>\n                    </div>\n                  </div>\n                </div>\n              </Copy>\n              {currency.includes(\"BTC\") && buyViaCreditCardLink && (\n                <div styleName=\"fiatDepositRow\">\n                  <a href={getItezUrl({ user, locale, url: buyViaCreditCardLink })} target=\"_blank\" rel=\"noopener noreferrer\">\n                    <FormattedMessage\n                      id=\"buyByCreditCard\"\n                      defaultMessage=\"buy using credit card\"\n                    />\n                  </a>\n                </div>\n              )}\n            </Fragment>\n          )}\n          {step === 'saveMnemonic' && (\n            <Fragment>\n              <div styleName=\"content-overlay\">\n                <p styleName=\"centerInfoBlock\">\n                  <strong>\n                    <FormattedMessage {...langs.needSaveMnemonicToContinue} />\n                  </strong>\n                  <br />\n                  <FormattedMessage {...langs.pleaseSaveMnemonicToContinue} />\n                </p>\n              </div>\n\n              <div styleName=\"buttonsHolder buttonsHolder_2_buttons button-overlay\">\n                <Button blue onClick={this.handleBeginSaveMnemonic}>\n                  <FormattedMessage {...langs.buttonSaveMnemonic} />\n                </Button>\n                <Button gray onClick={this.handleClose}>\n                  <FormattedMessage {...langs.buttonCancel} />\n                </Button>\n              </div>\n            </Fragment>\n          )}\n        </div>\n      </Modal>\n    )\n  }\n}\n\nexport default injectIntl(ReceiveModal)","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"_11NQ9TiMXJGzgqr0wKY0Pf\",\"sendBtnsWrapper\":\"_1Q-TXLap2cKUbMW53sI4AE\",\"actionBtn\":\"_2TqL_vjg5m74BPIzX_rEhl\",\"fiatDepositRow\":\"_2o270XQ5x7rXjPzcuX_P1G\",\"buttonsHolder\":\"_3swc1m5Q22SS3sjr9R4y_Y\",\"buttonsHolder_2_buttons\":\"_2xCmJIp1jG24lCmlXnPSIy\",\"qr\":\"_3PIFGEtQJGLyoGufkaYDbG\"};","import React, { Fragment } from 'react'\nimport { connect } from 'redaction'\nimport actions from 'redux/actions'\n\nimport cssModules from 'react-css-modules'\nimport styles from './DownloadModal.scss'\n\nimport Modal from 'components/modal/Modal/Modal'\nimport Button from 'components/controls/Button/Button'\nimport Copy from 'components/ui/Copy/Copy'\n\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\n\nimport { withRouter } from 'react-router-dom'\n\n\nconst title = defineMessages({\n  downloadModal: {\n    id: 'down97',\n    defaultMessage: 'Your private keys!',\n  },\n})\n\n@withRouter\n@connect(\n  ({\n    user: {\n      ethData,\n      bnbData,\n      maticData,\n      arbethData,\n      btcData,\n      ghostData,\n      nextData,\n    },\n  }) => ({\n    items: [\n      ethData,\n      bnbData,\n      maticData,\n      arbethData,\n      btcData,\n      ghostData,\n      nextData,\n    ],\n  })\n)\n@cssModules(styles)\nclass DownloadModal extends React.Component<any, any> {\n  handleDownloadTxt = () => {\n    actions.user.downloadPrivateKeys()\n  }\n\n  render() {\n    const { items, name, intl } = this.props\n    const textToCopy = actions.user.getText()\n\n    const Account = () => (\n      items.map((item, index) => (\n        <Fragment key={index}>\n          <a>\n            {item.fullName}\n            {' '}\n            <FormattedMessage id=\"downloadModal75\" defaultMessage=\"Address:\" />\n          </a>\n          <p>{item.address}</p>\n          <a>\n            {item.fullName}\n            {' '}\n            <FormattedMessage id=\"downloadModal782\" defaultMessage=\"Private key\" />\n            {' '}\n          </a>\n\n          <p>\n            {item.privateKey}\n          </p>\n        </Fragment>\n      ))\n    )\n\n    return (\n      //@ts-ignore: strictNullChecks\n      <Modal name={name} title={intl.formatMessage(title.downloadModal)}>\n        <div styleName=\"subTitle\">\n          <FormattedMessage\n            id=\"down57\"\n            defaultMessage=\"It seems like you're trying to save your private keys. Just copy this keys and paste into notepad textarea. Also you can download it as a .txt file.\"\n          />\n        </div>\n        <div styleName=\"buttonsContainer\">\n          <Copy text={textToCopy}>\n            <Button styleName=\"button\" brand>\n              <FormattedMessage id=\"recieved67\" defaultMessage=\"Copy to clipboard\" />\n            </Button>\n          </Copy>\n          {\n            !(/iPad|iPhone|iPod/.test(navigator.userAgent)) && (\n              <Fragment>\n                <Button onClick={this.handleDownloadTxt} styleName=\"button\" brand >\n                  <FormattedMessage id=\"downFile2\" defaultMessage=\"Download txt file\" />\n                </Button>\n              </Fragment>\n            )\n          }\n        </div>\n        <div styleName=\"indent\">\n          <Account />\n        </div>\n      </Modal>\n    )\n  }\n}\n\nexport default injectIntl(DownloadModal)","// extracted by mini-css-extract-plugin\nexport default {\"subTitle\":\"_1WOsanjWxaokB8w4VCXBjh\",\"indent\":\"_3LOr9AuqMuq49DaOfLudor\",\"button\":\"_1n3eGBQoyTdsw_9Z3eb9_f\",\"buttonsContainer\":\"_33z6vm27XOgBmhfeJwadTM\"};","import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\nimport actions from 'redux/actions'\nimport { localisedUrl } from 'helpers/locale'\nimport links from 'helpers/links'\nimport cssModules from 'react-css-modules'\nimport styles from './DeclineOrdersModal.scss'\n\nimport Modal from 'components/modal/Modal/Modal'\n\nconst title = defineMessages({\n  downloadModal: {\n    id: 'decline21',\n    defaultMessage: 'Declined orders!',\n  },\n})\n\n@withRouter\n@cssModules(styles)\nclass DeclineOrdersModal extends Component<any, any> {\n\n  goToDecline = () => {\n    const { data: { declineSwap: { sellCurrency, buyCurrency, id } }, history } = this.props /* eslint-disable-line */\n\n    const { intl : { locale } } = this.props\n\n    const swapUri = `${links.atomicSwap}/${id}`\n    // todo: decline turbo swaps\n\n    console.log(`Redirect to swap: ${swapUri}`)\n    history.push(localisedUrl(locale, swapUri))\n    actions.modals.close('DeclineOrdersModal')\n  }\n\n  render() {\n    const { intl } = this.props\n\n    return (\n      //@ts-ignore: strictNullChecks\n      <Modal name=\"DeclineOrdersModal\" title={intl.formatMessage(title.downloadModal)}>\n        <div styleName=\"subTitle\">\n          <FormattedMessage id=\"decline43\" defaultMessage=\"Sorry, but you have cannot start until you complete the swaps started earlier \" />\n        </div>\n        <h2 styleName=\"link\" onClick={this.goToDecline}>\n          <FormattedMessage id=\"decline49\" defaultMessage=\"See your incomplete swap\" />\n        </h2>\n      </Modal>\n    )\n  }\n}\n\nexport default injectIntl(DeclineOrdersModal)\n","// extracted by mini-css-extract-plugin\nexport default {\"subTitle\":\"uuwLs9IHt-EqH7sjVEmXW\",\"link\":\"_3QMoRwQ5Z8KZGG6Fm4g1wz\"};","import React from 'react'\n\nimport cssModules from 'react-css-modules'\nimport styles from './SubTitle.scss'\n\n\nconst SubTitle = ({ children }) => (\n  <h1 styleName=\"subTitle\">{children}</h1>\n)\n\nexport default cssModules(SubTitle, styles)\n","// extracted by mini-css-extract-plugin\nexport default {\"subTitle\":\"_2qfFWTyQ6kVLf9ziusEJVV\"};","import React, { Component } from 'react'\n\nimport { connect } from 'redaction'\nimport actions from 'redux/actions'\n\nimport Link from 'local_modules/sw-valuelink'\n\nimport cssModules from 'react-css-modules'\nimport styles from './IncompletedSwaps.scss'\n\nimport { Modal } from 'components/modal'\nimport { FieldLabel } from 'components/forms'\nimport { Button } from 'components/controls'\nimport Table from 'components/tables/Table/Table'\nimport SubTitle from 'components/PageHeadline/SubTitle/SubTitle'\nimport { FormattedMessage } from 'react-intl'\nimport SwapsHistory from 'shared/pages/History/SwapsHistory/SwapsHistory'\n\n\nconst title = [\n  <FormattedMessage id=\"Incompleted21\" defaultMessage=\"Incompleted Swaps\" />,\n]\n\n@connect(({\n  rememberedOrders,\n  history: { swapHistory },\n}) => ({\n  decline: rememberedOrders.savedOrders,\n  swapHistory,\n}))\n@cssModules(styles, { allowMultiple: true })\nexport default class IncompletedSwaps extends Component<any, any> {\n\n  render() {\n    const { decline, swapHistory } = this.props\n\n    return (\n      //@ts-ignore: strictNullChecks\n      <Modal name=\"IncompletedSwaps\" title={title} shouldCenterVertically={false}>\n        <div styleName=\"modal\">\n          <div styleName=\"modal_column\">\n            <SubTitle styleName=\"modal_column-title\">\n              <FormattedMessage id=\"IncompletedSwaps49\" defaultMessage=\"Swaps needing to complete\" />\n            </SubTitle>\n            { swapHistory.length > 0 ?\n              <SwapsHistory\n                showSubtitle={false}\n                orders={swapHistory\n                  .filter(item => item.isSwapExist === false)\n                  .filter(item => decline.includes(item.id))\n                  .filter(item => item.step >= 4)\n                }\n              /> :\n              <h1>\n                <FormattedMessage id=\"IncompletedSwaps55\" defaultMessage=\"Data processed, try to reload the page\" />\n              </h1>\n            }\n          </div>\n        </div>\n      </Modal>\n    )\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"modal\":\"_1iQ_cwT1c6GmjfqMo91rmR\",\"modal_column\":\"s3LVMJHcrXO1r0za3Gfz7\",\"modal_column-title\":\"nl9vtmvZLKlbnQSr-YMq-\"};","import React from 'react'\nimport { connect } from 'redaction'\nimport cx from 'classnames'\n\nimport cssModules from 'react-css-modules'\nimport erc20Like from 'common/erc20Like'\nimport styles from './CurrencyAction.scss'\nimport { constants } from 'helpers'\n\nimport { FormattedMessage, injectIntl } from 'react-intl'\nimport { localisedUrl } from 'helpers/locale'\nimport CurrencyIcon from 'components/ui/CurrencyIcon/CurrencyIcon'\nimport CloseIcon from 'components/ui/CloseIcon/CloseIcon'\nimport icons from 'components/ui/CurrencyIcon/images'\nimport config from 'app-config'\nimport actions from 'shared/redux/actions'\n\n@connect(({\n  ui: { dashboardModalsAllowed },\n}) => ({\n  dashboardView: dashboardModalsAllowed,\n}))\n@cssModules(styles, { allowMultiple: true })\nclass CurrencyAction extends React.Component<any, any> {\n  handleClose = () => {\n    const { name, data, onClose } = this.props\n\n    if (typeof onClose === 'function') {\n      onClose()\n    }\n\n    if (typeof data.onClose === 'function') {\n      data.onClose()\n    }\n    //@ts-ignore\n    actions.modals.close(name)\n  }\n\n  handleClickCurrency = (item) => {\n    const {\n      data: { context },\n      history,\n      intl: { locale },\n    } = this.props\n\n    const { currency, address } = item\n    const isToken = erc20Like.isToken({ name: currency })\n\n    if (context === 'Deposit') {\n      this.handleClose()\n      //@ts-ignore\n      actions.modals.open(constants.modals.ReceiveModal, {\n        currency,\n        address,\n      })\n    } else {\n      const { Withdraw, WithdrawMultisigSMS, WithdrawMultisigUser } = constants.modals\n\n      let withdrawModalType = Withdraw\n      if (item.currency === 'BTC (SMS-Protected)') withdrawModalType = WithdrawMultisigSMS\n      if (item.currency === 'BTC (Multisig)') withdrawModalType = WithdrawMultisigUser\n\n      let targetCurrency = currency\n      switch (currency.toLowerCase()) {\n        case 'btc (multisig)':\n        case 'btc (sms-protected)':\n        case 'btc (pin-protected)':\n          targetCurrency = 'btc'\n          break\n      }\n\n      this.handleClose()\n\n      history.push(\n        localisedUrl(locale, (isToken ? '/token' : '') + `/${targetCurrency}/${address}/send`)\n      )\n    }\n\n  }\n\n  render() {\n    const {\n      props: {\n        data: { currencies, context },\n        dashboardView,\n      }\n    } = this\n\n    // if currencies is one, do autoselect\n    if (currencies.length == 1) {\n      this.handleClickCurrency(currencies.shift())\n    }\n\n    return (\n      <div styleName={cx({\n        \"modal-overlay\": true,\n      })}>\n        <div styleName={cx({\n          \"modal\": true,\n          \"modal_dashboardView\": dashboardView\n        })}>\n          <div styleName=\"header\">\n            <p styleName=\"title\">{context}</p>\n\n            <CloseIcon styleName=\"closeButton\" onClick={this.handleClose} data-testid=\"modalCloseIcon\" />\n          </div>\n          <div styleName={cx({\n            \"content\": true,\n            \"content_dashboardView\": dashboardView\n          })}>\n            <p styleName=\"text\">\n              <FormattedMessage\n                id=\"currencyAction81\"\n                defaultMessage=\"Please choose a currency, which you want to {context}\"\n                values={{ context: context.toLowerCase() }}\n              />\n            </p>\n            <div styleName={cx({\n              \"currenciesWrapper\": true,\n              \"currenciesWrapper_dashboardView\": dashboardView\n            })}>\n              {currencies.map((item, index) => {\n                let iconName = item.currency.toLowerCase()\n                let itemTitle = item.currency\n                let itemFullTitle = item.fullName\n\n                switch (item.currency) {\n                  case 'BTC (Multisig)':\n                    iconName = 'btc'\n                    itemTitle = 'BTC (MTS)'\n                    itemFullTitle = 'BTC (MTS)'\n                    break\n                  case 'BTC (SMS-Protected)':\n                    iconName = 'btc'\n                    itemTitle = 'BTC (SMS)'\n                    itemFullTitle = 'BTC (SMS)'\n                    break\n                  case 'BTC (PIN-Protected)':\n                    iconName = 'btc'\n                    itemTitle = 'BTC (PIN)'\n                    itemFullTitle = 'BTC (PIN)'\n                    break\n                }\n\n                if (!icons[iconName] && item.standard && item.baseCurrency) {\n                  iconName = item.baseCurrency\n                }\n\n                let renderIcon = icons[iconName]\n                let renderStyle = {\n                  backgroundColor: '',\n                }\n\n                const tokenStandard = item.standard?.toLowerCase()\n                const currencyKey = item.currency.toLowerCase()\n\n                if (tokenStandard && config[tokenStandard][currencyKey]) {\n                  const token = config[tokenStandard][currencyKey]\n\n                  if (token.icon) {\n                    renderIcon = token.icon\n                  }\n                  if (token.iconBgColor) {\n                    renderStyle.backgroundColor = token.iconBgColor\n                  }\n                }\n\n                return (\n                  <div styleName=\"card\" key={index} onClick={() => this.handleClickCurrency(item)}>\n                    <CurrencyIcon\n                      styleName=\"circle\"\n                      name={itemTitle}\n                      source={renderIcon && renderIcon}\n                      style={renderStyle}\n                    />\n                    <div styleName=\"info\">\n                      <p>{itemTitle}</p>\n                      <span>{itemFullTitle}</span>\n                    </div>\n                  </div>\n                )\n              })}\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default injectIntl(CurrencyAction)\n","// extracted by mini-css-extract-plugin\nexport default {\"text\":\"eamPBgp9i4UzmQXf8YsGM\",\"currenciesWrapper\":\"_3LmGKs4t0OsTwYZA87XGta\",\"currenciesWrapper_dashboardView\":\"_1jIKghMSzTgA6wft4Mow\",\"header\":\"_1rQ4RZzDsKsNjnyZWmhHPl\",\"title\":\"l6QLV3vGsebI1rugOi1Y3\",\"uppercase\":\"_37UYIACAG4mssq0RtoRiVl\",\"card\":\"_1FzXdtA_0XfI6wMvTrGYLN\",\"info\":\"_3JGQyIU9bKD-S2kpjQB8M2\",\"circle\":\"_3Fh4OUWx7KWqKPpms0SuXW\",\"closeButton\":\"_2hVxXA4dLwiOLkwTxAdeED\",\"modal-overlay\":\"gxQPGB14d5hfWKDqhlled\",\"modal-overlay_dashboardView\":\"_3kMCqxcELclhgw49jLacbp\",\"modal\":\"_1NB5wC_o55mxoJaDNyAJU_\",\"modal_dashboardView\":\"kOua4xhaVToQNlxU4bR6d\",\"button\":\"_3jI2Yg5a3qQKVoRUWx68hL\",\"content\":\"_1n-kDK9BVlLEvRCS7z1SuS\",\"content_dashboardView\":\"rlDuYK889yXcE0044NS-H\"};","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport actions from 'redux/actions'\nimport cssModules from 'react-css-modules'\nimport styles from './Confirm.scss'\n\nimport { Modal } from 'components/modal'\nimport { Button } from 'components/controls'\nimport { FieldLabel, Input } from 'components/forms'\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\nimport WidthContainer from 'components/layout/WidthContainer/WidthContainer'\n\n\nconst defaultLanguage = defineMessages({\n  title: {\n    id: 'confirmDialogDefaultTitle',\n    defaultMessage: 'Confirm action',\n  },\n  message: {\n    id: 'confirmDialogDefaultMessage',\n    defaultMessage: 'Confirm action on this site?',\n  },\n  yes: {\n    id: 'confirmDialogDefaultYes',\n    defaultMessage: 'Yes',\n  },\n  no: {\n    id: 'confirmDialogDefaultNo',\n    defaultMessage: 'No',\n  },\n})\n\n@cssModules(styles, { allowMultiple: true })\nclass Confirm extends React.Component<any, any> {\n  static propTypes = {\n    onAccept: PropTypes.func,\n  }\n\n  handleClose = () => {\n    const { name, data, onClose } = this.props\n\n    if (typeof onClose === 'function') {\n      onClose()\n    }\n\n    if (typeof data.onClose === 'function') {\n      data.onClose()\n    }\n\n    actions.modals.close(name)\n  }\n\n  handleCancel = () => {\n    const { data } = this.props\n    if (typeof data.onCancel === 'function') {\n      data.onCancel()\n    }\n    this.handleClose()\n  }\n\n  handleConfirm = () => {\n    const { name, data, onAccept } = this.props\n\n    actions.modals.close(name)\n\n    if (typeof onAccept === 'function') {\n      onAccept()\n    }\n\n    if (typeof data.onAccept === 'function') {\n      data.onAccept()\n    }\n  }\n\n  render() {\n    const {\n      intl,\n      name,\n      data: {\n        title,\n        message,\n        labelYes,\n        labelNo,\n      },\n    } = this.props\n\n    const labels = {\n      title: title || intl.formatMessage(defaultLanguage.title),\n      message: message || intl.formatMessage(defaultLanguage.message),\n      yes: labelYes || intl.formatMessage(defaultLanguage.yes),\n      no: labelNo || intl.formatMessage(defaultLanguage.no),\n    }\n\n    return (\n      <div styleName=\"modal-overlay\" onClick={this.handleClose}>\n        <div styleName=\"modal\">\n          <div styleName=\"header\">\n            {/*\n            //@ts-ignore */}\n            <WidthContainer styleName=\"headerContent\">\n              <div styleName=\"title\">{labels.title}</div>\n            </WidthContainer>\n          </div>\n          <div styleName=\"content\">\n            <div styleName=\"notification-overlay\">\n              <p styleName=\"notification\">{labels.message}</p>\n            </div>\n            <div styleName=\"button-overlay\">\n              <Button styleName=\"button\" gray onClick={this.handleCancel}>{labels.no}</Button>\n              <Button styleName=\"button\" blue onClick={this.handleConfirm}>{labels.yes}</Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default injectIntl(Confirm)\n","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"_8c86nJeDfnc245oYnYTNL\",\"headerContent\":\"LgPCKgMxWxd7dR8RgxPhP\",\"title\":\"_1MfZ9cdfUTkYADli4aq_oE\",\"uppercase\":\"_11rHJCNahz3JPicAkLEwo2\",\"closeButton\":\"Hlh51Pg7CXX5UFVGyp7W9\",\"modal-overlay\":\"_2tB7K8mcpLeQWE7XV91bqr\",\"modal\":\"Huj5kFQkJp7KTJBcKK6MU\",\"button\":\"_1eW3jHfRRf02ZkzB4q3Jhu\",\"content\":\"_39CWjnq_fuil4rM8j0K3Hk\",\"notification-overlay\":\"_3UZ4KxuLBPR3Vfk6aqbmCd\",\"notification\":\"_3nUp4TVuSpafTPsDh4sA3J\",\"button-overlay\":\"_17KVaHh3xtGxfaK7I4hdey\"};","import React, { Component, RefObject } from 'react'\nimport cssModules from 'react-css-modules'\nimport styles from './MnemonicInput.css'\n\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\nimport { isMobile } from 'react-device-detect'\n\nimport * as bip39 from 'bip39'\nimport ReactTags from 'react-tag-autocomplete'\n\n\nconst langPrefix = `MnemonicInputComponent`\nconst langLabels = defineMessages({\n  placeholder: {\n    id: `${langPrefix}_Placeholder`,\n    defaultMessage: `Начните вводить секретную фразу`,\n  },\n  deleteText: {\n    id: `${langPrefix}_DeleteText`,\n    defaultMessage: `Нажмите, чтобы удалить слово`,\n  },\n})\n\ntype MnemonicInputProps = {\n  onChange: (string) => void\n  fullWidth?: boolean\n  autoFill?: boolean\n  intl?: { [key: string]: any }\n}\n\ntype Tags = {\n  id: number\n  name: string\n}[]\n\ntype MnemonicInputState = {\n  suggestions: Tags\n  tags: Tags\n  isPlaceholderVisible: boolean\n  busy?: boolean\n}\n\n@cssModules(styles, { allowMultiple: true })\nclass MnemonicInput extends Component<MnemonicInputProps, MnemonicInputState> {\n  /* \n  * This phrase just for test\n  * If config entry point equals testnet\n  * Then fill in the input with a test phrase\n  */\n  private TESTNET_TEST_PHRASE = 'vast bronze oyster trade love once fog match rail lock cake science'\n  private TESTNET_TAGS: Tags\n  private isAutofill = false\n\n  reactTags: RefObject<any>\n\n  constructor (props) {\n    super(props)\n\n    const { autoFill = false } = props\n    const suggestions = bip39.wordlists.english.map((name, id) => { return { id, name } })\n\n    if (autoFill) {\n      this.isAutofill = true\n      //@ts-ignore: strictNullChecks\n      this.TESTNET_TAGS = this.TESTNET_TEST_PHRASE.split(' ').map(word => {\n        return suggestions.find(obj => obj.name === word)\n      })\n    }\n\n    this.state = {\n      tags: [],\n      suggestions,\n      isPlaceholderVisible: true,\n    }\n\n    this.reactTags = React.createRef()\n  }\n\n  componentDidMount() {\n    const { autoFill = false } = this.props\n\n    if (autoFill) { // without last element\n      this.onAddition(this.TESTNET_TAGS[this.TESTNET_TAGS.length - 1])\n    }\n  }\n\n  onChangeCallback () {\n    const {\n      props: {\n        onChange,\n      },\n      state: {\n        tags,\n      },\n    } = this\n\n    const words = tags.map(tagData => tagData.name)\n    this.setState({ isPlaceholderVisible: words.length < 12 })\n\n    const mnemonic = words.join(` `)\n\n    if (onChange instanceof Function) {\n      onChange(mnemonic)\n    }\n  }\n\n  onDelete = (i) => {\n    const tags = this.state.tags.slice(0)\n    tags.splice(i, 1)\n    this.setState({ tags }, this.onChangeCallback )\n  }\n\n  onAddition = (tag) => {\n    /* \n    * there is probably a better solution to autofill ReactTags component \n    * you need to call this callback at least once\n    * so pass the last element in the argument\n    */\n   const returnTags = () => {\n     if (this.isAutofill) {\n        const testnetTagsWithoutLastElement = this.TESTNET_TAGS.filter((tag, index) => {\n         return this.TESTNET_TAGS.length - 1 !== index\n        })\n        this.isAutofill = false\n        return [...testnetTagsWithoutLastElement, tag]\n      } else {\n        return [...this.state.tags, tag]\n      }\n    }\n\n    const tags = returnTags()\n    this.setState({ tags }, this.onChangeCallback )\n  }\n\n  onInput = (query) => {\n    const allowedСhars = /[A-Za-z]/\n    const isPasteWords = query.trim().split(/\\s+/g)\n\n    if (query.match(allowedСhars) === null) {\n      return null\n    } else if (isPasteWords.length === 12) {\n      /* This pasted of phrase */\n      const tags = isPasteWords.map((name, id) => { return { id, name } })\n      this.setState({ tags }, () => {\n        this.reactTags.current.clearInput()\n        this.onChangeCallback()\n      })\n    } else if (!this.state.busy) {\n      this.setState({ busy: true })\n\n      return fetch(`query=${query}`).then((result) => {\n        this.setState({ busy: false })\n      })\n    } \n  }\n\n  render () {\n    const {\n      props: {\n        intl,\n        fullWidth,\n      },\n      state: {\n        tags,\n        suggestions,\n        isPlaceholderVisible\n      },\n      reactTags,\n    } = this\n\n    return (\n      <div translate=\"no\" className={`notranslate mnemonicInput ${(isMobile) ? '--is-mobile' : ''} ${(fullWidth) ? '--full-width' : ''}`}>\n        <ReactTags\n          ref={reactTags}\n          tags={tags}\n          autoresize={true}\n          suggestions={suggestions}\n          onDelete={this.onDelete}\n          onAddition={this.onAddition}\n          onInput={this.onInput}\n          //@ts-ignore: strictNullChecks\n          placeholderText={isPlaceholderVisible ? intl.formatMessage(langLabels.placeholder) : ''}\n          //@ts-ignore: strictNullChecks\n          removeButtonText={intl.formatMessage(langLabels.deleteText)}\n          delimiters={[`Enter`, `Tab`, ` `, `,`]}\n        />\n      </div>\n    )\n  }\n}\n\nexport default injectIntl(MnemonicInput)\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { connect } from 'redaction'\nimport actions from 'redux/actions'\nimport Link from 'local_modules/sw-valuelink'\n\nimport CSSModules from 'react-css-modules'\nimport styles from './ConfirmBeginSwap.scss'\n\nimport { Button, Toggle } from 'components/controls'\nimport { Input } from 'components/forms'\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\nimport WidthContainer from 'components/layout/WidthContainer/WidthContainer'\nimport typeforce from 'swap.app/util/typeforce'\n\nimport config from 'app-config'\n\nconst defaultLanguage = defineMessages({\n  title: {\n    id: 'confirmDialogDefaultTitle',\n    defaultMessage: 'Confirm action',\n  },\n  message: {\n    id: 'confirmDialogDefaultMessage',\n    defaultMessage: 'Confirm action on this site?',\n  },\n  yes: {\n    id: 'confirmDialogDefaultYes',\n    defaultMessage: 'Yes',\n  },\n  no: {\n    id: 'confirmDialogDefaultNo',\n    defaultMessage: 'No',\n  },\n})\n\n@connect(({\n  user: {\n    ethData,\n    bnbData,\n    maticData,\n    arbethData,\n    btcData,\n    ghostData,\n    nextData,\n    tokensData,\n  },\n}) => ({\n  currenciesData: [\n    ethData, \n    bnbData, \n    maticData,\n    arbethData, \n    btcData, \n    ghostData, \n    nextData,\n  ],\n  tokensData: [...Object.keys(tokensData).map(k => (tokensData[k]))],\n}))\n@CSSModules(styles, { allowMultiple: true })\nclass ConfirmBeginSwap extends React.Component<any, any> {\n  static propTypes = {\n    onAccept: PropTypes.func,\n  }\n\n  systemWallets: any\n\n  constructor(props) {\n    super(props)\n\n    const { tokensData, currenciesData } = props\n\n    this.systemWallets = {}\n\n    const coinsData = [...currenciesData, ...tokensData]\n    coinsData.forEach(item => {\n      if (item.currency && item.address) {\n        this.systemWallets[item.currency.toUpperCase()] = item.address\n      }\n    })\n\n    this.state = {\n      customWalletUse: false,\n    }\n  }\n\n  customWalletIsValid() {\n    const { customWallet, customWalletUse } = this.state\n    const { sellCurrency } = this.props.data.order\n\n    if (customWalletUse) {\n      if (!typeforce.isCoinAddress[sellCurrency]) {\n        console.warn(`Swap.Core unknown isCoinAddress check for ${sellCurrency}`)\n        return true\n      }\n      return typeforce.isCoinAddress[sellCurrency](customWallet)\n    }\n    return true\n  }\n\n  customWalletAllowed() {\n\n    return false // temporary disable custom address\n\n    /*const { buyCurrency, sellCurrency } = this.props.data.order\n\n    if (buyCurrency === 'BTC') {\n      // btc-token\n      if (config.erc20[sellCurrency.toLowerCase()] !== undefined) return true\n      // btc-eth\n      if (sellCurrency === 'ETH') return true\n      if (sellCurrency === 'GHOST') return true\n      if (sellCurrency === 'NEXT') return true\n    }\n    if (config.erc20[buyCurrency.toLowerCase()] !== undefined) {\n      // token-btc\n      if (sellCurrency === 'BTC') return true\n      if (sellCurrency === 'GHOST') return true\n      if (sellCurrency === 'NEXT') return true\n    }\n\n    if (buyCurrency === 'ETH') {\n      // eth-btc\n      if (sellCurrency === 'BTC') return true\n      if (sellCurrency === 'GHOST') return true\n      if (sellCurrency === 'NEXT') return true\n    }\n\n    if (buyCurrency === 'GHOST') {\n      // ghost-eth\n      if (sellCurrency === 'ETH') return true\n       // ghost-btc\n      if (sellCurrency === 'BTC') return true\n    }\n\n    if (buyCurrency === 'NEXT') {\n      // next-eth\n      if (sellCurrency === 'ETH') return true\n       // next-btc\n      if (sellCurrency === 'BTC') return true\n    }\n\n    return false*/\n  }\n\n  handleCustomWalletUse = () => {\n    const { customWalletUse } = this.state\n\n    const newCustomWalletUse = !customWalletUse\n\n    const { sellCurrency } = this.props.data.order\n    const sellTicker = sellCurrency.toUpperCase()\n    const sellWalletAddress = this.systemWallets[sellTicker]\n\n    this.setState({\n      customWalletUse: newCustomWalletUse,\n      customWallet: (newCustomWalletUse === false) ? '' : sellWalletAddress,\n    })\n  }\n\n  handleClose = () => {\n    const { name, data, onClose } = this.props\n\n    if (typeof onClose === 'function') {\n      onClose()\n    }\n\n    if (typeof data.onClose === 'function') {\n      data.onClose()\n    }\n\n    actions.modals.close(name)\n  }\n\n  handleConfirm = () => {\n    const { name, data, onAccept } = this.props\n    const { customWalletUse, customWallet } = this.state\n\n    if (!this.customWalletIsValid()) {\n      return\n    }\n\n    actions.modals.close(name)\n\n    if (typeof onAccept === 'function') {\n      onAccept((customWalletUse) ? customWallet : null)\n    }\n\n    if (typeof data.onAccept === 'function') {\n      data.onAccept((customWalletUse) ? customWallet : null)\n    }\n  }\n\n  render() {\n    const {\n      intl,\n      name,\n      data: {\n        title,\n        message,\n        labelYes,\n        labelNo,\n      },\n    } = this.props\n\n    const labels = {\n      title: title || intl.formatMessage(defaultLanguage.title),\n      message: message || intl.formatMessage(defaultLanguage.message),\n      yes: labelYes || intl.formatMessage(defaultLanguage.yes),\n      no: labelNo || intl.formatMessage(defaultLanguage.no),\n    }\n\n    const { customWalletUse, customWallet } = this.state\n    const okStyle = (this.customWalletIsValid()) ? 'brand' : 'gray'\n\n    const linked = Link.all(this, 'customWallet')\n\n\n    return (\n      <div styleName=\"modal-overlay\">\n        <div styleName=\"modal\">\n          <div styleName=\"header\">\n            {/*\n            //@ts-ignore */}\n            <WidthContainer styleName=\"headerContent\">\n              <div styleName=\"title\">{labels.title}</div>\n            </WidthContainer>\n          </div>\n          <div styleName=\"content\">\n            <div styleName=\"content-inner\">\n              <p styleName=\"notification\">{labels.message}</p>\n\n              {this.customWalletAllowed()\n                ?\n                <div>\n                  {\n                    (!this.customWalletIsValid()) && (\n                      <div styleName=\"error\">\n                        <FormattedMessage id=\"CustomWalletIsNotCorrect\" defaultMessage=\"Wallet address is incorrect\" />\n                      </div>\n                    )\n                  }\n                  <div styleName=\"walletToggle walletToggle_site\">\n                    <div styleName=\"walletOpenSide\">\n                      {/*\n                      //@ts-ignore */}\n                      <Toggle checked={customWalletUse} onChange={this.handleCustomWalletUse} />\n                      <span styleName=\"specify\">\n                        <FormattedMessage id=\"UseAnotherWallet\" defaultMessage=\"Specify the receiving wallet address\" />\n                      </span>\n                    </div>\n                    <div styleName={customWalletUse ? 'anotherRecepient anotherRecepient_active' : 'anotherRecepient'}>\n                      <div styleName=\"walletInput\">\n                        <Input required valueLink={linked.customWallet} pattern=\"0-9a-zA-Z\" placeholder=\"Enter the receiving wallet address\" />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                :\n                <div>\n                  <FormattedMessage id=\"ConfirmBeginSwapOnlyInternal\" defaultMessage=\"Acceptance of an offer from the offerbook is temporarily possible only for internal addresses\" />\n                </div>\n              }\n            </div>\n          </div>\n          <div styleName=\"buttons\">\n            <Button styleName=\"button\" gray onClick={this.handleClose}>{labels.no}</Button>\n            {(this.customWalletIsValid()) && (\n              <Button styleName=\"button\" blue onClick={this.handleConfirm}>{labels.yes}</Button>\n            )}\n            {(!this.customWalletIsValid()) && (\n              <Button styleName=\"button\" disabled>{labels.yes}</Button>\n            )}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default injectIntl(ConfirmBeginSwap)\n","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"_3H-MW1rv7hNbA7L8JTXYpW\",\"headerContent\":\"HdnYUGfwnHY30fydKfWl-\",\"title\":\"aalBAXyZXn8ev6EBEO2mK\",\"uppercase\":\"VVBMaobNrBmwJOvm7hbPg\",\"error\":\"_27QJnIVlUGVUdUNbGQROO3\",\"closeButton\":\"_2c7bPiT-XTyz-igvyMdary\",\"modal-overlay\":\"zHLPE9JGEF47LaS_evVm0\",\"modal\":\"_31DeplSFqk6z2rEKy8L3Z7\",\"button\":\"_-6ZA5NElTM5DDfBRSghpz\",\"content\":\"_1z-x7jEDfzvLnFOCQHV7pN\",\"content-inner\":\"_2RXeVbZF92eT-shaVj7IWR\",\"notification\":\"_3i8t36P54i2kc4EU1dk-gw\",\"walletToggle\":\"_3xGbspEFmZRIekm-SgcmOX\",\"walletToggle_site\":\"_2awh6CaNyxcHewqIL2r7l1\",\"walletOpenSide\":\"_3cIeMDCJGQ_geaTkyvY4mD\",\"specify\":\"_3jc6cF70X9gtyzaMmfpRTj\",\"anotherRecepient\":\"TeLQGOGhxXod5OMyalCkR\",\"anotherRecepient_active\":\"_2ooE3Xm1qucq21N7htOSEZ\",\"walletInput\":\"_1ztGBH5jGhKxkCuY-2JCX-\",\"buttons\":\"_32h1mh39tGIlAiBoD8jX-_\"};","import React from 'react'\nimport CSSModules from 'react-css-modules'\n\nimport PnoneLibInput, { getCountryCallingCode } from 'react-phone-number-input'\n\nimport styles from './styles.scss'\n\n\nconst Phone = (props) => {\n  const { placeholder, label, error, onChange, locale } = props\n\n  // Нет такой страны как EN, RU, итд...\n  // let countryCode = `+${getCountryCallingCode((locale))}`\n  let countryCode = `+1`\n\n  const onHandleChange = (phone) => {\n    try {\n      //@ts-ignore\n      const { value: country } = document.querySelector('.PhoneInputCountry SELECT')\n      countryCode = `+${getCountryCallingCode(country)}`\n    } catch (e) {\n    }\n\n    if (!phone || !phone.includes(countryCode.replace(/ /g, \"\"))) {\n      const phoneInput = document.querySelector<HTMLInputElement>('.PhoneInputInput')\n\n      if (phoneInput) {\n        phoneInput.value = countryCode.replace(/ /g, \"\")\n      }\n    } else {\n      onChange(phone)\n    }\n  }\n\n  return (\n    <div styleName=\"highLevel phone_inut\" className=\"ym-hide-content\">\n      {label && label}\n      <PnoneLibInput\n        styleName=\"phoneNumber\"\n        onChange={onHandleChange}\n        placeholder={placeholder}\n        defaultCountry={locale.toUpperCase()}\n      />\n      {error && <div styleName=\"rednote\">{error}</div>}\n    </div>\n  );\n};\n\nexport const PhoneInput = CSSModules(Phone, styles, { allowMultiple: true });\n","// extracted by mini-css-extract-plugin\nexport default {\"phone_inut\":\"_2tfDFYLz_DI09g9_A03DOG\",\"highLevel\":\"_3cXFTTlCjkjQkbgn-Yq6iU\",\"phoneNumber\":\"_3Lb-Pk7L1wHnCAFpAqWM9X\",\"rednote\":\"_40Mzab7pMu_lZUMsYXu2L\"};","import React, { Fragment } from 'react'\nimport PropTypes from 'prop-types'\nimport { constants } from 'helpers'\nimport actions from 'redux/actions'\nimport Link from 'local_modules/sw-valuelink'\nimport { connect } from 'redaction'\n\nimport cssModules from 'react-css-modules'\nimport styles from '../Styles/default.scss'\nimport ownStyle from './RegisterSMSProtected.scss'\nimport * as mnemonicUtils from 'common/utils/mnemonic'\nimport { isValidPhoneNumber } from 'react-phone-number-input'\n\nimport Modal from 'components/modal/Modal/Modal'\nimport FieldLabel from 'components/forms/FieldLabel/FieldLabel'\nimport Input from 'components/forms/Input/Input'\nimport { PhoneInput } from 'components/forms/PhoneInput'\nimport Button from 'components/controls/Button/Button'\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\n\nimport CopyToClipboard from 'react-copy-to-clipboard'\nimport moment from 'moment/moment'\nimport okSvg from 'shared/images/ok.svg'\n\n\n@connect(({ user: { btcData, btcMultisigSMSData } }) => ({\n  btcData,\n  btcMultisigSMSData,\n}))\n@cssModules({ ...styles, ...ownStyle }, { allowMultiple: true })\nclass RegisterSMSProtected extends React.Component<any, any> {\n  static propTypes = {\n    name: PropTypes.string,\n    data: PropTypes.object,\n  }\n\n  constructor(props) {\n    super(props)\n\n    let {\n      data: { version, initStep },\n    } = props\n\n    version = version ? version : '2of3' // 2of2\n\n    const generatedKey = localStorage.getItem(constants.privateKeyNames.btcSmsMnemonicKeyGenerated)\n\n    const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\n    const mnemonicSaved = mnemonic === `-`\n    const useGeneratedKeyEnabled = !!generatedKey\n\n    let step = 'enterPhoneAndMnemonic' // \"enterPhone\",\n    if (useGeneratedKeyEnabled && !mnemonicSaved) step = 'saveMnemonicWords'\n\n    let showFinalInstruction = false\n    if (initStep === 'export') {\n      showFinalInstruction = true\n      step = 'ready'\n    }\n\n    this.state = {\n      version,\n      phone: window.DefaultCountryCode || '',\n      step,\n      error: false,\n      smsCode: '',\n      smsConfirmed: false,\n      isShipped: false,\n      showFinalInstruction,\n      useGeneratedKey: useGeneratedKeyEnabled,\n      generatedKey,\n      useGeneratedKeyEnabled,\n      mnemonicSaved,\n      mnemonic: version === '2of3' ? mnemonicUtils.getRandomMnemonicWords() : false,\n      mnemonicWallet: false,\n      isMnemonicCopied: false,\n      isMnemonicGenerated: false,\n      isMnemonicValid: true,\n      isWalletLockedOtherPhone: false,\n      isInstructionCopied: false,\n      isInstructionDownloaded: false,\n    }\n  }\n\n  componentDidMount() {\n    this.generateRestoreInstruction()\n  }\n\n  handleSendSMS = async () => {\n    const {\n      version,\n      phone,\n      mnemonic,\n      generatedKey,\n      useGeneratedKey,\n      useGeneratedKeyEnabled,\n    } = this.state\n\n    if (!useGeneratedKey) {\n      // Old - own mnemonic for unlock\n      if (version === '2of3' && !mnemonicUtils.validateMnemonicWords(mnemonic)) {\n        this.setState({\n          isMnemonicValid: false,\n          error: false,\n        })\n        return\n      } else {\n        const mnemonicWallet = actions.btc.getWalletByWords(mnemonic.trim(), 1)\n        this.setState({\n          mnemonicWallet,\n          isMnemonicValid: true,\n        })\n      }\n    }\n\n    if (!phone) {\n      this.setState({\n        error: (\n          <FormattedMessage\n            id=\"registerSMS_NotValidPhone\"\n            defaultMessage=\"Укажите номер телефона\"\n          />\n        ),\n      })\n      return\n    }\n\n    this.setState({\n      isShipped: true,\n      error: false,\n    })\n\n    const result = await actions.btcmultisig.beginRegisterSMS(\n      phone,\n      mnemonic ? mnemonic.trim() : false,\n      useGeneratedKey && useGeneratedKeyEnabled ? generatedKey : false\n    )\n\n    if (result && result.answer && result.answer == 'ok') {\n      this.setState({\n        isShipped: false,\n        step: 'enterCode',\n      })\n    } else {\n      console.log('One step set', result)\n      const smsServerOffline = result === false\n      this.setState({\n        isShipped: false,\n        error: result && result.error ? result.error : 'Unknown error',\n        smsServerOffline,\n      })\n    }\n  }\n\n  handleCheckSMS = async () => {\n    const {\n      phone,\n      smsCode,\n      mnemonic,\n      useGeneratedKey,\n      useGeneratedKeyEnabled,\n      generatedKey,\n    } = this.state\n\n    if (!smsCode) {\n      this.setState({\n        error: (\n          <FormattedMessage\n            id=\"RegisterSMSProtected_SmsCodeRequery\"\n            defaultMessage=\"Введите смс-код\"\n          />\n        ),\n      })\n      return\n    }\n\n    this.setState({\n      isShipped: true,\n      error: false,\n      smsServerOffline: false,\n      isWalletLockedOtherPhone: false,\n    })\n\n    const result = await actions.btcmultisig.confirmRegisterSMS(\n      phone,\n      smsCode,\n      mnemonic ? mnemonic.trim() : false,\n      useGeneratedKey && useGeneratedKeyEnabled ? generatedKey : false\n    )\n\n    if (result && result.answer && result.answer == 'ok') {\n      this.generateRestoreInstruction()\n      this.setState({\n        isShipped: false,\n        step: 'ready',\n      })\n    } else {\n      if (result && result.error == 'Already registered') {\n        this.generateRestoreInstruction()\n        this.setState({\n          isShipped: false,\n          step: 'ready',\n        })\n      } else {\n        if (result && result.error == 'This wallet already locked by other phone number') {\n          // Кошелек зарегистрирован на другой номер телефона\n          // Может быть так, что человек потерял телефон или забыл его\n          // Даем возможность подключить кошелек, чтобы если у клиента есть\n          // валидный mnemonic - он мог разблокировать средства\n          this.setState({\n            isShipped: false,\n            isWalletLockedOtherPhone: true,\n          })\n        } else {\n          const smsServerOffline = result === false\n          this.setState({\n            isShipped: false,\n            smsServerOffline,\n            error: result && result.error ? result.error : 'Unknown error',\n          })\n        }\n      }\n    }\n  }\n\n  handleRestoreWallet = async () => {\n    const { mnemonic } = this.state\n\n    if (!mnemonic || !mnemonicUtils.validateMnemonicWords(mnemonic)) {\n      this.setState({\n        isMnemonicValid: false,\n        error: false,\n      })\n      return\n    } else {\n      const mnemonicWallet = actions.btc.getWalletByWords(mnemonic.trim(), 1)\n      this.setState({\n        mnemonicWallet,\n        isShipped: true,\n        isMnemonicValid: true,\n      })\n    }\n\n    await actions.btcmultisig.addSMSWallet(mnemonic.trim())\n\n    this.generateRestoreInstruction()\n\n    this.setState({\n      isShipped: false,\n      step: 'ready',\n    })\n  }\n\n  handleCopyMnemonic = async () => {\n    this.setState(\n      {\n        isMnemonicCopied: true,\n      },\n      () => {\n        setTimeout(() => {\n          this.setState({\n            isMnemonicCopied: false,\n          })\n        }, 1000)\n      }\n    )\n  }\n\n  handleCopyInstruction = async () => {\n    this.setState(\n      {\n        isInstructionCopied: true,\n      },\n      () => {\n        setTimeout(() => {\n          this.setState({\n            isInstructionCopied: false,\n          })\n        }, 1000)\n      }\n    )\n  }\n\n  handleDownloadInstruction = async () => {\n    const { restoreInstruction } = this.state\n\n    this.setState(\n      {\n        isInstructionDownloaded: true,\n      },\n      () => {\n        const element = document.createElement('a')\n        const message = 'Check your browser downloads'\n\n        element.setAttribute(\n          'href',\n          `data:text/plaincharset=utf-8,${encodeURIComponent(restoreInstruction)}`\n        )\n        element.setAttribute(\n          'download',\n          `${window.location.hostname}_btc_sms_protected_keys_${moment().format('DD.MM.YYYY')}.txt`\n        )\n\n        element.style.display = 'none'\n        document.body.appendChild(element)\n        element.click()\n        document.body.removeChild(element)\n\n        setTimeout(() => {\n          this.setState({\n            isInstructionDownloaded: false,\n          })\n        }, 1000)\n      }\n    )\n  }\n\n  handleGenerateMnemonic = async () => {\n    this.setState(\n      {\n        isMnemonicGenerated: true,\n        isMnemonicValid: true,\n        mnemonic: mnemonicUtils.getRandomMnemonicWords(),\n      },\n      () => {\n        setTimeout(() => {\n          this.setState({\n            isMnemonicGenerated: false,\n          })\n        }, 1000)\n      }\n    )\n  }\n\n  handleFinish = async () => {\n    const { name } = this.props\n\n    actions.btcmultisig.enableWalletSMS()\n    actions.modals.close(name)\n    if (this.props.data.callback) {\n      this.props.data.callback()\n    }\n  }\n\n  handleShareInstruction = async () => {\n    const { restoreInstruction } = this.state\n\n    //@ts-ignore: strictNullChecks\n    actions.modals.open(constants.modals.Share, {\n      title: `BTC Sms-protected wallet restory instruction`,\n      link: restoreInstruction,\n    })\n  }\n\n  handleBeginSaveMnemonic = async () => {\n    //@ts-ignore: strictNullChecks\n    actions.modals.open(constants.modals.SaveMnemonicModal, {\n      onClose: () => {\n        const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\n        const mnemonicSaved = mnemonic === `-`\n        const step = mnemonicSaved ? 'enterPhoneAndMnemonic' : 'saveMnemonicWords'\n\n        this.setState({\n          mnemonicSaved,\n          step,\n        })\n      },\n    })\n  }\n\n  handleClose = () => {\n    const { name, data, onClose } = this.props\n\n    if (typeof onClose === 'function') {\n      onClose()\n    }\n\n    if (typeof data.onClose === 'function') {\n      data.onClose()\n    }\n\n    actions.modals.close(name)\n  }\n\n  generateRestoreInstruction = () => {\n    // @ToDo - temp comment - find error, fix, and uncomment\n    /*\n    const { mnemonic, mnemonicWallet, useGeneratedKey } = this.state\n\n    const { btcData, btcMultisigSMSData } = this.props\n\n    let restoreInstruction = ''\n\n    restoreInstruction = `Wallet address:\\r\\n`\n    restoreInstruction += `${btcMultisigSMSData.address}\\r\\n`\n    restoreInstruction += `To withdraw funds create transaction using this code https://github.com/bitcoinjs/bitcoinjs-lib/blob/master/test/integration/transactions.spec.ts#L193\\r\\n`\n    restoreInstruction += `\\r\\n`\n    restoreInstruction += `Public keys for create Multisig (2of3) wallet:\\r\\n`\n    if (btcMultisigSMSData.publicKeys[0])\n      restoreInstruction += `${btcMultisigSMSData.publicKeys[0].toString('Hex')}\\r\\n`\n    if (btcMultisigSMSData.publicKeys[1])\n      restoreInstruction += `${btcMultisigSMSData.publicKeys[1].toString('Hex')}\\r\\n`\n    if (btcMultisigSMSData.publicKeys[2])\n      restoreInstruction += `${btcMultisigSMSData.publicKeys[2].toString('Hex')}\\r\\n`\n    restoreInstruction += `\\r\\n`\n    restoreInstruction += `Hot wallet private key (WIF) (first of three for sign tx):\\r\\n`\n    restoreInstruction += `Wallet delivery path from your secret phrase:\\r\\n`\n    restoreInstruction += `m/44'/0'/0'/0/0\\r\\n`\n    restoreInstruction += `${btcData.privateKey}\\r\\n`\n    restoreInstruction += `*** (this private key stored in your browser)\\r\\n`\n    restoreInstruction += `\\r\\n`\n    if (!useGeneratedKey) {\n      restoreInstruction += `Secret mnemonic:\\r\\n`\n      restoreInstruction += `${mnemonic}\\r\\n`\n      restoreInstruction += `Wallet delivery path for mnemonic:\\r\\n`\n      restoreInstruction += `m/44'/0'/0'/0/0\\r\\n`\n      restoreInstruction += `Private key (WIF) of wallet, generated from mnemonic:\\r\\n`\n      restoreInstruction += `(DELETE THIS LINE!) ${mnemonicWallet.WIF}\\r\\n`\n      restoreInstruction += `*** (this private key does not stored anywhere! but in case if our  2fa server does down, you can withdraw your fond using this private key)\\r\\n`\n    } else {\n      restoreInstruction += `Second of three for sign tx:\\r\\n`\n      restoreInstruction += `Wallet delivery path from your secret phrase:\\r\\n`\n      restoreInstruction += `m/44'/0'/0'/0/1\\r\\n`\n      restoreInstruction += `\\r\\n`\n    }\n    restoreInstruction += `If our service is unavailable, use a local copy of the wallet.\\r\\n`\n    restoreInstruction += `https://swaponline.github.io/2fa_wallet.zip\\r\\n`\n\n    this.setState({\n      restoreInstruction,\n    })\n    */\n  }\n\n  onPhoneChange = (phone) => {\n    this.setState(() => ({ phone }))\n  }\n\n  render() {\n    const {\n      step,\n      error,\n      phone,\n      isShipped,\n      // useGeneratedKey,\n      useGeneratedKeyEnabled,\n      mnemonic,\n      isMnemonicCopied,\n      isMnemonicGenerated,\n      isMnemonicValid,\n      smsServerOffline,\n      isWalletLockedOtherPhone,\n      isInstructionCopied,\n      isInstructionDownloaded,\n      restoreInstruction,\n      showFinalInstruction,\n    } = this.state\n\n    const { name, intl } = this.props\n\n    const linked = Link.all(this, 'smsCode', 'mnemonic')\n\n    const langs = defineMessages({\n      registerSMSModal: {\n        id: 'registerSMSProtectedTitle',\n        defaultMessage: `Activate SMS Protected Wallet`,\n      },\n      mnemonicPlaceholder: {\n        id: 'registerSMSMPlaceHolder',\n        defaultMessage: `12 слов`,\n      },\n      phonePlaceHolder: {\n        id: 'registerSMSModalPhonePlaceholder',\n        defaultMessage: `Enter your phone`,\n      },\n      smsPlaceHolder: {\n        id: 'registerSMSModalSmsCodePlaceholder',\n        defaultMessage: `Enter code from SMS`,\n      },\n      needSaveMnemonicToContinue: {\n        id: 'registerSMS_YouNeedSaveMnemonic',\n        defaultMessage: `Для активации 2fa вы должны сохранить 12 слов.`,\n      },\n      pleaseSaveMnemonicToContinue: {\n        id: 'registerSMS_SaveYourMnemonic',\n        defaultMessage: `Пожалуйста сохраните свою секретную фразу.`,\n      },\n      buttonSaveMnemonic: {\n        id: 'registerSMS_ButtonSaveMnemonic',\n        defaultMessage: `Save`,\n      },\n      buttonCancel: {\n        id: 'registerSMS_ButtonCancel',\n        defaultMessage: `Cancel`,\n      },\n    })\n\n    const sentBtnDisabled = isShipped || !phone || (phone && !isValidPhoneNumber(phone))\n    return (\n      //@ts-ignore: strictNullChecks\n      <Modal name={name} title={`${intl.formatMessage(langs.registerSMSModal)}`}>\n        <div styleName=\"registerSMSModalHolder\">\n          <style\n            dangerouslySetInnerHTML={{\n              __html: `\n            .PhoneInputCountryIcon {\n              width: 26px !important;\n            }\n          `,\n            }}\n          />\n          {step === 'saveMnemonicWords' && (\n            <Fragment>\n              <div styleName=\"content-overlay\">\n                <p styleName=\"centerInfoBlock\">\n                  <strong>\n                    <FormattedMessage {...langs.needSaveMnemonicToContinue} />\n                  </strong>\n                  <br />\n                  <FormattedMessage {...langs.pleaseSaveMnemonicToContinue} />\n                </p>\n              </div>\n\n              <div styleName=\"buttonsHolder buttonsHolder_2_buttons button-overlay\">\n                <Button blue onClick={this.handleBeginSaveMnemonic}>\n                  <FormattedMessage {...langs.buttonSaveMnemonic} />\n                </Button>\n                <Button gray onClick={this.handleClose}>\n                  <FormattedMessage {...langs.buttonCancel} />\n                </Button>\n              </div>\n            </Fragment>\n          )}\n          {step === 'enterPhoneAndMnemonic' && (\n            <Fragment>\n              <PhoneInput\n                value={phone}\n                error={error}\n                locale={intl.locale}\n                onChange={this.onPhoneChange}\n                placeholder={`${intl.formatMessage(langs.phonePlaceHolder)}`}\n                label={\n                  <FieldLabel>\n                    <FormattedMessage id=\"registerSMSModalPhone\" defaultMessage=\"Your phone:\" />\n                  </FieldLabel>\n                }\n              />\n              {!useGeneratedKeyEnabled && (\n                <Fragment>\n                  <div styleName=\"highLevel\">\n                    <div styleName=\"infoCaption\">\n                      <FormattedMessage\n                        id=\"registerSMSWordsInfoBlock\"\n                        defaultMessage=\"Сгенерируйте секретную фразу или укажите ранее сохраненную для восстановления старого кошелька\"\n                      />\n                    </div>\n                  </div>\n                  <div styleName=\"highLevel\" className=\"ym-hide-content\">\n                    <FieldLabel>\n                      <FormattedMessage\n                        id=\"registerSMSModalWords\"\n                        defaultMessage=\"Секретная фраза (12 слов):\"\n                      />\n                    </FieldLabel>\n\n                    <div styleName=\"mnemonicButtonsHolder\">\n                      <Button\n                        blue\n                        fullWidth\n                        disabled={isMnemonicGenerated}\n                        onClick={this.handleGenerateMnemonic}\n                      >\n                        {isMnemonicGenerated ? (\n                          <FormattedMessage\n                            id=\"registerSMSModalMnemonicGenerateNewGenerated\"\n                            defaultMessage=\"Создана\"\n                          />\n                        ) : (\n                          <FormattedMessage\n                            id=\"registerSMSModalMnemonicGenerateNew\"\n                            defaultMessage=\"Создать новую\"\n                          />\n                        )}\n                      </Button>\n                      <CopyToClipboard text={mnemonic} onCopy={this.handleCopyMnemonic}>\n                        <Button\n                          blue\n                          fullWidth\n                          disabled={isMnemonicCopied}\n                          onClick={this.handleCopyMnemonic}\n                        >\n                          {isMnemonicCopied ? (\n                            <FormattedMessage\n                              id=\"registerSMSModalMnemonicCopied\"\n                              defaultMessage=\"Фраза скопирована\"\n                            />\n                          ) : (\n                            <FormattedMessage\n                              id=\"registerSMSModalMnemonicCopy\"\n                              defaultMessage=\"Скопировать\"\n                            />\n                          )}\n                        </Button>\n                      </CopyToClipboard>\n                    </div>\n                    <div styleName=\"notice mnemonicNotice\">\n                      <FormattedMessage\n                        id=\"registerSMSMnemonicNotice\"\n                        defaultMessage=\"Она поможет разблокировать средства на кошельке, если сервер 2fa будет не доступен\"\n                      />\n                    </div>\n                    {!isMnemonicValid && (\n                      <div styleName=\"rednotes mnemonicNotice\">\n                        <FormattedMessage\n                          id=\"registerSMSMnemonicError\"\n                          defaultMessage=\"Вы указали не валидный набор слов\"\n                        />\n                      </div>\n                    )}\n                  </div>\n                </Fragment>\n              )}\n              <div>\n                {smsServerOffline ? (\n                  <Fragment>\n                    <Button blue fullWidth disabled={isShipped} onClick={this.handleRestoreWallet}>\n                      <FormattedMessage\n                        id=\"registerSMSAddOffline\"\n                        defaultMessage=\"Восстановить кошелек\"\n                      />\n                    </Button>\n                    <hr />\n                  </Fragment>\n                ) : (\n                  <Fragment>\n                    {error && <div styleName=\"rednotes mnemonicNotice\">{error}</div>}\n                  </Fragment>\n                )}\n              </div>\n              <Button blue big fullWidth disabled={sentBtnDisabled} onClick={this.handleSendSMS}>\n                {isShipped ? (\n                  <Fragment>\n                    <FormattedMessage\n                      id=\"registerSMSModalProcess\"\n                      defaultMessage=\"Processing ...\"\n                    />\n                  </Fragment>\n                ) : (\n                  <Fragment>\n                    <FormattedMessage id=\"registerSMSModalSendSMS\" defaultMessage=\"Send SMS\" />\n                  </Fragment>\n                )}\n              </Button>\n            </Fragment>\n          )}\n          {step === 'enterPhone' && (\n            <Fragment>\n              <PhoneInput\n                value={phone}\n                error={error}\n                locale={intl.locale}\n                onChange={this.onPhoneChange}\n                placeholder={`${intl.formatMessage(langs.phonePlaceHolder)}`}\n                label={\n                  <FieldLabel>\n                    <FormattedMessage id=\"registerSMSModalPhone\" defaultMessage=\"Your phone:\" />\n                  </FieldLabel>\n                }\n              />\n              <Button blue big fullWidth disabled={sentBtnDisabled} onClick={this.handleSendSMS}>\n                {isShipped ? (\n                  <Fragment>\n                    <FormattedMessage\n                      id=\"registerSMSModalProcess\"\n                      defaultMessage=\"Processing ...\"\n                    />\n                  </Fragment>\n                ) : (\n                  <Fragment>\n                    <FormattedMessage id=\"registerSMSModalSendSMS\" defaultMessage=\"Send SMS\" />\n                  </Fragment>\n                )}\n              </Button>\n            </Fragment>\n          )}\n          {step === 'enterCode' && (\n            <Fragment>\n              {error && <div styleName=\"rednotes smsInfoBlock\">{error}</div>}\n              {isWalletLockedOtherPhone && (\n                <div styleName=\"rednotes smsInfoBlock\">\n                  <FormattedMessage\n                    id=\"registerSMS_WalletLocked\"\n                    defaultMessage=\"Этот счет привязан к другому номеру телефона\"\n                  />\n                </div>\n              )}\n              {smsServerOffline && (\n                <div styleName=\"rednotes smsInfoBlock\">\n                  <FormattedMessage\n                    id=\"registerSMS_ConfigServerOffline\"\n                    defaultMessage=\"Сервер авторизации не доступен. Попробуйте позже или используйте секретную фраза для разблокировки счета\"\n                  />\n                </div>\n              )}\n              <div styleName=\"highLevel smsCodeHolder\">\n                <FieldLabel>\n                  <FormattedMessage\n                    id=\"registerSMSModalCode\"\n                    defaultMessage=\"Enter code from SMS:\"\n                  />\n                </FieldLabel>\n                <Input\n                  styleName=\"input inputMargin25\"\n                  valueLink={linked.smsCode}\n                  focusOnInit\n                  placeholder={`${intl.formatMessage(langs.smsPlaceHolder)}`}\n                />\n              </div>\n              <Button\n                styleName=\"confirmSmsCode\"\n                big\n                blue\n                fullWidth\n                disabled={isShipped}\n                onClick={this.handleCheckSMS}\n              >\n                {isShipped ? (\n                  <FormattedMessage id=\"registerSMSModalProcess\" defaultMessage=\"Processing ...\" />\n                ) : (\n                  <FormattedMessage id=\"registerSMSModalSendSMS165\" defaultMessage=\"Confirm\" />\n                )}\n              </Button>\n              <hr />\n              <p styleName=\"notice\">\n                <FormattedMessage\n                  id=\"registerSMS_MnemonicRestoreNotes\"\n                  defaultMessage=\"Если не приходит код подтверждения или у вас нет доступа к указаному номеру телефона, вы можете восстановить кошелек используя секретную фразу\"\n                />\n              </p>\n              <p styleName=\"notice\">\n                <FormattedMessage\n                  id=\"registerSMS_MnemonicUseNotes\"\n                  defaultMessage=\"Используя секретную фразу, вы сможете разблокировать средства на счете\"\n                />\n              </p>\n              <p styleName=\"buttonContainer\">\n                <Button\n                  blue\n                  fullWidth\n                  autoHeight\n                  disabled={isShipped}\n                  onClick={this.handleRestoreWallet}\n                >\n                  <FormattedMessage\n                    id=\"registerSMSRestoryMnemonic\"\n                    defaultMessage=\"Восстановить кошелек используя секретную фразу\"\n                  />\n                </Button>\n              </p>\n            </Fragment>\n          )}\n          {step === 'ready' && (\n            <Fragment>\n              <div styleName=\"highLevel\">\n                <div>\n                  <img styleName=\"finishImg\" src={okSvg} alt=\"finish\" />\n                </div>\n                <span\n                  style={{\n                    fontSize: '25px',\n                    display: 'block',\n                    textAlign: 'center',\n                    marginBottom: '40px',\n                  }}\n                >\n                  <FormattedMessage\n                    id=\"registerSMSModalReady\"\n                    defaultMessage=\"Your protected wallet activated\"\n                  />\n                </span>\n              </div>\n              {showFinalInstruction && (\n                <div styleName=\"restoreInstruction\" className=\"ym-hide-content\">\n                  <h1>\n                    <FormattedMessage\n                      id=\"registerSMSModalFinishSaveThisInfo\"\n                      defaultMessage=\"Информация на случай недоступности нашего сервиса\"\n                    />\n                  </h1>\n                  <div>\n                    <pre>{restoreInstruction}</pre>\n                    <a\n                      styleName=\"link\"\n                      target=\"_blank\"\n                      href=\"https://github.com/bitcoinjs/bitcoinjs-lib/blob/master/test/integration/addresses.spec.ts\"\n                    >\n                      <FormattedMessage\n                        id=\"registerSMS_LinkToManualRestore\"\n                        defaultMessage=\"How to withdraw money manually\"\n                      />\n                    </a>\n                  </div>\n                  <div styleName=\"buttonsHolder\">\n                    <CopyToClipboard text={restoreInstruction} onCopy={this.handleCopyInstruction}>\n                      <Button\n                        blue\n                        disabled={isInstructionCopied}\n                        onClick={this.handleCopyInstruction}\n                      >\n                        {isInstructionCopied ? (\n                          <FormattedMessage\n                            id=\"registerSMSModalInstCopied\"\n                            defaultMessage=\"Скопировано\"\n                          />\n                        ) : (\n                          <FormattedMessage\n                            id=\"registerSMSModalInstCopy\"\n                            defaultMessage=\"Скопировать\"\n                          />\n                        )}\n                      </Button>\n                    </CopyToClipboard>\n                    <Button\n                      blue\n                      disabled={isInstructionDownloaded}\n                      onClick={this.handleDownloadInstruction}\n                    >\n                      {isInstructionDownloaded ? (\n                        <FormattedMessage\n                          id=\"registerSMSModalInstDownloaded\"\n                          defaultMessage=\"Загружается\"\n                        />\n                      ) : (\n                        <FormattedMessage\n                          id=\"registerSMSModalInstDownload\"\n                          defaultMessage=\"Скачать\"\n                        />\n                      )}\n                    </Button>\n                    <Button blue onClick={this.handleShareInstruction}>\n                      <FormattedMessage id=\"registerSMS_ShareInstruction\" defaultMessage=\"Share\" />\n                    </Button>\n                  </div>\n                </div>\n              )}\n              <Button big blue fullWidth onClick={this.handleFinish}>\n                <Fragment>\n                  <FormattedMessage id=\"registerSMSModalFinish\" defaultMessage=\"Finish\" />\n                </Fragment>\n              </Button>\n            </Fragment>\n          )}\n        </div>\n      </Modal>\n    )\n  }\n}\n\nexport default injectIntl(RegisterSMSProtected)\n","// extracted by mini-css-extract-plugin\nexport default {\"registerSMSModalHolder\":\"_1sQaXKGUhfpaTn-1pP7utE\",\"infoCaption\":\"_2m1mGNdI8c6sfkpDYh-Ddf\",\"mnemonicNotice\":\"OZqKGp04lX1HhC5sidcDc\",\"mnemonicButtonsHolder\":\"_2HuhfiiqXgVhDuGxFGtBdC\",\"finishImg\":\"_117Me-kIo1XpKvjXdNhBoW\",\"smsInfoBlock\":\"_3xPW4ShhtMZunNeHzmiILX\",\"smsCodeHolder\":\"SS-EfUl3oLu9-flXmgWuH\",\"confirmSmsCode\":\"Lm2qi1TyFTny3qP31W_BW\",\"restoreInstruction\":\"X8PlAKRHxqRuCh41oCBms\",\"buttonsHolder\":\"_3XXhvWaJuLgQZU68PQPKxZ\",\"buttonsHolder_2_buttons\":\"_2d-leOUcFYU8-zIv8WgPS9\",\"buttonContainer\":\"_3sqxRVsiCHWmbkwtwtFEVg\",\"phoneNumber\":\"QUhKlsmiFPjCP8EkUD7fy\"};","import React, { Fragment } from 'react'\nimport PropTypes from 'prop-types'\nimport { constants } from 'helpers'\nimport actions from 'redux/actions'\nimport { connect } from 'redaction'\n\nimport cssModules from 'react-css-modules'\n\nimport defaultStyles from '../Styles/default.scss'\nimport styles from './MultisignJoinLink.scss'\n\nimport Modal from 'components/modal/Modal/Modal'\nimport Button from 'components/controls/Button/Button'\nimport { ShareLink } from 'components/controls'\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\n\nimport links from 'helpers/links'\nimport { getFullOrigin } from 'helpers/links'\n\nimport SwapApp from 'swap.app'\n\n\nconst langLabels = defineMessages({\n  multiSignJoinLinkMessage: {\n    id: 'multiSignJoinLinkMessage',\n    defaultMessage: `Отправьте эту ссылку второму владельцу кошелька`,\n  },\n  multiSignJoinLink: {\n    id: 'multiSignJoinLink',\n    defaultMessage: `Создание BTC-Multisign кошелька`,\n  },\n  needSaveMnemonicToContinue: {\n    id: 'multiSignJoinLink_YouNeedSaveMnemonic',\n    defaultMessage: `Для активации btc-multisig вы должны сохранить 12 слов.`,\n  },\n  pleaseSaveMnemonicToContinue: {\n    id: 'multiSignJoinLink_SaveYourMnemonic',\n    defaultMessage: `Пожалуйста сохраните свою секретную фразу.`\n  },\n  buttonSaveMnemonic: {\n    id: 'multiSignJoinLink_ButtonSaveMnemonic',\n    defaultMessage: `Save`,\n  },\n  buttonCancel: {\n    id: 'multiSignJoinLink_ButtonCancel',\n    defaultMessage: `Cancel`,\n  },\n})\n\n@connect(\n  ({\n    user: {\n      btcData,\n    },\n  }) => ({\n    btcData,\n  })\n)\n@cssModules({ ...defaultStyles, ...styles }, { allowMultiple: true })\nclass MultisignJoinLink extends React.Component<any, any> {\n  static propTypes = {\n    name: PropTypes.string,\n    data: PropTypes.object,\n  }\n\n  constructor(props) {\n    super(props)\n\n    const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\n    const mnemonicSaved = (mnemonic === `-`)\n\n    this.state = {\n      joinLink: '',\n      mnemonicSaved,\n      step: (mnemonicSaved) ? 'link' : 'savemnemonic',\n    }\n  }\n\n  componentDidMount() {\n    const {\n      data: {\n        action,\n      },\n      btcData,\n    } = this.props\n\n    const publicKey = btcData.publicKey.toString('Hex')\n    const linkAction = action || `join`\n\n    //@ts-ignore: strictNullChecks\n    const joinLink = `${getFullOrigin()}${links.multisign}/btc/${linkAction}/${publicKey}/${SwapApp.shared().services.room.peer}`\n\n    this.setState(() => ({\n      joinLink,\n    }))\n  }\n\n  handleBeginSaveMnemonic = async () => {\n    actions.modals.open(constants.modals.SaveMnemonicModal, {\n      onClose: () => {\n        const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\n        const mnemonicSaved = (mnemonic === `-`)\n        const step = (mnemonicSaved) ? 'link' : 'savemnemonic'\n\n        this.setState({\n          mnemonicSaved,\n          step,\n        })\n      }\n    })\n  }\n\n  handleClose = () => {\n    const { name, data, onClose } = this.props\n\n    if (typeof onClose === 'function') {\n      onClose()\n    }\n\n    if (typeof data.onClose === 'function') {\n      data.onClose()\n    }\n\n    actions.modals.close(name)\n  }\n\n  handleFinish = async () => {\n    const {\n      name,\n      data: {\n        callback,\n      },\n    } = this.props\n\n    actions.modals.close(name)\n\n    if (callback && callback instanceof Function) {\n      callback()\n    }\n  }\n\n  render() {\n    const { name, intl } = this.props\n    const {\n      joinLink,\n      isLinkCopied,\n      step,\n    } = this.state\n\n    const {\n      data: {\n        showCloseButton,\n      },\n    } = this.props\n\n    return (\n      //@ts-ignore: strictNullChecks\n      <Modal name={name} title={`${intl.formatMessage(langLabels.multiSignJoinLink)}`} onClose={this.handleClose} showCloseButton={showCloseButton}>\n        {step === 'savemnemonic' && (\n          <Fragment>\n            <div styleName=\"content-overlay\">\n              <p styleName=\"centerInfoBlock\">\n                <strong>\n                  <FormattedMessage {...langLabels.needSaveMnemonicToContinue} />\n                </strong>\n                <br />\n                <FormattedMessage {...langLabels.pleaseSaveMnemonicToContinue} />\n              </p>\n            </div>\n\n            <div styleName=\"buttonsHolder buttonsHolder_2_buttons button-overlay\">\n              <Button blue onClick={this.handleBeginSaveMnemonic}>\n                <FormattedMessage {...langLabels.buttonSaveMnemonic} />\n              </Button>\n              <Button gray onClick={this.handleClose}>\n                <FormattedMessage {...langLabels.buttonCancel} />\n              </Button>\n            </div>\n          </Fragment>\n        )}\n        {step === 'link' && (\n          <Fragment>\n            <p styleName=\"notice\">\n              <FormattedMessage { ... langLabels.multiSignJoinLinkMessage } />\n            </p>\n            <div className=\"ym-hide-content\">\n              <ShareLink link={joinLink} fullSize={true} />\n            </div>\n            <hr />\n            <Button blue styleName=\"finishButton\" fullWidth onClick={this.handleFinish}>\n              <FormattedMessage id=\"BTCMS_CreateWalletReadyButton\" defaultMessage=\"Готово. Открыть кошелек\" />\n            </Button>\n          </Fragment>\n        )}\n      </Modal>\n    )\n  }\n}\n\nexport default injectIntl(MultisignJoinLink)\n","// extracted by mini-css-extract-plugin\nexport default {\"generatedJoinLink\":\"_2alnsOy4uiFybRSbj9CUcR\",\"finishButton\":\"_3PHxaPbxb4UKQkXlzs2nxo\",\"buttonsHolder\":\"E9Sq7lgXMEEmCzvGat-J0\",\"buttonsHolder_2_buttons\":\"exmIl82xIQRmTZ9mpMmTt\"};","// extracted by mini-css-extract-plugin\nexport default {\"invoiceModalHolder\":\"F-sqKOOMnDazmjsOo-I2D\",\"amountTooltip\":\"_1Rxj7oGOPZ3owWFCpOPFIk\"};","import React, { Fragment } from 'react'\nimport { constants, feedback } from 'helpers'\nimport actions from 'redux/actions'\nimport Link from 'local_modules/sw-valuelink'\nimport BigNumber from 'bignumber.js'\nimport cssModules from 'react-css-modules'\nimport styles from '../Styles/default.scss'\nimport dropDownStyles from 'components/ui/DropDown/index.scss'\nimport ownStyle from './InvoiceModal.scss'\nimport Modal from 'components/modal/Modal/Modal'\nimport FieldLabel from 'components/forms/FieldLabel/FieldLabel'\nimport Input from 'components/forms/Input/Input'\nimport Button from 'components/controls/Button/Button'\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\nimport CurrencySelect from 'components/ui/CurrencySelect/CurrencySelect'\nimport { isMobile } from 'react-device-detect'\nimport QrReader from 'components/QrReader'\nimport erc20Like from 'common/erc20Like'\nimport typeforce from 'swap.app/util/typeforce'\nimport { inputReplaceCommaWithDot } from 'helpers/domUtils'\nimport getCurrencyKey from 'helpers/getCurrencyKey'\nimport { links } from 'helpers'\nimport redirectTo from 'helpers/redirectTo'\n\nconst localeLabel = defineMessages({\n  title: {\n    id: 'invoiceModal_Title',\n    defaultMessage: 'Выставление счета на пополнение',\n  },\n  addressPlaceholder: {\n    id: 'invoiceModal_addressPlaceholder',\n    defaultMessage: 'Введите адрес {currency} кошелька',\n  },\n  destiAddressPlaceholder: {\n    id: 'invoiceModal_destiAddressPlaceholder',\n    defaultMessage: 'Введите адрес {currency} кошелька',\n  },\n  amountPlaceholder: {\n    id: 'invoiceModal_amountPlaceholder',\n    defaultMessage: 'Введите сумму',\n  },\n  contactPlaceholder: {\n    id: 'invoiceModal_contactPlaceholder',\n    defaultMessage: 'Обязательное поле',\n  },\n  labelPlaceholder: {\n    id: 'invoiceModal_labelPlaceholder',\n    defaultMessage: 'Укажите комментарий к счету',\n  },\n})\n\ntype InvoiceModalProps = {\n  name: string\n  intl: IUniversalObj\n  data: IUniversalObj\n}\n\ntype InvoiceModalState = {\n  toAddressEnabled: boolean\n  openScanCam: boolean\n  isErc20: boolean\n  isBep20: boolean\n  isShipped: boolean\n  selectedValue: string\n  payerAddress: string\n  destination: string\n  address: string\n  contact: string\n  fiatAmount: string\n  amount: string\n  label: string\n  currentDecimals: number\n  multiplier: BigNumber\n  error: IError | null\n  infoAboutCurrency: IUniversalObj\n  walletData: IUniversalObj\n}\n\n@cssModules({ ...styles, ...ownStyle }, { allowMultiple: true })\nclass InvoiceModal extends React.Component<InvoiceModalProps, InvoiceModalState> {\n  constructor(props) {\n    super(props)\n\n    const {\n      data: {\n        address,\n        currency,\n        toAddress,\n      },\n      payerAddress = false,\n    } = props\n\n    const isErc20 = erc20Like.erc20.isToken({ name: currency })\n    const isBep20 = erc20Like.bep20.isToken({ name: currency })\n    const currentDecimals = constants.tokenDecimals[getCurrencyKey(currency, true).toLowerCase()]\n    const walletData = actions.core.getWallet({ currency })\n    const { infoAboutCurrency } = walletData\n    const multiplier = infoAboutCurrency && infoAboutCurrency.price_fiat \n      ? infoAboutCurrency.price_fiat\n      : 1\n\n    this.state = {\n      isErc20,\n      isBep20,\n      isShipped: false,\n      openScanCam: false,\n      toAddressEnabled: !!toAddress,\n      address: toAddress || '',\n      destination: address,\n      payerAddress,\n      contact: '',\n      label: '',\n      selectedValue: currency,\n      fiatAmount: '',\n      amount: '',\n      multiplier: new BigNumber(multiplier),\n      currentDecimals,\n      error: null,\n      infoAboutCurrency,\n      walletData,\n    }\n\n    localStorage.setItem(constants.localStorage.invoicesEnabled, '1')\n  }\n\n  handleSubmit = () => {\n    const { data } = this.props\n    const {\n      address,\n      amount,\n      destination,\n      contact,\n      label,\n      isShipped,\n      walletData: {\n        currency,\n      },\n    } = this.state\n\n    if (isShipped) return\n\n    this.setState({\n      isShipped: true,\n    }, async () => {\n      try {\n        const message = `${contact}\\r\\n${label}`\n        const result: any = await actions.invoices.addInvoice({\n          currency,\n          toAddress: address,\n          fromAddress: data.address,\n          amount,\n          contact,\n          label: message,\n          destination,\n        })\n        if (result && result.answer && result.answer === 'ok') {\n          this.handleGoToInvoice(result.invoiceId)\n        }\n        if (data.onReady instanceof Function) {\n          data.onReady()\n        }\n      } catch (error) {\n        this.reportError(error)\n      }\n\n      this.setState({\n        isShipped: false,\n      })\n    })\n  }\n\n  reportError = (error) => {\n    feedback.createInvoice.failed(error)\n    console.error(error)\n  }\n\n  handleGoToInvoice = (invoiceId) => {\n    redirectTo(`${links.invoice}/${invoiceId}/share`)\n  }\n\n  addressIsCorrect(otherAddress = null) {\n    const {\n      isErc20,\n      isBep20,\n      address,\n      walletData: {\n        currency,\n      },\n    } = this.state\n    const checkAddress = otherAddress ? otherAddress : address\n\n    if (isErc20) {\n      return typeforce.isCoinAddress.ETH(checkAddress)\n    } else if (isBep20) {\n      return typeforce.isCoinAddress.BNB(checkAddress)\n    }\n\n    let checkCurrency = getCurrencyKey(currency, true).toUpperCase()\n\n    return typeforce.isCoinAddress[checkCurrency](checkAddress)\n  }\n\n  openScan = () => {\n    const { openScanCam } = this.state\n\n    this.setState(() => ({\n      openScanCam: !openScanCam,\n    }))\n  }\n\n  handleAmount = (value): any => {\n    const {\n      multiplier,\n      currentDecimals,\n      selectedValue,\n      walletData: {\n        currency,\n      },\n    } = this.state\n\n    if (!value) {\n      this.setState({\n        fiatAmount: '',\n        amount: '',\n      })\n    } else if (selectedValue === currency) {\n      this.setState({\n        fiatAmount: new BigNumber(value)\n          .times(multiplier)\n          .dp(2, BigNumber.ROUND_CEIL)\n          .toString(),\n        amount: value,\n      })\n    } else {\n      this.setState({\n        fiatAmount: value,\n        amount: new BigNumber(value)\n          .div(multiplier)\n          .dp(currentDecimals, BigNumber.ROUND_CEIL)\n          .toString(),\n      })\n    }\n  }\n\n  handleScan = (data) => {\n    if (data) {\n      this.setState({\n        address: data.includes(':') ? data.split(':')[1] : data,\n      }, () => {\n        this.openScan()\n      })\n    }\n  }\n\n  handleBuyCurrencySelect = (value) => {\n    this.setState({\n      selectedValue: value.name,\n    })\n  }\n\n  render() {\n    const {\n      address,\n      destination,\n      amount,\n      fiatAmount,\n      contact,\n      isShipped,\n      openScanCam,\n      error,\n      selectedValue,\n      toAddressEnabled,\n      walletData: {\n        currency,\n      },\n      walletData,\n    } = this.state\n\n    const {\n      name,\n      intl,\n    } = this.props\n\n    const linked = Link.all(\n      this,\n      'address',\n      'destination',\n      'fiatAmount',\n      'amount',\n      'contact',\n      'label'\n    )\n\n    let curList = [\n      {\n        fullTitle: walletData.fullName,\n        icon: currency.toLowerCase(),\n        name: currency,\n        title: currency,\n        value: currency,\n      },\n      {\n        fullTitle: 'USD',\n        icon: 'usd',\n        name: 'USD',\n        title: 'USD',\n        value: 'USD',\n      },\n    ]\n\n    const isDisabled =\n      !amount || isShipped || !destination || !contact || (address && !this.addressIsCorrect())\n\n    return (\n      //@ts-ignore: strictNullChecks\n      <Modal\n        name={name}\n        title={`${intl.formatMessage(localeLabel.title)}${' '}${currency.toUpperCase()}`}\n        disableClose={this.props.data.disableClose}\n      >\n        {openScanCam && (\n          <QrReader\n            openScan={this.openScan}\n            handleError={this.reportError}\n            handleScan={this.handleScan}\n          />\n        )}\n        <div styleName=\"invoiceModalHolder\">\n          {toAddressEnabled && (\n            <div styleName=\"highLevel\">\n              <FieldLabel>\n                <FormattedMessage\n                  id=\"invoiceModal_Address\"\n                  defaultMessage=\"Адрес, на который выставляем счет\"\n                />\n              </FieldLabel>\n              <Input\n                smallFontSize\n                withMargin\n                valueLink={linked.address}\n                focusOnInit\n                pattern=\"0-9a-zA-Z:\"\n                placeholder={intl.formatMessage(localeLabel.addressPlaceholder, {\n                  currency: currency.toUpperCase(),\n                })}\n                qr={isMobile}\n                openScan={this.openScan}\n              />\n              {address && !this.addressIsCorrect() && (\n                <div styleName=\"rednote\">\n                  <FormattedMessage\n                    id=\"invoiceModal_IncorrectAddress\"\n                    defaultMessage=\"Вы ввели не коректный адрес\"\n                  />\n                </div>\n              )}\n            </div>\n          )}\n          <div styleName=\"highLevel\">\n            <FieldLabel>\n              <FormattedMessage\n                id=\"invoiceModal_destiAddress\"\n                defaultMessage=\"Адрес, куда будет произведена оплата\"\n              />\n            </FieldLabel>\n            <Input\n              valueLink={linked.destination}\n              focusOnInit\n              smallFontSize\n              withMargin\n              pattern=\"0-9a-zA-Z:\"\n              placeholder={intl.formatMessage(localeLabel.destiAddressPlaceholder, {\n                currency: currency.toUpperCase(),\n              })}\n              qr={isMobile}\n              openScan={this.openScan}\n            />\n            {/* @ts-ignore: strictNullChecks */}\n            {destination && !this.addressIsCorrect(destination) && (\n              <div styleName=\"rednote\">\n                <FormattedMessage\n                  id=\"invoiceModal_IncorrectDestiAddress\"\n                  defaultMessage=\"Вы ввели не коректный адрес\"\n                />\n              </div>\n            )}\n          </div>\n          <div styleName=\"highLevel\">\n            <FieldLabel>\n              <span>\n                <FormattedMessage id=\"invoiceModal_Amount\" defaultMessage=\"Сумма\" />\n              </span>\n            </FieldLabel>\n            <span styleName=\"amountTooltip\">{\n              new BigNumber(amount).isGreaterThan(0) \n                ? selectedValue === currency\n                  ? `~ ${fiatAmount} USD`\n                  : `~ ${amount} ${currency}`\n                : ''\n              }\n            </span>\n            <Input\n              className={ownStyle.input}\n              placeholder={intl.formatMessage(localeLabel.amountPlaceholder)}\n              onKeyDown={inputReplaceCommaWithDot}\n              pattern=\"0-9\\.\"\n              withMargin\n              valueLink={selectedValue === currency\n                ? linked.amount.pipe(this.handleAmount)\n                : linked.fiatAmount.pipe(this.handleAmount)\n              }\n            />\n            <CurrencySelect\n              className={dropDownStyles.simpleDropdown}\n              selectedValue={selectedValue}\n              onSelect={this.handleBuyCurrencySelect}\n              selectedItemRender={(item) => item.fullTitle}\n              currencies={curList}\n            />\n          </div>\n          <div styleName=\"highLevel\">\n            <FieldLabel>\n              <span>\n                <FormattedMessage\n                  id=\"invoiceModal_Contact\"\n                  defaultMessage=\"Ваш контакт (емейл или @никнейм)\"\n                />\n              </span>\n            </FieldLabel>\n            <Input\n              valueLink={linked.contact}\n              withMargin\n              placeholder={intl.formatMessage(localeLabel.contactPlaceholder)}\n            />\n          </div>\n          <div styleName=\"lowLevel\">\n            <FieldLabel>\n              <span>\n                <FormattedMessage id=\"invoiceModal_Label\" defaultMessage=\"Комментарий\" />\n              </span>\n            </FieldLabel>\n            <div styleName=\"group\" style={{ marginBottom: '25px' }}>\n              <Input\n                srollingForm={true}\n                valueLink={linked.label}\n                multiline={true}\n                placeholder={intl.formatMessage(localeLabel.labelPlaceholder)}\n              />\n            </div>\n          </div>\n          {/* @ts-ignore: strictNullChecks */}\n          <Button fullWidth blue big disabled={isDisabled} onClick={this.handleSubmit}>\n            {isShipped ? (\n              <Fragment>\n                <FormattedMessage id=\"invoiceModal_Processing\" defaultMessage=\"Обработка ...\" />\n              </Fragment>\n            ) : (\n              <Fragment>\n                <FormattedMessage id=\"invoiceModal_Submit\" defaultMessage=\"Выставить счет\" />\n              </Fragment>\n            )}\n          </Button>\n          {error && (\n            <div styleName=\"rednote\">\n              <FormattedMessage\n                id=\"invoiceModal_Error\"\n                defaultMessage=\"{errorName} {currency}:{br}{errorMessage}\"\n                values={{\n                  errorName: intl.formatMessage(error.name),\n                  errorMessage: intl.formatMessage(error.message),\n                  br: <br />,\n                  currency: `${currency}`,\n                }}\n              />\n            </div>\n          )}\n        </div>\n      </Modal>\n    )\n  }\n}\n\nexport default injectIntl(InvoiceModal)\n","import React from 'react'\nimport CopyToClipboard from 'react-copy-to-clipboard'\n\nimport cssModules from 'react-css-modules'\nimport styles from './InvoiceLinkModal.scss'\n\nimport QR from 'components/QR/QR'\nimport { Modal } from 'components/modal'\nimport { Button } from 'components/controls'\nimport { FormattedMessage, defineMessages, injectIntl } from 'react-intl'\nimport { links } from 'helpers'\nimport { getFullOrigin } from 'helpers/links'\n\n\nconst labels = defineMessages({\n  Title: {\n    id: 'InvoiceLinkModal_Title',\n    defaultMessage: 'Ссылка для выставления счета',\n  },\n})\n\n@cssModules(styles)\nclass InvoiceLinkModal extends React.Component<any, any> {\n  constructor(props) {\n    super(props)\n    this.state = {\n      isLinkCopied: false,\n    }\n  }\n\n  handleCopyLink = () => {\n    this.setState({\n      isLinkCopied: true,\n    }, () => {\n      setTimeout(() => {\n        this.setState({\n          isLinkCopied: false,\n        })\n      }, 500)\n    })\n  }\n\n  render() {\n    const { props: { name, intl, data: { currency, address } }, state: { isLinkCopied } } = this\n\n    let type = currency.toLowerCase()\n    switch (currency) {\n      case 'BTC (SMS-Protected)':\n      case 'BTC (PIN-Protected)':\n      case 'BTC (Multisig)':\n        type = 'btc'\n        break;\n    }\n    const invoiceLink = `${getFullOrigin()}${links.createInvoice}/${type}/${address}`\n\n    return (\n      //@ts-ignore: strictNullChecks\n      <Modal name={name} title={intl.formatMessage(labels.Title)}>\n        <div styleName=\"content\">\n          <p style={{ fontSize: 25 }}>\n            <FormattedMessage id=\"InvoiceLinkModalInfo\" defaultMessage=\"Это ссылка для выставления счета.\" />\n          </p>\n          <CopyToClipboard\n            text={invoiceLink}\n            onCopy={this.handleCopyLink}\n          >\n            <div>\n              <p>\n                {invoiceLink}\n              </p>\n              <Button\n                styleName=\"button\"\n                brand\n                onClick={() => {}}\n                disabled={isLinkCopied}\n                fullWidth\n              >\n                { isLinkCopied ?\n                  <FormattedMessage id=\"InvoiceLinkCopied\" defaultMessage=\"Ссылка скопирована\" />\n                  :\n                  <FormattedMessage id=\"InvoiceLinkCopy\" defaultMessage=\"Скопировать ссылку\" />\n                }\n              </Button>\n            </div>\n          </CopyToClipboard>\n        </div>\n      </Modal>\n    )\n  }\n}\n\nexport default injectIntl(InvoiceLinkModal)\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"JmZRU1XvxHFvUpHIKNReR\",\"content\":\"_2NwtOuotA5XNZMg8usNNGI\"};","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"_1_UzHV6NpLp2BFuCOLYDAw\",\"headerContent\":\"_2dKUAnpCahvvLQAyUXq4wX\",\"closeButton\":\"ubbq6uT7yy1Yp1JlamkkB\",\"title\":\"_2DcUmGp7UAZZcA1sCxeVTK\",\"modal-overlay\":\"_1Up3DYmDoTFDYhqwpVZquF\",\"modal-overlay_dashboardView\":\"_9-2hY03_W8YWeBo6aHVJh\",\"modal\":\"_-5IuW5qP9YkxR9qkXJp02\",\"modal_dashboardView\":\"zi8VkVcd-CLsFYkt-M7kV\",\"button\":\"j8-7mmDy28Qj5WHXXO_jy\",\"button_autoWidth\":\"_3wpwFx2h2KNy8ZL9ddAy1H\",\"content\":\"_qlHfduJ4NXUsTIHEiF_B\",\"notification-overlay\":\"_2WOt6ZRpJ6uK1KWyHy6zuW\",\"notification\":\"_3CpGsp5YNV3qfGjKjG31kP\",\"button-overlay\":\"_1sSeoMC4tPNg1iDWUDgYo-\"};","import React from 'react'\nimport { connect } from 'redaction'\nimport cx from 'classnames'\nimport actions from 'redux/actions'\nimport cssModules from 'react-css-modules'\nimport styles from './AlertModal.scss'\nimport { Button } from 'components/controls'\nimport { injectIntl, IntlShape, defineMessages } from 'react-intl'\nimport WidthContainer from 'components/layout/WidthContainer/WidthContainer'\nimport CloseIcon from 'components/ui/CloseIcon/CloseIcon'\n\nconst defaultLanguage = defineMessages({\n  title: {\n    id: 'alertDialogDefaultTitle',\n    defaultMessage: 'Информация',\n  },\n  message: {\n    id: 'alertDialogDefaultMessage',\n    defaultMessage: 'Ставим перед фактом',\n  },\n  ok: {\n    id: 'alertDialogDefaultOk',\n    defaultMessage: 'Ok',\n  },\n})\n\ntype AlertModalProps = {\n  intl: IntlShape\n  name: string\n  dashboardModalsAllowed\n  onClose: () => void\n  data: {\n    canClose: boolean\n    dontClose: boolean\n    okButtonAutoWidth: boolean\n    onClose: () => void\n    callbackOk: () => boolean\n    title: JSX.Element\n    message: JSX.Element\n    labelOk: JSX.Element\n  }\n}\n\n\n@connect(({ ui: { dashboardModalsAllowed }}) => ({\n  dashboardModalsAllowed\n}))\n@cssModules(styles)\nclass AlertModal extends React.Component<AlertModalProps, null> {\n  closeWithCustomAction = () => {\n    const {\n      name,\n      data,\n      data: {\n        dontClose,\n      },\n      onClose,\n    } = this.props\n\n    if (dontClose) return\n\n    if (typeof onClose === 'function') {\n      onClose()\n    }\n\n    if (typeof data.onClose === 'function') {\n      data.onClose()\n    }\n\n    actions.modals.close(name)\n  }\n\n  closeModal = () => {\n    const { name } = this.props\n\n    actions.modals.close(name)\n  }\n\n  handleOk = () => {\n    const {\n      data: {\n        callbackOk,\n      },\n    } = this.props\n\n    if (typeof callbackOk === `function`) {\n      if (callbackOk()) {\n        this.closeModal()\n      }\n    } else {\n      this.closeWithCustomAction()\n    }\n  }\n\n  render() {\n    const {\n      intl,\n      data: {\n        canClose,\n        title,\n        message,\n        labelOk,\n        okButtonAutoWidth,\n      },\n      dashboardModalsAllowed,\n    } = this.props\n\n    const labels = {\n      title: title || intl.formatMessage(defaultLanguage.title),\n      message: message || intl.formatMessage(defaultLanguage.message),\n      ok: labelOk || intl.formatMessage(defaultLanguage.ok),\n    }\n\n    const buttonStyle = (!okButtonAutoWidth) ? `button` : `button_autoWidth`\n\n    return (\n      <div className={cx({\n        [styles['modal-overlay']]: true,\n      })}>\n        <div className={cx({\n          [styles.modal]: true,\n          [styles.modal_dashboardView]: dashboardModalsAllowed\n        })}>\n          <div styleName=\"header\">\n            {/*\n            //@ts-ignore */}\n            <WidthContainer styleName=\"headerContent\">\n              <div styleName=\"title\">{labels.title}</div>\n\n              {canClose && (\n                <CloseIcon styleName=\"closeButton\" onClick={this.closeModal} />\n              )}\n            </WidthContainer>\n          </div>\n          <div styleName=\"content\">\n            <div styleName=\"notification-overlay\">\n              <p styleName=\"notification\">{labels.message}</p>\n            </div>\n            <div styleName=\"button-overlay\">\n              <Button styleName={buttonStyle} blue onClick={this.handleOk}>{labels.ok}</Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\n//@ts-ignore: strictNullChecks\nexport default injectIntl(AlertModal)","import React, { Fragment } from 'react'\nimport actions from 'redux/actions'\nimport Link from 'local_modules/sw-valuelink'\nimport cssModules from 'react-css-modules'\nimport styles from '../Styles/default.scss'\nimport ownStyle from './index.scss'\n\nimport Modal from 'components/modal/Modal/Modal'\nimport FieldLabel from 'components/forms/FieldLabel/FieldLabel'\nimport Input from 'components/forms/Input/Input'\nimport Button from 'components/controls/Button/Button'\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\nimport typeforce from 'swap.app/util/typeforce'\n\ntype CustomTokenProps = {\n  name: string\n  style: IUniversalObj\n  intl: IUniversalObj\n  data: {\n    api: string\n    apiKey: string\n    standard: string\n  }\n}\n\ntype CustomTokenState = {\n  step: string\n  tokenStandard: string\n  tokenAddress: string\n  tokenName: string\n  tokenSymbol: string\n  tokenDecimals: number\n  baseCurrency: string\n  notFound: boolean\n  isPending: boolean\n}\n\n@cssModules({ ...styles, ...ownStyle }, { allowMultiple: true })\nclass AddCustomToken extends React.Component<CustomTokenProps, CustomTokenState> {\n  constructor(props) {\n    super(props)\n\n    const { data } = props\n\n    this.state = {\n      step: 'enterAddress',\n      tokenStandard: data.standard.toLowerCase(),\n      baseCurrency: data.baseCurrency,\n      tokenAddress: '',\n      tokenName: '',\n      tokenSymbol: '',\n      tokenDecimals: 0,\n      notFound: false,\n      isPending: false,\n    }\n  }\n\n  handleSubmit = async () => {\n    const { tokenAddress, tokenStandard } = this.state\n\n    this.setState(() => ({\n      isPending: true,\n    }))\n\n    const info = await actions[tokenStandard].getInfoAboutToken(tokenAddress)\n\n    if (info) {\n      const { name, symbol, decimals } = info \n\n      this.setState(() => ({\n        tokenName: name,\n        tokenSymbol: symbol,\n        tokenDecimals: decimals,\n        step: 'confirm',\n        isPending: false,\n      }))\n    } else {\n      this.setState(() => ({\n        notFound: true,\n        isPending: false,\n      }))\n\n      setTimeout(() => {\n        this.setState(() => ({\n          notFound: false,\n        }))\n      }, 4000)\n    }\n  }\n\n  handleConfirm = async () => {\n    const { tokenStandard, tokenAddress, tokenSymbol, tokenDecimals, baseCurrency } = this.state\n    actions[tokenStandard].addToken({\n      standard: tokenStandard,\n      contractAddr: tokenAddress,\n      symbol: tokenSymbol,\n      decimals: tokenDecimals,\n      baseCurrency: baseCurrency.toLowerCase(),\n    })\n    const tokenValue = `{${baseCurrency.toUpperCase()}}${tokenSymbol.toUpperCase()}`\n    actions.core.markCoinAsVisible(tokenValue, true)\n\n    this.setState({\n      step: 'ready',\n    })\n  }\n\n  handleReady = async () => {\n    window.location.reload()\n  }\n\n  addressIsCorrect() {\n    const { tokenAddress, baseCurrency } = this.state\n\n    return typeforce.isCoinAddress[baseCurrency.toUpperCase()](tokenAddress)\n  }\n\n  handleError = (err) => {\n    console.error(err)\n  }\n\n  render() {\n    const {\n      step,\n      tokenStandard,\n      tokenAddress,\n      tokenName,\n      tokenSymbol,\n      tokenDecimals,\n      isPending,\n      notFound,\n    } = this.state\n\n    const {\n      name,\n      intl,\n    } = this.props\n\n    const linked = Link.all(this, 'tokenAddress')\n\n    const isDisabled = !tokenAddress || isPending || !this.addressIsCorrect()\n\n    const localeLabel = defineMessages({\n      title: {\n        id: 'customERC20_Title',\n        defaultMessage: 'Add a new token',\n      },\n      addressPlaceholder: {\n        id: 'customERC20_addressPlaceholder',\n        defaultMessage: 'Enter token address',\n      },\n    })\n\n    return (\n      //@ts-ignore: strictNullChecks\n      <Modal\n        name={name}\n        title={`${intl.formatMessage(localeLabel.title)}`}\n      >\n        <div styleName=\"stepsWrapper\">\n          {step === 'enterAddress' && (\n            <Fragment>\n              <div styleName=\"highLevel\">\n                <FieldLabel inRow>\n                  <span style={{ fontSize: '16px' }}>\n                    <FormattedMessage\n                      id=\"customTokenAddress\"\n                      defaultMessage=\"Token address\"\n                    />\n                  </span>\n                </FieldLabel>\n                <Input\n                  id=\"customTokenInput\"\n                  valueLink={linked.tokenAddress}\n                  focusOnInit\n                  pattern=\"0-9a-zA-Z:\"\n                  placeholder={intl.formatMessage(localeLabel.addressPlaceholder)}\n                />\n                {notFound && (\n                  <div styleName=\"rednote\">\n                    <FormattedMessage\n                      id=\"customTokenNotFound\"\n                      defaultMessage=\"This is not {standard} address\"\n                      values={{\n                        standard: tokenStandard\n                      }}\n                    />\n                  </div>\n                )}\n                {tokenAddress && !this.addressIsCorrect() && (\n                  <div styleName=\"rednote\">\n                    <FormattedMessage\n                      id=\"customTokenIncorrectAddress\"\n                      defaultMessage=\"Invalid address\"\n                    />\n                  </div>\n                )}\n              </div>\n              <Button\n                id=\"customTokenNextButton\"\n                styleName=\"buttonFullMargin\"\n                brand\n                fullWidth\n                disabled={isDisabled}\n                onClick={this.handleSubmit}\n                pending={isPending}\n              >\n                <FormattedMessage id=\"NextId\" defaultMessage=\"Nеxt\" />\n              </Button>\n            </Fragment>\n          )}\n          {step === 'confirm' && (\n            <Fragment>\n              <div styleName=\"lowLevel\">\n                <FieldLabel inRow>\n                  <span styleName=\"title\">\n                    <FormattedMessage\n                      id=\"customTokenAddress\"\n                      defaultMessage=\"Token address\"\n                    />\n                  </span>\n                </FieldLabel>\n                <div styleName=\"fakeInput\">{tokenAddress}</div>\n              </div>\n              <div styleName=\"lowLevel\">\n                <FieldLabel inRow>\n                  <span styleName=\"title\">\n                    <FormattedMessage id=\"TitleId\" defaultMessage=\"Title\" />\n                  </span>\n                </FieldLabel>\n                <div styleName=\"fakeInput\">{tokenName}</div>\n              </div>\n              <div styleName=\"lowLevel\">\n                <FieldLabel inRow>\n                  <span styleName=\"title\">\n                    <FormattedMessage id=\"SymbolId\" defaultMessage=\"Symbol\" />\n                  </span>\n                </FieldLabel>\n                <div styleName=\"fakeInput\">{tokenSymbol}</div>\n              </div>\n              <div styleName=\"lowLevel\">\n                <FieldLabel inRow>\n                  <span styleName=\"title\">\n                    <FormattedMessage id=\"DecimalsId\" defaultMessage=\"Decimals\" />\n                  </span>\n                </FieldLabel>\n                <div styleName=\"fakeInput\">{tokenDecimals}</div>\n              </div>\n              <Button\n                id=\"customTokenAddButton\"\n                styleName=\"buttonFullMargin\"\n                brand\n                fullWidth\n                disabled={isDisabled}\n                onClick={this.handleConfirm}\n                pending={isPending}\n              >\n                <FormattedMessage\n                  id=\"customTokenConfirm\"\n                  defaultMessage=\"Add this token\"\n                />\n              </Button>\n            </Fragment>\n          )}\n          {step === 'ready' && (\n            <Fragment>\n              <h4 styleName=\"readyTitle\">\n                <FormattedMessage\n                  id=\"customTokenAdded\"\n                  defaultMessage=\"Token added successfully\"\n                />\n              </h4>\n              <Button\n                id=\"customTokenDoneButton\"\n                styleName=\"buttonFullMargin\"\n                brand\n                fullWidth\n                disabled={isDisabled}\n                onClick={this.handleReady}\n              >\n                <Fragment>\n                  <FormattedMessage id=\"SweepBannerButton\" defaultMessage=\"Done\" />\n                </Fragment>\n              </Button>\n            </Fragment>\n          )}\n        </div>\n      </Modal>\n    )\n  }\n}\n\nexport default injectIntl(AddCustomToken)\n","// extracted by mini-css-extract-plugin\nexport default {\"stepsWrapper\":\"_3NseWpYn4qWyk7SBy0CzlL\",\"fakeInput\":\"_2vCmTJJSUix5WIebvtU_Nm\",\"readyTitle\":\"_26xnjUDH35zREh-75ppIih\",\"erc20ModalHolder\":\"_3H6tKgz1UuN1Q-KN7fLgr1\",\"title\":\"_36bhsfM4XoqfHNiKvCrP8J\",\"lowLevel\":\"_2zFG2sYeNEY0UtyxqXuAbX\"};","// extracted by mini-css-extract-plugin\nexport default {\"marginRight\":\"_1GqORRZGs-2sgCuYQPKPjm\",\"copied\":\"_8a3fTaZVjD7SCBoWDo3Co\",\"no-select-inline\":\"RCFaZmkPAXHzBjAUVZpjd\",\"icon\":\"YVTxg-7dfwhmZI95f7kxo\",\"notActiveLink\":\"_20c-xmXI8GVJJ6zK9VKSSH\",\"disableWth\":\"dLNjsIF6P6AZ0aw24Ss0K\",\"notContractAddress\":\"_3O3JeaLPAGWuNqwHnamue1\",\"button\":\"i_dlHrIddBoX0WDsNezP1\",\"nameRow\":\"dAsfSRQJVRN3E0zzbKpSc\",\"disbutton\":\"cj_Fqee39-9qOus-jJ-0S\",\"buttonActivate\":\"_2532Kgxy3-P4x2q6hjzPAF\",\"table_balance-cell\":\"_2yG3tlUDMnIHtdZ-yxoj7c\",\"mobileName\":\"UqeZDb0rh-GwtjeVwwaVd\",\"hidden\":\"_10l9N3b64jyfyhAl0mCtYd\",\"visible\":\"_2S5KeQEumKZ5H48tX2l69r\",\"yourAddress\":\"xg0V6YDjBYcMxvdNXj4aw\",\"yourAddressWithOptions\":\"_3AgLgzqwS9ylrnrrZCzkBG\",\"walletButtons\":\"_2H7QjCrfCD8YWFO7-BQrpc\",\"activeControlButtons\":\"_3raJ2dP4YEpH2MNe674yzj\",\"buttonUseAnother\":\"JCPLdV97qSWsnbiM7qbQq\",\"actButton\":\"iKaEqEVlc3psZu-so7gVb\",\"useButton\":\"rrrHHyuTiy_1u0755XUik\",\"addressExist\":\"_3g2AXB-Mrvwx8E-UAojWQs\",\"notActivated\":\"g6DSIAHgBh3VQbpJMrnid\",\"showButtons\":\"_379U1aHT5phruscJnhs5I7\",\"assetsTable\":\"_2QspQKuFiKd7wCiRY7QZU7\",\"assetsTableRow\":\"_2zvXtqbCCRxEioHk9g5Pq\",\"assetsTableCurrency\":\"_3dl61-S9iZsYfSKT5djNtJ\",\"assetsTableIcon\":\"_3YNC9qMlA3LcuW5MZj3Cdd\",\"assetsTableValue\":\"_13Zh59nXfMIig7bFTepk2F\",\"assetsTableInfo\":\"lff0RKz_AGY8zJmo_7d5P\",\"errorMessage\":\"_2k8TbhPymDG_DIcLVEzYd6\",\"unconfirmedBalance\":\"_1HVQ9oH3CUnYft4wp8XT3f\",\"assetsTableDots\":\"_33pcuy-hu8zH14DkbaEM2h\",\"loader\":\"_3RUZwtdzu1gobM--UD1c3n\",\"walletInfoRow\":\"_1wr5nQgVrC_ESX0l0AvqZ8\",\"notifyBlock\":\"_1Pjdotq54XorT6pdMqmxVV\"};","import React, { Component, Fragment } from 'react'\nimport actions from 'redux/actions'\nimport { connect } from 'redaction'\nimport helpers, { constants, links } from 'helpers'\nimport config from 'app-config'\nimport { isMobile } from 'react-device-detect'\n\nimport cssModules from 'react-css-modules'\nimport styles from './WalletRow.scss'\n\nimport { Link } from 'react-router-dom'\nimport CopyToClipboard from 'react-copy-to-clipboard'\n\nimport Coin from 'components/Coin/Coin'\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\nimport BtnTooltip from 'components/controls/WithdrawButton/BtnTooltip'\nimport DropdownMenu from 'components/ui/DropdownMenu/DropdownMenu'\nimport { withRouter } from 'react-router-dom'\nimport ReactTooltip from 'react-tooltip'\nimport { FormattedMessage, injectIntl } from 'react-intl'\nimport CurrencyButton from 'components/controls/CurrencyButton/CurrencyButton'\nimport SwapApp from 'swap.app'\nimport { BigNumber } from 'bignumber.js'\n\n\n\n@cssModules(styles, { allowMultiple: true })\nclass WalletRow extends Component<any, any> {\n\n  constructor(props) {\n    super(props)\n  }\n\n  handleOpenDropdown = () => {\n    this.setState({\n      isDropdownOpen: true\n    })\n  }\n\n  handleSwitch = () => {\n    const { item: { index }, handleFinish } = this.props\n    actions.btcmultisig.switchBtcMultisigKey(index)\n    handleFinish()\n  }\n\n  handleRemove = () => {\n    const { item: { index }, handleRefresh } = this.props\n\n    //@ts-ignore: strictNullChecks\n    actions.modals.open(constants.modals.Confirm, {\n      onAccept: () => {\n        actions.btcmultisig.removeBtcMultisigNey(index)\n        handleRefresh()\n      },\n    })\n\n  }\n\n  render() {\n    const {\n      item,\n      itemsCount,\n      intl: { locale },\n    } = this.props\n\n    const {\n      address,\n      currency,\n      balance,\n    } = item\n\n    let dropDownMenuItems = [\n      {\n        id: 1001,\n        title: <FormattedMessage id='SwitchBtcMultisigMenuSwitch' defaultMessage='Switch' />,\n        action: this.handleSwitch,\n        disabled: false,\n      },\n      {\n        id: 1002,\n        title: <FormattedMessage id='SwitchBtcMultisigMenuRemove' defaultMessage='Remove' />,\n        action: this.handleRemove,\n        disabled: false,\n      }\n    ]\n\n    if (itemsCount === 1) {\n      dropDownMenuItems = []\n    }\n    return (\n      <tr styleName=\"walletInfoRow\">\n        <td styleName=\"assetsTableRow\">\n          <div styleName=\"assetsTableCurrency\">\n            <Coin className={styles.assetsTableIcon} name={currency} />\n            <div styleName=\"assetsTableInfo\">\n              <div styleName=\"nameRow\">\n                {address}\n              </div>\n              <span>\n                <div styleName=\"no-select-inline\">\n                  <span>\n                    {new BigNumber(balance).dp(5, BigNumber.ROUND_FLOOR).toString()}{' '}\n                  </span>\n                  <span>{currency}</span>\n                </div>\n              </span>\n              <strong>{' '}</strong>\n            </div>\n          </div>\n          {dropDownMenuItems.length > 0 && (\n            <div onClick={this.handleOpenDropdown} styleName=\"assetsTableDots\">\n              <DropdownMenu\n                className=\"walletControls\"\n                items={dropDownMenuItems}\n              />\n            </div>\n          )}\n        </td>\n      </tr>\n    )\n  }\n}\n\n\nexport default injectIntl(WalletRow)\n","import React, { Fragment } from 'react'\nimport PropTypes from 'prop-types'\nimport actions from 'redux/actions'\nimport cssModules from 'react-css-modules'\n\nimport defaultStyles from '../Styles/default.scss'\nimport styles from './BtcMultisignSwitch.scss'\n\nimport Modal from 'components/modal/Modal/Modal'\n\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\n\nimport Table from 'components/tables/Table/Table'\nimport WalletRow from './WalletRow'\n\n\n@cssModules({ ...defaultStyles, ...styles }, { allowMultiple: true })\nclass BtcMultisignSwitch extends React.Component<any, any> {\n  static propTypes = {\n    name: PropTypes.string,\n    data: PropTypes.object,\n  }\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      wallets: [],\n      isFetching: true,\n    }\n  }\n\n  handleRefresh = async () => {\n    this.refreshWallets()\n  }\n\n  componentDidMount() {\n    this.refreshWallets()\n  }\n\n  refreshWallets() {\n    //@ts-ignore\n    actions.btcmultisig.getBtcMultisigKeys().then((wallets) => {\n      this.setState({\n        wallets,\n        isFetching: false,\n      })\n    })\n  }\n\n  handleFinish = async () => {\n    const { name } = this.props\n    actions.modals.close(name)\n\n    if (this.props.data.callback) {\n      this.props.data.callback()\n    }\n  }\n\n  render() {\n    const { name, intl } = this.props\n    const { wallets, isFetching } = this.state\n    const itemsCount = wallets.length\n\n    const langLabels = defineMessages({\n      title: {\n        id: 'btcmsSwitchTitle',\n        defaultMessage: `Подключенные BTC-Multisign кошельки`,\n      },\n      fetching: {\n        id: 'btcmsSwitchFetchWalletsData',\n        defaultMessage: `Загрузка BTC-Multisign кошельков`,\n      },\n      empty: {\n        id: 'btcmsSwitchFetchWalletsEmpty',\n        defaultMessage: `У вас нет BTC-Multisign кошельков`,\n      }\n    })\n\n    return (\n      //@ts-ignore: strictNullChecks\n      <Modal name={name} title={`${intl.formatMessage(langLabels.title)}`}>\n        <Fragment>\n          <Table\n            styleName=\"wallets\"\n            rows={wallets}\n            textIfEmpty={`${intl.formatMessage((isFetching) ? langLabels.fetching : langLabels.empty)}`}\n            rowRender={(row, index, selectId, handleSelectId) => (\n              <WalletRow\n                key={index}\n                index={index}\n                itemsCount={itemsCount}\n                item={row}\n                handleFinish={this.handleFinish}\n                handleRefresh={this.handleRefresh}\n              />\n            )}\n            { ... this.props }\n          />\n        </Fragment>\n      </Modal>\n    )\n  }\n}\n\nexport default injectIntl(BtcMultisignSwitch)\n","// extracted by mini-css-extract-plugin\nexport default {\"wallets\":\"_2SSplepC5l1Q4zJj2eZ9f4\"};","import React, { Component } from 'react'\nimport { Modal } from 'components/modal'\nimport styles from './Share.scss'\nimport { FormattedMessage, defineMessages, injectIntl } from 'react-intl'\nimport cssModules from 'react-css-modules'\nimport CopyToClipboard from 'react-copy-to-clipboard'\nimport actions from 'redux/actions'\nimport Button from 'components/controls/Button/Button'\n\n\n\nconst langLabels = defineMessages({\n  copyLink: {\n    id: 'ShareModal1',\n    defaultMessage: 'Copy Link',\n  },\n  linkCopied: {\n    id: 'ShareModal_LinkCopied',\n    defaultMessage: 'Link copied',\n  },\n})\n\n@cssModules(styles, { allowMultiple: true })\nclass Share extends Component<any, any> {\n\n  state = {\n    isLinkCopied: false,\n  }\n\n  componentDidMount = () => {\n    const { props: { data: { link, title } } } = this\n\n    if (navigator.share) {\n      navigator.share({\n        title: title,\n        url: link\n      }).catch(console.error);\n      actions.modals.close('ShareModal')\n    }\n  }\n\n  handleCopyLink = () => {\n    this.setState({\n      isLinkCopied: true,\n    }, () => {\n      setTimeout( () => {\n        this.setState({\n          isLinkCopied: false,\n        })\n      }, 1000)\n    })\n  }\n\n  render() {\n    const {\n      props: {\n        data: {\n          link,\n          title,\n        },\n      },\n      state: {\n        isLinkCopied,\n      },\n    } = this\n\n    let name = 'ShareModal';\n    let titleModal = 'Share';\n    \n    return (\n      //@ts-ignore: strictNullChecks\n      <Modal name={name} title={titleModal} >\n          <span styleName=\"targets\">\n          <a styleName=\"button\" href={'https://www.facebook.com/sharer/sharer.php?u=' + encodeURI(link) + '&t=' + title} target=\"_blank\">\n            <i styleName=\"icon\" className=\"fab fa-facebook\" />\n            <span>Facebook</span>\n          </a>\n          <a styleName=\"button\" href={'https://twitter.com/intent/tweet?text=' + encodeURIComponent(title) + '&url=' + encodeURI(link)} target=\"_blank\">\n            <i styleName=\"icon\" className=\"fab fa-twitter\" />\n            <span>Twitter</span>\n          </a>\n          <a styleName=\"button\" href={'https://www.linkedin.com/shareArticle?mini=true&url=' + encodeURI(link) + '&title=' + encodeURIComponent(title)} target=\"_blank\">\n            <i styleName=\"icon\" className=\"fab fa-linkedin\" />\n            <span>LinkedIn</span>\n          </a>\n          <a styleName=\"button\" href={'mailto:x@y.com?body=' + encodeURI(link) + '&subject=' + encodeURIComponent(title)}>\n            <i styleName=\"icon\" className=\"fas fa-envelope\" />\n            <span>Email</span>\n          </a>\n        </span>\n        <div styleName=\"copyButtonHolder\">\n          <CopyToClipboard\n            text={link}\n            onCopy={this.handleCopyLink}\n          >\n            <Button blue disabled={isLinkCopied}>\n              <FormattedMessage { ... ((isLinkCopied) ? langLabels.linkCopied : langLabels.copyLink) } />\n            </Button>\n          </CopyToClipboard>\n        </div>\n        <CopyToClipboard\n            text={link}\n            onCopy={this.handleCopyLink}\n          >\n          <div styleName=\"link\">\n            <span>{link}</span>\n          </div>\n        </CopyToClipboard>\n      </Modal>\n    )\n  }\n}\n\nexport default injectIntl(Share)\n","// extracted by mini-css-extract-plugin\nexport default {\"icon\":\"_1GRXZvezMiw4pl-8r0tjVC\",\"targets\":\"_1J6eShwXImHwhTtJspHd0a\",\"button\":\"_1WnC2fNrItzk8oPDwItbfs\",\"link\":\"_3lAyo6f7gEGFKXMbGfwLFI\",\"copyButtonHolder\":\"_4LoY9Lrn35s-ONPMypWW\",\"pen-url\":\"_37mWckwOg-effCz14H09Vh\",\"copy-link\":\"_1Ll4l8S4zT5L-M_dPkNjAw\"};","import React, { Fragment } from 'react'\nimport PropTypes from 'prop-types'\nimport helpers, { constants } from 'helpers'\nimport actions from 'redux/actions'\nimport Link from 'local_modules/sw-valuelink'\nimport { connect } from 'redaction'\nimport config from 'app-config'\n\nimport cssModules from 'react-css-modules'\n\nimport defaultStyles from '../Styles/default.scss'\nimport styles from './BtcMultisignConfirmTx.scss'\n\nimport { BigNumber } from 'bignumber.js'\nimport Modal from 'components/modal/Modal/Modal'\nimport FieldLabel from 'components/forms/FieldLabel/FieldLabel'\nimport Input from 'components/forms/Input/Input'\nimport Button from 'components/controls/Button/Button'\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\nimport ReactTooltip from 'react-tooltip'\nimport { isMobile } from 'react-device-detect'\n\nimport links from 'helpers/links'\n\nimport redirectTo from 'helpers/redirectTo'\nimport lsDataCache from 'helpers/lsDataCache'\n\n\nconst langPrefix = `multiSignConfirmTxModal`\nconst langLabels = defineMessages({\n  title: {\n    id: `${langPrefix}_Title`,\n    defaultMessage: `Подтверждение BTC Multisign транзакции`,\n  },\n  noticeUp: {\n    id: `${langPrefix}_UpNotice`,\n    defaultMessage: `Ознакомьтесь с транзакцией и подтвердите её. Если вы против списания, отмените тразакцию`,\n  },\n  noticeFetching: {\n    id: `${langPrefix}_NoticeFetching`,\n    defaultMessage: `Загрузка...`,\n  },\n  confirmTx: {\n    id: `${langPrefix}_ConfirmTx`,\n    defaultMessage: `Подтвердить`,\n  },\n  dismatchTx: {\n    id: `${langPrefix}_DismatchTx`,\n    defaultMessage: `Отклонить`,\n  },\n  youCantSignThis: {\n    id: `${langPrefix}_YouCantSignThisTx`,\n    defaultMessage: `У вас нет прав для подписи этой транзакции (проверьте, что у вас создан мультисиг)`,\n  },\n  goToWallet: {\n    id: `${langPrefix}_GoToWalletPage`,\n    defaultMessage: `Открыть кошелек`,\n  },\n  buttonClose: {\n    id: `${langPrefix}_ButtonClose`,\n    defaultMessage: `Закрыть`,\n  },\n})\n\n@connect(({ user: { btcMultisigUserData } }) => ({\n  btcData: btcMultisigUserData,\n}))\n@cssModules({ ...defaultStyles, ...styles }, { allowMultiple: true })\nclass BtcMultisignConfirmTx extends React.Component<any, any> {\n  static propTypes = {\n    name: PropTypes.string,\n    data: PropTypes.object,\n  }\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      step: `fetchgin`,\n      isControlFetching: true,\n      isTxHolder: true,\n      address: ``,\n      amount: ``,\n      from: ``,\n    }\n  }\n\n  componentDidMount() {\n    setTimeout(async () => {\n      const {\n        data: { txData, txId },\n      } = this.props\n\n      if (txId) {\n        const txData: any = await actions.multisigTx.fetchTx(txId)\n\n        const { destination: address, sender: from, amount } = txData\n\n        const wallet = actions.btcmultisig.addressToWallet(from)\n\n        if (!wallet) {\n          this.setState({\n            step: `dinned`,\n          })\n          return\n        }\n\n        this.setState(\n          {\n            step: `txInfo`,\n            txId,\n            txData: {\n              ...txData,\n              wallet,\n            },\n            address,\n            from,\n            amount,\n          },\n          () => {\n            // Fetching full tx info (rawTX)\n            //@ts-ignore: strictNullChecks\n            actions.multisigTx.fetchRawTx(from, txId).then((txAuthedData: any) => {\n              if (txAuthedData) {\n                actions.btcmultisig.parseRawTX(txAuthedData.rawTx).then((txDataParsed) => {\n                  this.setState({\n                    txRaw: txAuthedData.rawTx,\n                    txData: txDataParsed,\n                    isTxHolder: wallet.publicKey.toString(`Hex`) === txAuthedData.holder,\n                    isControlFetching: false,\n                  })\n                })\n              } else {\n                this.setState({\n                  step: `dinned`,\n                })\n              }\n            })\n          }\n        )\n      } else {\n        const txDataParsed = await actions.btcmultisig.parseRawTX(txData)\n\n        if (!txDataParsed.isOur) {\n          this.setState({\n            step: `dinned`,\n          })\n          return\n        }\n\n        this.setState({\n          step: `txInfo`,\n          txRaw: txData,\n          txData: txDataParsed,\n          address: txDataParsed.to,\n          from: txDataParsed.from,\n          amount: txDataParsed.amount,\n        })\n      }\n    })\n  }\n\n  handleGoToWallet = () => {\n    this.handleClose()\n  }\n\n  handleConfirm = async () => {\n    const { txId: useBackendId, txRaw, txData, from, address: to, amount } = this.state\n\n    const { name } = this.props\n\n    this.setState({\n      isConfirming: true,\n    })\n\n    const signedTX = await actions.btcmultisig.signMultiSign(txRaw, txData.wallet)\n    const btcTxId = await actions.btcmultisig.broadcastTx(signedTX)\n    let txId = false\n\n    if (btcTxId && btcTxId.txid) txId = btcTxId.txid\n\n    if (useBackendId) {\n      const backendId = await actions.multisigTx.confirmTx(from, useBackendId, signedTX, txId)\n    }\n\n    if (txId) {\n      // Сохраняем транзакцию в кеш\n      const txInfoCache = {\n        amount,\n        senderAddress: from,\n        receiverAddress: to,\n        confirmed: false,\n      }\n\n      lsDataCache.push({\n        key: `TxInfo_btc_${txId}`,\n        time: 3600,\n        data: txInfoCache,\n      })\n\n      this.handleClose()\n\n      const txInfoUrl = helpers.transactions.getTxRouter('btc', txId)\n      redirectTo(txInfoUrl)\n    } else {\n      this.setState({\n        isError: true,\n        isConfirming: false,\n      })\n    }\n  }\n\n  handleReject = async () => {\n    const { txId: useBackendId, txData, from } = this.state\n    if (useBackendId) {\n      const backendId = await actions.multisigTx.rejectTx(from, useBackendId)\n      this.handleClose()\n    }\n  }\n\n  handleClose = () => {\n    const { name, data, onClose } = this.props\n\n    if (typeof onClose === 'function') {\n      onClose()\n    }\n\n    if (typeof data.onClose === 'function') {\n      data.onClose()\n    }\n\n    actions.modals.close(name)\n  }\n\n  render() {\n    const {\n      name,\n      intl,\n      data: { showCloseButton },\n    } = this.props\n\n    const {\n      step,\n      txData,\n      isConfirming,\n      address,\n      amount,\n      from,\n      isControlFetching,\n      isTxHolder,\n    } = this.state\n\n    const { debugShowTXB, debugShowInput, debugShowOutput } = this.state\n\n    const linked = Link.all(this, 'address', 'amount', 'from')\n\n    return (\n      //@ts-ignore: strictNullChecks\n      <Modal\n        name={name}\n        title={`${intl.formatMessage(langLabels.title)}`}\n        onClose={this.handleClose}\n        showCloseButton={showCloseButton}\n      >\n        {step !== `dinned` && (\n          <p styleName=\"notice\">\n            <FormattedMessage {...langLabels.noticeUp} />\n          </p>\n        )}\n        <div styleName=\"confirmTxModal\">\n          {step === `fetchgin` && (\n            <p styleName=\"notice\">\n              <FormattedMessage {...langLabels.noticeFetching} />\n            </p>\n          )}\n          {step === `dinned` && (\n            <Fragment>\n              <p styleName=\"rednotes\">\n                <FormattedMessage {...langLabels.youCantSignThis} />\n              </p>\n              <Button styleName=\"buttonCenter\" blue onClick={this.handleGoToWallet}>\n                <FormattedMessage {...langLabels.goToWallet} />\n              </Button>\n            </Fragment>\n          )}\n          {step === `txInfo` && (\n            <Fragment>\n              <div styleName=\"highLevel\" style={{ marginBottom: '20px' }}>\n                <FieldLabel>\n                  <FormattedMessage\n                    id=\"BtcMultisignConfirmTx_FromAddress\"\n                    defaultMessage=\"Оплата с кошелька\"\n                  />{' '}\n                </FieldLabel>\n                <Input valueLink={linked.from} disabled styleName=\"input fakeInput\" withMargin />\n              </div>\n              <div styleName=\"highLevel\" style={{ marginBottom: '20px' }}>\n                <FieldLabel>\n                  <FormattedMessage id=\"Withdrow1194\" defaultMessage=\"Address \" />{' '}\n                  <Tooltip id=\"WtH203\">\n                    <div style={{ textAlign: 'center' }}>\n                      <FormattedMessage\n                        id=\"WTH275\"\n                        defaultMessage=\"Make sure the wallet you{br}are sending the funds to supports {currency}\"\n                        values={{ br: <br />, currency: `BTC` }}\n                      />\n                    </div>\n                  </Tooltip>\n                </FieldLabel>\n                <Input valueLink={linked.address} disabled styleName=\"input fakeInput\" withMargin />\n              </div>\n              <div styleName=\"lowLevel\" style={{ marginBottom: '30px' }}>\n                <p styleName=\"balance walletBalance\">\n                  {txData.wallet.balance} {`BTC`}\n                </p>\n                <FieldLabel>\n                  <FormattedMessage id=\"Withdrow118\" defaultMessage=\"Amount \" />\n                </FieldLabel>\n\n                <div styleName=\"group\">\n                  <Input styleName=\"input fakeInput\" valueLink={linked.amount} disabled />\n                </div>\n              </div>\n              {isControlFetching ? (\n                <div styleName=\"buttonsHolder_fetching\">\n                  <InlineLoader />\n                </div>\n              ) : (\n                <div styleName=\"buttonsHolder\">\n                  {!isTxHolder && (\n                    <Button\n                      styleName=\"buttonFull\"\n                      blue\n                      disabled={isConfirming || isTxHolder}\n                      onClick={this.handleConfirm}\n                      fullWidth\n                    >\n                      <FormattedMessage {...langLabels.confirmTx} />\n                    </Button>\n                  )}\n                  <Button\n                    styleName=\"buttonFull\"\n                    blue\n                    disabled={isConfirming}\n                    onClick={isTxHolder ? this.handleClose : this.handleReject}\n                    fullWidth\n                  >\n                    <FormattedMessage\n                      {...(isTxHolder ? langLabels.buttonClose : langLabels.dismatchTx)}\n                    />\n                  </Button>\n                </div>\n              )}\n            </Fragment>\n          )}\n        </div>\n      </Modal>\n    )\n  }\n}\n\nexport default injectIntl(BtcMultisignConfirmTx)\n","// extracted by mini-css-extract-plugin\nexport default {\"confirmTxModal\":\"_2mOJoWvZqwOvxQEta3lbDQ\",\"buttonsHolder\":\"_9Er4NQmLz4rwn3qVfLok4\",\"buttonsHolder_fetching\":\"LrOeDniSkNwjtBEaOj_u1\",\"walletBalance\":\"_24gUsJS860xwJ9NzaCz6NO\",\"fakeInput\":\"Dqn2lTsWR5bxwRF1JXY2a\"};","import React, { Fragment } from 'react'\nimport { constants } from 'helpers'\nimport actions from 'redux/actions'\nimport { Link } from 'react-router-dom'\nimport { connect } from 'redaction'\n\nimport cssModules from 'react-css-modules'\n\nimport defaultStyles from '../Styles/default.scss'\nimport styles from './SaveMnemonicModal.scss'\nimport okSvg from 'shared/images/ok.svg'\n\nimport Modal from 'components/modal/Modal/Modal'\nimport Button from 'components/controls/Button/Button'\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\nimport Copy from 'components/ui/Copy/Copy'\n\nimport links from 'helpers/links'\nimport feedback from 'shared/helpers/feedback'\n\nconst langPrefix = `SaveMnemonicModal`\nconst langLabels = defineMessages({\n  title: {\n    id: `${langPrefix}_Title`,\n    defaultMessage: `Ваша секретная фраза`,\n  },\n  enterMnemonicNotice: {\n    id: `${langPrefix}_EnterNotice`,\n    defaultMessage: `Нажмите слова, чтобы поместить их рядом друг с другом в правильном порядке`,\n  },\n  shareMnemonicTitle: {\n    id: `${langPrefix}_ShareMnemonicTitle`,\n    defaultMessage: `Ваша секретная фраза`,\n  },\n  showMnemonicNotice: {\n    id: `${langPrefix}_ShowMnemonicNotice`,\n    defaultMessage: `Запишите эти слова в правильном порядке и сохраните их в безопасном месте.`,\n  },\n  readySaveNotice: {\n    id: `${langPrefix}_ReadySaveNotice`,\n    defaultMessage: `Храните бумагу в том месте, где вы не забудете`,\n  },\n  saveMnemonicStep1: {\n    id: `${langPrefix}_SaveMnemonicStep1`,\n    defaultMessage: `1. Запишите фразу на бумагу`,\n  },\n  saveMnemonicStep2: {\n    id: `${langPrefix}_SaveMnemonicStep2`,\n    defaultMessage: `2. Обязательно подпишите что это ключ от {domain}`,\n  },\n  mnemonicDeleted: {\n    id: `${langPrefix}_MnemoniceDeleted`,\n    defaultMessage: `You have already saved your 12-words seed. {href}`,\n    values: { href: <Link to={links.savePrivateKeys}> <FormattedMessage id=\"MnemoniceDeleted_hrefText\" defaultMessage=\"Try export private key\" /></Link> }\n  },\n  beginNotice: {\n    id: `${langPrefix}_BeginNotice`,\n    defaultMessage: `Сейчас мы вам покажем 12 слов вашей секретной фразы.{br}Если вы ее потеряете мы не сможем восстановить ваш кошелек`,\n  },\n  beginContinue: {\n    id: `${langPrefix}_BeginContinue`,\n    defaultMessage: `Я понимаю`,\n  },\n  beginLater: {\n    id: `${langPrefix}_BeginLater`,\n    defaultMessage: `Я сохраню позже`,\n  },\n})\n\ntype MnemonicModalProps = {\n  intl: IUniversalObj\n  name: string\n  onClose: () => void\n  data: {\n    onClose: () => void\n  }\n}\n\ntype MnemonicModalState = {\n  step: string\n  mnemonic: string | null\n  words: string[]\n  enteredWords: string[]\n  randomWords: string[]\n  mnemonicInvalid: boolean\n  incorrectWord: boolean\n}\n\n@connect(\n  ({\n    user: { btcMultisigUserData },\n  }) => ({\n    btcData: btcMultisigUserData,\n  })\n)\n@cssModules({ ...defaultStyles, ...styles }, { allowMultiple: true })\nclass SaveMnemonicModal extends React.Component<MnemonicModalProps, MnemonicModalState> {\n  constructor(props) {\n    super(props)\n\n    const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\n\n    //@ts-ignore: strictNullChecks\n    const randomWords = (mnemonic !== '-') ? mnemonic.split(` `) : []\n    randomWords.sort(() => .5 - Math.random())\n\n    //@ts-ignore: strictNullChecks\n    const words = (mnemonic !== '-') ? mnemonic.split(` `) : []\n\n    this.state = {\n      step: (mnemonic === '-') ? `removed` : `begin`,\n      mnemonic,\n      words,\n      enteredWords: [],\n      randomWords,\n      mnemonicInvalid: true,\n      incorrectWord: false,\n    }\n  }\n\n  handleGoToWallet = () => {\n    this.handleClose()\n  }\n\n  handleClose = () => {\n    const { name, data, onClose } = this.props\n\n    if (typeof onClose === 'function') {\n      onClose()\n    }\n\n    if (data && typeof data.onClose === 'function') {\n      data.onClose()\n    } else {\n      window.location.assign(links.hashHome)\n    }\n\n    actions.modals.close(name)\n  }\n\n  handleFinish = () => {\n    feedback.backup.finished()\n    this.handleClose()\n  }\n\n  handleGoToConfirm = () => {\n    this.setState({\n      step: `confirmMnemonic`,\n    })\n  }\n\n  handleClickWord = (index) => {\n    const {\n      randomWords,\n      enteredWords,\n      words,\n      mnemonic,\n    } = this.state\n\n    let clickedWord\n\n    const currentWord = enteredWords.length\n\n    if (words[currentWord] !== randomWords[index]) {\n\n      this.setState({\n        incorrectWord: true,\n      }, () => {\n        setTimeout(() => {\n          this.setState({\n            incorrectWord: false,\n          })\n        }, 500)\n      })\n      return\n    }\n\n    clickedWord = randomWords.splice(index, 1)\n    enteredWords.push(clickedWord)\n\n\n    this.setState({\n      randomWords,\n      enteredWords,\n      incorrectWord: false,\n      mnemonicInvalid: (enteredWords.join(` `) !== mnemonic),\n    }, () => {\n      if (randomWords.length === 0) {\n        localStorage.setItem(constants.privateKeyNames.twentywords, '-')\n        actions.backupManager.serverCleanupSeed()\n\n        this.setState({\n          step: `ready`,\n        })\n      }\n    })\n  }\n\n  render() {\n    const {\n      name,\n      intl\n    } = this.props\n\n    const {\n      step,\n      words,\n      enteredWords,\n      mnemonic,\n      randomWords,\n      mnemonicInvalid,\n      incorrectWord,\n    } = this.state\n\n    return (\n      //@ts-ignore: strictNullChecks\n      <Modal name={name} title={`${intl.formatMessage(langLabels.title)}`} onClose={this.handleClose} showCloseButton={true}>\n        {step === `confirmMnemonic` && (\n          <p styleName=\"notice mnemonicNotice\">\n            <FormattedMessage {...langLabels.enterMnemonicNotice} />\n          </p>\n        )}\n        {step === `show` && (\n          <p styleName=\"notice mnemonicNotice\">\n            <FormattedMessage {...langLabels.showMnemonicNotice} />\n          </p>\n        )}\n        {step === `removed` && (\n          <p styleName=\"notice mnemonicNotice\">\n            <FormattedMessage {...langLabels.mnemonicDeleted} />\n          </p>\n        )}\n        <div>\n          {step === `begin` && (\n            <Fragment>\n              <p styleName=\"notice mnemonicNotice\">\n                <FormattedMessage {...langLabels.beginNotice} values={{\n                  br: <br />,\n                }}/>\n              </p>\n              <div styleName=\"buttonsHolder\">\n                <Button blue onClick={() => {\n                  feedback.backup.started()\n                  this.setState({ step: `show` })\n                }}>\n                  <FormattedMessage {...langLabels.beginContinue} />\n                </Button>\n                <Button blue onClick={this.handleClose}>\n                  <FormattedMessage {...langLabels.beginLater} />\n                </Button>\n              </div>\n            </Fragment>\n          )}\n          {step === `ready` && (\n            <Fragment>\n              <p styleName=\"notice mnemonicNotice\">\n                <img styleName=\"finishImg\" src={okSvg} alt=\"finish\" />\n                <FormattedMessage {...langLabels.readySaveNotice} />\n              </p>\n              <div styleName=\"lowLevel\">\n                <Button\n                  styleName=\"buttonCenter buttonHalfFullWidth\"\n                  blue\n                  onClick={this.handleFinish}\n                >\n                  <FormattedMessage id=\"WithdrawMSUserFinish\" defaultMessage=\"Ready\"/>\n                </Button>\n              </div>\n            </Fragment>\n          )}\n          {step === `confirmMnemonic` && (\n            <Fragment>\n              <div styleName=\"highLevel\">\n                <div styleName={`mnemonicView mnemonicEnter ${(incorrectWord) ? 'mnemonicError' : ''}`}>\n                  {\n                    enteredWords.map((word, index) => {\n                      return (\n                        <button key={index} onClick={() => { }} className=\"ym-hide-content notranslate\" translate=\"no\">\n                          {word}\n                        </button>\n                      )\n                    })\n                  }\n                </div>\n                <div styleName=\"mnemonicWords\">\n                  {\n                    randomWords.map((word, index) => {\n                      return (\n                        <button key={index} onClick={() => this.handleClickWord(index)} className=\"ym-hide-content notranslate\" translate=\"no\">\n                          {word}\n                        </button>\n                      )\n                    })\n                  }\n                </div>\n              </div>\n              <div styleName=\"lowLevel\">\n                <Button\n                  styleName=\"buttonCenter buttonHalfFullWidth\"\n                  blue\n                  disabled={mnemonicInvalid}\n                  onClick={this.handleFinish}\n                >\n                  <FormattedMessage id=\"WithdrawMSUserFinish\" defaultMessage=\"Ready\"/>\n                </Button>\n              </div>\n            </Fragment>\n          )}\n          {step === `show` && (\n            <Fragment>\n              <div styleName=\"highLevel\">\n                <div styleName=\"mnemonicView\" className=\"ym-hide-content notranslate\" translate=\"no\">\n                  {\n                    words.map((word, index) => {\n                      return (\n                        <div key={index} styleName='mnemonicViewWordWrapper'>\n                          <div>\n                            <span styleName=\"wordIndex\">{(index + 1)}</span>\n                            <span>{word}</span>\n                          </div>\n                          {\n                            /* space for correct copy-paste */\n                            index + 1 !== words.length && ' '\n                          }\n                        </div>\n                      )\n                    })\n                  }\n                </div>\n                <p styleName=\"notice mnemonicNotice\">\n                  <FormattedMessage {...langLabels.saveMnemonicStep1} />\n                  <br />\n                  <FormattedMessage {...langLabels.saveMnemonicStep2} values={{ domain: location.hostname }} />\n                </p>\n              </div>\n\n              <div styleName=\"mnemonicButtonsWrapper\">\n                <Copy text={mnemonic}>\n                  <Button brand>\n                    <FormattedMessage id=\"FeeControler49\" defaultMessage=\"Copy\"/>\n                  </Button>\n                </Copy>\n                <div styleName=\"continueBtnWrapper\">\n                  <Button brand onClick={this.handleGoToConfirm}>\n                    <FormattedMessage id=\"createWalletButton1\" defaultMessage=\"Continue\"/>\n                  </Button>\n                </div>\n              </div>\n            </Fragment>\n          )}\n        </div>\n      </Modal>\n    )\n  }\n}\n\nexport default injectIntl(SaveMnemonicModal)\n","// extracted by mini-css-extract-plugin\nexport default {\"buttonsHolder\":\"_3Byl8FjSdPQeXxpj5bQdEL\",\"finishImg\":\"_38lCT2QawskPGGrcoXcWoC\",\"mnemonicView\":\"_2EqXmZeDsOGut14UQBLyce\",\"mnemonicViewWordWrapper\":\"_1KEFczcmmcZ5xymD3241Tf\",\"wordIndex\":\"_3_sDmLYc8OlH4KkpHv4xGA\",\"mnemonicEnter\":\"_1KIlNIRWvF8RkY0QUleOdX\",\"mnemonicError\":\"_14ImMBD0abi2tkWzgCd1ss\",\"mnemonicWords\":\"_1zD_H5QI-98kforByXeCue\",\"mnemonicButtonsWrapper\":\"_2bIcrrRfcxqKgVahBuxFBN\",\"continueBtnWrapper\":\"_1JbCMA1RV78ckDYVk4Bzls\",\"mnemonicNotice\":\"_2QUeWCzeI0eSIEo3LjOEJO\"};","import React, { Fragment } from 'react'\nimport { constants } from 'helpers'\nimport actions from 'redux/actions'\nimport config from 'app-config'\n\nimport cssModules from 'react-css-modules'\n\nimport defaultStyles from '../Styles/default.scss'\nimport styles from './RestoryMnemonicWallet.scss'\nimport okSvg from 'shared/images/ok.svg'\nimport * as mnemonicUtils from 'common/utils/mnemonic'\nimport Modal from 'components/modal/Modal/Modal'\nimport FieldLabel from 'components/forms/FieldLabel/FieldLabel'\nimport Button from 'components/controls/Button/Button'\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\n\nimport links from 'helpers/links'\n\nimport MnemonicInput from 'components/forms/MnemonicInput/MnemonicInput'\nimport feedback from 'shared/helpers/feedback'\n\nconst langPrefix = `RestoryMnemonicWallet`\nconst langLabels = defineMessages({\n  title: {\n    id: `${langPrefix}_Title`,\n    defaultMessage: `Восстановление кошелка из секретной фразы`,\n  },\n  mnemonicLabel: {\n    id: `${langPrefix}_MnemonicField`,\n    defaultMessage: `Секретная фраза (12 слов):`,\n  },\n  readyNotice: {\n    id: `${langPrefix}_ReadyNotice`,\n    defaultMessage: `Теперь вы можете добавить BTC, ETH и другие валюты`,\n  },\n  Ready: {\n    id: `${langPrefix}_Ready`,\n    defaultMessage: `Готово`,\n  },\n  restoringWallet: {\n    id: `${langPrefix}_RestroringWallet`,\n    defaultMessage: `Восстанавливаем...`,\n  },\n  restoryWallet: {\n    id: `${langPrefix}_RestoryWallet`,\n    defaultMessage: `Восстановить`,\n  },\n  cancelRestory: {\n    id: `${langPrefix}_CancelRestory`,\n    defaultMessage: `Отмена`,\n  },\n  mnemonicInvalid: {\n    id: `${langPrefix}_MnemonicInvalid`,\n    defaultMessage: `Вы указали не валидный набор слов`,\n  },\n})\n\ntype ComponentProps = {\n  name: string\n  onClose: () => void\n  intl: IUniversalObj\n\n  data: {\n    onClose: () => void\n    noRedirect?: boolean\n  }\n}\n\ntype ComponentState = {\n  mnemonic: string\n  step: string\n  mnemonicIsInvalid: boolean\n  isFetching: boolean\n}\n\n@cssModules({ ...defaultStyles, ...styles }, { allowMultiple: true })\nclass RestoryMnemonicWallet extends React.Component<ComponentProps, ComponentState> {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      step: `enter`,\n      mnemonic: '',\n      mnemonicIsInvalid: false,\n      isFetching: false,\n    }\n  }\n\n  componentDidMount() {\n    feedback.restore.started()\n  }\n\n  handleClose = () => {\n    const { name, data, onClose } = this.props\n\n    if (typeof onClose === 'function') {\n      onClose()\n    }\n\n    if (data && typeof data.onClose === 'function') {\n      data.onClose()\n    } else if (!(data && data.noRedirect)) {\n      window.location.assign(links.hashHome)\n    }\n\n    actions.modals.close(name)\n  }\n\n  handleFinish = () => {\n    const { data } = this.props\n\n    this.handleClose()\n\n    if (!(data && data.noRedirect)) {\n      window.location.assign(links.hashHome)\n      window.location.reload()\n    }\n  }\n\n  handleRestoryWallet = () => {\n    const { mnemonic } = this.state\n\n    if (!mnemonic || !mnemonicUtils.validateMnemonicWords(mnemonic)) {\n      this.setState({\n        mnemonicIsInvalid: true,\n        isFetching: false,\n      })\n      return\n    }\n\n    this.setState(() => ({\n      isFetching: true,\n    }), () => {\n      this.restoreWallet(mnemonic)\n    })\n  }\n\n  restoreWallet = (mnemonic) => {\n    // callback in timeout doesn't block ui\n    setTimeout(async () => {\n      // Backup critical localStorage\n      const backupMark = actions.btc.getMainPublicKey()\n\n      actions.backupManager.backup(backupMark, false, true)\n      // clean mnemonic, if exists\n      localStorage.setItem(constants.privateKeyNames.twentywords, '-')\n\n      const btcWallet = await actions.btc.getWalletByWords(mnemonic)\n      // Check - if exists backup for this mnemonic\n      const restoryMark = btcWallet.publicKey\n\n      if (actions.backupManager.exists(restoryMark)) {\n        actions.backupManager.restory(restoryMark)\n      }\n\n      const btcPrivKey = await actions.btc.login(false, mnemonic)\n      const btcSmsKey = actions.btcmultisig.getSmsKeyFromMnemonic(mnemonic)\n\n      //@ts-ignore: strictNullChecks\n      localStorage.setItem(constants.privateKeyNames.btcSmsMnemonicKeyGenerated, btcSmsKey)\n      localStorage.setItem(constants.localStorage.isWalletCreate, 'true')\n\n      await actions.bnb.login(false, mnemonic)\n      await actions.eth.login(false, mnemonic)\n      await actions.matic.login(false, mnemonic)\n      await actions.arbeth.login(false, mnemonic)\n      await actions.ghost.login(false, mnemonic)\n      await actions.next.login(false, mnemonic)\n      await actions.user.sign_btc_2fa(btcPrivKey)\n      await actions.user.sign_btc_multisig(btcPrivKey)\n\n      actions.core.markCoinAsVisible('BNB', true)\n      actions.core.markCoinAsVisible('ETH', true)\n      actions.core.markCoinAsVisible('MATIC', true)\n      actions.core.markCoinAsVisible('ARBETH', true)\n      actions.core.markCoinAsVisible('BTC', true)\n\n      this.setState({\n        isFetching: false,\n        step: `ready`,\n      })\n\n      feedback.restore.finished()\n    })\n  }\n\n  handleMnemonicChange = (mnemonic) => {\n    this.setState({\n      mnemonic,\n    })\n  }\n\n  render() {\n    const { name, intl } = this.props\n\n    const {\n      step,\n      mnemonic,\n      mnemonicIsInvalid,\n      isFetching,\n    } = this.state\n\n    return (\n      //@ts-ignore: strictNullChecks\n      <Modal\n        name={name}\n        title={`${intl.formatMessage(langLabels.title)}`}\n        onClose={this.handleClose}\n        showCloseButton={true}\n      >\n        <div styleName=\"restoreModalHolder\">\n          {step === `enter` && (\n            <Fragment>\n              {mnemonic && mnemonicIsInvalid && (\n                <div styleName=\"rednotes mnemonicNotice\">\n                  <FormattedMessage {...langLabels.mnemonicInvalid} />\n                </div>\n              )}\n              <div styleName=\"highLevel\" className=\"ym-hide-content notranslate\" translate=\"no\">\n                <FieldLabel>\n                  <span styleName=\"tooltipWrapper\">\n                    <FormattedMessage {...langLabels.mnemonicLabel} />\n                    &nbsp;\n                    <Tooltip id=\"ImportKeys_RestoreMnemonic_tooltip\">\n                      <>\n                        <FormattedMessage\n                          id=\"ImportKeys_RestoreMnemonic_Tooltip\"\n                          defaultMessage=\"12-word backup phrase\"\n                        />\n                        <br />\n                        <br />\n                        <div styleName=\"alertTooltipWrapper\">\n                          <FormattedMessage\n                            id=\"ImportKeys_RestoreMnemonic_Tooltip_withBalance\"\n                            defaultMessage=\"Please, be causious!\"\n                          />\n                        </div>\n                      </>\n                    </Tooltip>\n                  </span>\n                </FieldLabel>\n                <MnemonicInput \n                  autoFill={config.entry === 'testnet'}\n                  onChange={this.handleMnemonicChange}\n                />\n              </div>\n              <div styleName=\"buttonsHolder\">\n                <Button blue onClick={this.handleClose}>\n                  <FormattedMessage {...langLabels.cancelRestory} />\n                </Button>\n                <Button\n                  id='walletRecoveryButton'\n                  blue\n                  disabled={!mnemonic || mnemonic.split(' ').length !== 12 || isFetching}\n                  onClick={this.handleRestoryWallet}\n                >\n                  {isFetching ? (\n                    <FormattedMessage {...langLabels.restoringWallet} />\n                  ) : (\n                    <FormattedMessage {...langLabels.restoryWallet} />\n                  )}\n                </Button>\n              </div>\n            </Fragment>\n          )}\n          {step === `ready` && (\n            <Fragment>\n              <p styleName=\"notice mnemonicNotice\">\n                <img styleName=\"finishImg\" src={okSvg} alt=\"finish\" />\n                <FormattedMessage {...langLabels.readyNotice} />\n              </p>\n              <div styleName=\"lowLevel\">\n                <Button\n                  id='finishWalletRecoveryButton'\n                  styleName=\"buttonCenter buttonHalfFullWidth\"\n                  blue\n                  onClick={this.handleFinish}\n                >\n                  <FormattedMessage {...langLabels.Ready} />\n                </Button>\n              </div>\n            </Fragment>\n          )}\n        </div>\n      </Modal>\n    )\n  }\n}\n\nexport default injectIntl(RestoryMnemonicWallet)\n","// extracted by mini-css-extract-plugin\nexport default {\"restoreModalHolder\":\"ysGSuA6-HGirNslIapyRn\",\"buttonsHolder\":\"_24MK63dJs-kz-YyjZ--CEK\",\"tooltipWrapper\":\"_1EToHhGaBW1IicxBWfCuIm\",\"alertTooltipWrapper\":\"_2QyMR5w8OJpdNPr58tpnab\",\"finishImg\":\"I31IaU1mbE_E5qcigGEDe\",\"mnemonicNotice\":\"_3knRKIbM607slcf2tPyPEi\"};","import React from 'react'\n\nimport cssModules from 'react-css-modules'\nimport styles from './HowToWithdrawModal.scss'\n\nimport { Modal } from 'components/modal'\nimport { FormattedMessage, defineMessages, injectIntl } from 'react-intl'\nimport config from 'helpers/externalConfig'\n\n\nconst langLabels = defineMessages({\n  title: {\n    id: 'HowToWithdrawModal_Title',\n    defaultMessage: 'How to withdraw',\n  },\n})\n\n@cssModules(styles, { allowMultiple: true })\nclass HowToWithdrawModal extends React.Component<any, any> {\n\n  constructor(props) {\n    super(props)\n    const {\n      data: {\n        currency,\n      },\n    } = props\n\n    let howToWithdraw = ''\n    if (config\n      && config.erc20\n      && config.erc20[currency.toLowerCase()]\n      && config.erc20[currency.toLowerCase()].howToWithdraw\n    ) howToWithdraw = config.erc20[currency.toLowerCase()].howToWithdraw\n\n    this.state = {\n      howToWithdraw,\n    }\n  }\n\n  render() {\n    const {\n      props: {\n        name,\n        intl,\n      },\n      state: {\n        howToWithdraw,\n      },\n    } = this\n\n    return (\n      //@ts-ignore: strictNullChecks\n      <Modal name={name} title={intl.formatMessage(langLabels.title)}>\n        <div dangerouslySetInnerHTML={{ __html: howToWithdraw }} />\n      </Modal>\n    )\n  }\n}\n\nexport default injectIntl(HowToWithdrawModal)\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"_3wAaRmcapUBzpoMAyMtu0C\",\"content\":\"xTAaiSIDhbw3XphmLVOgd\",\"qr\":\"_2xQFsp7lFDxtMAUaNt6UTR\"};","export default __webpack_public_path__ + \"images/ready_c2b0a9.svg\";","export default __webpack_public_path__ + \"images/pending_192aa2.svg\";","export default __webpack_public_path__ + \"images/cancel_af89eb.svg\";","import React, { Fragment } from 'react'\nimport { Modal } from 'components/modal'\nimport { FormattedMessage, defineMessages, injectIntl } from 'react-intl'\n\nimport actions from 'redux/actions'\n\nimport { links, constants } from 'helpers'\nimport { getFullOrigin } from 'helpers/links'\n\nimport cssModules from 'react-css-modules'\nimport defaultStyles from '../Styles/default.scss'\nimport styles from './InfoInvoice.scss'\nimport animateFetching from 'components/loaders/ContentLoader/ElementLoading.scss'\n\nimport { ShareLink } from 'components/controls'\nimport ShareButton from 'components/controls/ShareButton/ShareButton'\n\nimport Button from 'components/controls/Button/Button'\n\nimport { isMobile } from \"react-device-detect\"\n\nimport imgReady from './images/ready.svg'\nimport imgPending from './images/pending.svg'\nimport imgCanceled from './images/cancel.svg'\n\n\nconst langPrefix = 'InvoiceInfoModal'\nconst langLabels = defineMessages({\n  titleFetching: {\n    id: `${langPrefix}_TitleFetch`,\n    defaultMessage: `Загрузка инвойса...`,\n  },\n  title: {\n    id: `${langPrefix}_Title`,\n    defaultMessage: `Инвойс #{number}`,\n  },\n  destination: {\n    id: `${langPrefix}_DestinationAddress`,\n    defaultMessage: `Адрес для оплаты {destination}`,\n  },\n  invoiceSender: {\n    id: `${langPrefix}_Sender`,\n    defaultMessage: `Отправитель (контакт)`,\n  },\n  invoiceComment: {\n    id: `${langPrefix}_Comment`,\n    defaultMessage: `Комментарий`,\n  },\n  fromAddress: {\n    id: `${langPrefix}_FromAddress`,\n    defaultMessage: `Адресс отправителя`,\n  },\n  toAddress: {\n    id: `${langPrefix}_ToAddress`,\n    defaultMessage: `Адресс плательщика`,\n  },\n  buttonClose: {\n    id: `${langPrefix}_CloseButton`,\n    defaultMessage: `Закрыть`,\n  },\n  payInvoice: {\n    id: `${langPrefix}_PayInvoiceButton`,\n    defaultMessage: `Оплатить`,\n  },\n  declimeInvoice: {\n    id: `${langPrefix}_DeclimeInvoiceButton`,\n    defaultMessage: `Отклонить`,\n  },\n  shareText: {\n    id: `${langPrefix}_ShareInvoiceText`,\n    defaultMessage: `Инвойс #{id}-{invoiceNumber} от {contact} на {amount} {type}`,\n  },\n  shareReady: {\n    id: `${langPrefix}_ButtonShareReady`,\n    defaultMessage: `Готово`,\n  },\n  shareInfo: {\n    id: `${langPrefix}_ShareLink_InfoText`,\n    defaultMessage: `Отправьте эту ссылку плательщику для подтверждения платежа`,\n  },\n  infoStatusReady: {\n    id: `${langPrefix}_InfoStatus_Ready`,\n    defaultMessage: `Оплачено`,\n  },\n  infoStatusDeclimed: {\n    id: `${langPrefix}_InfoStatus_Declimed`,\n    defaultMessage: `Отклонён`,\n  },\n  infoStatusPending: {\n    id: `${langPrefix}_InfoStatus_Pending`,\n    defaultMessage: `Не оплачен`,\n  },\n})\n\n@cssModules({\n  ...defaultStyles,\n  ...styles,\n  ...animateFetching,\n}, { allowMultiple: true })\n\nclass InfoInvoice extends React.Component<any, any> {\n  constructor(props) {\n    super(props)\n\n    const {\n      data: {\n        isFetching,\n        onFetching,\n        invoice,\n        uniqhash,\n        doshare,\n      }\n    } = props\n\n    this.state = {\n      isFetching,\n      invoice,\n      uniqhash,\n      isCancelled: false,\n      isReady: false,\n      isPending: true,\n      doshare,\n      isShareReady: !(doshare),\n    }\n\n    if (isFetching && typeof onFetching === 'function') {\n      onFetching(this)\n    }\n  }\n\n  handleCloseButton = () => {\n    //@ts-ignore\n    this.handleClose()\n  }\n\n  handleClose = (isLocationChange) => {\n    const { name, data, onClose } = this.props\n\n    if (typeof onClose === 'function') {\n      onClose(isLocationChange)\n    }\n\n    if (typeof data.onClose === 'function') {\n      data.onClose(isLocationChange)\n    }\n\n    actions.modals.close(name)\n  }\n\n  handleShareReady = () => {\n    const { history } = this.props\n    const { uniqhash } = this.state\n\n    this.setState({\n      isShareReady: true,\n    }, () => {\n      history.push(`#${links.invoice}/${uniqhash}`)\n    })\n  }\n\n  handlePayInvoice = () => {\n    const {\n      invoice: {\n        invoiceData: invoice = false,\n      },\n    } = this.state\n\n    if (invoice) {\n      const {\n        type,\n        destAddress,\n        fromAddress,\n        amount,\n        toAddress,\n      } = invoice\n\n      const payWallet = actions.user.getWithdrawWallet(type, toAddress)\n      if (payWallet) {\n        // @ToDo - Добавить проверку по балансу\n        let withdrawType = constants.modals.Withdraw\n\n        if (payWallet.isUserProtected) withdrawType = constants.modals.WithdrawMultisigUser\n        if (payWallet.isSmsProtected) withdrawType = constants.modals.WithdrawMultisigSMS\n\n        const {\n          currency,\n          address,\n          balance,\n          unconfirmedBalance,\n        } = payWallet\n\n        //@ts-ignore: strictNullChecks\n        actions.modals.open(withdrawType, {\n          currency,\n          address,\n          balance,\n          itemCurrency: payWallet,\n          unconfirmedBalance,\n          toAddress: destAddress || fromAddress,\n          amount: amount,\n          invoice,\n          onReady: () => {\n            this.setState({\n              isReady: true,\n            })\n          },\n        })\n\n      } else {\n        // No wallet - pay from external wallet\n      }\n    }\n  }\n\n  handleChangeLocation = (newLocation) => {\n    const { uniqhash } = this.state\n\n    return newLocation.includes(`#${links.invoice}/${uniqhash}`)\n  }\n\n  handleDeclimeInvoice = () => {\n    const {\n      invoice: {\n        invoiceData,\n      },\n    } = this.state\n\n    //@ts-ignore: strictNullChecks\n    actions.modals.open(constants.modals.Confirm, {\n      onAccept: async () => {\n        await actions.invoices.cancelInvoice(invoiceData.id)\n        this.setState({\n          isCancelled: true,\n        })\n      },\n    })\n  }\n\n  render() {\n    const {\n      intl,\n    } = this.props\n\n    const {\n      uniqhash,\n      isFetching,\n      invoice,\n      isCancelled,\n      isReady,\n      doshare,\n      isShareReady,\n    } = this.state\n\n    const {\n      invoiceData = false,\n    } = (invoice || {})\n\n    let status = 'pending'\n    if (!isFetching && invoiceData) status = invoiceData.status\n    if (isCancelled) status = 'cancel'\n    if (isReady) status = 'ready'\n\n    const shareText = (!isFetching && invoiceData) ? 'Fetching'\n      : intl.formatMessage(langLabels.shareText, invoiceData)\n\n\n    const shareLink = `${getFullOrigin()}${links.invoice}/${uniqhash}`\n\n\n    const isPayerSide = (!isFetching && invoice && invoice.direction === 'in')\n    const isOwner = (!isFetching && invoice && invoice.isOwner)\n    const hasPayer = (!isFetching && invoice && invoice.hasPayer)\n\n    const shareButtonEnabled = isMobile\n\n    const isPayerControlEnabled = (!isCancelled && !isReady && (isPayerSide || (!hasPayer && !isOwner)))\n\n    const buttonsHolderStyles = [`invoiceControlsHolder`, `button-overlay`]\n    buttonsHolderStyles.push((shareButtonEnabled) ? `with-share-button` : `without-share-button`)\n    if (!isPayerControlEnabled) buttonsHolderStyles.push(`without-pay-control`)\n\n    const modalTitle = (isFetching) ?\n      intl.formatMessage(langLabels.titleFetching) :\n      intl.formatMessage(langLabels.title, {\n        number: `${invoiceData.id}-${invoiceData.invoiceNumber}`,\n      })\n\n\n    let infoIconTitle = ''\n    let infoIconUrl = ''\n\n    switch (status) {\n      case 'ready':\n        infoIconTitle = intl.formatMessage(langLabels.infoStatusReady)\n        infoIconUrl = imgReady\n        break;\n      case 'cancelled':\n        infoIconTitle = intl.formatMessage(langLabels.infoStatusDeclimed)\n        infoIconUrl = imgCanceled\n        break;\n      default:\n        infoIconTitle = intl.formatMessage(langLabels.infoStatusPending)\n        infoIconUrl = imgPending\n    }\n\n    return (\n      //@ts-ignore: strictNullChecks\n      <Modal \n        name=\"InfoInvoice\" title={modalTitle} \n        onClose={this.handleClose} \n        showCloseButton={true} \n        closeOnLocationChange={true} \n        onLocationChange={this.handleChangeLocation}\n      >\n        {doshare && !isShareReady && (\n          <Fragment>\n            <div styleName=\"convent-overlay\">\n              <div styleName=\"share-info\">\n                <strong>\n                  <FormattedMessage { ...langLabels.shareInfo } />\n                </strong>\n              </div>\n              <ShareLink\n                link={shareLink}\n                fullSize={true}\n              />\n            </div>\n            <div styleName=\"button-overlay share-ready-holder\">\n              <Button\n                blue\n                onClick={this.handleShareReady}\n              >\n                <FormattedMessage { ...langLabels.shareReady } />\n              </Button>\n            </div>\n          </Fragment>\n        )}\n        {isShareReady && (\n          <Fragment>\n            <div styleName=\"blockCenter convent-overlay\">\n              <div className=\"p-3\"  styleName={isFetching ? `animate-fetching` : ``}>\n                <div styleName={`statusImgHolder statusImgHolder_${status}`}>\n                  <img src={infoIconUrl} title={infoIconTitle} alt={infoIconTitle} />\n                  <strong>{infoIconTitle}</strong>\n                </div>\n                <div styleName=\"shortInfoHolder\">\n                  {!isFetching && invoiceData && (\n                    <Fragment>\n                      <div>\n                        <strong styleName=\"invoiceNumber\">\n                          <FormattedMessage { ...langLabels.title } values={{number: `${invoiceData.id}-${invoiceData.invoiceNumber}`}} />\n                        </strong>\n                      </div>\n                      <div>\n                        <span>\n                          <strong>{invoiceData.amount} {invoiceData.type}</strong>\n                        </span>\n                      </div>\n                      <div>\n                        <span>\n                          <FormattedMessage { ... langLabels.destination } values={{\n                            destination: invoiceData.destAddress,\n                          }} />\n                        </span>\n                      </div>\n                    </Fragment>\n                  )}\n                </div>\n              </div>\n\n              <table styleName=\"blockCenter__table\" className=\"table table-borderless\">\n                <tbody>\n                  {isFetching ? (\n                    <tr>\n                      <td styleName=\"animate-fetching\" colSpan={2}></td>\n                    </tr>\n                  ) : (\n                    <>\n                      <tr>\n                        <td styleName=\"header\">\n                          <FormattedMessage { ...langLabels.invoiceSender} />\n                        </td>\n                      </tr>\n                      <tr>\n                        <td styleName=\"responsiveBlock\">{invoiceData.contact}</td>\n                      </tr>\n\n                      <tr>\n                        <td styleName=\"header\" colSpan={2}>\n                          <FormattedMessage { ...langLabels.fromAddress } />\n                        </td>\n                      </tr>\n                      <tr>\n                        <td styleName=\"responsiveBlock\" colSpan={2}>\n                          <span>{invoiceData.fromAddress}({invoiceData.invoiceNumber})</span>\n                        </td>\n                      </tr>\n                      {invoiceData.toAddress && (\n                        <>\n                          <tr>\n                            <td styleName=\"header\" colSpan={2}>\n                              <FormattedMessage { ...langLabels.toAddress } />\n                            </td>\n                          </tr>\n                          <tr styleName=\"responsiveBlock\">\n                            <td colSpan={2}>{invoiceData.toAddress}</td>\n                          </tr>\n                        </>\n                      )}\n                      {invoiceData.label && (\n                        <>\n                          <tr>\n                            <td styleName=\"header\" colSpan={2}>\n                              <FormattedMessage { ...langLabels.invoiceComment} />\n                            </td>\n                          </tr>\n                          <tr>\n                            <td styleName=\"responsiveBlock\" colSpan={2}>\n                              {invoiceData.label}\n                            </td>\n                          </tr>\n                        </>\n                      )}\n                    </>\n                  )}\n                </tbody>\n              </table>\n            </div>\n            <div styleName={buttonsHolderStyles.join(` `)}>\n              {(isPayerControlEnabled && !isFetching && status === 'new') && (\n                <Fragment>\n                  <div styleName=\"payControl\">\n                    <Button\n                      blue\n                      onClick={this.handlePayInvoice}\n                    >\n                      <FormattedMessage { ...langLabels.payInvoice } />\n                    </Button>\n                  </div>\n                  <div styleName=\"payControl\">\n                    <Button\n                      gray\n                      onClick={this.handleDeclimeInvoice}\n                    >\n                      <FormattedMessage { ...langLabels.declimeInvoice } />\n                    </Button>\n                  </div>\n                </Fragment>\n              )}\n              <div styleName=\"closeButton\">\n                <Button\n                  blue\n                  onClick={this.handleCloseButton}\n                >\n                  <FormattedMessage { ...langLabels.buttonClose } />\n                </Button>\n              </div>\n              {shareButtonEnabled && (\n                <div styleName=\"shareButton\">\n                  <ShareButton\n                    fullWidth={true}\n                    link={`${shareLink}`}\n                    title={shareText} />\n                </div>\n              )}\n            </div>\n          </Fragment>\n        )}\n      </Modal>\n    )\n  }\n}\n\nexport default injectIntl(InfoInvoice)\n","// extracted by mini-css-extract-plugin\nexport default {\"blockCenter\":\"_1YDLsVWbB9jltePUPZYUW-\",\"shortInfoHolder\":\"hAm6YjwAW3ESxhHlT23Ym\",\"share-info\":\"_3i1XSdRGrhZegVjHDUH_nD\",\"responsiveBlock\":\"_3VjIw_fFkTfkNnhMe8LfYn\",\"share-ready-holder\":\"-_T-yR2rNg4cORQH1JpPX\",\"align-right\":\"PO1W4kTYakwJ_6aWezU0L\",\"statusImgHolder\":\"_3OYyqIIqszKuUUr4AphTce\",\"statusImgHolder_cancelled\":\"_2nSiyAAaiFmDKtKRlsxN0q\",\"statusImgHolder_ready\":\"_2GELySbVX-usVbFAcX5IHN\",\"statusImgHolder_new\":\"_2MQ44xt43FKr02nevPIQa-\",\"statusImgHolder_pending\":\"_2nGC5bzxR3gUGr5BJZ3JIx\",\"invoiceControlsHolder\":\"_3tjtHpKvwi-eo5omvcAkd-\",\"payControl\":\"_3FVThBFGKYJSQnMsu5S16O\",\"closeButton\":\"_2XbgRx0_d9571ho60DDdCu\",\"shareButton\":\"_1YYVYHbISwCYaxNrLQSqXP\",\"with-share-button\":\"_39APRhw27lJg1bDkYGb-00\",\"without-share-button\":\"_1K0VKWN-zBS_Y7aALxa4wJ\",\"without-pay-control\":\"_3F2MBnD2wFsdGQFgSOrvir\",\"blockCenter__table\":\"_26Qoeu0pv0WtY2jTDbUNnh\",\"header\":\"_1h9-F4q-GfuRmdrhJDQW\",\"data\":\"_2rG-inVo7NCwJbpl4QfxLJ\",\"invoiceNumber\":\"_1v8Xi50GQd5RQ2zEhoZp-9\"};","import React, { Fragment } from 'react'\nimport PropTypes from 'prop-types'\nimport { constants } from 'helpers'\nimport actions from 'redux/actions'\nimport Link from 'local_modules/sw-valuelink'\nimport { connect } from 'redaction'\n\nimport cssModules from 'react-css-modules'\nimport styles from '../Styles/default.scss'\nimport ownStyle from './RegisterPINProtected.scss'\nimport * as mnemonicUtils from 'common/utils/mnemonic'\nimport Modal from 'components/modal/Modal/Modal'\nimport FieldLabel from 'components/forms/FieldLabel/FieldLabel'\nimport Input from 'components/forms/Input/Input'\nimport Button from 'components/controls/Button/Button'\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\n\nimport CopyToClipboard from 'react-copy-to-clipboard'\nimport moment from 'moment/moment'\nimport okSvg from 'shared/images/ok.svg'\n\nconst langPrefix = `RegisterPINProtectedBTC`\n\nconst langs = defineMessages({\n  registerPinModal: {\n    id: `${langPrefix}_Title`,\n    defaultMessage: `Activate PIN Protected Wallet`,\n  },\n  pinCodePlaceHolder: {\n    id: `${langPrefix}_PinCodePlaceholder`,\n    defaultMessage: `Enter your pin code`,\n  },\n  pinCodeConfirmPlaceHolder: {\n    id: `${langPrefix}_PinCodeConfirmPlaceholder`,\n    defaultMessage: `Confirm your pin code`,\n  },\n  needSaveMnemonicToContinue: {\n    id: `${langPrefix}_YouNeedSaveMnemonic`,\n    defaultMessage: `Для активации 2fa вы должны сохранить 12 слов.`,\n  },\n  pleaseSaveMnemonicToContinue: {\n    id: `${langPrefix}_SaveYourMnemonic`,\n    defaultMessage: `Пожалуйста сохраните свою секретную фразу.`,\n  },\n  buttonSaveMnemonic: {\n    id: `${langPrefix}_ButtonSaveMnemonic`,\n    defaultMessage: `Save`,\n  },\n  buttonCancel: {\n    id: `${langPrefix}_ButtonCancel`,\n    defaultMessage: `Cancel`,\n  },\n  enterPinCodeUpMessage: {\n    id: `${langPrefix}_EnterPinCodeUpMessage`,\n    defaultMessage: `Активация кошелька BTC, защищенного паролем`,\n  },\n  enterPinCodeBottomMessage: {\n    id: `${langPrefix}_EnterPinCodeBottomMessage`,\n    defaultMessage: `Придумайте пароль`,\n  },\n  youNotEnterPin: {\n    id: `${langPrefix}_ErrorNoPinOrSmall`,\n    defaultMessage: `Пароль должен быть не менее 4х символов`,\n  },\n  pinCodeNotEqueals: {\n    id: `${langPrefix}_ErrorPinCodesNotEqueals`,\n    defaultMessage: `Пароли не совпадают`,\n  },\n  pinServerOffline: {\n    id: `${langPrefix}_PinServerOffline`,\n    defaultMessage: `Сервер авторизации не доступен`,\n  },\n  useMnemonicNote: {\n    id: `${langPrefix}_UseMnemonicRestoreNote`,\n    defaultMessage: `Вы можете востановить кошелек используя секретную фразу (12 слов)`,\n  },\n  useMnemonicButton: {\n    id: `${langPrefix}_UseMnemonicButton`,\n    defaultMessage: `Восстановить кошелек`,\n  },\n  restoryUpMessage: {\n    id: `${langPrefix}_RestoryUpMessage`,\n    defaultMessage: `Восстановление BTC кошелька защещеного паролем`,\n  },\n  restoryBottomMessage: {\n    id: `${langPrefix}_RestoryBottomMessage`,\n    defaultMessage: `Введите секретную фразу (12 слов)`,\n  },\n  labelYourMnemonic: {\n    id: `${langPrefix}_LabelYourMnemonic`,\n    defaultMessage: `Ваша секретная фраза`,\n  },\n  mnemonicPlaceHolder: {\n    id: `${langPrefix}_MnemonicPlaceholder`,\n    defaultMessage: `Введите секретную фразу (12 слов)`,\n  },\n  shipButton: {\n    id: `${langPrefix}_ShipButton`,\n    defaultMessage: `Processing ...`,\n  },\n  confirmButton: {\n    id: `${langPrefix}_ConfirmRestory`,\n    defaultMessage: `Восстановить кошелек`,\n  },\n  usepinButton: {\n    id: `${langPrefix}_UsePinButton`,\n    defaultMessage: `Использовать пароль`,\n  },\n  activateWallet: {\n    id: `${langPrefix}_ActivateWalletButton`,\n    defaultMessage: `Активировать кошелек`,\n  },\n  errorWalletLocked: {\n    id: `${langPrefix}_ErrorWalletLocked`,\n    defaultMessage: `Этот счет уже зарегистрирован и защищен другим паролем. Укажите правильный пароль`,\n  },\n  labelYourPin: {\n    id: `${langPrefix}_LabelYourPinCode`,\n    defaultMessage: `Your PIN-code`,\n  },\n  labelConfirmYourPin: {\n    id: `${langPrefix}_LabelConfirmYourPin`,\n    defaultMessage: `Confirm your PIN-code`,\n  },\n  buttonFinish: {\n    id: `${langPrefix}_ButtonFinish`,\n    defaultMessage: `Готово`,\n  },\n  buttonCopiedInstruction: {\n    id: `${langPrefix}_Instruction_Copied`,\n    defaultMessage: `Скопировано`,\n  },\n  buttonCopyInstruction: {\n    id: `${langPrefix}_Instruction_Copy`,\n    defaultMessage: `Скопировать`,\n  },\n  buttonDownloadingInstruction: {\n    id: `${langPrefix}_Instruction_Downloading`,\n    defaultMessage: `Загружается`,\n  },\n  buttonDownloadInstruction: {\n    id: `${langPrefix}_Instruction_Download`,\n    defaultMessage: `Скачать`,\n  },\n  buttonShare: {\n    id: `${langPrefix}_Share`,\n    defaultMessage: `Share`,\n  },\n  finishMessage: {\n    id: `${langPrefix}_FinishMessage`,\n    defaultMessage: `Your protected wallet activated`,\n  },\n  instructionMessage: {\n    id: `${langPrefix}_Instruction_Message`,\n    defaultMessage: `Информация на случай недоступности нашего сервиса`,\n  },\n  howToWithdraw: {\n    id: `${langPrefix}_HowToWithdraw`,\n    defaultMessage: `How to withdraw money manually`,\n  },\n  errorMnemonicInvalid: {\n    id: `${langPrefix}_ErrorMnemonicInvalid`,\n    defaultMessage: `Вы указали не валидную секретную фразу (12 слов)`,\n  },\n  errorMnemonicIncorrect: {\n    id: `${langPrefix}_ErrorMnemonicIncorrect`,\n    defaultMessage: `Указаная секретная фраза не подходит к этому кошельку`,\n  },\n})\n\n@connect(({ user: { btcData, btcMultisigPinData } }) => ({\n  btcData,\n  btcMultisigPinData,\n}))\n@cssModules({ ...styles, ...ownStyle }, { allowMultiple: true })\nclass RegisterPINProtected extends React.Component<any, any> {\n  static propTypes = {\n    name: PropTypes.string,\n    data: PropTypes.object,\n  }\n\n  constructor(props) {\n    super(props)\n\n    const {\n      data: { initStep },\n    } = props\n\n    const generatedKey = localStorage.getItem(constants.privateKeyNames.btcSmsMnemonicKeyGenerated)\n\n    const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\n    const mnemonicSaved = mnemonic === `-`\n    const useGeneratedKeyEnabled = !!generatedKey\n\n    let step = 'enterPinCode'\n    if (useGeneratedKeyEnabled && !mnemonicSaved) step = 'saveMnemonicWords'\n\n    let showFinalInstruction = false\n    if (initStep === 'export') {\n      showFinalInstruction = true\n      step = 'ready'\n    }\n\n    this.state = {\n      pinCode: '',\n      pinCodeConfirm: '',\n      step,\n      error: false,\n      isShipped: false,\n      showFinalInstruction,\n      useGeneratedKey: useGeneratedKeyEnabled,\n      generatedKey,\n      useGeneratedKeyEnabled,\n      mnemonicSaved,\n      mnemonic: ``,\n      mnemonicWallet: false,\n      isMnemonicCopied: false,\n      isMnemonicGenerated: false,\n      isMnemonicValid: true,\n      isWalletLockedOtherPin: false,\n      isInstructionCopied: false,\n      isInstructionDownloaded: false,\n    }\n  }\n\n  componentDidMount() {\n    this.generateRestoreInstruction()\n  }\n\n  handleRestoreWallet = async () => {\n    const { mnemonic } = this.state\n\n    this.setState(\n      {\n        error: false,\n        isShipped: true,\n      },\n      async () => {\n        if (!mnemonic || !mnemonicUtils.validateMnemonicWords(mnemonic)) {\n          this.setState({\n            error: <FormattedMessage {...langs.errorMnemonicInvalid} />,\n            isShipped: false,\n          })\n          return\n        }\n\n        if (!actions.btcmultisig.checkPinCanRestory(mnemonic.trim())) {\n          this.setState({\n            error: <FormattedMessage {...langs.errorMnemonicIncorrect} />,\n            isShipped: false,\n          })\n          return\n        }\n\n        await actions.btcmultisig.addPinWallet(mnemonic.trim())\n\n        this.generateRestoreInstruction()\n\n        this.setState({\n          isShipped: false,\n          step: 'ready',\n        })\n      }\n    )\n  }\n\n  handleCopyMnemonic = async () => {\n    this.setState(\n      {\n        isMnemonicCopied: true,\n      },\n      () => {\n        setTimeout(() => {\n          this.setState({\n            isMnemonicCopied: false,\n          })\n        }, 1000)\n      }\n    )\n  }\n\n  handleCopyInstruction = async () => {\n    this.setState(\n      {\n        isInstructionCopied: true,\n      },\n      () => {\n        setTimeout(() => {\n          this.setState({\n            isInstructionCopied: false,\n          })\n        }, 1000)\n      }\n    )\n  }\n\n  handleDownloadInstruction = async () => {\n    const { restoreInstruction } = this.state\n\n    this.setState(\n      {\n        isInstructionDownloaded: true,\n      },\n      () => {\n        const element = document.createElement('a')\n        const message = 'Check your browser downloads'\n\n        element.setAttribute(\n          'href',\n          `data:text/plaincharset=utf-8,${encodeURIComponent(restoreInstruction)}`\n        )\n        element.setAttribute(\n          'download',\n          `${window.location.hostname}_btc_sms_protected_keys_${moment().format('DD.MM.YYYY')}.txt`\n        )\n\n        element.style.display = 'none'\n        document.body.appendChild(element)\n        element.click()\n        document.body.removeChild(element)\n\n        setTimeout(() => {\n          this.setState({\n            isInstructionDownloaded: false,\n          })\n        }, 1000)\n      }\n    )\n  }\n\n  handleUsePin = () => {\n    this.setState({\n      pinCode: ``,\n      pinCodeConfirm: ``,\n      step: `enterPinCode`,\n      error: false,\n      pinServerOffline: false,\n    })\n  }\n\n  handleRestoreWalletStep = () => {\n    this.setState({\n      error: false,\n      mnemonic: ``,\n      pinServerOffline: false,\n      step: `restory`,\n    })\n  }\n\n  handleGenerateMnemonic = async () => {\n    this.setState(\n      {\n        isMnemonicGenerated: true,\n        isMnemonicValid: true,\n        mnemonic: mnemonicUtils.getRandomMnemonicWords(),\n      },\n      () => {\n        setTimeout(() => {\n          this.setState({\n            isMnemonicGenerated: false,\n          })\n        }, 1000)\n      }\n    )\n  }\n\n  handleFinish = async () => {\n    const { name } = this.props\n\n    actions.btcmultisig.enableWalletSMS()\n    actions.modals.close(name)\n    if (this.props.data.callback) {\n      this.props.data.callback()\n    }\n  }\n\n  handleShareInstruction = async () => {\n    const { restoreInstruction } = this.state\n\n    //@ts-ignore: strictNullChecks\n    actions.modals.open(constants.modals.Share, {\n      title: `BTC Sms-protected wallet restory instruction`,\n      link: restoreInstruction,\n    })\n  }\n\n  handleBeginSaveMnemonic = async () => {\n    //@ts-ignore: strictNullChecks\n    actions.modals.open(constants.modals.SaveMnemonicModal, {\n      onClose: () => {\n        const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\n        const mnemonicSaved = mnemonic === `-`\n        const step = mnemonicSaved ? 'enterPhoneAndMnemonic' : 'saveMnemonicWords'\n\n        this.setState({\n          mnemonicSaved,\n          step,\n        })\n      },\n    })\n  }\n\n  handleClose = () => {\n    const { name, data, onClose } = this.props\n\n    if (typeof onClose === 'function') {\n      onClose()\n    }\n\n    if (typeof data.onClose === 'function') {\n      data.onClose()\n    }\n\n    actions.modals.close(name)\n  }\n\n  generateRestoreInstruction = () => {\n    const { mnemonic, mnemonicWallet, useGeneratedKey, generatedKey } = this.state\n\n    const { btcData, btcMultisigPinData } = this.props\n\n    let restoreInstruction = ''\n\n    restoreInstruction = `Wallet address:\\r\\n`\n    restoreInstruction += `${btcMultisigPinData.address}\\r\\n`\n    restoreInstruction += `To withdraw funds create transaction using this code https://github.com/bitcoinjs/bitcoinjs-lib/blob/master/test/integration/transactions.spec.ts#L193\\r\\n`\n    restoreInstruction += `\\r\\n`\n    restoreInstruction += `Public keys for create Multisig (2of3) wallet:\\r\\n`\n    if (btcMultisigPinData.publicKeys[0])\n      restoreInstruction += `${btcMultisigPinData.publicKeys[0].toString('Hex')}\\r\\n`\n    if (btcMultisigPinData.publicKeys[1])\n      restoreInstruction += `${btcMultisigPinData.publicKeys[1].toString('Hex')}\\r\\n`\n    if (btcMultisigPinData.publicKeys[2])\n      restoreInstruction += `${btcMultisigPinData.publicKeys[2].toString('Hex')}\\r\\n`\n    restoreInstruction += `\\r\\n`\n    restoreInstruction += `Hot wallet private key (WIF) (first of three for sign tx):\\r\\n`\n    restoreInstruction += `Wallet delivery path from your secret phrase:\\r\\n`\n    restoreInstruction += `m/44'/0'/0'/0/0\\r\\n`\n    restoreInstruction += `${btcData.privateKey}\\r\\n`\n    restoreInstruction += `*** (this private key stored in your browser)\\r\\n`\n    restoreInstruction += `\\r\\n`\n    if (!useGeneratedKey) {\n      restoreInstruction += `Secret mnemonic:\\r\\n`\n      restoreInstruction += `${mnemonic}\\r\\n`\n      restoreInstruction += `Wallet delivery path for mnemonic:\\r\\n`\n      restoreInstruction += `m/44'/0'/0'/0/0\\r\\n`\n      restoreInstruction += `Private key (WIF) of wallet, generated from mnemonic:\\r\\n`\n      restoreInstruction += `(DELETE THIS LINE!) ${mnemonicWallet.WIF}\\r\\n`\n      restoreInstruction += `*** (this private key does not stored anywhere! but in case if our  2fa server does down, you can withdraw your fond using this private key)\\r\\n`\n    } else {\n      restoreInstruction += `Second of three for sign tx:\\r\\n`\n      restoreInstruction += `Wallet delivery path from your secret phrase:\\r\\n`\n      restoreInstruction += `m/44'/0'/0'/0/1\\r\\n`\n      restoreInstruction += `\\r\\n`\n    }\n    restoreInstruction += `If our service is unavailable, use a local copy of the wallet.\\r\\n`\n    restoreInstruction += `https://swaponline.github.io/2fa_wallet.zip\\r\\n`\n\n    this.setState({\n      restoreInstruction,\n    })\n  }\n\n  handleCheckPIN = () => {\n    const {\n      pinCode,\n      pinCodeConfirm,\n      mnemonic,\n      useGeneratedKey,\n      useGeneratedKeyEnabled,\n      generatedKey,\n    } = this.state\n\n    this.setState(\n      {\n        error: false,\n        isShipped: true,\n        pinServerOffline: false,\n        isWalletLockedOtherPin: false,\n      },\n      async () => {\n        if (!pinCode || pinCode.length < 4) {\n          this.setState({\n            error: <FormattedMessage {...langs.youNotEnterPin} />,\n            isShipped: false,\n          })\n          return\n        }\n        if (pinCode != pinCodeConfirm) {\n          this.setState({\n            error: <FormattedMessage {...langs.pinCodeNotEqueals} />,\n            isShipped: false,\n          })\n          return\n        }\n        const result = await actions.btcmultisig.register_PIN(\n          pinCode,\n          mnemonic ? mnemonic.trim() : false,\n          useGeneratedKey && useGeneratedKeyEnabled ? generatedKey : false\n        )\n\n        if (result && result.answer && result.answer == 'ok') {\n          this.generateRestoreInstruction()\n          this.setState({\n            isShipped: false,\n            step: 'ready',\n          })\n        } else {\n          if (result && result.error == 'Already registered') {\n            this.generateRestoreInstruction()\n            this.setState({\n              isShipped: false,\n              step: 'ready',\n            })\n          } else {\n            if (result && result.error == 'This wallet already locked by other pin code') {\n              // Кошелек зарегистрирован на другой номер телефона\n              // Может быть так, что человек потерял телефон или забыл его\n              // Даем возможность подключить кошелек, чтобы если у клиента есть\n              // валидный mnemonic - он мог разблокировать средства\n              this.setState({\n                isShipped: false,\n                isWalletLockedOtherPin: true,\n              })\n            } else {\n              const pinServerOffline = result === false\n              this.setState({\n                isShipped: false,\n                pinServerOffline,\n                error: result && result.error ? result.error : 'Unknown error',\n              })\n            }\n          }\n        }\n      }\n    )\n  }\n\n  render() {\n    const {\n      step,\n      pinCode,\n      pinCodeConfirm,\n      error,\n      isShipped,\n      mnemonicSaved,\n      // useGeneratedKey,\n      useGeneratedKeyEnabled,\n      mnemonic,\n      mnemonicWallet,\n      isMnemonicCopied,\n      isMnemonicGenerated,\n      isMnemonicValid,\n      pinServerOffline,\n      isWalletLockedOtherPin,\n      isInstructionCopied,\n      isInstructionDownloaded,\n      restoreInstruction,\n      showFinalInstruction,\n    } = this.state\n\n    const { name, intl, btcData, btcMultisigPinData } = this.props\n\n    const linked = Link.all(this, 'pinCode', 'pinCodeConfirm', 'mnemonic')\n\n    return (\n      //@ts-ignore: strictNullChecks\n      <Modal name={name} title={`${intl.formatMessage(langs.registerPinModal)}`}>\n        <div styleName=\"registerPINModalHolder\">\n          {step === 'saveMnemonicWords' && (\n            <Fragment>\n              <div styleName=\"content-overlay\">\n                <p styleName=\"centerInfoBlock\">\n                  <strong>\n                    <FormattedMessage {...langs.needSaveMnemonicToContinue} />\n                  </strong>\n                  <br />\n                  <FormattedMessage {...langs.pleaseSaveMnemonicToContinue} />\n                </p>\n              </div>\n\n              <div styleName=\"buttonsHolder buttonsHolder_2_buttons button-overlay\">\n                <Button blue onClick={this.handleBeginSaveMnemonic}>\n                  <FormattedMessage {...langs.buttonSaveMnemonic} />\n                </Button>\n                <Button gray onClick={this.handleClose}>\n                  <FormattedMessage {...langs.buttonCancel} />\n                </Button>\n              </div>\n            </Fragment>\n          )}\n          {step === 'restory' && (\n            <Fragment>\n              <p styleName=\"centerInfoBlock\">\n                <strong>\n                  <FormattedMessage {...langs.restoryUpMessage} />\n                </strong>\n                <br />\n                <FormattedMessage {...langs.restoryBottomMessage} />\n              </p>\n              <div styleName=\"highLevel\" className=\"ym-hide-content\">\n                <FieldLabel>\n                  <FormattedMessage {...langs.labelYourMnemonic} />\n                </FieldLabel>\n                <Input\n                  styleName=\"input inputMargin25\"\n                  valueLink={linked.mnemonic}\n                  placeholder={`${intl.formatMessage(langs.mnemonicPlaceHolder)}`}\n                  focusOnInit\n                />\n              </div>\n              {error && <div styleName=\"error rednotes\">{error}</div>}\n              <div styleName=\"mnemonicButtonsHolder\">\n                <Button blue disabled={isShipped} onClick={this.handleRestoreWallet}>\n                  {isShipped ? (\n                    <Fragment>\n                      <FormattedMessage {...langs.shipButton} />\n                    </Fragment>\n                  ) : (\n                    <Fragment>\n                      <FormattedMessage {...langs.confirmButton} />\n                    </Fragment>\n                  )}\n                </Button>\n                <Button blue disabled={isShipped} onClick={this.handleUsePin}>\n                  <FormattedMessage {...langs.usepinButton} />\n                </Button>\n              </div>\n            </Fragment>\n          )}\n          {step === 'enterPinCode' && (\n            <Fragment>\n              <p styleName=\"centerInfoBlock\">\n                <strong>\n                  <FormattedMessage {...langs.enterPinCodeUpMessage} />\n                </strong>\n                <br />\n                <FormattedMessage {...langs.enterPinCodeBottomMessage} />\n              </p>\n              {isWalletLockedOtherPin && (\n                <div styleName=\"rednotes pinInfoBlock\">\n                  <FormattedMessage {...langs.errorWalletLocked} />\n                </div>\n              )}\n              <div styleName=\"highLevel\" className=\"ym-hide-content\">\n                <FieldLabel>\n                  <FormattedMessage {...langs.labelYourPin} />\n                </FieldLabel>\n                <Input\n                  styleName=\"input inputMargin25\"\n                  valueLink={linked.pinCode}\n                  type=\"password\"\n                  placeholder={`${intl.formatMessage(langs.pinCodePlaceHolder)}`}\n                  focusOnInit\n                />\n              </div>\n              <div styleName=\"highLevel\" className=\"ym-hide-content\">\n                <FieldLabel>\n                  <FormattedMessage {...langs.labelConfirmYourPin} />\n                </FieldLabel>\n                <Input\n                  styleName=\"input inputMargin25\"\n                  valueLink={linked.pinCodeConfirm}\n                  type=\"password\"\n                  placeholder={`${intl.formatMessage(langs.pinCodeConfirmPlaceHolder)}`}\n                />\n                {!pinServerOffline && error && <div styleName=\"error rednotes\">{error}</div>}\n                {pinServerOffline && (\n                  <div styleName=\"error rednotes\">\n                    <FormattedMessage {...langs.pinServerOffline} />\n                  </div>\n                )}\n              </div>\n              <div styleName=\"buttonHolder\">\n                <Button blue big fullWidth disabled={isShipped} onClick={this.handleCheckPIN}>\n                  {isShipped ? (\n                    <Fragment>\n                      <FormattedMessage {...langs.shipButton} />\n                    </Fragment>\n                  ) : (\n                    <Fragment>\n                      <FormattedMessage {...langs.activateWallet} />\n                    </Fragment>\n                  )}\n                </Button>\n              </div>\n              {pinServerOffline && (\n                <div styleName=\"restoryHolder\">\n                  <p>\n                    <FormattedMessage {...langs.useMnemonicNote} />\n                  </p>\n                  <Button blue fullWidth onClick={this.handleRestoreWalletStep}>\n                    <FormattedMessage {...langs.useMnemonicButton} />\n                  </Button>\n                </div>\n              )}\n            </Fragment>\n          )}\n          {step === 'ready' && (\n            <Fragment>\n              <div styleName=\"highLevel\">\n                <div>\n                  <img styleName=\"finishImg\" src={okSvg} alt=\"finish\" />\n                </div>\n                <span\n                  style={{\n                    fontSize: '25px',\n                    display: 'block',\n                    textAlign: 'center',\n                    marginBottom: '40px',\n                  }}\n                >\n                  <FormattedMessage {...langs.finishMessage} />\n                </span>\n              </div>\n              {showFinalInstruction && (\n                <div styleName=\"restoreInstruction\" className=\"ym-hide-content\">\n                  <h1>\n                    <FormattedMessage {...langs.instructionMessage} />\n                  </h1>\n                  <div>\n                    <pre>{restoreInstruction}</pre>\n                    <a\n                      styleName=\"link\"\n                      target=\"_blank\"\n                      href=\"https://github.com/bitcoinjs/bitcoinjs-lib/blob/master/test/integration/addresses.spec.ts\"\n                    >\n                      <FormattedMessage {...langs.howToWithdraw} />\n                    </a>\n                  </div>\n                  <div styleName=\"buttonsHolder\">\n                    <CopyToClipboard text={restoreInstruction} onCopy={this.handleCopyInstruction}>\n                      <Button\n                        blue\n                        disabled={isInstructionCopied}\n                        onClick={this.handleCopyInstruction}\n                      >\n                        {isInstructionCopied ? (\n                          <FormattedMessage {...langs.buttonCopiedInstruction} />\n                        ) : (\n                          <FormattedMessage {...langs.buttonCopyInstruction} />\n                        )}\n                      </Button>\n                    </CopyToClipboard>\n                    <Button\n                      blue\n                      disabled={isInstructionDownloaded}\n                      onClick={this.handleDownloadInstruction}\n                    >\n                      {isInstructionDownloaded ? (\n                        <FormattedMessage {...langs.buttonDownloadingInstruction} />\n                      ) : (\n                        <FormattedMessage {...langs.buttonDownloadInstruction} />\n                      )}\n                    </Button>\n                    <Button blue onClick={this.handleShareInstruction}>\n                      <FormattedMessage {...langs.buttonShare} />\n                    </Button>\n                  </div>\n                </div>\n              )}\n              <Button big blue fullWidth onClick={this.handleFinish}>\n                <Fragment>\n                  <FormattedMessage {...langs.buttonFinish} />\n                </Fragment>\n              </Button>\n            </Fragment>\n          )}\n        </div>\n      </Modal>\n    )\n  }\n}\n\nexport default injectIntl(RegisterPINProtected)\n","// extracted by mini-css-extract-plugin\nexport default {\"registerPINModalHolder\":\"_2Zy7rObpRmZ_NRLerdkcx9\",\"infoCaption\":\"_2PtfYatGPpEiKZg6DOpn95\",\"mnemonicNotice\":\"_1tcAkoIiMG9M6IdNzngeGP\",\"mnemonicButtonsHolder\":\"_2pe1DBwh-2u45tGohmq7MY\",\"finishImg\":\"_1MGvBh2rq8fM-9cRE6Jm-H\",\"pinInfoBlock\":\"_2ka1zBc_OwvdRyKV_2C2LX\",\"pinCodeHolder\":\"_1wAEGDfOifKmXF2nn2ioot\",\"confirmSmsCode\":\"_31IzUUQKAVLmnwAdubzpj4\",\"restoreInstruction\":\"_3xqT9uJvK5k52xucnPR7Zr\",\"restoryHolder\":\"_3DFicIQjYms66lpKlKSspV\",\"buttonHolder\":\"NgYaCH2ft_JU9vN_bJzl4\",\"buttonsHolder\":\"_1ULbFdf44pHTAZYeuY6Azy\",\"buttonsHolder_2_buttons\":\"_3j1j6y1usn4iQIHNtCI1Is\",\"buttonContainer\":\"_3ND9rrnYYiQ0_45Mnv-cFF\"};","import React, { Fragment } from 'react'\nimport PropTypes from 'prop-types'\nimport helpers from 'helpers'\nimport actions from 'redux/actions'\nimport Link from 'local_modules/sw-valuelink'\nimport { connect } from 'redaction'\n\nimport cssModules from 'react-css-modules'\nimport styles from '../Styles/default.scss'\nimport ownStyle from './WithdrawBtcPin.scss'\n\nimport Modal from 'components/modal/Modal/Modal'\nimport FieldLabel from 'components/forms/FieldLabel/FieldLabel'\nimport Input from 'components/forms/Input/Input'\nimport Button from 'components/controls/Button/Button'\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\nimport * as mnemonicUtils from 'common/utils/mnemonic'\nimport redirectTo from 'helpers/redirectTo'\nimport lsDataCache from 'helpers/lsDataCache'\nimport MnemonicInput from 'components/forms/MnemonicInput/MnemonicInput'\n\nconst langPrefix = `WithdrawPINProtected`\n\nconst langs = defineMessages({\n  title: {\n    id: `${langPrefix}_Title`,\n    defaultMessage: `Confirm withdraw transaction`,\n  },\n  upMessage: {\n    id: `${langPrefix}_UpMessage`,\n    defaultMessage: `Для подтверждения транзакции введите пароль`,\n  },\n  upMessageMnemonic: {\n    id: `${langPrefix}_UpMessageMnemonic`,\n    defaultMessage: `Для подтверждения транзакции введите секретную фразу (12 слов)`,\n  },\n  labelYourPin: {\n    id: `${langPrefix}_LabelYourPin`,\n    defaultMessage: `Your Pin-code`,\n  },\n  labelYourMnemonic: {\n    id: `${langPrefix}_LabelYourMnemonic`,\n    defaultMessage: `Your secret phrase`,\n  },\n  pinCodePlaceHolder: {\n    id: `${langPrefix}_PinCodePlaceholder`,\n    defaultMessage: `Enter your pin code`,\n  },\n  youNotEnterPin: {\n    id: `${langPrefix}_ErrorNoPinOrSmall`,\n    defaultMessage: `Пароль должен быть не менее 4х символов`,\n  },\n  pinCodeNotValid: {\n    id: `${langPrefix}_PinCodeNotValid`,\n    defaultMessage: `Вы указали не верный пароль`,\n  },\n  useMnemonic: {\n    id: `${langPrefix}_UseMnemonicButton`,\n    defaultMessage: `Использовать секретную фразу`,\n  },\n  confirmButton: {\n    id: `${langPrefix}_Confirm`,\n    defaultMessage: `Подтвердить транзакцию`,\n  },\n  shipButton: {\n    id: `${langPrefix}_ShipButton`,\n    defaultMessage: `Processing ...`,\n  },\n  cancelButton: {\n    id: `${langPrefix}_Cancel`,\n    defaultMessage: `Отмена`,\n  },\n  mnemonicNote: {\n    id: `${langPrefix}_MnemonicUseNote`,\n    defaultMessage: `В случае не доступности сервера авторизации, или если вы забыли пароль, Вы можете воспользоваться секретной фразой`,\n  },\n  serverIsOffline: {\n    id: `${langPrefix}_ServerOffline`,\n    defaultMessage: `Сервер авторизации не доступен. Попробуйте позже или используйте секретной фразу`,\n  },\n  mnemonicPlaceHolder: {\n    id: `${langPrefix}_MnemonicPlaceholder`,\n    defaultMessage: `Enter secret phrase (12 words)`,\n  },\n  pincodeNote: {\n    id: `${langPrefix}_PincodeNote`,\n    defaultMessage: `Так-же вы можете подтвердить транзакцию введя пароль`,\n  },\n  usePinCode: {\n    id: `${langPrefix}_ButtonUsePin`,\n    defaultMessage: `Использовать пароль`,\n  },\n  errorMnemonicInvalid: {\n    id: `${langPrefix}_ErrorMnemonicInvalid`,\n    defaultMessage: `Вы указали не валидную секретную фразу (12 слов)`,\n  },\n  errorMnemonicIncorrect: {\n    id: `${langPrefix}_ErrorMnemonicIncorrect`,\n    defaultMessage: `Указаная секретная фраза не подходит к этому кошельку`,\n  },\n})\n\n@connect(({ user: { btcData, btcMultisigPinData } }) => ({\n  btcData,\n  btcMultisigPinData,\n}))\n@cssModules({ ...styles, ...ownStyle }, { allowMultiple: true })\nclass WithdrawBtcPin extends React.Component<any, any> {\n  static propTypes = {\n    name: PropTypes.string,\n    data: PropTypes.object,\n  }\n\n  constructor(props) {\n    super(props)\n\n    const { wallet, invoice, sendOptions, beforeBalances } = props.data\n\n    this.state = {\n      pinCode: '',\n      error: false,\n      isShipped: false,\n      mnemonic: '',\n      isMnemonicValid: true,\n      serverOffline: false,\n      useMnemonic: false,\n    }\n  }\n\n  handleFinish = async () => {\n    const { name } = this.props\n\n    actions.btcmultisig.enableWalletSMS()\n    actions.modals.close(name)\n    if (this.props.data.callback) {\n      this.props.data.callback()\n    }\n  }\n\n  handleClose = () => {\n    const { name, data, onClose } = this.props\n\n    if (typeof onClose === 'function') {\n      onClose()\n    }\n\n    if (typeof data.onClose === 'function') {\n      data.onClose()\n    }\n\n    actions.modals.close(name)\n  }\n\n  handleSendMnemonic = async () => {\n    const { mnemonic } = this.state\n\n    const {\n      data: { sendOptions },\n    } = this.props\n\n    this.setState(\n      {\n        isShipped: true,\n        error: false,\n      },\n      async () => {\n        if (!mnemonic || !mnemonicUtils.validateMnemonicWords(mnemonic)) {\n          this.setState({\n            error: <FormattedMessage {...langs.errorMnemonicInvalid} />,\n            isShipped: false,\n          })\n          return\n        }\n        if (!actions.btcmultisig.checkPinMnemonic(mnemonic.trim())) {\n          this.setState({\n            error: <FormattedMessage {...langs.errorMnemonicIncorrect} />,\n            isShipped: false,\n          })\n          return\n        }\n\n        const result = await actions.btcmultisig.sendPinProtected({\n          ...sendOptions,\n          mnemonic,\n        })\n\n        this.processSendResult(result)\n      }\n    )\n  }\n\n  handleSend = async () => {\n    const { pinCode } = this.state\n\n    const {\n      data: { sendOptions },\n    } = this.props\n\n    if (!pinCode || pinCode.length < 4) {\n      this.setState({\n        error: <FormattedMessage {...langs.youNotEnterPin} />,\n      })\n      return\n    }\n\n    this.setState(\n      {\n        error: false,\n        serverOffline: false,\n        isShipped: true,\n      },\n      async () => {\n        const result = await actions.btcmultisig.sendPinProtected({\n          ...sendOptions,\n          password: pinCode,\n        })\n        this.processSendResult(result)\n      }\n    )\n  }\n\n  processSendResult = async (result) => {\n    const {\n      data: {\n        wallet,\n        sendOptions: { amount, from, to },\n        invoice,\n        adminFee,\n        beforeBalances,\n        onReady,\n      },\n    } = this.props\n    if (result && result.answer === 'ok') {\n      const { txId } = result\n\n      // Сохраняем транзакцию в кеш\n      const txInfoCache = {\n        amount,\n        senderAddress: from,\n        receiverAddress: to,\n        confirmed: false,\n      }\n\n      lsDataCache.push({\n        key: `TxInfo_btc_${txId}`,\n        time: 3600,\n        data: txInfoCache,\n      })\n\n      helpers.transactions.pullTxBalances(txId, amount, beforeBalances, adminFee)\n\n      actions.loader.hide()\n      actions.btcmultisig.getBalancePin()\n      if (invoice) {\n        await actions.invoices.markInvoice(invoice.id, 'ready', txId, wallet.address)\n      }\n\n      if (onReady instanceof Function) {\n        onReady()\n      }\n\n      const txInfoUrl = helpers.transactions.getTxRouter('btc', txId)\n      redirectTo(txInfoUrl)\n    } else {\n      this.setState({\n        isShipped: false,\n        serverOffline: !result.error,\n        error: result.error || `Unknown error`,\n      })\n    }\n  }\n\n  handleUseMnemonic = () => {\n    this.setState({\n      isShipped: false,\n      error: false,\n      useMnemonic: true,\n      serverOffline: false,\n      mnemonic: '',\n    })\n  }\n\n  handleMnemonicChange = (mnemonic) => {\n    this.setState({\n      mnemonic,\n    })\n  }\n\n  handleUsePassword = () => {\n    this.setState({\n      isShipped: false,\n      error: false,\n      useMnemonic: false,\n      serverOffline: false,\n      pinCode: '',\n    })\n  }\n\n  render() {\n    const {\n      pinCode,\n      error,\n      isShipped,\n      mnemonic,\n      isMnemonicValid,\n      serverOffline,\n      useMnemonic,\n    } = this.state\n\n    const step = ''\n\n    const { name, intl } = this.props\n    const linked = Link.all(this, 'pinCode')\n\n    return (\n      //@ts-ignore: strictNullChecks\n      <Modal name={name} title={`${intl.formatMessage(langs.title)}`}>\n        <div styleName=\"confirmPINModalHolder\">\n          {!useMnemonic && (\n            <Fragment>\n              <p styleName=\"centerInfoBlock\">\n                <strong>\n                  <FormattedMessage {...langs.upMessage} />\n                </strong>\n                <br />\n              </p>\n              <div styleName=\"highLevel\" className=\"ym-hide-content\">\n                <FieldLabel>\n                  <FormattedMessage {...langs.labelYourPin} />\n                </FieldLabel>\n                <Input\n                  styleName=\"input inputMargin25\"\n                  valueLink={linked.pinCode}\n                  type=\"password\"\n                  placeholder={`${intl.formatMessage(langs.pinCodePlaceHolder)}`}\n                  focusOnInit\n                />\n              </div>\n              {error && <div styleName=\"error rednotes\">{error}</div>}\n              <div styleName=\"buttonsHolder\">\n                <Button blue disabled={isShipped} onClick={this.handleSend}>\n                  {isShipped ? (\n                    <Fragment>\n                      <FormattedMessage {...langs.shipButton} />\n                    </Fragment>\n                  ) : (\n                    <Fragment>\n                      <FormattedMessage {...langs.confirmButton} />\n                    </Fragment>\n                  )}\n                </Button>\n                {/*\n                //@ts-ignore */}\n                <Button blue disabled={isShipped} onClick={this.handleCancel}>\n                  <FormattedMessage {...langs.cancelButton} />\n                </Button>\n              </div>\n              <div styleName=\"mnemonicButtonHolder\">\n                {serverOffline && (\n                  <div styleName=\"error rednotes\">\n                    <FormattedMessage {...langs.serverIsOffline} />\n                  </div>\n                )}\n                <p>\n                  <FormattedMessage {...langs.mnemonicNote} />\n                </p>\n                <Button blue fullWidth disabled={isShipped} onClick={this.handleUseMnemonic}>\n                  <FormattedMessage {...langs.useMnemonic} />\n                </Button>\n              </div>\n            </Fragment>\n          )}\n          {useMnemonic && (\n            <Fragment>\n              <p styleName=\"centerInfoBlock\">\n                <strong>\n                  <FormattedMessage {...langs.upMessageMnemonic} />\n                </strong>\n                <br />\n              </p>\n              <div styleName=\"highLevel\" className=\"ym-hide-content\">\n                <FieldLabel>\n                  <FormattedMessage {...langs.labelYourMnemonic} />\n                </FieldLabel>\n                <MnemonicInput onChange={this.handleMnemonicChange} fullWidth={true} />\n              </div>\n              {error && <div styleName=\"error rednotes\">{error}</div>}\n              <div styleName=\"buttonsHolder\">\n                <Button blue disabled={isShipped} onClick={this.handleSendMnemonic}>\n                  {isShipped ? (\n                    <Fragment>\n                      <FormattedMessage {...langs.shipButton} />\n                    </Fragment>\n                  ) : (\n                    <Fragment>\n                      <FormattedMessage {...langs.confirmButton} />\n                    </Fragment>\n                  )}\n                </Button>\n                {/*\n                //@ts-ignore */}\n                <Button blue disabled={isShipped} onClick={this.handleCancel}>\n                  <FormattedMessage {...langs.cancelButton} />\n                </Button>\n              </div>\n              <div styleName=\"pinButtonHolder\">\n                <p>\n                  <FormattedMessage {...langs.pincodeNote} />\n                </p>\n                <Button blue fullWidth disabled={isShipped} onClick={this.handleUsePassword}>\n                  <FormattedMessage {...langs.usePinCode} />\n                </Button>\n              </div>\n            </Fragment>\n          )}\n        </div>\n      </Modal>\n    )\n  }\n}\n\nexport default injectIntl(WithdrawBtcPin)\n","// extracted by mini-css-extract-plugin\nexport default {\"confirmPINModalHolder\":\"_3URDqevBFYnocBUf-jEeEM\",\"mnemonicButtonHolder\":\"_3oBhvjGV-RH_mR7B-0-WgX\",\"pinButtonHolder\":\"_9zTZy7Ryt5SuFlP1m-7he\",\"infoCaption\":\"_2YET7NT9F2t388-jFKiFo_\",\"mnemonicNotice\":\"_2tibU3lstT3t-XXlXoG9yi\",\"mnemonicButtonsHolder\":\"_35RZc4K5M_PlQ3dgKqj6Hv\",\"pinInfoBlock\":\"DJBkjEOhpfXnjGwT74WS2\",\"pinCodeHolder\":\"_14VQ2qcQilNxkVtlLb7iDa\",\"buttonsHolder\":\"_189vA7sJe8R0V0Eq_3Uyfy\",\"buttonContainer\":\"_3NMBeg7MdvzNYm_PGZh5uF\"};","import React, { Fragment } from 'react'\nimport PropTypes from 'prop-types'\nimport helpers from 'helpers'\nimport actions from 'redux/actions'\nimport Link from 'local_modules/sw-valuelink'\nimport { connect } from 'redaction'\n\nimport cssModules from 'react-css-modules'\nimport styles from '../WithdrawModal/WithdrawModal.scss'\nimport ownStyle from './WithdrawBtcSms.scss'\n\nimport Modal from 'components/modal/Modal/Modal'\nimport FieldLabel from 'components/forms/FieldLabel/FieldLabel'\nimport Input from 'components/forms/Input/Input'\nimport Button from 'components/controls/Button/Button'\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\nimport InvoiceInfoBlock from 'components/InvoiceInfoBlock/InvoiceInfoBlock'\nimport * as mnemonicUtils from 'common/utils/mnemonic'\nimport redirectTo from 'helpers/redirectTo'\nimport lsDataCache from 'helpers/lsDataCache'\nimport MnemonicInput from 'components/forms/MnemonicInput/MnemonicInput'\n\n@connect(({ ui: { dashboardModalsAllowed } }) => ({\n  dashboardView: dashboardModalsAllowed,\n}))\n@cssModules({ ...styles, ...ownStyle }, { allowMultiple: true })\nclass WithdrawModalMultisig extends React.Component<any, any> {\n  static propTypes = {\n    name: PropTypes.string,\n    data: PropTypes.object,\n  }\n\n  constructor(props) {\n    super(props)\n\n    const { wallet, invoice, sendOptions, beforeBalances } = props.data\n\n    this.state = {\n      step: 'confirm',\n      isShipped: false,\n      code: '',\n      minus: '',\n      error: false,\n      smsConfirmed: false,\n      mnemonic: '',\n      broadcastError: false,\n      sendSmsTimeout: 0,\n      sendSmsTimeoutTimer: false,\n    }\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.state.sendSmsTimeoutTimer)\n  }\n\n  gotoSms = () => {\n    this.setState({\n      smsStatus: 'sended',\n      step: 'confirm',\n    })\n  }\n\n  componentDidMount() {\n    this.setState(\n      {\n        isShipped: true,\n        step: 'confirm',\n        sendSmsStatus: 'sending',\n      },\n      async () => {\n        const {\n          data: { wallet, sendOptions, invoice, onReady },\n        } = this.props\n\n        const result = await actions.btcmultisig.sendSMSProtected(sendOptions)\n\n        console.log('sendSMSProtected result', result)\n        if (result && result.answer === 'ok') {\n          this.setState({\n            isShipped: false,\n            rawTx: result.rawTx ? result.rawTx : null,\n            sendSmsStatus: 'sended',\n          })\n        } else {\n          this.setState({\n            isShipped: false,\n            sendSmsStatus: 'offline',\n            rawTx: result.rawTx ? result.rawTx : null,\n          })\n        }\n      }\n    )\n  }\n\n  onFinishWithdraw = async (txId) => {\n    const {\n      data: {\n        sendOptions: { to, amount },\n        wallet: { address },\n        invoice,\n        onReady,\n      },\n      name,\n    } = this.props\n\n    actions.loader.hide()\n\n    if (invoice) {\n      await actions.invoices.markInvoice(invoice.id, 'ready', txId, address)\n    }\n\n    // Сохраняем транзакцию в кеш\n    const txInfoCache = {\n      amount,\n      senderAddress: address,\n      receiverAddress: to,\n      confirmed: false,\n    }\n\n    lsDataCache.push({\n      key: `TxInfo_btc_${txId}`,\n      time: 3600,\n      data: txInfoCache,\n    })\n\n    this.setState({\n      isShipped: false,\n      error: false,\n    })\n\n    if (onReady instanceof Function) {\n      onReady()\n    }\n\n    const txInfoUrl = helpers.transactions.getTxRouter('btc', txId)\n    redirectTo(txInfoUrl)\n\n    actions.modals.close(name)\n  }\n\n  handleConfirmSMS = async () => {\n    this.setState(\n      {\n        isShipped: true,\n        error: false,\n        isConfirming: true,\n      },\n      async () => {\n        const { code } = this.state\n\n        const result = await actions.btcmultisig.confirmSMSProtected(code)\n        if (result && result.txID) {\n          this.onFinishWithdraw(result.txID)\n        } else {\n          console.log(result)\n          if (result && result.error && result.error == 'Fail broadcast' && result.rawTX) {\n            actions.btc.broadcastTx(result.rawTX).then(async ({ txid }) => {\n              if (txid) {\n                this.onFinishWithdraw(txid)\n              } else {\n                this.setState({\n                  broadcastError: true,\n                  rawTx: result.rawTX,\n                  isShipped: false,\n                  isConfirming: false,\n                  error: (\n                    <FormattedMessage\n                      id=\"WithdrawSMS_BroadcastError\"\n                      defaultMessage=\"Не удалось отправить транзакцию в сеть ({errorText})\"\n                      values={{ errorText: `unknown` }}\n                    />\n                  ),\n                })\n              }\n            })\n          } else {\n            if (result && result.error && result.error === `SMS code not valid`) {\n              this.setState({\n                isShipped: false,\n                isConfirming: false,\n                error: (\n                  <FormattedMessage\n                    id=\"WithdrawSMS_NotValidSmsCode\"\n                    defaultMessage=\"Вы ввели не верный проверочный код\"\n                  />\n                ),\n              })\n            } else {\n              this.setState({\n                isShipped: false,\n                isConfirming: false,\n                error: (\n                  <FormattedMessage\n                    id=\"WithdrawSMS_UnknownError\"\n                    defaultMessage=\"Не известная ошибка. Попробуйте позже или используйте секретную фразу\"\n                  />\n                ),\n              })\n            }\n          }\n        }\n      }\n    )\n  }\n\n  handleMnemonicSign = () => {\n    const { mnemonic, rawTx } = this.state\n\n    if (!mnemonic || !mnemonicUtils.validateMnemonicWords(mnemonic)) {\n      this.setState({\n        error: (\n          <FormattedMessage\n            id=\"WithdrawSMS_NotValidMnemonic\"\n            defaultMessage=\"Секретная фраза не валидна\"\n          />\n        ),\n      })\n      return\n    }\n    if (!actions.btcmultisig.checkSmsMnemonic(mnemonic.trim())) {\n      this.setState({\n        error: (\n          <FormattedMessage\n            id=\"WithdrawSMS_WrongMnemonic\"\n            defaultMessage=\"Не правильная секретная фраза\"\n          />\n        ),\n      })\n      return\n    }\n\n    this.setState(\n      {\n        isShipped: true,\n        error: false,\n        broadcastError: false,\n      },\n      () => {\n        actions.btcmultisig\n          .signSmsMnemonicAndBuild(rawTx, mnemonic.trim())\n          .then(async (txHex) => {\n            console.log('signed', txHex)\n            this.setState({\n              txHex,\n            })\n            actions.btc\n              .broadcastTx(txHex)\n              .then(async ({ txid }) => {\n                if (txid) {\n                  this.onFinishWithdraw(txid)\n                } else {\n                  this.setState({\n                    broadcastError: true,\n                    isShipped: false,\n                    error: (\n                      <FormattedMessage\n                        id=\"WithdrawSMS_BroadcastError\"\n                        defaultMessage=\"Не удалось отправить транзакцию в сеть ({errorText})\"\n                        values={{ errorText: `unknown` }}\n                      />\n                    ),\n                  })\n                }\n              })\n              .catch((e) => {\n                console.error(e)\n                const errorText = e.res ? e.res.text : e.message\n                this.setState({\n                  broadcastError: true,\n                  isShipped: false,\n                  error: (\n                    <FormattedMessage\n                      id=\"WithdrawSMS_BroadcastError\"\n                      defaultMessage=\"Не удалось отправить транзакцию в сеть ({errorText})\"\n                      values={{ errorText }}\n                    />\n                  ),\n                })\n              })\n          })\n          .catch((e) => {\n            console.log('fail sign tx by mnemonic')\n            this.setState({\n              isShipped: false,\n              error: (\n                <FormattedMessage\n                  id=\"WithdrawSMS_FailSignByMnemonic\"\n                  defaultMessage=\"Не удалось подписать транзакцию\"\n                />\n              ),\n            })\n          })\n      }\n    )\n  }\n\n  handleSwitchToMnemonic = () => {\n    this.setState({\n      step: 'mnemonicSign',\n    })\n  }\n\n  handleSwitchToSms = () => {\n    this.setState({\n      step: 'confirm',\n    })\n  }\n\n  handleError = (err) => {\n    console.error(err)\n  }\n\n  handleClose = () => {\n    const { name } = this.props\n\n    actions.modals.close(name)\n  }\n\n  handleMnemonicChange = (mnemonic) => {\n    this.setState({\n      mnemonic,\n    })\n  }\n\n  render() {\n    const {\n      code,\n      isShipped,\n      isConfirming,\n      error,\n      mnemonic,\n      step,\n      sendSmsTimeout,\n      sendSmsStatus,\n    } = this.state\n\n    const {\n      name,\n      data: {\n        wallet: { currency },\n        invoice,\n      },\n      tokenItems,\n      items,\n      intl,\n    } = this.props\n\n    const linked = Link.all(this, 'code')\n\n    const labels = defineMessages({\n      withdrawModal: {\n        id: 'withdrowTitle271',\n        defaultMessage: `Send`,\n      },\n      smsPlaceholder: {\n        id: 'withdrawSMSCodePlaceholder',\n        defaultMessage: 'Enter SMS-code',\n      },\n      mnemonicPlaceholder: {\n        id: 'registerSMSMPlaceHolder',\n        defaultMessage: `12 слов`,\n      },\n    })\n\n    const formRender = (\n      <Fragment>\n        {invoice && <InvoiceInfoBlock invoiceData={invoice} />}\n        {step === 'mnemonicSign' && (\n          <Fragment>\n            <p styleName=\"notice dashboardViewNotice\">\n              <FormattedMessage\n                id=\"WithdrawSMS_MnemonicSignCaption\"\n                defaultMessage=\"Подтверждение транзакции секретной фразой\"\n              />\n            </p>\n            <div styleName=\"highLevel\" className=\"ym-hide-content\">\n              <FieldLabel>\n                <FormattedMessage\n                  id=\"registerSMSModalWords\"\n                  defaultMessage=\"Секретная фраза (12 слов):\"\n                />\n              </FieldLabel>\n              <MnemonicInput onChange={this.handleMnemonicChange} fullWidth={true} />\n            </div>\n            {error && <div styleName=\"rednotes\">{error}</div>}\n            <Button\n              styleName=\"buttonFull\"\n              big\n              blue\n              fullWidth\n              disabled={isShipped}\n              onClick={this.handleMnemonicSign}\n            >\n              {isShipped ? (\n                <FormattedMessage id=\"WithdrawModal11212\" defaultMessage=\"Processing ...\" />\n              ) : (\n                <FormattedMessage\n                  id=\"btcSMSProtectedSignByMnemonic\"\n                  defaultMessage=\"Использовать секретную фразу\"\n                />\n              )}\n            </Button>\n            <hr />\n            <p styleName=\"notice mnemonicUseNote dashboardViewNotice\">\n              <FormattedMessage\n                id=\"WithdrawSMS_UseSMSNote\"\n                defaultMessage=\"Так-же вы можете использовать смс-код, отправленный на привязанный номер телефона\"\n              />\n            </p>\n            <Button styleName=\"useAuthMethodButton\" blue onClick={this.handleSwitchToSms}>\n              <FormattedMessage id=\"WithdrawSMS_UseSMS\" defaultMessage=\"Использовать смс-код\" />\n            </Button>\n          </Fragment>\n        )}\n\n        {step === 'confirm' && (\n          <Fragment>\n            <div styleName=\"highLevel smsCodeHolder\">\n              <FieldLabel>\n                <FormattedMessage id=\"Withdrow2223\" defaultMessage=\"SMS code\" />\n              </FieldLabel>\n              <Input\n                styleName=\"input\"\n                valueLink={linked.code}\n                pattern=\"0-9\"\n                placeholder={`${intl.formatMessage(labels.smsPlaceholder)}`}\n              />\n            </div>\n            {error && <div styleName=\"smsServerStatus hasError\">{error}</div>}\n            {isConfirming && (\n              <div styleName=\"smsServerStatus\">\n                <FormattedMessage\n                  id=\"WithdrawSMS_SmsConfirming\"\n                  defaultMessage=\"Подтверждение транзакции\"\n                />\n              </div>\n            )}\n            {!error && sendSmsStatus === 'sending' && (\n              <div styleName=\"smsServerStatus\">\n                <FormattedMessage\n                  id=\"WithdrawSMS_SmsSending\"\n                  defaultMessage=\"Отправка проверочного кода\"\n                />\n              </div>\n            )}\n            {!error && !isShipped && sendSmsStatus === 'sended' && (\n              <div styleName=\"smsServerStatus\">\n                <FormattedMessage id=\"WithdrawSMS_SmsSended\" defaultMessage=\"Код отправлен\" />\n              </div>\n            )}\n            {!error && !isShipped && sendSmsStatus === 'offline' && (\n              <div styleName=\"smsServerStatus hasError\">\n                <FormattedMessage\n                  id=\"WithdrawSMS_ServerOffline\"\n                  defaultMessage=\"Сервер авторизации не доступен\"\n                />\n              </div>\n            )}\n            {linked.code.error && (\n              <div styleName=\"smsServerStatus hasError\">\n                <FormattedMessage\n                  id=\"WithdrawModal2225\"\n                  defaultMessage=\"Something went wrong, enter your current code please\"\n                />\n              </div>\n            )}\n            <Button\n              styleName=\"buttonFull confirmSmsCode\"\n              fullWidth\n              disabled={isShipped || sendSmsStatus === 'sending' || sendSmsStatus === 'offline'}\n              big\n              blue\n              onClick={this.handleConfirmSMS}\n            >\n              <FormattedMessage id=\"Withdrow2224\" defaultMessage=\"Confirm\" />\n            </Button>\n            <hr styleName=\"marginHr\" />\n            <p styleName=\"notice mnemonicUseNote dashboardViewNotice\">\n              <FormattedMessage\n                id=\"WithdrawSMS_MnemonicNote\"\n                defaultMessage=\"Если у вас нет доступа к телефону или не получается получить код, вы можете воспользовать секретной фразой\"\n              />\n            </p>\n            <Button styleName=\"useAuthMethodButton\" blue onClick={this.handleSwitchToMnemonic}>\n              <FormattedMessage\n                id=\"WithdrawSMS_UseMnemonic\"\n                defaultMessage=\"Использовать секретную фразу\"\n              />\n            </Button>\n          </Fragment>\n        )}\n      </Fragment>\n    )\n\n    return (\n      //@ts-ignore: strictNullChecks\n      <Modal\n        name={name}\n        title={`${intl.formatMessage(labels.withdrawModal)}${' '}${currency.toUpperCase()}`}\n      >\n        {formRender}\n      </Modal>\n    )\n  }\n}\n\nexport default injectIntl(WithdrawModalMultisig)\n","// extracted by mini-css-extract-plugin\nexport default {\"smsCodeHolder\":\"_2ufZgXdILNwsa4hWqR404H\",\"smsServerStatus\":\"_2TnHfkA16zQUYdndjrTzWr\",\"hasError\":\"_3VxLEXAuu0tjXmDqH5aSo\",\"confirmSmsCode\":\"_2ltX5lWBwioNHA7xmtsNpP\",\"useAuthMethodButton\":\"_2Ju8yd7Z6DpWAKk2qwl19p\",\"mnemonicUseNote\":\"iIxaLUFbwFtj2M1HV441u\",\"marginHr\":\"_3hiVgodLTNg7IW8g0-hgAT\",\"sendBtnsWrapper\":\"_34f3R0pOE4RmD0sU-TF0FR\",\"actionBtn\":\"_10eTdki_VAR95wdvj71Ae4\"};","import React, { Fragment } from 'react'\nimport PropTypes from 'prop-types'\nimport helpers, { constants } from 'helpers'\nimport actions from 'redux/actions'\nimport { connect } from 'redaction'\n\nimport cssModules from 'react-css-modules'\nimport styles from '../WithdrawModal/WithdrawModal.scss'\nimport ownStyle from './WithdrawBtcMultisig.scss'\n\nimport Modal from 'components/modal/Modal/Modal'\nimport Button from 'components/controls/Button/Button'\nimport { ShareLink } from 'components/controls'\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\nimport InvoiceInfoBlock from 'components/InvoiceInfoBlock/InvoiceInfoBlock'\n\nimport links from 'helpers/links'\nimport { getFullOrigin } from 'helpers/links'\n\n@connect(\n  ({\n    ui: { dashboardModalsAllowed }\n  }) => ({\n    dashboardView: dashboardModalsAllowed,\n  })\n)\n@cssModules({ ...styles, ...ownStyle }, { allowMultiple: true })\nclass WithdrawBtcMultisig extends React.Component<any, any> {\n  static propTypes = {\n    name: PropTypes.string,\n    data: PropTypes.object,\n  }\n\n  broadcastCancelFunc: any\n\n  constructor(props) {\n    super(props)\n\n    this.broadcastCancelFunc = false\n\n    this.state = {\n      step: 'fillform',\n      isShipped: false,\n      error: false,\n      txRaw: '',\n      isLinkCopied: false,\n    }\n  }\n\n  componentDidMount() {\n    this.setState({\n      isShipped: true,\n    }, async () => {\n      const {\n        data: {\n          wallet: {\n            address,\n          },\n          sendOptions,\n          sendOptions: {\n            to,\n            amount,\n          },\n          invoice,\n        },\n      } = this.props\n\n      const result = await actions.btcmultisig.send(sendOptions)\n\n      let txId = false\n\n      if (result) {\n        //@ts-ignore\n        txId = await actions.multisigTx.broadcast({\n          sender: address,\n          destination: to,\n          amount,\n          fee: 0.0001, // actions.helpers.lastBtcFee\n          rawTx: result,\n        })\n        this.setState({\n          step: 'rawlink',\n          txRaw: result,\n          txId,\n          isShipped: false,\n        })\n      }\n    })\n  }\n\n  handleCopyLink = () => {\n    this.setState({\n      isLinkCopied: true,\n    }, () => {\n      setTimeout(() => {\n        this.setState({\n          isLinkCopied: false,\n        })\n      }, 500)\n    })\n  }\n\n  handleReady = () => {\n    const {\n      name,\n      data: {\n        onReady,\n      },\n    } = this.props\n\n    actions.modals.close(name)\n    if (onReady instanceof Function) {\n      onReady()\n    }\n  }\n\n\n  handleError = err => {\n    console.error(err);\n  };\n\n  handleClose = () => {\n    const { name } = this.props\n\n    actions.modals.close(name)\n  }\n\n\n  render() {\n    const {\n      isShipped,\n      error,\n      step,\n      txRaw,\n      txId,\n      isLinkCopied,\n    } = this.state\n\n    const {\n      name,\n      data: {\n        wallet: {\n          currency,\n        },\n        invoice,\n      },\n      intl,\n    } = this.props\n\n    let txConfirmLink = `${getFullOrigin()}${links.multisign}/btc/confirm/${txId}`\n    if (invoice) {\n      txConfirmLink = `${getFullOrigin()}${links.multisign}/btc/confirminvoice/${invoice.id}|${txId}`\n    }\n\n    const labels = defineMessages({\n      withdrawModal: {\n        id: 'withdrowTitle271',\n        defaultMessage: `Send`,\n      },\n      ownTxPlaceholder: {\n        id: 'withdrawOwnTxPlaceholder',\n        defaultMessage: 'Если оплатили с другого источника'\n      },\n    })\n\n    const formRender = (\n      <Fragment>\n        {invoice &&\n          <InvoiceInfoBlock invoiceData={invoice} />\n        }\n        {step === 'rawlink' &&\n          <Fragment>\n            <p styleName=\"notice dashboardViewNotice\">\n              <FormattedMessage id=\"WithdrawMSUserReady\" defaultMessage=\"TX confirm link\" />\n              <br />\n              <FormattedMessage id=\"WithdrawMSUserMessage\" defaultMessage=\"Send this link to other wallet owner\" />\n            </p>\n            <div styleName=\"highLevel\">\n              <div styleName=\"groupField\">\n\n              </div>\n              <div>\n                <ShareLink link={txConfirmLink} />\n              </div>\n            </div>\n            <div styleName=\"centerAlign\">\n              <Button styleName=\"buttonFull\" big blue fullWidth onClick={this.handleReady}>\n                <FormattedMessage id=\"WithdrawMSUserFinish\" defaultMessage=\"Ready\" />\n              </Button>\n            </div>\n          </Fragment>\n        }\n      </Fragment>\n    )\n    return (\n      //@ts-ignore: strictNullChecks\n      <Modal name={name} title={`${intl.formatMessage(labels.withdrawModal)}${' '}${currency.toUpperCase()}`}>\n        {formRender}\n      </Modal>\n    )\n  }\n}\n\nexport default injectIntl(WithdrawBtcMultisig)\n","// extracted by mini-css-extract-plugin\nexport default {\"multisignConfirmTxLink\":\"oBiOvXArq-dZ9Df71alaV\",\"centerAlign\":\"_3j5HcgMEdjEfPwz1PNCPHz\",\"sendBtnsWrapper\":\"_31lPbS3wHmlPvkb-sXcyh6\",\"actionBtn\":\"_3Tx99ob4FXkkcHT5QfVF-I\"};","import React from 'react'\n\nimport actions from 'redux/actions'\n\nimport cssModules from 'react-css-modules'\nimport styles from './WalletAddressModal.scss'\n\nimport Modal from 'components/modal/Modal/Modal'\nimport { Button } from 'components/controls'\nimport { FormattedMessage, defineMessages, injectIntl } from 'react-intl'\n\n\nconst langPrefix = `WalletAddressModal`\nconst langLabels = defineMessages({\n  title: {\n    id: `${langPrefix}_Title`,\n    defaultMessage: `Copy wallet address`,\n  },\n  message: {\n    id: `${langPrefix}_Message`,\n    defaultMessage: `Your {cur} address`,\n  },\n})\n\n@cssModules(styles, { allowMultiple: true })\nclass WalletAddressModal extends React.PureComponent<any, any> {\n  handleCloseModal = () => {\n    const { name } = this.props\n\n    actions.modals.close(name)\n  }\n\n  render() {\n    const { name, intl, data } = this.props\n    const { fullName, address } = data\n\n    return (\n      //@ts-ignore: strictNullChecks\n      <Modal\n        name={name}\n        onClose={this.handleCloseModal}\n        title={intl.formatMessage(langLabels.title)}\n      >\n        <section styleName=\"content\">\n          <p styleName=\"text\">\n            <FormattedMessage {...langLabels.message} \n              values={{\n                cur: fullName,\n              }}\n            />\n          </p>\n          <p styleName=\"address\">\n            {address}\n          </p>\n        </section>\n\n      </Modal>\n    )\n  }\n}\n\nexport default injectIntl(WalletAddressModal)\n","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"_4JoKeQU4XAlrWR66O-ve8\",\"text\":\"LQX2AMB_55lvMsIMOL-LZ\",\"address\":\"_134YgTYwtBbMbmmggqv0I5\"};","import React, { Component } from 'react'\n\nimport { withRouter } from 'react-router-dom'\nimport CSSModules from 'react-css-modules'\nimport { FormattedMessage, defineMessages, injectIntl } from 'react-intl'\n\nimport actions from 'redux/actions'\nimport { constants, links } from 'helpers'\nimport { localisedUrl } from 'helpers/locale'\n\nimport { Button } from 'components/controls'\nimport CloseIcon from 'components/ui/CloseIcon/CloseIcon'\nimport WidthContainer from 'components/layout/WidthContainer/WidthContainer'\n\nimport styles from './styles.scss'\n\nconst defaultLanguage = defineMessages({\n  createWallet: {\n    id: 'AlertModalcreateWallet',\n    defaultMessage: 'Create Wallet',\n  },\n  deposit: {\n    id: 'AlertModaldeposit',\n    defaultMessage: 'Deposit',\n  },\n  title: {\n    id: 'alertTitle',\n    defaultMessage: 'Alert',\n  },\n})\n\n@withRouter\n@CSSModules(styles, { allowMultiple: true })\nclass AlertWindow extends Component<any, any> {\n\n  handleClose = () => {\n    const { name, data, onClose, history, intl } = this.props\n    const { onClose: dataClose, currency, address, actionType } = data\n    const { locale } = intl\n\n    if (actionType === 'deposit') {\n      actions.modals.open(constants.modals.ReceiveModal, {\n        currency,\n        address,\n      })\n    }\n\n    if (actionType === 'createWallet') {\n      history.push(localisedUrl(locale, links.createWallet))\n    }\n\n    if (typeof onClose === 'function') {\n      onClose()\n    }\n\n    if (typeof dataClose === 'function') {\n      dataClose()\n    }\n\n    actions.modals.close(name)\n  }\n\n  handleClosePopup = () => {\n    const { name } = this.props\n    actions.modals.close(name)\n  }\n\n  render() {\n    const {\n      data: {\n        title,\n        message,\n        actionType,\n        canClose,\n      },\n      intl,\n    } = this.props\n\n    const labels = {\n      actionLabel: intl.formatMessage(defaultLanguage[actionType]),\n      title: title || intl.formatMessage(defaultLanguage.title),\n    }\n\n    return (\n      <div styleName=\"modal-overlay\">\n        <div styleName=\"modal\">\n          <div styleName=\"header\">\n            {/*\n            //@ts-ignore */}\n            <WidthContainer styleName=\"headerContent\">\n              <div styleName=\"title\">{labels.title}</div>\n\n              {canClose && (<CloseIcon styleName=\"closeButton\" onClick={this.handleClosePopup} />)}\n            </WidthContainer>\n          </div>\n          <div styleName=\"content\">\n            <div styleName=\"notification-overlay\">\n              <p styleName=\"notification\">\n                {message}\n              </p>\n            </div>\n            <div styleName=\"button-overlay\">\n              <Button styleName=\"button\" gray onClick={this.handleClose}>{labels.actionLabel}</Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default injectIntl(AlertWindow)\n","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"_2V-qhGX9y9-yNIjl5KSo01\",\"closeButton\":\"_1WGrARtgEPvFIwckRT7d4s\",\"headerContent\":\"_2YEtktmHI-BFo8EdVazs8_\",\"title\":\"_3amEToSfg8kICgO92D0cNZ\",\"uppercase\":\"_2381FCr0j0Q8ReEA_MRbah\",\"modal-overlay\":\"_2XzVxDpfxRcnmvA5ZR0B1F\",\"modal\":\"_12mXIwG54v1FiDFsCZv14U\",\"button\":\"_2_nWfzy_VrjQebVyvYqo0a\",\"content\":\"_2iIe6UpXJUGeEiE-G6ceKX\",\"notification-overlay\":\"_2zFMmK2EYCZT296EiteurS\",\"notification\":\"_1zLh2grb_tAc6NzkAdSm_O\",\"button-overlay\":\"_2Mvwh4W1KggKCePR5bLl2R\"};","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"_14JZWBGQUs9WLL5__bHl9Y\",\"headerContent\":\"cyLeMOCJ5lvuHHh_3ZFe_\",\"title\":\"_2tA1V3lEIX-KI-vUPWuUjZ\",\"uppercase\":\"TwhJn6DHiuLJlVCH-WCbq\",\"modal-overlay\":\"_3wxfeqwwALgcOgxFa8AbyN\",\"modal-overlay_dashboardView\":\"_1qWLMuk9tq5IVCtxWJlQxX\",\"modal\":\"_3T32PsIkkqB38DovVQhZgW\",\"modal_dashboardView\":\"_3ecmI2wgqcVxlW_qJ1zzRS\",\"button\":\"_1-hPO9IR4aKRlHH52zKWtz\",\"button_provider\":\"_2T8dQVDu_tl_XmSmBQwxN6\",\"providers\":\"_1zWt_TAzYL_pUE0lB_15bd\",\"provider_row\":\"_2-7Ibp9YnJicPaWULxePjJ\",\"content\":\"_2Wh47FaO3mh5b3Nr_DbDg6\",\"notification-overlay\":\"n-Q6gUut8GQ1Cf44rsz1W\",\"notification\":\"_2i4WlYAeN_tN9gosz1_xhx\",\"button-overlay\":\"_2v8Z1lX-iVxDL3VrmRxgJ6\"};","import React from 'react'\nimport actions from 'redux/actions'\nimport { connect } from 'redaction'\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\nimport cssModules from 'react-css-modules'\nimport cx from 'classnames'\nimport styles from './ConnectWalletModal.scss'\n\nimport { constants, links } from 'helpers'\nimport { localisedUrl } from 'helpers/locale'\nimport metamask from 'helpers/metamask'\n\nimport { Button } from 'components/controls'\nimport WidthContainer from 'components/layout/WidthContainer/WidthContainer'\n\nconst defaultLanguage = defineMessages({\n  title: {\n    id: 'ConnectWalletModal_Title',\n    defaultMessage: 'Подключение внешего кошелька',\n  },\n  cancel: {\n    id: 'ConnectWalletModal_Cancel',\n    defaultMessage: 'Отмена',\n  },\n})\n\nconst providerTitles = defineMessages({\n  INJECTED: {\n    id: 'ConnectWalletModal_Injected',\n    defaultMessage: 'Metamask',\n  },\n  WALLETCONNECT: {\n    id: 'ConnectWalletModal_WalletConnect',\n    defaultMessage: 'WalletConnect',\n  },\n})\n\n@connect(({ ui: { dashboardModalsAllowed } }) => ({\n  dashboardModalsAllowed,\n}))\n@cssModules(styles)\nclass ConnectWalletModal extends React.Component<any, null> {\n  goToPage(link) {\n    const {\n      name,\n      history,\n      intl: { locale },\n    } = this.props\n    history.push(localisedUrl(locale, link))\n  }\n\n  onConnectLogic(connected) {\n    const {\n      name,\n      data: { dontRedirect, onResolve },\n    } = this.props\n\n    if (connected) {\n      if (!dontRedirect) this.goToPage(links.home)\n      if (typeof onResolve === `function`) {\n        onResolve(true)\n      }\n      actions.modals.close(name)\n    }\n  }\n\n  handleClose = () => {\n    const {\n      name,\n      data: { dontRedirect, onResolve },\n    } = this.props\n\n    if (!dontRedirect) {\n      if (!localStorage.getItem(constants.localStorage.isWalletCreate)) {\n        this.goToPage(links.createWallet)\n      } else {\n        this.goToPage(links.home)\n      }\n    }\n    if (typeof onResolve === `function`) {\n      onResolve(false)\n    }\n    actions.modals.close(name)\n  }\n\n  handleInjected = () => {\n    metamask.web3connect.connectTo('INJECTED').then((connected) => {\n      if (!connected && metamask.web3connect.isLocked()) {\n        //@ts-ignore: strictNullChecks\n        actions.modals.open(constants.modals.AlertModal, {\n          message: (\n            <FormattedMessage\n              id=\"ConnectWalletModal_WalletLocked\"\n              defaultMessage=\"Wallet is locked. Unlock the wallet first.\"\n            />\n          )\n        })\n      }\n      this.onConnectLogic(connected)\n    })\n  }\n\n  handleWalletConnect = () => {\n    metamask.web3connect.connectTo('WALLETCONNECT').then((connected) => {\n      this.onConnectLogic(connected)\n    })\n  }\n\n  render() {\n    const { intl, dashboardModalsAllowed } = this.props\n\n    const labels = {\n      title: intl.formatMessage(defaultLanguage.title),\n      cancel: intl.formatMessage(defaultLanguage.cancel),\n    }\n\n    return (\n      <div\n        className={cx({\n          [styles['modal-overlay']]: true,\n        })}\n      >\n        <div\n          className={cx({\n            [styles['modal']]: true,\n            [styles['modal_dashboardView']]: dashboardModalsAllowed,\n          })}\n        >\n          <div styleName=\"header\">\n            {/*\n            //@ts-ignore */}\n            <WidthContainer styleName=\"headerContent\">\n              <div styleName=\"title\">{labels.title}</div>\n            </WidthContainer>\n          </div>\n          <div styleName=\"content\">\n            <div styleName=\"notification-overlay\">\n              <div styleName=\"providers\">\n                {metamask.web3connect.isInjectedEnabled() && (\n                  <div styleName=\"provider_row\">\n                    <Button styleName=\"button_provider\" blue onClick={this.handleInjected}>\n                      {metamask.web3connect.getInjectedTitle()}\n                    </Button>\n                  </div>\n                )}\n                <div styleName=\"provider_row\">\n                  <Button styleName=\"button_provider\" blue onClick={this.handleWalletConnect}>\n                    <FormattedMessage {...providerTitles.WALLETCONNECT} />\n                  </Button>\n                </div>\n              </div>\n            </div>\n            <div styleName=\"button-overlay\">\n              <Button styleName=\"button\" blue onClick={this.handleClose}>\n                {labels.cancel}\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n//@ts-ignore: strictNullChecks\nexport default injectIntl(ConnectWalletModal)\n","import OfferModal from './OfferModal/OfferModal'\nimport WithdrawModal from './WithdrawModal/WithdrawModal'\nimport WithdrawModalMultisig from './WithdrawModalMultisig/WithdrawModalMultisig'\nimport WithdrawModalMultisigUser from './WithdrawModalMultisig/WithdrawModalMultisigUser'\nimport PrivateKeysModal from './PrivateKeysModal/PrivateKeysModal'\nimport ReceiveModal from './ReceiveModal/ReceiveModal'\nimport DownloadModal from './DownloadModal/DownloadModal'\nimport DeclineOrdersModal from './DeclineOrdersModal/DeclineOrdersModal'\nimport IncompletedSwaps from './IncompletedSwaps/IncompletedSwaps'\nimport CurrencyAction from './CurrencyAction/CurrencyAction'\nimport Confirm from './Confirm/Confirm'\nimport ConfirmBeginSwap from './ConfirmBeginSwap/ConfirmBeginSwap'\nimport RegisterSMSProtected from './RegisterSMSProtected/RegisterSMSProtected'\nimport MultisignJoinLink from './MultisignJoinLink/MultisignJoinLink'\nimport InvoiceModal from './InvoiceModal/InvoiceModal'\nimport InvoiceLinkModal from './InvoiceLinkModal/InvoiceLinkModal'\nimport AlertModal from './Alert/AlertModal'\nimport AddCustomToken from './AddCustomToken'\nimport BtcMultisignSwitch from './BtcMultisignSwitch/BtcMultisignSwitch'\nimport ShareModal from './Share/Share'\nimport BtcMultisignConfirmTx from './BtcMultisignConfirmTx/BtcMultisignConfirmTx'\nimport SaveMnemonicModal from './SaveMnemonicModal/SaveMnemonicModal'\nimport RestoryMnemonicWallet from './RestoryMnemonicWallet/RestoryMnemonicWallet'\nimport HowToWithdrawModal from './HowToWithdrawModal/HowToWithdrawModal'\nimport InfoInvoice from './InfoInvoice/InfoInvoice'\n\nimport RegisterPINProtected from './RegisterPINProtected/RegisterPINProtected'\n\nimport WithdrawBtcPin from './WithdrawBtcPin/WithdrawBtcPin'\nimport WithdrawBtcSms from './WithdrawBtcSms/WithdrawBtcSms'\nimport WithdrawBtcMultisig from './WithdrawBtcMultisig/WithdrawBtcMultisig'\n\nimport WalletAddressModal from './WalletAddressModal/WalletAddressModal'\n\nimport AlertWindow from \"./AlertWindow\"\n\nimport ConnectWalletModal from './ConnectWalletModal/ConnectWalletModal'\n\n\n\nexport default {\n  DeclineOrdersModal,\n  ShareModal,\n  OfferModal,\n  WithdrawModal,\n  WithdrawModalMultisigUser, // Deprecated\n  PrivateKeysModal,\n  ReceiveModal,\n  DownloadModal,\n  IncompletedSwaps,\n  Confirm,\n  ConfirmBeginSwap,\n\n  MultisignJoinLink,\n  CurrencyAction,\n  InvoiceModal,\n  InvoiceLinkModal,\n  AlertModal,\n  AddCustomToken,\n  BtcMultisignSwitch,\n  BtcMultisignConfirmTx,\n  SaveMnemonicModal,\n  RestoryMnemonicWallet,\n  HowToWithdrawModal,\n  InfoInvoice,\n\n  RegisterPINProtected,\n  WithdrawBtcPin,\n\n  WalletAddressModal,\n\n  RegisterSMSProtected,\n  WithdrawBtcSms,\n  WithdrawModalMultisig,  // Deprecated\n  WithdrawBtcMultisig, \n\n  AlertWindow,\n\n  ConnectWalletModal,\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'redaction'\nimport { getPageOffset } from 'helpers'\n\nimport Modals from 'components/modals'\n\nimport cssModules from 'react-css-modules'\nimport styles from './ModalConductor.scss'\n\n@connect({\n  modals: 'modals',\n})\n@cssModules(styles, { allowMultiple: true })\nexport default class ModalConductor extends Component<any, any> {\n\n  static propTypes = {\n    modals: PropTypes.object,\n  }\n\n  state = {\n    offsetTop: 0,\n  }\n\n  componentWillReceiveProps({ modals }) {\n    const { offsetTop } = this.state\n\n    const myOffsetTop = getPageOffset().y\n\n    // When modal is showing add overflow: hidden to body and padding-right: ${scrollWidth}\n    // to prevent screen from blinking\n    if (Object.keys(modals).length) {\n      if (myOffsetTop > 0) {\n        this.setState({\n          offsetTop: myOffsetTop,\n        })\n      }\n    }\n    else {\n      if (offsetTop > 0) {\n        window.scrollTo(0, offsetTop)\n\n        this.setState({\n          offsetTop: 0,\n        })\n      }\n    }\n  }\n\n  render() {\n    const { modals, history, dashboardView } = this.props\n\n    const modalNames = Object.keys(modals)\n    const highestZIndex = Object.values(modals)\n      //@ts-ignore \n      .map(i => i.zIndex)\n      .reduce((acc, i) => acc < i ? i : acc, 0)\n    const areModalsExist = Boolean(modalNames.length)\n\n    return areModalsExist && (\n      <div styleName={`${!dashboardView ? 'modalConductor' : 'modalDashboardConductor'}`}>\n        {\n          modalNames.map((key) => {\n            const { name, data = {}, zIndex } = modals[key]\n\n            if (zIndex === highestZIndex) {\n              return React.createElement(Modals[name], {\n                key: name,\n                name,\n                data,\n                history,\n                style: { zIndex },\n              })\n            }\n            return null\n          })\n        }\n      </div>\n    )\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"modalConductor\":\"VH2_EHFQQzh1pq3TpMoKY\",\"modalDashboardConductor\":\"_14rO1tWZn3tRLMSVVtuNAQ\"};","const getPageOffset = () => {\n  // isCSS1Compat for old browsers support like IE < 9,\n  // which do not have window.pageYOffset and window.scrollY\n  // For more info check https://developer.mozilla.org/ru/docs/Web/API/Window/scrollY\n  const isCSS1Compat = ((document.compatMode || '') === 'CSS1Compat')\n  const isSupportPageOffset = window.pageXOffset !== undefined\n\n  if (isSupportPageOffset) {\n\n    return {\n      x: window.pageXOffset,\n      y: window.pageYOffset,\n    }\n  }\n\n  return {\n    x: isCSS1Compat ? document.documentElement.scrollLeft : document.body.scrollLeft,\n    y: isCSS1Compat ? document.documentElement.scrollTop : document.body.scrollTop,\n  }\n}\n\n\nexport default getPageOffset\n","// extracted by mini-css-extract-plugin\nexport default {\"modalsCalled\":\"_24rKxNi3IYMeLdUzbrBGWZ\"};","import React from 'react'\nimport { connect } from 'redaction'\nimport { withRouter } from 'react-router-dom'\nimport cssModules from 'react-css-modules'\nimport cx from 'classnames'\n\nimport actions from 'redux/actions'\nimport ModalConductor from 'components/modal/ModalConductor/ModalConductor'\nimport styles from './styles.scss'\n\n\nconst ModalConductorProvider = ({ children, history, modals, ...props }) => {\n  const isAnyModalCalled = Object.keys(modals).length\n\n  const hiestZ = Object.values(modals).reduce(\n    //@ts-ignore\n    (acc, i) => (acc > i.zIndex ? acc : i.zIndex),\n    -1\n  )\n  const upperModal = Object.keys(modals)[\n    //@ts-ignore \n    Object.values(modals).findIndex((i) => i.zIndex === hiestZ)\n  ]\n\n  let isModalOpenedHelper = false\n  const handleClick = (e) => {\n    if (!isModalOpenedHelper && isAnyModalCalled) {\n      return (isModalOpenedHelper = true)\n    }\n\n    if (\n      !(\n        e.target.closest('.__modalConductorProvided__') !== null ||\n        e.target.closest('.data-tut-all-balance') !== null\n      ) &&\n      document.body.contains(e.target) &&\n      isModalOpenedHelper\n    ) {\n      isModalOpenedHelper = false\n      window.removeEventListener('click', handleClick)\n      setTimeout(() => {\n        // actions.modals.close(`${upperModal}`)\n      }, 1)\n    }\n  }\n\n  React.useEffect(() => {\n    if (isAnyModalCalled) {\n      window.removeEventListener('click', handleClick)\n      window.addEventListener('click', handleClick)\n    }\n    return () => {\n      window.removeEventListener('click', handleClick)\n    }\n  })\n\n  return (\n    <div\n      className={cx({\n        __modalConductorProvided__: true,\n        [styles.modalsCalled]: isAnyModalCalled,\n      })}\n    >\n      {isAnyModalCalled ? (\n        <ModalConductor dashboardView history={history} />\n      ) : (\n        children\n      )}\n    </div>\n  )\n}\n\nexport default connect(({ modals, ui: { dashboardModalsAllowed } }) => ({\n  modals,\n  dashboardView: dashboardModalsAllowed,\n}))(\n  withRouter(\n    //@ts-ignore \n    cssModules(ModalConductorProvider, styles, { allowMultiple: true })\n  )\n)\n","// extracted by mini-css-extract-plugin\nexport default {\"modalContainer\":\"_1vGMhudo4ThaNu2ct9zme2\",\"fullWidth\":\"IIprqqVy8nPCIVMrSB21c\",\"mounted\":\"xg8lJDsQsbPrBYdUrN-lx\"};","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport cx from 'classnames'\n\nimport cssModules from 'react-css-modules'\nimport styles from './ModalContainer.scss'\n\nimport Overlay from 'components/layout/Overlay/Overlay'\nimport Center from 'components/layout/Center/Center'\n\n\n@cssModules(styles, { allowMultiple: true })\nexport default class ModalContainer extends Component<any, any> {\n\n  static propTypes = {\n    children: PropTypes.any.isRequired,\n    fullWidth: PropTypes.bool,\n    disableClose: PropTypes.bool,\n    onClose: PropTypes.func.isRequired,\n  }\n\n  handleMount = (el) => {\n    if (el) {\n      setTimeout(() => {\n        el.classList.add(styles.mounted)\n      }, 0)\n    }\n  }\n\n  close = () => {\n    const { disableClose, onClose } = this.props\n\n    if (!disableClose) {\n      onClose()\n    }\n  }\n\n  render() {\n    const { children, fullWidth } = this.props\n\n    // TODO move overflow to Modal from Center\n    const modalContainerStyleName = cx('modalContainer', {\n      'fullWidth': fullWidth,\n    })\n\n    return (\n      //@ts-ignore \n      <Overlay>\n        {/*\n        //@ts-ignore */}\n        <Center scrollable>\n          <div\n            styleName={modalContainerStyleName}\n            ref={this.handleMount}\n          >\n            {children}\n          </div>\n        </Center>\n      </Overlay>\n    )\n  }\n}\n","import React, { Component } from 'react'\n\nimport actions from 'redux/actions'\nimport PropTypes from 'prop-types'\n\nimport cssModules from 'react-css-modules'\nimport styles from './ModalBox.scss'\n\nimport CloseIcon from 'components/ui/CloseIcon/CloseIcon'\nimport WidthContainer from 'components/layout/WidthContainer/WidthContainer'\n\n@cssModules(styles, { allowMultiple: true })\nexport default class ModalBox extends Component<any, any> {\n  static propTypes = {\n    children: PropTypes.node,\n    title: PropTypes.any,\n    onClose: PropTypes.func,\n    whiteLogo: PropTypes.bool,\n    showLogo: PropTypes.bool,\n  }\n\n  static defaultProps = {\n    showLogo: true,\n  }\n\n  render() {\n    const {\n      title,\n      children,\n      onClose,\n    } = this.props\n\n\n    return (\n      <div styleName=\"modal-box\">\n        <div styleName=\"header\">\n          {/*\n          //@ts-ignore */}\n          <WidthContainer styleName=\"headerContent\">\n            <div styleName=\"title\">{title}</div>\n\n            <CloseIcon styleName=\"closeButton\" onClick={onClose} />\n          </WidthContainer>\n        </div>\n        <div styleName=\"contentContainer\">\n          <div styleName=\"content\">\n            {children}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"modal-box\":\"nVPClXajSjCyUpqbY0n1E\",\"header\":\"_1ap6j4XMOyNTpbNyRpkOtg\",\"headerContent\":\"_30uK99ru9cH--72ai1TtmS\",\"title\":\"_2PCynAyWJcwKL8pbIruVOb\",\"uppercase\":\"_3HzS5f_zl_FHsPmljWgPMZ\",\"closeButton\":\"_1r-9UfFYMtIzFpAYKAFPrD\",\"delayClose\":\"_1LawPuNLLdDNJ_pMvzzlg7\",\"contentContainer\":\"zokfcnavcaEvOueC5deCw\",\"content\":\"_3V3bPzIA-Cwx_KbFHNBupG\"};","// extracted by mini-css-extract-plugin\nexport default {\"wallet\":\"QFxQ4rhYPnSfxTFk8rw_L\",\"faqWrapper\":\"_1SPPvKi8uSAK7mVJ5WzsJg\",\"hasCusomLogo\":\"_3g2OqZ1aT0MnBCo8CKL4rM\",\"sweepInfo\":\"_25abGpNi3jSqCNr4ku_4ER\",\"walletBalance\":\"Jgq-ZUc8OMXj8NkMl54Rz\",\"yourAssetsWrapper\":\"_199txXP6px-XK4eZoEJ4ih\",\"activity\":\"_3y53kLk_mvWAK8EDhG2lEY\",\"active\":\"_3rPiXaaPi_9G6H91jGU9F9\",\"walletContent\":\"_3vC-q844BKVYJtyarbnVxa\",\"desktopEnabledViewForFaq\":\"ABFST3U03TVbIpNB2fEqv\",\"mobileEnabledViewForFaq\":\"_3P8_jmzvTJx-SI94moItF2\",\"yourBalance\":\"_3--HSxx4gEttj-mApaGwXG\"};","import React, { ReactNode } from 'react'\nimport cssModules from 'react-css-modules'\nimport { constants } from 'helpers'\nimport actions from 'redux/actions'\nimport { FormattedMessage } from 'react-intl'\nimport { isMobile } from 'react-device-detect'\n\nimport cx from 'classnames'\n\nimport Button from 'components/controls/Button/Button'\nimport FAQ from 'components/FAQ/FAQ'\nimport { ModalConductorProvider } from 'components/modal'\n\nimport styles from './styles.scss'\n\ntype ComponentProps = {\n  page: 'history' | 'invoices'\n  children?: ReactNode\n  BalanceForm: ReactNode\n}\n\nconst DashboardLayout = (props: ComponentProps) => {\n  const { children, page } = props\n\n  const balanceRef = React.useRef(null) // Create a ref object\n\n  let activeView = 0\n\n  if (page === 'history' && !isMobile) {\n    activeView = 1\n  }\n  if (page === 'invoices') activeView = 2\n\n  const isSweepReady = localStorage.getItem(constants.localStorage.isSweepReady)\n  const isBtcSweeped = actions.btc.isSweeped()\n  const isEthSweeped = actions.eth.isSweeped()\n\n  let showSweepBanner = !isSweepReady\n\n  if (isBtcSweeped || isEthSweeped) showSweepBanner = false\n\n  return (\n    <article className=\"data-tut-start-widget-tour\">\n      {window.CUSTOM_LOGO && <img className=\"cutomLogo\" src={window.CUSTOM_LOGO} alt=\"logo\" />}\n      <section\n        styleName={`wallet ${window.CUSTOM_LOGO ? 'hasCusomLogo' : ''}`}\n      >\n        <div className=\"data-tut-store\" styleName=\"walletContent\" ref={balanceRef}>\n          <div styleName=\"walletBalance\">\n            {props.BalanceForm}\n\n            <div\n              className={cx({\n                [styles.desktopEnabledViewForFaq]: true,\n                [styles.faqWrapper]: true,\n              })}\n            >\n              <FAQ />\n            </div>\n          </div>\n          <div\n            styleName={cx({\n              yourAssetsWrapper: activeView === 0,\n              activity: activeView === 1 || activeView === 2,\n              active: true,\n            })}\n          >\n            {showSweepBanner && (\n              <p styleName=\"sweepInfo\">\n                <Button blue>\n                  <FormattedMessage id=\"SweepBannerButton\" defaultMessage=\"Done\" />\n                </Button>\n                <FormattedMessage\n                  id=\"SweepBannerDescription\"\n                  defaultMessage={`Пожалуйста, переместите все средства на кошельки помеченные \"new\" \n                      (USDT и остальные токены переведите на Ethereum (new) адрес). \n                      Затем нажмите кнопку \"DONE\". Старые адреса будут скрыты.`}\n                />\n              </p>\n            )}\n\n            <ModalConductorProvider>{children}</ModalConductorProvider>\n          </div>\n          <div\n            className={cx({\n              [styles.mobileEnabledViewForFaq]: true,\n              [styles.faqWrapper]: true,\n            })}\n          >\n            <FAQ />\n          </div>\n        </div>\n      </section>\n    </article>\n  )\n}\n\nexport default cssModules(DashboardLayout, styles, { allowMultiple: true })\n","export default __webpack_public_path__ + \"images/dollar_02c0b8.svg\";","export default __webpack_public_path__ + \"images/btcIcon_2d852c.svg\";","import * as React from 'react'\nimport { Fragment, useState, useEffect } from 'react'\nimport CSSModules from 'react-css-modules'\nimport actions from 'redux/actions'\nimport cx from 'classnames'\n\nimport styles from 'pages/Wallet/Wallet.scss'\nimport Button from 'components/controls/Button/Button'\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\nimport { BigNumber } from 'bignumber.js'\nimport config from 'app-config'\nimport { FormattedMessage } from 'react-intl'\nimport dollar from './images/dollar.svg'\nimport btc from './images/btcIcon.svg'\n\nfunction BalanceForm({\n  activeFiat,\n  activeCurrency,\n  fiatBalance,\n  currencyBalance,\n  handleReceive,\n  handleWithdraw,\n  currency,\n  handleInvoice = () => {},\n  isFetching = false,\n  showButtons = true,\n  type,\n  singleWallet = false,\n  multisigPendingCount = 10,\n}) {\n  const [selectedCurrency, setActiveCurrency] = useState(activeCurrency)\n  const isDark = document.body.dataset.scheme === 'dark'\n  const isWidgetBuild = config && config.isWidget\n\n  useEffect(() => {\n    if (type === 'wallet' && activeCurrency !== activeFiat.toLowerCase()) {\n      setActiveCurrency('btc')\n    } else {\n      setActiveCurrency(activeCurrency)\n    }\n  }, [activeCurrency])\n\n  const active = activeFiat ? activeFiat.toLowerCase() : 'usd'\n\n  // @ToDo\n  // в Data у валют есть флаги isUserProtected и isSMSProtected\n  // нужно по ним проверять, а не по \"служебному\" названию монеты\n  // Use flags in currency data (isUserProtected and isSMSProtected)\n  // eslint-disable-next-line default-case\n  switch (currency) {\n    case 'btc (sms-protected)':\n    case 'btc (multisig)':\n    case 'btc (pin-protected)':\n      currency = 'BTC'\n      break\n  }\n\n  \n  const handleClickCurrency = (currency) => {\n    setActiveCurrency(currency)\n    actions.user.pullActiveCurrency(currency)\n  }\n\n  const handleGoToMultisig = () => {\n    actions.multisigTx.goToLastWallet()\n  }\n\n  return (\n    <div \n      styleName={\n        `${isWidgetBuild && !config.isFullBuild ? 'yourBalance widgetBuild' : 'yourBalance'}`\n      }\n    >\n      <div styleName=\"yourBalanceTop\" className=\"data-tut-widget-balance\">\n        <p styleName=\"yourBalanceDescr\">\n          {singleWallet\n            ? <FormattedMessage id=\"YourWalletbalance\" defaultMessage=\"Баланс\" />\n            : <FormattedMessage id=\"Yourtotalbalance\" defaultMessage=\"Ваш общий баланс\" />\n          }\n        </p>\n        <div styleName=\"yourBalanceValue\">\n          {isFetching && (\n            <div styleName=\"loaderHolder\">\n              <InlineLoader />\n            </div>\n          )}\n          {selectedCurrency === active ? (\n            // eslint-disable-next-line no-restricted-globals\n            <p>\n              {(activeFiat === 'USD' || activeFiat === 'CAD') && <img src={dollar} alt=\"dollar\" />}\n              {\n                // eslint-disable-next-line no-restricted-globals\n                !isNaN(fiatBalance) ? new BigNumber(fiatBalance).dp(2, BigNumber.ROUND_FLOOR).toString() : ''\n              }\n            </p>\n          ) : (\n            <p className=\"data-tut-all-balance\">\n              {currency.toUpperCase() === 'BTC' ? <img src={btc} alt=\"btc\" /> : ''}\n              {new BigNumber(currencyBalance).dp(6, BigNumber.ROUND_FLOOR).toString()}\n            </p>\n          )}\n        </div>\n        <div styleName=\"yourBalanceCurrencies\">\n          <button\n            styleName={selectedCurrency === active ? 'active' : undefined}\n            onClick={() => handleClickCurrency(active)}\n          >\n            {active}\n          </button>\n          <span styleName=\"separator\" />\n          <button\n            styleName={selectedCurrency === currency ? 'active' : undefined}\n            onClick={() => handleClickCurrency(currency)}\n          >\n            {currency}\n          </button>\n        </div>\n      </div>\n      {multisigPendingCount > 0 && (\n        <div>\n          <p styleName=\"multisigWaitCount\" onClick={handleGoToMultisig}>\n            <FormattedMessage\n              id=\"Balance_YouAreHaveNotSignegTx\"\n              defaultMessage=\"{count} transaction needs your confirmation\"\n              values={{\n                count: multisigPendingCount,\n              }}\n            />\n          </p>\n        </div>\n      )}\n      <div\n        className={cx({\n          [styles.yourBalanceBottomWrapper]: true,\n        })}\n      >\n        <div styleName=\"yourBalanceBottom\">\n          {showButtons ? (\n            <div styleName=\"btns\" className=\"data-tut-withdraw-buttons\">\n              <Button blue id=\"depositBtn\" onClick={() => handleReceive('Deposit')}>\n                <FormattedMessage id=\"YourtotalbalanceDeposit\" defaultMessage=\"Пополнить\" />\n              </Button>\n              <Button blue disabled={!currencyBalance} id=\"sendBtn\" onClick={() => handleWithdraw('Send')}>\n                <FormattedMessage id=\"YourtotalbalanceSend\" defaultMessage=\"Отправить\" />\n              </Button>\n            </div>\n          ) : (\n            <Button blue disabled={!currencyBalance} styleName=\"button__invoice\" onClick={handleInvoice}>\n              <FormattedMessage id=\"RequestPayment\" defaultMessage=\"Запросить\" />\n            </Button>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default CSSModules(BalanceForm, styles, { allowMultiple: true })\n","import React, { PureComponent } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { FormattedMessage, injectIntl } from 'react-intl'\nimport { connect } from 'redaction'\nimport cssModules from 'react-css-modules'\nimport { isMobile } from 'react-device-detect'\nimport { BigNumber } from 'bignumber.js'\nimport moment from 'moment'\n\nimport appConfig from 'app-config'\nimport actions from 'redux/actions'\nimport styles from './Wallet.scss'\nimport { links, constants, stats, user } from 'helpers'\nimport { localisedUrl } from 'helpers/locale'\nimport getTopLocation from 'helpers/getTopLocation'\nimport config from 'helpers/externalConfig'\nimport metamask from 'helpers/metamask'\nimport wpLogoutModal from 'helpers/wpLogoutModal'\nimport feedback from 'helpers/feedback'\n\nimport CurrenciesList from './CurrenciesList'\nimport InvoicesList from 'pages/Invoices/InvoicesList'\nimport History from 'pages/History/History'\nimport DashboardLayout from 'components/layout/DashboardLayout/DashboardLayout'\nimport BalanceForm from 'components/BalanceForm/BalanceForm'\n\n\nconst isWidgetBuild = config && config.isWidget\n\n@connect(\n  ({\n    core: { hiddenCoinsList },\n    user,\n    user: {\n      activeFiat,\n      ethData,\n      bnbData,\n      maticData,\n      arbethData,\n      btcData,\n      ghostData,\n      nextData,\n      tokensData,\n      btcMultisigSMSData,\n      btcMultisigUserData,\n      btcMultisigUserDataList,\n      isBalanceFetching,\n      multisigPendingCount,\n      activeCurrency,\n      metamaskData,\n    },\n    currencies: { items: currencies },\n    modals,\n  }) => {\n    const userCurrencyData = [\n      ethData,\n      bnbData,\n      maticData,\n      arbethData,\n      btcData,\n      ghostData,\n      nextData,\n      ...Object.keys(tokensData).map((k) => tokensData[k]),\n    ]\n\n    return {\n      userCurrencyData,\n      currencies,\n      isBalanceFetching,\n      multisigPendingCount,\n      hiddenCoinsList,\n      user,\n      activeCurrency,\n      activeFiat,\n      coinsData: {\n        ethData,\n        bnbData,\n        maticData,\n        arbethData,\n        metamaskData: {\n          ...metamaskData,\n          currency: 'ETH Metamask',\n        },\n        btcData,\n        ghostData,\n        nextData,\n        btcMultisigSMSData,\n        btcMultisigUserData,\n        btcMultisigUserDataList,\n      },\n      modals,\n    }\n  }\n)\n@withRouter\n@cssModules(styles, { allowMultiple: true })\nclass Wallet extends PureComponent<any, any> {\n  syncTimer: ReturnType<typeof setTimeout> | null = null\n\n  constructor(props) {\n    super(props)\n\n    const {\n      match: {\n        params: { page = null },\n      },\n      multisigPendingCount,\n    } = props\n\n    let activeComponentNum = 0\n\n    if (page === 'history' && !isMobile) {\n      activeComponentNum = 1\n    }\n    if (page === 'invoices') {\n      activeComponentNum = 2\n    }\n\n    this.state = {\n      activeComponentNum,\n      btcBalance: 0,\n      enabledCurrencies: user.getActivatedCurrencies(),\n      multisigPendingCount,\n    }\n  }\n\n  handleConnectWallet() {\n    const {\n      history,\n      intl: { locale },\n    } = this.props\n\n    if (metamask.isConnected()) {\n      history.push(localisedUrl(locale, links.home))\n      return\n    }\n\n    setTimeout(() => {\n      metamask.connect({})\n    }, 100)\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      match: {\n        params: { page: prevPage = null },\n      },\n      multisigPendingCount: prevMultisigPendingCount,\n      location: { pathname: prevPathname },\n    } = prevProps\n\n    const {\n      match: {\n        params: { page = null },\n      },\n      multisigPendingCount,\n      intl,\n      intl: { locale },\n      location: { pathname },\n      history,\n    } = this.props\n\n    if (\n      pathname.toLowerCase() != prevPathname.toLowerCase() &&\n      pathname.toLowerCase() == links.connectWallet.toLowerCase()\n    ) {\n      this.handleConnectWallet()\n    }\n\n    if (page !== prevPage || multisigPendingCount !== prevMultisigPendingCount) {\n      let activeComponentNum = 0\n\n      if (page === 'history' && !isMobile) activeComponentNum = 1\n      if (page === 'invoices') activeComponentNum = 2\n\n      if (page === 'exit') {\n        wpLogoutModal(() => {\n          history.push(localisedUrl(locale, links.home))\n        }, intl)\n      }\n\n      this.setState(() => ({\n        activeComponentNum,\n        multisigPendingCount,\n      }))\n    }\n    //@ts-ignore\n    clearTimeout(this.syncTimer)\n  }\n\n  componentDidMount() {\n    const {\n      match: {\n        params,\n        params: { page },\n        url,\n      },\n      multisigPendingCount,\n      history,\n      location: { pathname },\n      intl,\n      intl: { locale },\n    } = this.props\n\n    if (pathname.toLowerCase() == links.connectWallet.toLowerCase()) {\n      this.handleConnectWallet()\n    }\n\n    actions.user.getBalances()\n\n    actions.user.fetchMultisigStatus()\n\n    if (url.includes('send')) {\n      this.handleWithdraw(params)\n    }\n\n    if (page === 'exit') {\n      wpLogoutModal(() => {\n        history.push(localisedUrl(locale, links.home))\n      }, intl)\n    }\n    this.getInfoAboutCurrency()\n    this.setState({\n      multisigPendingCount,\n    })\n  }\n\n  getInfoAboutCurrency = async () => {\n    const { currencies } = this.props\n    const currencyNames = currencies.map(({ name }) => name)\n\n    await actions.user.getInfoAboutCurrency(currencyNames)\n  }\n\n  handleWithdraw = (params) => {\n    const { userCurrencyData } = this.state\n    const { address, amount } = params\n    const item = userCurrencyData.find(\n      ({ currency }) => currency.toLowerCase() === params.currency.toLowerCase()\n    )\n\n    actions.modals.open(constants.modals.Withdraw, {\n      ...item,\n      toAddress: address,\n      amount,\n    })\n  }\n\n  goToСreateWallet = () => {\n    feedback.wallet.pressedAddCurrency()\n    const {\n      history,\n      intl: { locale },\n    } = this.props\n\n    history.push(localisedUrl(locale, links.createWallet))\n  }\n\n  handleReceive = (context) => {\n    const widgetCurrencies = user.getWidgetCurrencies()\n    const filteredCurrencies = user.filterUserCurrencyData(actions.core.getWallets())\n\n    const availableWallets = filteredCurrencies.filter((item) => {\n      const { isMetamask, isConnected, currency, balance } = item\n\n      return (\n        (context !== 'Send' || balance) &&\n        (!isMetamask || (isMetamask && isConnected)) &&\n        (!isWidgetBuild || widgetCurrencies.includes(currency))\n      )\n    })\n\n    actions.modals.open(constants.modals.CurrencyAction, {\n      currencies: availableWallets,\n      context,\n    })\n  }\n\n  handleWithdrawFirstAsset = () => {\n    const {\n      history,\n      intl: { locale },\n    } = this.props\n    const userCurrencyData = actions.core.getWallets({})\n    const availableWallets = user.filterUserCurrencyData(userCurrencyData)\n\n    if (\n      !Object.keys(availableWallets).length ||\n      (Object.keys(availableWallets).length === 1 && !user.isCorrectWalletToShow(availableWallets[0]))\n    ) {\n      actions.notifications.show(\n        constants.notifications.Message,\n        {message: (\n          <FormattedMessage\n            id=\"WalletEmptyBalance\"\n            defaultMessage=\"No wallets available\"\n          />\n        )}\n      )\n\n      return\n    }\n\n    const firstWallet = user.isCorrectWalletToShow(availableWallets[0]) ? availableWallets[0] : availableWallets[1]\n\n    const { currency, address, tokenKey } = firstWallet\n    let targetCurrency = currency\n\n    switch (currency.toLowerCase()) {\n      case 'btc (multisig)':\n      case 'btc (sms-protected)':\n      case 'btc (pin-protected)':\n        targetCurrency = 'btc'\n    }\n\n    const firstUrlPart = tokenKey ? `/token/${tokenKey}` : `/${targetCurrency}`\n\n    history.push(\n      localisedUrl(locale, `${firstUrlPart}/${address}/send`)\n    )\n  }\n\n  returnFiatBalanceByWallet = (wallet) => {\n    const hasFiatPrice = wallet.balance > 0 && wallet.infoAboutCurrency?.price_fiat\n\n    if (hasFiatPrice) {\n      return new BigNumber(wallet.balance)\n        .multipliedBy(wallet.infoAboutCurrency.price_fiat)\n        .dp(2, BigNumber.ROUND_FLOOR)\n        .toNumber()\n    }\n\n    return 0\n  }\n\n  addFiatBalanceInUserCurrencyData = (currencyData) => {\n    currencyData.forEach((wallet) => {\n      wallet.fiatBalance = this.returnFiatBalanceByWallet(wallet)\n    })\n\n    return currencyData\n  }\n\n  returnBalanceInBtc = (wallet) => {\n    const widgetCurrencies = user.getWidgetCurrencies()\n    const name = wallet.currency || wallet.name\n\n    if (\n      (!isWidgetBuild || widgetCurrencies.includes(name)) &&\n      !wallet.balanceError &&\n      wallet.infoAboutCurrency?.price_btc &&\n      wallet.balance > 0\n    ) {\n      return wallet.balance * wallet.infoAboutCurrency.price_btc\n    }\n\n    return 0\n  }\n\n  returnTotalBalanceInBtc = (currencyData) => {\n    let balance = new BigNumber(0)\n\n    currencyData.forEach((wallet) => {\n      balance = balance.plus(this.returnBalanceInBtc(wallet))\n    })\n\n    return balance.toNumber()\n  }\n\n  returnTotalFiatBalance = (currencyData) => {\n    let balance = new BigNumber(0)\n\n    currencyData.forEach((wallet) => {\n      balance = balance.plus(wallet.fiatBalance)\n    })\n\n    return balance.toNumber()\n  }\n\n  syncData = () => {\n    // that is for noxon, dont delete it :)\n    const now = moment().format('HH:mm:ss DD/MM/YYYY')\n    const lastCheck = localStorage.getItem(constants.localStorage.lastCheckBalance) || now\n    const lastCheckMoment = moment(lastCheck, 'HH:mm:ss DD/MM/YYYY')\n\n    const isFirstCheck = moment(now, 'HH:mm:ss DD/MM/YYYY').isSame(lastCheckMoment)\n    const isOneHourAfter = moment(now, 'HH:mm:ss DD/MM/YYYY').isAfter(\n      lastCheckMoment.add(1, 'hours')\n    )\n\n    const { ethData } = this.props.coinsData\n\n    this.syncTimer = setTimeout(async () => {\n      if (config?.entry !== 'mainnet' || !metamask.isCorrectNetwork()) {\n        return;\n      }\n      if (isOneHourAfter || isFirstCheck) {\n        localStorage.setItem(constants.localStorage.lastCheckBalance, now)\n        try {\n          const ipInfo = await stats.getIPInfo()\n\n          const registrationData: {\n            locale: string\n            ip: string\n            widget_url?: string\n            wallets?: IUniversalObj[]\n          } = {\n            locale:\n              ipInfo.locale ||\n              (navigator.userLanguage || navigator.language || 'en-gb').split('-')[0],\n            ip: ipInfo.ip,\n          }\n\n          let widgetUrl\n          if (appConfig.isWidget) {\n            widgetUrl = getTopLocation().origin\n\n            registrationData.widget_url = widgetUrl\n          }\n\n          const tokensArray: any[] = Object.values(this.props.coinsData)\n\n          const wallets = tokensArray.map((item) => ({\n            symbol: item && item.currency ? item.currency.split(' ')[0] : '',\n            type: item && item.currency ? item.currency.split(' ')[1] || 'common' : '',\n            address: item && item.address ? item.address : '',\n            balance: item && item.balance ? new BigNumber(item.balance).toNumber() : 0,\n            public_key: item && item.publicKey ? item.publicKey.toString('Hex') : '',\n            entry: config?.entry ? config.entry : 'testnet:undefined',\n          }))\n\n          registrationData.wallets = wallets\n\n          await stats.updateUser(ethData.address, getTopLocation().host, registrationData)\n        } catch (error) {\n          console.group('wallet >%c syncData', 'color: red;')\n          console.error(`Sync error in wallet: ${error}`)\n          console.groupEnd()\n        }\n      }\n    }, 2000)\n  }\n\n  render() {\n    const {\n      activeComponentNum,\n      multisigPendingCount,\n    } = this.state\n\n    const {\n      hiddenCoinsList,\n      isBalanceFetching,\n      activeFiat,\n      activeCurrency,\n      match: {\n        params: { page = null },\n      },\n    } = this.props\n\n    if (!window?.STATISTIC_DISABLED) {\n      this.syncData()\n    }\n\n    let userWallets = user.filterUserCurrencyData(actions.core.getWallets({}))\n\n    userWallets = this.addFiatBalanceInUserCurrencyData(userWallets)\n\n    const balanceInBtc = this.returnTotalBalanceInBtc(userWallets)\n    const allFiatBalance = this.returnTotalFiatBalance(userWallets)\n\n    return (\n      <DashboardLayout\n        page={page}\n        BalanceForm={\n          <BalanceForm\n            activeFiat={activeFiat}\n            fiatBalance={allFiatBalance}\n            currencyBalance={balanceInBtc}\n            activeCurrency={activeCurrency}\n            handleReceive={this.handleReceive}\n            handleWithdraw={this.handleWithdrawFirstAsset}\n            isFetching={isBalanceFetching}\n            type=\"wallet\"\n            currency=\"btc\"\n            multisigPendingCount={multisigPendingCount}\n          />\n        }\n      >\n        {activeComponentNum === 0 && (\n          <CurrenciesList\n            tableRows={userWallets}\n            hiddenCoinsList={hiddenCoinsList}\n            goToСreateWallet={this.goToСreateWallet}\n            multisigPendingCount={multisigPendingCount}\n          />\n        )}\n        {activeComponentNum === 1 && <History {...this.props} />}\n        {activeComponentNum === 2 && <InvoicesList {...this.props} onlyTable={true} />}\n      </DashboardLayout>\n    )\n  }\n}\n\nexport default injectIntl(Wallet)\n","// extracted by mini-css-extract-plugin\nexport default {\"promoContainer\":\"QBiTnhmDM13s3PXhiXxCC\",\"switchButton\":\"jO2gW5gfo0yci5GClrv_N\",\"exchangeWrap\":\"N_JvG8-a2jaGtSHk_kTWu\",\"container\":\"_3IricTX7s1VZrVfiGtGavm\",\"link\":\"qZCK1fkTpkQHfJO_MjuQ3\",\"button-like\":\"_1vhP3jTsC3vHnU6aaauJu0\",\"liquidity\":\"_1okyA_sEkcoEKQmfsasmo_\",\"button\":\"Ic2fQibvH2FEx6pDXW0fz\",\"link-like\":\"bci_zX_6kO1Dq4gvn2q_a\",\"noMany\":\"_3ttmKnvcVL9BV1JZ-MjzCY\",\"disabled\":\"_14wl--IHL9TJAU54dUtCJu\",\"orderbook\":\"_1J1YaEd628CZ2KFEUZpJb6\",\"buttonContinueSwap\":\"_2em_Om9D_RGARC5DvnNr_\",\"swapModeSelector\":\"_2n1sPzVyNlrz9ELgpnZlQV\",\"toggle\":\"_3zwKlDj-CSfNwcRIRdtzpl\",\"toggleText\":\"_2USMlkdQpg0xfAzGpBiTOj\",\"errors\":\"P5u5pd6e2DgmW5u8JrDzI\",\"conditions\":\"_1A93Un9WxaJeoIcBI05tfx\",\"price\":\"_1wAeF4SlphVJYGPKcP99GV\",\"fees\":\"cTbzSAhsZ8Tj3Rl4HMc9u\",\"serviceFee\":\"_1WeB22CvJQNSS0gPy7KuKc\",\"minerFee\":\"E7cey4zhnRnb6AuvlZGrP\",\"minerFeeUpdateBtn\":\"_30dbkRg_K7UsCHyg1MGFdt\",\"buttons\":\"_1TvJUNKFMrVCm-WRT5Fxwj\",\"swapStartStatus\":\"_1FsdcX21NgN8qVtXU7A1IG\",\"swapStartStatusLoader\":\"_26bzAJXh3r5WIme8vxOB6Z\",\"section\":\"_1fxs4Inq7LSdWxSEefLhGa\",\"maxAmount\":\"_2etjUjIuGL3FkSDZx3y4OC\",\"formExchange\":\"_2dmgUStsiu9VRhdzY9DraE\",\"userSendAndGet\":\"_1e3LUt_spgyLYYskH9pwpE\",\"error\":\"_2FqKbz8AIa_b3nA0rhlUH-\",\"errorAppend\":\"_2Ywpa3ikJyGYWW9p9QZbVb\",\"smallError\":\"_3xRMX3vKyNi2UiLlPmEW8A\",\"errorLink\":\"_18ry3W25N6C34SC7yfImZD\",\"row\":\"_1vg_TKlaG0S6L3qjkaf8t5\",\"inform\":\"_2b7wuKeg190lJ8NBFyBVJU\",\"close\":\"_3cvzEYfyxfP8WxX3RuMjIT\",\"extendedControls\":\"_33vqB3x3yAGi98rJapdTT1\",\"networkStatusPlace\":\"_2SV0DfSmO7TVIbtCoqeh3P\",\"block\":\"_23stqIs4d_VuH9utkQ57Xn\",\"scrollAnimation\":\"_3v3FD1FEV3f5c2pfp99rJh\"};","import React from 'react'\nimport { FormattedMessage, injectIntl } from 'react-intl'\n\nimport CSSModules from 'react-css-modules'\nimport styles from './SelectGroup.scss'\nimport partialStyles from '../Exchange.scss'\n\nimport Input from 'components/forms/Input/Input'\nimport FieldLabel from 'components/forms/FieldLabel/FieldLabel'\nimport CurrencySelect from 'components/ui/CurrencySelect/CurrencySelect'\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\nimport { BigNumber } from 'bignumber.js'\n\nimport { inputReplaceCommaWithDot } from 'helpers/domUtils'\nimport getCoinInfo from 'common/coins/getCoinInfo'\n\n// TODO to split data and view this component\nconst SelectGroup = (props) => {\n  const {\n    dynamicFee,\n    isToken,\n    extendedControls,\n    selectedValue,\n    onSelect,\n    currencies,\n    fiat,\n    placeholder,\n    label,\n    disabled,\n    className,\n    inputValueLink,\n    tooltip,\n    balance,\n    error,\n    id,\n    idFee,\n    tooltipAboutFee,\n    haveAmount,\n    inputToolTip,\n    activeFiat,\n    balanceTooltip,\n  } = props\n  return (\n    <div styleName=\"selectGroup\">\n      <FieldLabel inRow>\n        <strong>{label}</strong>\n        {tooltip && (\n          <span>\n            <span>&nbsp;</span>\n            <div styleName=\"smallTooltip\">\n              <Tooltip id={id}>{tooltip}</Tooltip>\n            </div>\n          </span>\n        )}\n      </FieldLabel>\n      <div styleName=\"groupField\" className={className}>\n        <Input\n          styleName=\"inputRoot\"\n          inputContainerClassName=\"inputContainer\"\n          inputClassName=\"selectGroupInput\"\n          valueLink={inputValueLink}\n          type=\"number\"\n          placeholder={placeholder}\n          pattern=\"0-9\\.\"\n          errorStyle={error}\n          disabled={disabled}\n          onFocus={props.onFocus ? props.onFocus : () => {}}\n          onBlur={props.onBlur ? props.onBlur : () => {}}\n          onKeyDown={inputReplaceCommaWithDot}\n        />\n        {fiat > 0 && (\n          <p styleName=\"textUsd\">\n            {`~${fiat}`} {activeFiat}\n          </p>\n        )}\n        {inputToolTip && inputToolTip}\n        {balanceTooltip && (\n          <div styleName=\"smallTooltip balanceTooltip\">\n            <Tooltip id=\"SelectGroupTooltipBalance\">{balanceTooltip()}</Tooltip>\n          </div>\n        )}\n        <CurrencySelect\n          selectedItemRender={(item) =>  {\n            const {blockchain} = getCoinInfo(item.value)\n\n            return blockchain ? `${item.title} (${blockchain})` : item.fullTitle\n          }}\n          styleName=\"currencySelect\"\n          placeholder=\"Enter the name of coin\"\n          selectedValue={selectedValue}\n          onSelect={onSelect}\n          currencies={currencies}\n        />\n      </div>\n      {label.props.defaultMessage === 'You sell' &&\n        !extendedControls &&\n        (balance > 0 ? (\n          !isToken && (\n            <span\n              styleName={\n                new BigNumber(balance).isLessThan(new BigNumber(haveAmount).plus(dynamicFee))\n                  ? 'red'\n                  : 'balance'\n              }\n            >\n              <FormattedMessage\n                id=\"select75\"\n                defaultMessage=\"Available for exchange: {availableBalance} {tooltip}\"\n                values={{\n                  availableBalance: `${new BigNumber(balance).minus(\n                    dynamicFee\n                  )} ${selectedValue.toUpperCase()}`,\n                  tooltip: <Tooltip id={idFee}> {tooltipAboutFee}</Tooltip>,\n                }}\n              />\n            </span>\n          )\n        ) : (\n          <span styleName=\"textForNull\">\n            <FormattedMessage\n              id=\"selected53\"\n              defaultMessage=\"You can use an external wallet to perform a swap\"\n            />\n          </span>\n        ))}\n    </div>\n  )\n}\n\nexport default injectIntl(\n  CSSModules(SelectGroup, { ...styles, ...partialStyles }, { allowMultiple: true })\n)\n","// extracted by mini-css-extract-plugin\nexport default {\"selectGroup\":\"_1fTAh9N9XLAq50E2AQZv4e\",\"groupField\":\"dGtunYdwBOShFkHSovaia\",\"balanceTooltip\":\"_1SoqlIWtGZB5OOQHtk4vUP\",\"smallTooltip\":\"_1CogeBGRjQsOOs_fVAJkj7\",\"textUsd\":\"xESBbwvJ7GxvSN3LIm0TS\",\"inputRoot\":\"_3hHghRrqYwBbS6PlE-67yx\",\"textForNull\":\"_3V9HsaqDAXPlXNFGsoGJJH\",\"inputContainer\":\"jZKoLzOlm2Af7jZpN995S\",\"balance\":\"_32EkOZrn4bMESNn53XzP4T\",\"red\":\"_14qn1JPOfbT6HkWePXaQzW\",\"selectGroupContainer\":\"_3MdTS4b1tbi_okUKM9dG_a\",\"currencySelect\":\"_1f3rVTChfEWKlYaHvSTMv5\",\"dropDown\":\"_3zSic9xkq_FxqmIucyIl1k\"};","import React from 'react'\nimport CSSModules from 'react-css-modules'\nimport styles from './Promo.scss'\nimport { FormattedMessage } from 'react-intl'\n\nconst Promo = () => {\n  return (\n    <div styleName=\"promo\">\n      <div styleName=\"promoWrap\">\n        <h3 styleName=\"promoText\">\n          <FormattedMessage id=\"ExchangeTitleTag1\" defaultMessage=\"Fastest cross-chain swaps\" />\n        </h3>\n      </div>\n    </div>\n  )\n}\n\nexport default CSSModules(Promo, styles)\n","// extracted by mini-css-extract-plugin\nexport default {\"promoWrap\":\"_2ChwgEsAY9DqtI4DLxzPf2\",\"promo\":\"_3idJEc4oHz4Qeu8WqM_nIs\",\"promoText\":\"VqeP_FrVnQkmRRcTgK07\"};","import React from 'react'\nimport { FormattedMessage } from 'react-intl'\nimport CSSModules from 'react-css-modules'\nimport styles from './styles.scss'\n\n/* eslint-disable */\nconst Quote = () => {\n  const href = \"https://blog.qtum.org/atomic-cross-chain-swap-on-qtum-7e756a890ed7\"\n  return (\n    <div styleName=\"container\">\n      <div styleName=\"header\">\n        &#34;\n      <FormattedMessage\n          id=\"Quote\"\n          defaultMessage=\"The swap.online project realizes swaps among Bitcoin-like, Ethereum-like, and made a product for users to execute swaps\"\n        />\n        &#34;\n    </div>\n      <a href={href} title={href} target=\"_blank\" rel=\"noopener noreferrer\" styleName=\"href\">\n        <b>\n          — QTUM official Atomic Swap research\n          <span> https://blog.qtum.org/atomic-cross-chain-swap-on-qtum-7e756a890ed7</span>\n        </b>\n      </a>\n    </div>\n  )\n}\n/* eslint-enable */\n\nexport default CSSModules(Quote, styles, { allowMultiple: true })\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"cnPX2jCei18ZWc4zE_7aL\",\"header\":\"_12j6QDkf5dPsOXugm-dmqX\",\"href\":\"hYvZyJI3j2N1fLgBMMy4F\"};","import React from 'react'\nimport { FormattedMessage } from 'react-intl'\nimport CSSModules from 'react-css-modules'\nimport styles from './HowItWorks.scss'\n\nconst HowItWorks = () => (\n  <div styleName=\"HowItWorksContainer\">\n    <h3 styleName=\"HowItWorksTitle\">\n      <FormattedMessage id=\"HowItWorks10\" defaultMessage=\"How Does It Work\" />\n    </h3>\n    <div styleName=\"HowItWorksList\">\n      <div styleName=\"HowItWorksItem\">\n        <span styleName=\"HowItWorksStep\">\n          <FormattedMessage id=\"HowItWorks18\" defaultMessage=\"1. Select your cryptocurrency and the amount.\" />\n        </span>\n        <span styleName=\"HowItWorksInfo\">\n          <FormattedMessage id=\"HowItWorks21\" defaultMessage=\"Choose a cryptocurrency that you have at your disposal on any external wallet, exchange, or Swap Online wallet\" />\n        </span>\n      </div>\n      <div styleName=\"HowItWorksItem\">\n        <span styleName=\"HowItWorksStep\">\n          <FormattedMessage id=\"HowItWorks26\" defaultMessage=\"2. Click “Exchange”\" />\n        </span>\n        <span styleName=\"HowItWorksInfo\">\n          <FormattedMessage id=\"HowItWorks29\" defaultMessage=\"If a suitable order is found and the seller confirms the exchange, you will be redirected to the exchange page\" />\n        </span>\n      </div>\n      <div styleName=\"HowItWorksItem\">\n        <span styleName=\"HowItWorksStep\">\n          <FormattedMessage id=\"HowItWorks34\" defaultMessage=\"3. Make a cryptocurrency deposit.\" />\n        </span>\n        <span styleName=\"HowItWorksInfo\">\n          <FormattedMessage id=\"HowItWorks37\" defaultMessage=\"In the event that the required amount is available on your internal wallet, the deposit will be executed automatically.\" /> {/* eslint-disable-line */}\n        </span>\n      </div>\n      <div styleName=\"HowItWorksItem\">\n        <span styleName=\"HowItWorksStep\">\n          <FormattedMessage id=\"HowItWorks42\" defaultMessage=\"4. Confirm completion of the swap.\" />\n        </span>\n        <span styleName=\"HowItWorksInfo\">\n          <FormattedMessage\n            id=\"HowItWorks45\"\n            defaultMessage=\"The exchange usually takes about a minute.  At the end of the swap, you will see the txid and will be able to confirm completion of the transfer on your end.\" /> {/* eslint-disable-line */}\n        </span>\n      </div>\n    </div>\n  </div>\n)\n\nexport default CSSModules(HowItWorks, styles, { allowMultiple: true })\n","// extracted by mini-css-extract-plugin\nexport default {\"HowItWorksTitle\":\"ddujllRU70KRLmNBUJsH5\",\"HowItWorksList\":\"_1Yf7Tta_fCfJsEVmfTsNr-\",\"HowItWorksItem\":\"_114ZrvRQIv7x7CKzu6FDDg\",\"HowItWorksStep\":\"_36yzKZ893XNC60moHYchKg\",\"HowItWorksInfo\":\"W1PGo-Zpe57qK344EMLYS\",\"HowItWorksContainer\":\"_3DcGjmgHINu-ZGz0Gy2oZD\"};","import React from 'react'\nimport { FormattedMessage, injectIntl } from 'react-intl'\nimport CSSModules from 'react-css-modules'\nimport styles from './VideoAndFeatures.scss'\n\nconst VideoAndFeatures = (props) => (\n  <div styleName=\"VidNdFeatures\">\n    <div styleName=\"VidNdFeatures__container\">\n      <div styleName=\"VidNdFeatures__item VidNdFeatures__item_features\">\n        <ul>\n          <li><FormattedMessage id=\"partialVideoAndFeatures0\" defaultMessage=\"Based on Atomic Swap technology\" /></li>\n          <li><FormattedMessage id=\"partialVideoAndFeatures1\" defaultMessage=\"Exchange only takes 2 minutes\" /></li>\n          <li><FormattedMessage id=\"partialVideoAndFeatures2\" defaultMessage=\"Supports BTC, ETH, USDT, ERC-20 tokens\" /></li>\n          <li><FormattedMessage id=\"partialVideoAndFeatures3\" defaultMessage=\"Can be deployed on any website as an exchange service\" /></li>\n        </ul>\n      </div>\n      <div styleName=\"VidNdFeatures__item VidNdFeatures__item_video\">\n        <iframe\n          title=\"Preview\"\n          width=\"100%\"\n          height=\"300\"\n          src={props.intl.formatMessage({ id: 'VidLinkFrame', defaultMessage: 'https://www.youtube.com/embed/Jhrb7xOT_7s' })}\n          frameBorder=\"0\"\n          allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n          allowFullScreen\n        />\n      </div>\n    </div>\n  </div>\n)\n\nexport default injectIntl(CSSModules(VideoAndFeatures, styles, { allowMultiple: true }))\n","// extracted by mini-css-extract-plugin\nexport default {\"VidNdFeatures\":\"dbuNGP42PrzraOI1ciQ1Q\",\"VidNdFeatures__title\":\"_1cLkf3tZfbK601CNwUdldr\",\"VidNdFeatures__container\":\"_1qweo_WhtQ8u38yl8JEDCA\",\"VidNdFeatures__item_features\":\"_1u6iN0gmKBeDebfJc8kOnq\",\"VidNdFeatures__item_video\":\"iapfbFijyaTlO5OZGa7o8\",\"VidNdFeatures__item\":\"_39we7n8ScxDoT3-8CiY452\"};","import React from 'react'\n\nimport cssModules from 'react-css-modules'\nimport styles from './Option.scss'\n\n\nconst Option = ({ icon, title, smalltext, disabled }) => (\n  <div styleName={`optionrow ${disabled ? 'disabled' : ''}`}>\n    {icon && (\n      <em>\n        <img src={icon} />\n      </em>\n    )}\n    <div styleName={`optionTitle ${smalltext ? 'smalltext' : ''}`}>{title}</div>\n  </div>\n)\n\n\nexport default cssModules(Option, styles, { allowMultiple: true })\n","// extracted by mini-css-extract-plugin\nexport default {\"optionrow\":\"_3DzXZ7YnRUdE40Jz25_hmL\",\"disabled\":\"_1Fz1vpLds9ZgXYNZShBCK4\",\"optionTitle\":\"_1cFCakSfZyodnlJNPQf4A3\",\"smalltext\":\"_2wIzyPYZt-iP_y-fchyHbI\"};","export default __webpack_public_path__ + \"images/logo-black_bc656a.svg\";","export default __webpack_public_path__ + \"images/custom_f3c582.svg\";","import React, { Component, Fragment } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport Link from 'local_modules/sw-valuelink'\n\nimport styles from './AddressSelect.scss'\nimport cssModules from 'react-css-modules'\nimport { FormattedMessage, defineMessages, injectIntl } from 'react-intl'\nimport Input from 'components/forms/Input/Input'\nimport DropDown from 'components/ui/DropDown'\nimport Address from 'components/ui/Address/Address'\nimport { AddressFormat } from 'domain/address'\nimport metamask from 'helpers/metamask'\nimport { Button } from 'components/controls'\nimport erc20Like from 'common/erc20Like'\nimport Option from './Option/Option'\nimport { links } from 'helpers'\nimport { isAllowedCurrency } from 'helpers/user'\nimport actions from 'redux/actions'\nimport feedback from 'shared/helpers/feedback'\nimport web3Icons from 'shared/images'\nimport { isMobile } from 'react-device-detect'\nimport QrReader from 'components/QrReader'\nimport iconInternal from 'images/logo/logo-black.svg'\nimport iconCustom from 'images/custom.svg'\n\nimport getCoinInfo from 'common/coins/getCoinInfo'\n\nimport { AddressType, AddressRole } from 'domain/address'\nimport { COIN_DATA, COIN_MODEL } from 'swap.app/constants/COINS'\n\nconst langLabels = defineMessages({\n  labelSpecifyAddress: {\n    id: 'Exchange_SpecifyAddress',\n    defaultMessage: 'Select...',\n  },\n  optionInternal: {\n    id: 'Exchange_InternalAddressOption',\n    defaultMessage: 'Internal',\n  },\n  optionInternalDisabled: {\n    id: 'Exchange_InternalAddressOptionDisabled',\n    defaultMessage: 'Internal (insufficient balance)',\n  },\n  optionInternalCreate: {\n    id: 'Exchange_InternalCreate',\n    defaultMessage: 'Create wallet',\n  },\n  optionConnect: {\n    id: 'Exchange_ConnectAddressOption',\n    defaultMessage: 'Connect Wallet',\n  },\n  optionCustom: {\n    id: 'Exchange_CustomAddressOption',\n    defaultMessage: 'External wallet',\n  },\n  placeholderAddress: {\n    id: 'Exchange_PlaceholderEnterAddress',\n    defaultMessage: 'Enter the receiving wallet address',\n  },\n  connectMetamask: {\n    id: 'CommonTextConnect',\n    defaultMessage: 'Connect',\n  },\n})\n\ntype AddressSelectProps = {\n  role: string\n  currency: string\n  selectedType?: string\n  placeholder?: string\n  balance?: number\n  hasError?: boolean\n  onChange: ({}) => void\n  history: IUniversalObj\n  intl: IUniversalObj\n  label: IUniversalObj\n}\n\ntype DropDownOptions = {\n  value: string\n  disabled?: boolean\n  reduceSelectedItemText?: boolean\n  dontSelect?: boolean\n  hidden?: boolean\n  title: JSX.Element\n  icon?: SVGElement\n}\n\ntype AddressSelectState = {\n  address: string\n  currency: string\n  selectedType: string\n  metamaskAddress: string\n  walletAddressFocused: boolean\n  isMetamaskConnected: boolean\n  isScanActive: boolean\n  hasError: boolean\n  dropDownOptions: Array<DropDownOptions>\n}\n\n\n\n@withRouter\n@cssModules(styles, { allowMultiple: true })\nclass AddressSelect extends Component<AddressSelectProps, AddressSelectState> {\n  constructor(props) {\n    super(props)\n\n    const { currency, hasError = false, selectedType = false } = props\n\n    this.state = {\n      currency,\n      hasError,\n      address: '',\n      selectedType: selectedType || 'Internal',\n      walletAddressFocused: false,\n      isMetamaskConnected: metamask.isConnected(),\n      metamaskAddress: metamask.getAddress()|| '',\n      isScanActive: false,\n      dropDownOptions: [],\n    }\n  }\n\n  getTicker = () => {\n    return this.props.currency.toUpperCase()\n  }\n\n  getInternalAddress = () => {\n    const { currency } = this.props\n    const currentWallet = actions.core.getWallet({\n      currency,\n      addressType: AddressType.Internal,\n    })\n\n    return currentWallet ? currentWallet.address : false\n  }\n\n  isCurrencyInInternalWallet = () => {\n    const ticker = this.getTicker()\n    const internalAddress = this.getInternalAddress()\n\n    return !internalAddress\n      ? false\n      : isAllowedCurrency(ticker, internalAddress)\n  }\n\n  handleFocusAddress = () => {\n    this.setState({\n      walletAddressFocused: true,\n    })\n  }\n\n  onWeb3Updated = () => {\n    this.setState({\n      isMetamaskConnected: metamask.isConnected(),\n      metamaskAddress: metamask.getAddress() || '',\n    })\n  }\n\n  componentDidMount() {\n    metamask.web3connect.on('updated', this.onWeb3Updated)\n    this.prepareDropDownOptions()\n  }\n\n  componentWillUnmount() {\n    metamask.web3connect.off('updated', this.onWeb3Updated)\n  }\n\n  componentDidUpdate(prevProps) {\n    const { currency: newCurrency, selectedType, hasError = false, balance } = this.props\n\n    const {balance: oldBalance} = prevProps\n\n    const {\n      currency: oldCurrency,\n      hasError: oldHasError = false,\n    } = this.state\n\n    if(!isNaN(Number(oldBalance)) && !isNaN(Number(balance)) && oldBalance !== balance){\n      this.prepareDropDownOptions(selectedType)\n    }\n\n    if (newCurrency !== oldCurrency || hasError !== oldHasError) {\n      this.setState({\n        currency: newCurrency,\n        hasError,\n      }, () => {\n        this.prepareDropDownOptions(selectedType)\n      })\n    }\n  }\n\n  handleBlurAddress = () => {\n    this.setState({\n      walletAddressFocused: false,\n    })\n\n    this.applyAddress({\n      type: AddressType.Custom,\n      value: this.state.address,\n    })\n  }\n\n  goСreateWallet = () => {\n    const {\n      history,\n    } = this.props\n    const ticker = this.getTicker()\n\n    feedback.exchangeForm.redirectedCreateWallet(ticker)\n\n    history.push(`${links.createWallet}/${ticker}`)\n  }\n\n  handleConnectMetamask = () => {\n    metamask\n      .connect({\n        dontRedirect: true,\n      })\n      .then((isConnected) => {\n        if (!isConnected) {\n          return\n        }\n\n        this.setState(\n          {\n            isMetamaskConnected: true,\n            metamaskAddress: metamask.getAddress() || '',\n          },\n          () => {\n            this.applyAddress({\n              type: AddressType.Metamask,\n              value: metamask.getAddress(),\n            })\n          }\n        )\n      }).catch((error) => {\n        console.error('Metamask rejected', error)\n      })\n  }\n\n  toggleScan = () => {\n    const { isScanActive } = this.state\n    this.setState(() => ({\n      isScanActive: !isScanActive,\n    }))\n  }\n\n  handleScanError = (err) => {\n    console.error('Scan error', err)\n  }\n\n  handleScan = (data) => {\n    if (data) {\n      const address = data.includes(':') ? data.split(':')[1] : data\n      this.toggleScan()\n      this.applyAddress({\n        type: AddressType.Custom,\n        value: address,\n      })\n    }\n  }\n\n  handleOptionSelect = (option) => {\n    const { selectedType: oldSelectedType } = this.state\n\n    const { value: selectedType, dontSelect } = option\n\n    if (selectedType === 'InternalAddressCreate') {\n      this.goСreateWallet()\n      return\n    }\n\n    this.setState(\n      {\n        selectedType: dontSelect ? oldSelectedType : selectedType,\n      },\n      () => {\n        if (!selectedType) {\n          return\n        }\n\n        let value\n\n        if (selectedType === AddressType.Internal) {\n          value = this.getInternalAddress()\n        }\n\n        if (selectedType === AddressType.Metamask) {\n          value = metamask.getAddress()\n        }\n\n        if (selectedType === AddressType.Metamask && !metamask.isConnected()) {\n          this.handleConnectMetamask()\n        } else {\n          this.applyAddress({\n            type: selectedType,\n            value,\n          })\n        }\n      }\n    )\n  }\n\n  applyAddress = (addressObj) => {\n    const { onChange, currency } = this.props\n    const { type, value } = addressObj\n\n    if (typeof onChange !== 'function') {\n      return\n    }\n\n    onChange({\n      currency,\n      type,\n      value,\n    })\n  }\n\n  prepareDropDownOptions = (newSelectedType?) => {\n    const {\n      currency,\n      balance,\n      role,\n    } = this.props\n\n    const {\n      selectedType: oldSelectedType,\n      isMetamaskConnected,\n      metamaskAddress,\n    } = this.state\n\n    let selectedType = (newSelectedType && oldSelectedType !== newSelectedType)\n      ? newSelectedType\n      : oldSelectedType\n\n    const ticker = this.getTicker()\n\n    let { balance: internalBalance } = actions.core.getWallet({\n      currency,\n      addressType: AddressType.Internal,\n    })\n\n    if (\n      (selectedType === AddressType.Internal\n      || (selectedType === AddressType.Metamask && !metamask.isConnected()))\n      && !!balance) {\n      internalBalance = balance\n    }\n\n    const isInternalOptionDisabled =\n      role === AddressRole.Send && (!internalBalance || internalBalance === 0)\n\n    const isMetamaskOption = erc20Like.isToken({ name: currency }) || ['ETH', 'BNB', 'MATIC'].includes(ticker) // ToDo: replace at constant\n\n    // Forbid `Custom address` option when using ethereum/tokens\n    // because you need to make a request to the contract\n    const isCustomAddressOption = !erc20Like.isToken({ name: currency })\n      && !['ETH', 'BNB', 'MATIC'].includes(ticker) // ToDo: replace at constant\n\n    const isUTXOModel = COIN_DATA[ticker] && COIN_DATA[ticker].model === COIN_MODEL.UTXO\n    const isCustomOptionInputHidden = role === AddressRole.Send && isUTXOModel\n\n    const web3Icon = metamask.isConnected()\n      ? web3Icons[metamask.web3connect.getProviderType()] || false\n      : web3Icons[metamask.web3connect.getInjectedType()] || false\n\n    const dropDownOptions: DropDownOptions[] = []\n\n    const isCurrencyInInternalWallet = this.isCurrencyInInternalWallet()\n\n    if (isCurrencyInInternalWallet) {\n      dropDownOptions.push(\n        {\n          value: AddressType.Internal,\n          icon: iconInternal,\n          title: !isInternalOptionDisabled ? (\n            <Fragment>\n              <FormattedMessage {...langLabels.optionInternal} />\n              <Address\n                address={this.getInternalAddress()}\n                format={AddressFormat.Short}\n                type={AddressType.Internal}\n              />\n            </Fragment>\n          ) : (\n            <FormattedMessage {...langLabels.optionInternalDisabled} />\n          ),\n          disabled: isInternalOptionDisabled,\n        },\n      )\n    } else if (isUTXOModel || !isMetamaskConnected) {\n      dropDownOptions.push(\n        {\n          value: 'InternalAddressCreate',\n          icon: iconInternal,\n          title: <FormattedMessage {...langLabels.optionInternalCreate} />,\n        },\n      )\n    }\n\n    if (isMetamaskOption) {\n      if (isMetamaskConnected) {\n        dropDownOptions.push(\n          {\n            value: AddressType.Metamask,\n            icon: web3Icon,\n            title: (\n              <Fragment>\n                {metamask.web3connect.getProviderTitle()}\n                <Address\n                  address={metamaskAddress}\n                  format={AddressFormat.Short}\n                  type={AddressType.Metamask}\n                />\n              </Fragment>\n            ),\n          },\n        )\n      } else {\n        dropDownOptions.push(\n          {\n            value: AddressType.Metamask,\n            icon: web3Icon,\n            title: <FormattedMessage {...langLabels.optionConnect} />,\n            dontSelect: true,\n          },\n        )\n      }\n    }\n\n    if ((role === AddressRole.Receive || !isCurrencyInInternalWallet) && isCustomAddressOption) {\n      dropDownOptions.push(\n        {\n          value: AddressType.Custom,\n          icon: iconCustom,\n          title: <FormattedMessage {...langLabels.optionCustom} />,\n          reduceSelectedItemText: !isCustomOptionInputHidden,\n        },\n      )\n    }\n\n    const hasSelectedType = dropDownOptions.filter(({ value }) => value === selectedType)\n    if (!hasSelectedType.length && dropDownOptions.length) selectedType = dropDownOptions[0].value\n\n    this.setState({\n      dropDownOptions,\n      selectedType,\n    })\n  }\n\n  render() {\n    const {\n      label,\n      role,\n      placeholder = 'Enter address',\n    } = this.props\n\n    const {\n      selectedType,\n      walletAddressFocused,\n      isMetamaskConnected,\n      isScanActive,\n      hasError,\n      dropDownOptions,\n    } = this.state\n\n    const ticker = this.getTicker()\n\n    const isUTXOModel = COIN_DATA[ticker] && COIN_DATA[ticker].model === COIN_MODEL.UTXO\n    const isCustomOptionInputHidden = role === AddressRole.Send && isUTXOModel\n\n\n    // =======================================================\n\n    const valueLink = Link.all(this, 'address')\n    const customInputStyles = {\n      fontSize: '15px',\n      textOverflow: 'ellipsis',\n    }\n\n    return (\n      <div styleName={`addressSelect ${hasError ? 'addressSelect_error' : ''}`}>\n        <div styleName=\"label\">{label}</div>\n        <DropDown\n          styleName=\"dropDown\"\n          items={dropDownOptions}\n          selectedValue={selectedType}\n          disableSearch={true}\n          dontScroll={true}\n          arrowSide=\"left\"\n          role={role}\n          itemRender={(item) => <Option {...item} />}\n          onSelect={this.handleOptionSelect}\n        />\n        {selectedType === AddressType.Metamask && metamask.isEnabled() && !isMetamaskConnected && (\n          <div styleName=\"selectedInner connectWrapper\">\n            <Button\n              blue\n              styleName=\"button\"\n              onClick={this.handleConnectMetamask}\n            >\n              <FormattedMessage {...langLabels.connectMetamask} />\n            </Button>\n          </div>\n        )}\n        {!isCustomOptionInputHidden && selectedType === AddressType.Custom && (\n          <div styleName=\"selectedInner\">\n            <div styleName={`customWallet ${walletAddressFocused ? 'customWallet_focus' : ''}`}>\n              <div styleName=\"customAddressInput\">\n                <Input\n                  inputCustomStyle={customInputStyles}\n                  pattern=\"0-9a-zA-Z\"\n                  onFocus={this.handleFocusAddress}\n                  onBlur={this.handleBlurAddress}\n                  placeholder={placeholder}\n                  valueLink={valueLink.address}\n                  openScan={this.toggleScan}\n                  qr={isMobile}\n                  required\n                />\n              </div>\n            </div>\n          </div>\n        )}\n        {isScanActive && (\n          <QrReader\n            openScan={this.toggleScan}\n            handleError={this.handleScanError}\n            handleScan={this.handleScan}\n          />\n        )}\n      </div>\n    )\n  }\n}\n\nexport default injectIntl(AddressSelect)\n","// extracted by mini-css-extract-plugin\nexport default {\"addressSelect\":\"_3MvWWVYthJpuyF7RuhV71q\",\"label\":\"_2Gtln-f0QiXHgsIA9lTlQX\",\"dropDown\":\"_1OwoLhNnnONULtUrKM_Z1y\",\"addressSelect_error\":\"Mw81vVtISt0DQwe6yFpA5\",\"selectedInner\":\"-JDPV4TzaIRDgnVLi2_Nk\",\"connectWrapper\":\"_1NkeraaEud-yGvkIOYByVx\",\"selectedInner_connectBtn\":\"_1cJQCCGH5CfOaRFS2qctFS\",\"customWallet\":\"_29uHimQD8fvTwk6qBA6z2e\",\"customWallet_site\":\"_1qBa3UfihqQdLbTr5zQo-B\",\"customWallet_focus\":\"_38w_AdzMlQpQVpbamsIwEY\",\"customAddressInput\":\"f9Q7RofYnGiyHx67gmjGK\",\"button\":\"_2_gMOHsTBfLl8X7w5-iwZa\"};","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport cssModules from 'react-css-modules'\nimport { connect } from 'redaction'\nimport styles from './NetworkStatus.scss'\n\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\nimport { FormattedMessage } from 'react-intl'\n\n@connect(\n  ({\n    pubsubRoom,\n  }) => ({\n    isOnline: pubsubRoom.isOnline,\n    onlineUsers: pubsubRoom.onlineUsers,\n  })\n)\n@cssModules(styles, { allowMultiple: true })\nexport default class NetworkStatus extends React.Component<any, any> {\n  static propTypes = {\n    isOnline: PropTypes.bool.isRequired,\n    onlineUsers: PropTypes.number,\n  }\n\n  static defaultProps = {\n    isOnline: false,\n    onlineUsers: 1,\n  }\n\n  render() {\n    const { isOnline, onlineUsers } = this.props\n\n    const onlinePeersHack = onlineUsers >= 0 ? onlineUsers : 1\n\n    return (\n      <div styleName={`title ${isOnline ? 'online' : 'offline'}`}>\n        <em styleName=\"mark\"></em>\n        {!isOnline &&\n          <span styleName=\"status\">Offline</span>\n        }\n        {\n          isOnline && (onlineUsers <= 0\n            ? <span styleName=\"status\">Connecting...</span>\n            : <span styleName=\"status\">{`${onlineUsers} peers online`}</span>)\n        }\n        <span styleName='status-tooltip'>\n          <Tooltip id=\"NetworkStatusPeersOnlineTooltip\">\n            <div style={{ maxWidth: '24em', textAlign: 'center' }}>\n              <FormattedMessage\n                id=\"NetworkStatusPeersOnlineMessage\"\n                defaultMessage=\"Searching for Peers and Offers can take a couple of minutes. We do not store the offers on a centralized server. Instead, we use libp2p network by Protocol Labs that works like a Torrent network, which means that each user such as yourself is a peer in this network. If no offers are found within a couple of minutes, it means that there are no matching offers or a user who placed the offer is offline.\"\n              />\n            </div>\n          </Tooltip>\n        </span>\n      </div>\n    )\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"_3M5HCoHCUZhJmSA9KfqpVx\",\"status\":\"_3nhv_hUp90HbcJNlQScC6G\",\"status-tooltip\":\"_1xdRfpsjEPGq2DGNQE1nU6\",\"online\":\"_3SAuq9sBA_9xGs6d6LFV2Z\",\"mark\":\"_1rcgmhwfg7IaszyUE0a5gf\",\"offline\":\"_1qGIP4IvLqQQLbhjrj86uB\"};","import React from 'react'\n\nimport cssModules from 'react-css-modules'\nimport styles from './Title.scss'\n\n\nconst Title = ({ children }) => (\n  <div styleName=\"title\">{children}</div>\n)\n\nexport default cssModules(Title, styles)\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"MvGcWSKV4l96p2hTLc2mT\"};","import React, { Fragment } from 'react'\nimport PropTypes from 'prop-types'\n\nimport CSSModules from 'react-css-modules'\nimport styles from './PageHeadline.scss'\n\nimport Title from './Title/Title'\nimport SubTitle from './SubTitle/SubTitle'\n\n\nconst PageHeadline = ({ children, title, subTitle, ...rest }) => (\n  <div styleName=\"headline\" {...rest} >\n    {\n      children || (\n        <Fragment>\n          {\n            title && (\n              <Title>{title}</Title>\n            )\n          }\n          {\n            subTitle && (\n              <SubTitle>{subTitle}</SubTitle>\n            )\n          }\n        </Fragment>\n      )\n    }\n  </div>\n)\n\nPageHeadline.propTypes = {\n  title: PropTypes.node,\n  subTitle: PropTypes.node,\n}\n\nexport default CSSModules(PageHeadline, styles)\n","// extracted by mini-css-extract-plugin\nexport default {\"headline\":\"_1mRiUPd3OneCjQl-qXAEWe\"};","import React from 'react'\nimport CSSModules from 'react-css-modules'\nimport styles from './FaqExpandableItem.scss'\nimport Href from 'components/Href/Href'\n\ntype ComponentProps = {\n  question: string\n  link: string\n}\n\nconst FaqExpandableItem = (props: ComponentProps) => {\n  const { link, question } = props\n\n  return (\n    <div styleName=\"container\">\n      <Href tab={link} styleName=\"header\" rel=\"noreferrer noopener\">\n        {question}\n      </Href>\n    </div>\n  )\n}\n\nexport default CSSModules(FaqExpandableItem, styles)\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"LmL2ZjuNLFgHOx1cg6fSN\",\"active\":\"_3SY26YYGAxk9sm0uxK3Li\",\"header\":\"_3yWxDwxum_PfcTfuMh-ze-\",\"description\":\"GT5JK6K-wJ22BGh_P0DJ_\",\"icon\":\"_2t_oNRyE3PxzZp63-ugEa-\"};","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nimport actions from 'redux/actions'\nimport { constants } from 'helpers'\n\nimport CSSModules from 'react-css-modules'\nimport styles from './CurrencyDirectionChooser.scss'\nimport { connect } from 'redaction'\n\nimport Flip from 'components/controls/Flip/Flip'\nimport Button from 'components/controls/Button/Button'\nimport CurrencySelect from 'components/ui/CurrencySelect/CurrencySelect'\nimport SubTitle from 'components/PageHeadline/SubTitle/SubTitle'\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\nimport { FormattedMessage } from 'react-intl'\n\n\n@connect(\n  ({\n    currencies,\n  }) => ({\n    currencies: currencies.items,\n    addSelectedItems: currencies.addSelectedItems[0],\n  })\n)\n@CSSModules(styles, { allowMultiple: true })\nexport default class CurrencyDirectionChooser extends Component<any, any> {\n\n  static propTypes = {\n    flipCurrency: PropTypes.func,\n    currencies: PropTypes.any,\n    handleSellCurrencySelect: PropTypes.func,\n    handleBuyCurrencySelect: PropTypes.func,\n    handleSubmit: PropTypes.func,\n    buyCurrency: PropTypes.string.isRequired,\n    sellCurrency: PropTypes.string.isRequired,\n  }\n\n  createOffer = () => {\n    const { buyCurrency, sellCurrency } = this.props\n\n    // return if value equal undefined or null\n    if (!sellCurrency || !buyCurrency) {\n      return\n    }\n\n    //@ts-ignore: strictNullChecks\n    actions.modals.open(constants.modals.Offer, {\n      buyCurrency,\n      sellCurrency,\n    })\n\n    // actions.analytics.dataEvent('orderbook-click-createoffer-button')\n  }\n\n  chooseProps = () => {\n    const { currencies, addSelectedItems } = this.props\n\n    if (addSelectedItems === undefined) {\n      return currencies\n    }\n    return addSelectedItems\n  }\n\n  render() {\n    const { buyCurrency, sellCurrency,\n      flipCurrency, handleBuyCurrencySelect, handleSellCurrencySelect, handleSubmit,\n      currencies, addSelectedItems } = this.props\n\n\n\n    return (\n      <div styleName=\"choice\">\n        <div styleName=\"row title\">\n          <SubTitle>\n            <FormattedMessage id=\"CurrencyDirectionChooser54\" defaultMessage=\" Choose the direction of exchange\" />\n          </SubTitle>\n        </div>\n        <div styleName=\"row formRow\">\n          <div styleName=\"row\">\n            <div styleName=\"row rowLeft\">\n              <p styleName=\"text\">\n                <FormattedMessage id=\"CDC63\" defaultMessage=\"You have\" />\n              </p>\n              {/*\n              //@ts-ignore */}\n              <CurrencySelect\n                styleName=\"currencySelect currencySelectLeft\"\n                selectedValue={sellCurrency}\n                selectedItemRender={(item) => item.fullTitle}\n                onSelect={handleSellCurrencySelect}\n                currencies={currencies}\n              />\n            </div>\n            <Flip onClick={flipCurrency} />\n            <div styleName=\"row rowRight\">\n              <p styleName=\"text\">\n                <FormattedMessage id=\"CDC75\" defaultMessage=\"You get\" />\n              </p>\n              {/*\n              //@ts-ignore */}\n              <CurrencySelect\n                styleName=\"currencySelect currencySelectRight\"\n                selectedValue={buyCurrency}\n                onSelect={handleBuyCurrencySelect}\n                selectedItemRender={(item) => item.fullTitle}\n                currencies={this.chooseProps()}\n              />\n            </div>\n          </div>\n          <Button styleName=\"button\" brand onClick={handleSubmit}>\n            <FormattedMessage id=\"CurrencyDirectionChooser86\" defaultMessage=\"SHOW ORDERS \" />\n          </Button>\n          <Tooltip id=\"cdc87\" >\n            <FormattedMessage id=\"CDC52\" defaultMessage=\"Offer list\" />\n          </Tooltip>\n        </div>\n      </div>\n    )\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"currencySelect\":\"_2EJyyQUMo3EqEiv42qKPLB\",\"choice\":\"RXtw4ebed2b-pnWsM0iwX\",\"row\":\"jvp6RzXuwVN0fHRGLk5BH\",\"title\":\"_2gFkZ66sH_N6jdCa1sC6Rm\",\"text\":\"_2QPkWuMzTM7zaL1-laV97g\",\"formRow\":\"_3E6GwBFj_Wyx_XgBv65-p-\",\"rowLeft\":\"nO-HGRsEQ6z-6t7I77z-T\",\"rowRight\":\"_2Wxgi_HHN9-y3zC9r_PGPm\",\"currencySelectLeft\":\"_3kjzAsthEV_1c9QLJZdPTG\",\"currencySelectRight\":\"_3y383WGPeIP7ebMEfQSShz\"};","import React, { Component } from 'react'\nimport classNames from 'classnames'\nimport cssModules from 'react-css-modules'\nimport styles from './Panel.scss'\n\n@cssModules(styles, { allowMultiple: true })\nexport default class Panel extends Component<any, any> {\n  render() {\n    return (\n      <section styleName={classNames('panel')}>\n        { this.props.header &&\n          <div styleName=\"panelHeader\">\n            { this.props.header }\n          </div>\n        }\n        { this.props.children }\n      </section>\n    )\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"panel\":\"FFBQsPTQQBFkDrefYs83h\",\"panelHeader\":\"_30EZOPmB1qultzq-LahrCA\"};","const seo = {\n  config: {\n    medium: 'https://medium.com/@swaponline',\n    twitter: 'https://twitter.com/SwapOnlineTeam',\n    facebook: 'https://www.facebook.com/SwapOnlineTeam',\n    telegram: 'https://t.me/swaponline',\n    email: 'info@swaponline.io',\n    mainUrl: 'https://swaponline.io',\n    logo: 'https://screenshots.wpmix.net/chrome_2019-03-28_18-55-506746c4c5-44e6-4bb5-89cb-52ce8fabcedf.png',\n  },\n  pages: [\n    {\n      uri: '/',\n      title: window.defaultWindowTitle || 'Hot Wallet with Atomic Swap Exchange',\n      description: 'Our online wallet with Atomic swap algorithms will help you store and exchange' +\n        ' cryptocurrency instantly and more secure without third-parties. Decentralized exchange.',\n    },\n    {\n      uri: '/exchange',\n      title: 'Exchange',\n      description: 'Exchange',\n    },\n    {\n      uri: '/exchange/btc',\n      title: 'Bitcoin',\n      description: 'Bitcoin',\n      h1: 'Bitcoin Trade',\n    },\n    {\n      uri: '/exchange/eth',\n      title: 'Ethereum',\n      description: 'Ethereum',\n      h1: 'Ethereum Trade',\n    },\n    {\n      uri: '/exchange/swap',\n      title: 'Swap',\n      description: 'Swap',\n      h1: 'Swap Trade',\n    },\n    {\n      uri: '/exchange/noxon',\n      title: 'Noxon',\n      description: 'Noxon',\n      h1: 'Noxon Trade',\n    },\n    {\n      uri: '/exchange/jot',\n      title: 'Jot',\n      description: 'Jot',\n      h1: 'Jot Trade',\n    },\n    {\n      uri: '/history',\n      title: 'Transactions',\n      description: 'Transactions',\n    },\n    {\n      uri: '/swap',\n      title: 'Swap',\n      description: 'Swap',\n    },\n    {\n      uri: '/feed',\n      title: 'Feed',\n      description: 'Feed',\n    },\n    {\n      uri: '/eth-btc',\n      title: 'Atomic Swap Ethereum (ETH) to Bitcoin (BTC) Decentralized Exchange',\n      description: 'Best exchange rate for Ethereum (ETH) to Bitcoin (BTC) atomic swap. Decentralized exchange of digital currencies with online wallet.',\n      h1: 'Atomic Swap Ethereum (ETH) to Bitcoin (BTC) - Instant Exchange',\n    },\n    {\n      uri: '/btc-eth',\n      title: 'Atomic Swap Bitcoin (BTC) to Ethereum (ETH) Cross-Chain Exchange',\n      description: 'Looking for best exchange rate to buy Ethereum (ETH) with Bitcoin (BTC)? Place your order on Swap.online to get the best rate.',\n      h1: 'Atomic Swap Bitcoin (BTC) to Ethereum (ETH) - Decentralized Exchange',\n    },\n    //  Wallets.\n    {\n      uri: '/Ethereum-wallet',\n      title: 'Ethereum Wallet with Atomic Swap (exchange)',\n      description: 'Exchange Ethereum (ETH) & ERC20 token using Swap.Online (hot) wallet with built-in Atomic Swap exchange. (No fees, No registration or KYC)',\n      h1: 'Your online Ethereum (ETH) web wallet with Atomic Swap.',\n    },\n    {\n      uri: '/Bitcoin-wallet',\n      title: 'Bitcoin (BTC) Web Wallet with Atomic Swap.',\n      description: 'Swap.Online Bitcoin Wallet will allow you to exchange your coins using Atomic Swap technology.',\n      h1: 'Your online Bitcoin (BTC) web wallet with Atomic Swap.',\n      footer: ``,\n    },\n    {\n      uri: '/USDT-wallet',\n      title: 'Swap.Online - Tether (USDT) Web Wallet with Atomic Swap.',\n      description: 'Atomic Swap web wallet allows you to store and exchange USDT to Bitcoin. Multi-currency wallet with a decentralized exchange (based on Atomic Swap technology)',\n      h1: 'Your online Tether (USDT) wallet with Atomic Swap.',\n    },\n  ],\n}\n\nexport const getSeoPage = uri => seo.pages.find(p => p.uri === uri)\n\nexport const getUrl = uri => `${seo.config.mainUrl}${uri}`\n\nexport default seo\n","import React from 'react'\n\nimport seo, { getUrl } from 'helpers/seo'\n\n\nconst JsonLd = ({ uri, title, description }) => (\n  <script\n    type=\"application/ld+json\"\n    dangerouslySetInnerHTML={{\n      __html: JSON.stringify({\n        '@context': 'http://schema.org',\n        '@type': 'Website',\n        sameAs: [\n          seo.config.medium,\n          seo.config.twitter,\n          seo.config.facebook,\n          seo.config.telegram,\n        ],\n        email: seo.config.email,\n        url: getUrl(uri),\n        name: title,\n        description,\n        logo: seo.config.logo,\n      }),\n    }}\n  />\n)\n\nexport default JsonLd\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport DocumentMeta from 'react-document-meta'\n\nimport JsonLd from './JsonLd'\nimport seo, { getSeoPage, getUrl } from 'helpers/seo'\n\n\nexport default class Seo extends Component<any, any> {\n  static propTypes = {\n    location: PropTypes.object.isRequired,\n  }\n\n  seoPage: any\n\n  constructor(props) {\n    super(props)\n    this.seoPage = getSeoPage(props.location.pathname)\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.location.pathname !== this.props.location.pathname) {\n      this.seoPage = getSeoPage(nextProps.location.pathname)\n    }\n  }\n\n  shouldComponentUpdate(nextProps) {\n    return this.props.location.pathname !== nextProps.location.pathname\n  }\n\n  render() {\n    if (!this.seoPage) {\n      return null\n    }\n    const { uri, title, description } = this.seoPage\n\n    const url = getUrl(uri)\n    return (\n      <DocumentMeta\n        title={title}\n        description={description}\n        canonical={url}\n        meta={{\n          property: {\n            'og:title': title,\n            'og:description': description,\n            'og:url': url,\n            'og:image': seo.config.logo,\n          },\n        }}\n      >\n        <JsonLd uri={uri} title={title} description={description} />\n      </DocumentMeta>\n    )\n  }\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport DocumentMeta from 'react-document-meta'\n\nimport Seo from './Seo'\nimport JsonLd from './JsonLd'\nimport seo, { getUrl } from 'helpers/seo'\n\n\nexport default class PageSeo extends Seo {\n  static propTypes = {\n    location: PropTypes.object.isRequired,\n    defaultTitle: PropTypes.string,\n    defaultDescription: PropTypes.string,\n  }\n\n  getValues = () => {\n    if (!!this.seoPage) {\n      return {\n        ...this.seoPage,\n        url: getUrl(this.seoPage.uri),\n      }\n    }\n\n    const  { defaultTitle, defaultDescription } = this.props\n    return {\n      title: defaultTitle,\n      description: defaultDescription,\n      uri: null,\n      url: null,\n    }\n\n  }\n\n  render() {\n    const { title, description, uri, url } = this.getValues()\n    return (\n      <DocumentMeta\n        title={title}\n        description={description}\n        canonical={url}\n        meta={{\n          property: {\n            'og:title': title,\n            'og:description': description,\n            'og:url': url,\n            'og:image': seo.config.logo,\n          },\n        }}\n      >\n        <JsonLd uri={uri} title={title} description={description} />\n      </DocumentMeta>\n    )\n  }\n}\n","import React, { Fragment } from 'react'\nimport config from 'helpers/externalConfig'\n\nimport { toSvg } from 'jdenticon'\n\nimport CSSModules from 'react-css-modules'\nimport styles from './Avatar.scss'\n\nconst hasGravatar = (ethAddress) => {\n  if (config && config.gravatarUsers) {\n    let has = false\n    Object.keys(config.gravatarUsers).forEach((key) => {\n      if (key.toLowerCase() === ethAddress.toLowerCase()) {\n        has = config.gravatarUsers[key]\n        return false\n      }\n    })\n    return has\n  }\n  return false\n}\n\ntype ComponentProps = {\n  value: string\n  size?: number\n  className?: string\n  ownerEthAddress?: string\n}\n\nconst Avatar = (props: ComponentProps) => {\n  const { value, className, size = 35, ownerEthAddress } = props\n  let avatarUrl = `data:image/svg+xml,${encodeURIComponent(toSvg(value, size))}`\n\n  if (ownerEthAddress) {\n    const gravatar = hasGravatar(ownerEthAddress)\n    if (gravatar) {\n      avatarUrl = `https://www.gravatar.com/avatar/${gravatar}?s=${size}`\n    }\n  }\n  return (\n    <Fragment>\n      <img\n        className={className}\n        styleName=\"avatar\"\n        alt={value}\n        title={value}\n        src={avatarUrl}\n      />\n    </Fragment>\n  )\n}\n\nexport default CSSModules(Avatar, styles)\n","// extracted by mini-css-extract-plugin\nexport default {\"avatar\":\"_2glsO2wwIHiX9IhnaRgUp1\"};","import React from 'react'\nimport cssModules from 'react-css-modules'\nimport styles from './RequestButton.scss'\nimport PAIR_TYPES from 'helpers/constants/PAIR_TYPES'\nimport { FormattedMessage } from 'react-intl'\n\nconst RequestButton = (params) => {\n  const {\n    disabled,\n    onClick,\n    data: {\n      type,\n      base,\n      main,\n    },\n  } = params\n\n  return (\n    <button styleName={`button ${disabled ? 'disabled' : ''}`} onClick={onClick}>\n      <div styleName=\"rows\">\n        <div styleName=\"row1\">\n          <FormattedMessage id=\"Reqstbttn16\" defaultMessage=\"Buy\" />\n          {' '}\n          <span styleName=\"ticker\">{type === PAIR_TYPES.BID ? base : main}</span>\n        </div>\n        <div  styleName=\"row2\">\n          <FormattedMessage id=\"Reqstbttn22\" defaultMessage=\"for\" />\n          {' '}\n          <span styleName=\"ticker\">{type === PAIR_TYPES.BID ? main : base}</span>\n        </div>\n      </div>\n    </button>\n  )\n}\n\nexport default cssModules(RequestButton, styles, { allowMultiple: true })\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"_1tmcdRGNpC2PmkqE4oq2PE\",\"disabled\":\"_1a3gqQ9r8JL6pGlt_C004S\",\"rows\":\"_3dCOVK9JNG6cu_7YWQZh4x\",\"row1\":\"K3ysKMuKivz2iO-fJKT-M\",\"row2\":\"_1_3jopTfqa2Pibr_MFQMA4\",\"ticker\":\"_2WJzkuPsejhu3xRIzjanjj\"};","import React, { Component, Fragment } from 'react'\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\nimport cssModules from 'react-css-modules'\nimport { Link } from 'react-router-dom'\nimport { connect } from 'redaction'\nimport actions from 'redux/actions'\nimport styles from './Row.scss'\nimport config from 'app-config'\n\nimport helpers, { links, constants } from 'helpers'\nimport { IPairFees } from 'helpers/getPairFees'\nimport PAIR_TYPES from 'helpers/constants/PAIR_TYPES'\nimport { localisedUrl } from 'helpers/locale'\nimport feedback from 'helpers/feedback'\nimport { BigNumber } from 'bignumber.js'\n\nimport Avatar from 'components/Avatar/Avatar'\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\nimport { RemoveButton } from 'components/controls'\nimport TurboIcon from 'components/ui/TurboIcon/TurboIcon'\n\nimport Pair from './../../Pair'\nimport RequestButton from '../RequestButton/RequestButton'\nimport SwapApp from 'swap.app'\n\ntype RowProps = {\n  history: IUniversalObj\n  balances: { [key: string]: number } | boolean\n  pairFees: IPairFees\n  decline: any[]\n  orderId: string\n  linkedOrderId: string\n  \n  row: {\n    id: string\n    isMy: boolean\n    isTurbo: boolean\n    buyCurrency: string\n    sellCurrency: string\n    buyAmount: BigNumber\n    sellAmount: BigNumber\n    isRequested: boolean\n    isProcessing: boolean\n    owner: IUniversalObj\n  }\n\n  removeOrder: (number) => void\n  checkSwapAllow: ({}) => boolean\n  checkSwapExists: ({}) => boolean\n\n  currenciesData?: IUniversalObj\n  intl?: IUniversalObj\n  peer?: string\n\n  buy?: string\n  sell?: string\n}\n\ntype RowState = {\n  enterButton: boolean\n  isFetching: boolean\n  windowWidth: number\n}\n\n@connect(({\n  pubsubRoom: { peer },\n  user,\n}) => ({\n  currenciesData: user,\n  peer,\n}))\n\n@cssModules(styles, { allowMultiple: true })\nclass Row extends Component<RowProps, RowState> {\n  _mounted = false\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      windowWidth: 0,\n      isFetching: false,\n      enterButton: false,\n    }\n  }\n\n  getBalance() {\n    const {\n      row: {\n        isMy,\n        buyCurrency,\n        sellCurrency,\n      },\n      balances,\n    } = this.props\n\n    let balanceCheckCur = isMy ? sellCurrency : buyCurrency\n\n    return (balances && balances[balanceCheckCur]) ? balances[balanceCheckCur] : 0\n  }\n\n  componentDidMount() {\n    this._mounted = true\n    window.addEventListener('resize', this.renderContent)\n    this.renderContent()\n  }\n\n  componentWillUnmount() {\n    this._mounted = false\n    window.removeEventListener('resize', this.renderContent)\n    actions.modals.close(constants.modals.Confirm)\n  }\n\n  checkDeclineOrders = (orderId, currency) => {\n    const { decline } = this.props\n\n    if (decline.length === 0) {\n      this.sendSwapRequest(orderId, currency)\n    } else {\n      const getDeclinedExistedSwapIndex = helpers.handleGoTrade.getDeclinedExistedSwapIndex({ currency, decline })\n      if (getDeclinedExistedSwapIndex !== false) {\n        this.handleDeclineOrdersModalOpen(getDeclinedExistedSwapIndex)\n      } else {\n        this.sendSwapRequest(orderId, currency)\n      }\n    }\n  }\n\n  formatWithDecimals = (amount, currency): string => {\n    const decimals = constants.tokenDecimals[currency.toLowerCase()]\n    const wrongDecimals = !Number.isInteger(decimals) || decimals < 0 || decimals > 8\n    const finalDecimals = wrongDecimals ? 8 : decimals\n    const result = new BigNumber(amount).dp(finalDecimals, BigNumber.ROUND_HALF_CEIL)\n\n    // save decimals if it's float number\n    return !result.mod(1) ? result.toFixed(finalDecimals) : result.toFixed()\n  }\n\n  handleDeclineOrdersModalOpen = (indexOfDecline) => {\n    //@ts-ignore: strictNullChecks\n    const orders = SwapApp.shared().services.orders.items\n    const declineSwap = actions.core.getSwapById(this.props.decline[indexOfDecline])\n\n    if (declineSwap !== undefined) {\n      //@ts-ignore: strictNullChecks\n      actions.modals.open(constants.modals.DeclineOrdersModal, {\n        declineSwap,\n      })\n    }\n  }\n\n  renderCoinName = (coin) => {\n    return coin.toUpperCase()\n  }\n\n  sendSwapRequest = async (orderId, currency) => {\n    const {\n      row: {\n        id,\n        buyAmount: sellAmount,\n        //sellAmount,\n      },\n      buy: buyCurrency,\n      sell: sellCurrency,\n      row,\n      intl,\n      history,\n      checkSwapAllow,\n      checkSwapExists,\n    } = this.props\n\n    const balance = this.getBalance()\n\n    feedback.offers.buyPressed(`${this.renderCoinName(sellCurrency)}->${this.renderCoinName(buyCurrency)}`)\n\n    const pair = Pair.fromOrder(row)\n    //@ts-ignore: strictNullChecks\n    const { price, amount, total, main, base, type } = pair\n\n    if (!checkSwapAllow({\n      sellCurrency,\n      buyCurrency,\n      amount: sellAmount,\n      balance,\n    })) return false\n\n    const isSwapExists = await checkSwapExists({ haveCurrency: sellCurrency, getCurrency: buyCurrency, orderId })\n\n    if (isSwapExists) {\n      actions.notifications.show(\n        constants.notifications.ErrorNotification,\n        { error: 'You have Exists Swap with order participant. Please use other order for start swap with this pair.' }\n      )\n      return false\n    }\n\n    const exchangeRates = new BigNumber(price).dp(6, BigNumber.ROUND_CEIL)\n\n    const messages = defineMessages({\n      sell: {\n        id: 'ordersRow97',\n        defaultMessage: 'sell',\n      },\n      buy: {\n        id: 'ordersRow101',\n        defaultMessage: 'buy',\n      },\n    })\n\n    //@ts-ignore: strictNullChecks\n    actions.modals.open(constants.modals.ConfirmBeginSwap, {\n      order: row,\n      onAccept: async (customWallet) => {\n        feedback.offers.swapRequested(`${this.renderCoinName(sellCurrency)}->${this.renderCoinName(buyCurrency)}`)\n\n        this.setState({ isFetching: true })\n\n        setTimeout(() => {\n          this.setState(() => ({ isFetching: false }))\n        }, 15 * 1000)\n\n        const destination = {\n          address: null\n        }\n        if (customWallet !== null) {\n          destination.address = customWallet\n        }\n\n        actions.core.sendRequest(orderId, destination, (isAccepted) => {\n          console.log(`Your request is ${isAccepted ? 'accepted' : 'declined'}`)\n\n          if (isAccepted) {\n            this.setState({ isFetching: false }, () => {\n              const swapUri = row.isTurbo ?\n                `${links.turboSwap}/${id}`\n                :\n                `${links.atomicSwap}/${id}`\n              \n              console.log(`Redirect to swap: ${swapUri}`)\n              //@ts-ignore: strictNullChecks\n              history.push(localisedUrl(intl.locale, swapUri))\n            })\n          } else {\n            this.setState({ isFetching: false })\n          }\n        })\n        actions.core.updateCore()\n      },\n      message: (\n        <FormattedMessage\n          id=\"ordersRow134\"\n          defaultMessage=\"Do you want to {action} {amount} {main} for {total} {base} at price {price} {main}/{base}?\"\n          values={{\n            action: `${type === PAIR_TYPES.BID\n              //@ts-ignore: strictNullChecks\n              ? intl.formatMessage(messages.sell)\n              //@ts-ignore: strictNullChecks\n              : intl.formatMessage(messages.buy)\n            }`,\n            amount: `${this.formatWithDecimals(amount, main)}`,\n            main: `${this.renderCoinName(main)}`,\n            total: `${this.formatWithDecimals(total, base)}`,\n            base: `${this.renderCoinName(base)}`,\n            price: `${exchangeRates}`,\n          }}\n        />\n      ),\n    })\n  }\n\n  renderContent = () => {\n    const windowWidth = window.innerWidth\n\n    this.setState(() => ({\n      windowWidth,\n    }))\n  }\n\n  render() {\n    const {\n      isFetching,\n      windowWidth,\n    } = this.state\n\n    const {\n      row: {\n        id,\n        isMy,\n        isTurbo,\n        buyCurrency,\n        buyAmount,\n        sellCurrency,\n        isRequested,\n        isProcessing,\n        owner: {\n          peer: ownerPeer,\n          eth: {\n            address: ownerEthAddress,\n          },\n        },\n      },\n      buy,\n      sell,\n      row: order,\n      peer,\n      orderId,\n      removeOrder,\n      linkedOrderId,\n      checkSwapAllow,\n    } = this.props\n\n    const pair = Pair.fromOrder(this.props.row)\n    //@ts-ignore: strictNullChecks\n    const { price, amount, total, main, base, type } = pair\n\n    const isSwapButtonEnabled = checkSwapAllow({\n      sellCurrency: sell,\n      buyCurrency: buy,\n      amount: buyAmount,\n      isSilentError: true,\n    })\n\n    let sellCurrencyOut\n    let sellAmountOut\n    let getCurrencyOut\n    let getAmountOut\n    let priceOut\n\n    if (type === PAIR_TYPES.BID) {\n      sellCurrencyOut = base\n      sellAmountOut = total\n      getCurrencyOut = main\n      getAmountOut = amount\n      priceOut = new BigNumber(1).div(price)\n    }\n\n    if (type === PAIR_TYPES.ASK) {\n      sellCurrencyOut = main\n      sellAmountOut = amount\n      getCurrencyOut = base\n      getAmountOut = total\n      priceOut = price\n    }\n\n    const swapUri = `${links.atomicSwap}/${id}`\n\n    const mobileFormatCrypto = (value, currency) => {\n      if (currency === 'USDT' || currency == 'EUR') {\n        return String(value.toFixed(2))\n      } else {\n        if (Number(value) > 10) {\n          return String(value.toFixed(5))\n        } else {\n          return String(value.toFixed(8))\n        }\n      }\n    }\n\n    const showDesktopContent = windowWidth > 800\n\n    return showDesktopContent ? (\n      <tr\n        id={id}\n        styleName={`\n          ${id === linkedOrderId ? 'linkedOrderHighlight' : ''}\n        `}\n        style={orderId === id ? { background: 'rgba(0, 236, 0, 0.1)' } : {}}\n      >\n        <td styleName='rowCell'>\n          <div styleName='withIcon'>\n            <Avatar\n              value={ownerPeer}\n              size={25}\n              ownerEthAddress={ownerEthAddress}\n            />\n            {isTurbo &&\n              <TurboIcon />\n            }\n          </div>\n        </td>\n        <td styleName='rowCell'>\n          <span styleName='rowAmount'>\n            <span className={`${sellCurrencyOut.toLowerCase()}SellAmountOfOrder`}>{`${this.formatWithDecimals(sellAmountOut, sellCurrencyOut)}`}</span>\n            {' '}\n            <span>{`${this.renderCoinName(sellCurrencyOut)}`}</span>\n          </span>\n        </td>\n        <td styleName='rowCell'>\n          <span styleName='rowAmount'>\n            <span className={`${getCurrencyOut.toLowerCase()}GetAmountOfOrder`}>{`${this.formatWithDecimals(getAmountOut, getCurrencyOut)}`}</span>\n            {' '}\n            <span>{`${this.renderCoinName(getCurrencyOut)}`}</span>\n          </span>\n        </td>\n        <td styleName='rowCell'>\n          <span styleName='rowAmount'>\n            {`${this.formatWithDecimals(priceOut, getCurrencyOut)} ${this.renderCoinName(getCurrencyOut)}/${this.renderCoinName(sellCurrencyOut)}`}\n          </span>\n        </td>\n        <td styleName='rowCell'>\n          {peer === ownerPeer\n            ? <RemoveButton onClick={() => removeOrder(id)} brand />\n            :\n            <Fragment>\n              {\n                isRequested ? (\n                  <Fragment>\n                    <div style={{ color: 'red' }}>\n                      <FormattedMessage id=\"RowM136\" defaultMessage=\"REQUESTING\" />\n                    </div>\n                    {' '}\n                    <Link to={swapUri}>\n                      <FormattedMessage id=\"RowM139\" defaultMessage=\"Swap\" />\n                    </Link>\n                  </Fragment>\n                ) : (\n                  isProcessing ? (\n                    <span>\n                      <FormattedMessage id=\"Row157\" defaultMessage=\"This order is in execution\" />\n                    </span>\n                  ) : (\n                    isFetching ? (\n                      <Fragment>\n                        <InlineLoader />\n                        <br />\n                        <span>\n                          <FormattedMessage id=\"Row165\" defaultMessage=\"Please wait while we confirm your request\" />\n                        </span>\n                      </Fragment>\n                    ) : (\n                      <RequestButton\n                        disabled={!isSwapButtonEnabled}\n                        onClick={isSwapButtonEnabled ?\n                          () => this.checkDeclineOrders(id, isMy ? sellCurrency : buyCurrency)\n                          :\n                          () => {}\n                        }\n                        data={{\n                          type,\n                          main: this.renderCoinName(main),\n                          base: this.renderCoinName(base),\n                        }}\n                      />\n                    )\n                  )\n                )\n              }\n            </Fragment>\n          }\n        </td>\n      </tr>\n    )\n    : /* mobile content */\n    (\n      <tr\n        id={id}\n        styleName={`\n          ${'mobileRow'}\n          ${id === linkedOrderId ? 'linkedOrderHighlight' : ''}\n        `}\n        style={orderId === id ? { background: 'rgba(0, 236, 0, 0.1)' } : {}}\n      >\n        <td>\n          <div styleName=\"bigContainer\">\n            <div styleName=\"tdContainer-1\">\n              <span styleName=\"firstType\">\n                {type === PAIR_TYPES.BID\n                  ? (<FormattedMessage id=\"RowMobileYouSend\" defaultMessage=\"You send\" />)\n                  : (<FormattedMessage id=\"RowMobileYouGet\" defaultMessage=\"You get\" />)}\n              </span>\n              <span styleName='rowAmount withIcon'>\n                {isTurbo &&\n                  <TurboIcon />\n                }\n                {`${mobileFormatCrypto(amount, main)} ${main}`}\n              </span>\n            </div>\n            <div>\n              <i styleName='arrowsIcon' className=\"fas fa-exchange-alt\" />\n            </div>\n            <div styleName=\"tdContainer-2\">\n              <span styleName=\"secondType\">\n                {type === PAIR_TYPES.BID\n                  ? (<FormattedMessage id=\"RowMobileYouGet\" defaultMessage=\"You get\" />)\n                  : (<FormattedMessage id=\"RowMobileYouSend\" defaultMessage=\"You send\" />)}\n              </span>\n              <span styleName='rowAmount'>{`${mobileFormatCrypto(total, base)} ${this.renderCoinName(base)}`}</span>\n            </div>\n            <div styleName=\"tdContainer-3\">\n              {\n                peer === ownerPeer ? (\n                  <RemoveButton onClick={() => removeOrder(id)} brand={true} />\n                ) : (\n                  <Fragment>\n                    {\n                      isRequested ? (\n                        <Fragment>\n                          <div style={{ color: 'red' }}>\n                            <FormattedMessage id=\"RowM136\" defaultMessage=\"REQUESTING\" />\n                          </div>\n                          {' '}\n                          <Link to={swapUri}>\n                            <FormattedMessage id=\"RowM139\" defaultMessage=\"Swap\" />\n                          </Link>\n                        </Fragment>\n                      ) : (\n                        isProcessing ? (\n                          <span>\n                            <FormattedMessage id=\"RowM145\" defaultMessage=\"This order is in execution\" />\n                          </span>\n                        ) : (\n                          isFetching ? (\n                            <Fragment>\n                              <InlineLoader />\n                              <br />\n                              <span>\n                                <FormattedMessage id=\"RowM153\" defaultMessage=\"Please wait while we confirm your request\" />\n                              </span>\n                            </Fragment>\n                          ) : (\n                            <RequestButton\n                              styleName=\"startButton\"\n                              disabled={!isSwapButtonEnabled}\n                              onClick={isSwapButtonEnabled ?\n                                () => this.sendSwapRequest(id, isMy ? sellCurrency : buyCurrency)\n                                :\n                                () => {}\n                              }\n                              data={{\n                                type,\n                                main: this.renderCoinName(main),\n                                base: this.renderCoinName(base),\n                              }}\n                            />\n                          )\n                        )\n                      )\n                    }\n                  </Fragment>\n                )\n              }\n            </div>\n          </div>\n        </td>\n      </tr>\n    )\n  }\n}\n\nexport default injectIntl(Row)\n","// extracted by mini-css-extract-plugin\nexport default {\"rowAmount\":\"_2OTO753gLha88b7rkvMzVY\",\"withIcon\":\"_2XIPAEqrwyerFdVRyUcU-o\",\"arrowsIcon\":\"_2ea5eF-QtyzmLPkaBQBwTx\",\"rowCell\":\"_1lTdO9Wgoe5Mx220iGPcO_\",\"mobileRow\":\"_1-iB-P1lPWHlwjenEluo1t\",\"firstType\":\"_3v3wxSYq3qy79liv5r7XQ8\",\"secondType\":\"_3SnmEepEkY6iBYC-xQsw5w\",\"tdContainer-1\":\"_3JKHOnJBbBpDMpFpTxjm_f\",\"tdContainer-2\":\"hnPh5q0L0z3eJkgzQ6gfh\",\"tdContainer-3\":\"_3Fffi68bx5ggHRx1cBdm_D\",\"startButton\":\"_1rxKKRst9ysaxUPykNL0d0\",\"bigContainer\":\"_2p9R_qC1ttkArgq9wlvOV1\",\"linkedOrderHighlight\":\"_1f4z-LdVke3b4Izd4oRSyh\"};","export default __webpack_public_path__ + \"images/share-alt-solid_db73c0.svg\";","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nimport config from 'app-config'\nimport { links, constants } from 'helpers'\nimport { Link, withRouter } from 'react-router-dom'\n\nimport styles from './RowFeeds.scss'\nimport CSSModules from 'react-css-modules'\nimport ShareImg from './images/share-alt-solid.svg'\n\nimport Coins from 'components/Coins/Coins'\nimport Copy from 'components/ui/Copy/Copy'\nimport { RemoveButton } from 'components/controls'\nimport { FormattedMessage, injectIntl } from 'react-intl'\nimport { localisedUrl } from 'helpers/locale'\nimport BigNumber from 'bignumber.js'\nimport TurboIcon from 'shared/components/ui/TurboIcon/TurboIcon'\n\n\n@withRouter\n@CSSModules(styles, { allowMultiple: true })\nclass RowFeeds extends Component<any, any> {\n\n  static propTypes = {\n    row: PropTypes.object,\n  }\n\n  generateOfferUrl = () => {\n    const { row: { id } } = this.props\n\n    const currentUrl = window.location.href\n\n    const offerUrl = currentUrl.includes(`/${id}`) ?\n      currentUrl // if already entered\n      :\n      `${currentUrl}/${id}`\n\n    return offerUrl\n  }\n\n  renderCoinName(coin) {\n    return coin.toUpperCase()\n  }\n\n  render() {\n    const {\n      row: { requests, buyAmount, buyCurrency, sellAmount, sellCurrency, exchangeRate, id, isTurbo },\n      declineRequest, acceptRequest, removeOrder, intl: { locale },\n    } = this.props\n\n    const rate = exchangeRate ? new BigNumber(exchangeRate) : new BigNumber(buyAmount).div(sellAmount)\n\n    const swapUri = isTurbo ?\n      `${links.turboSwap}/${id}`\n      :\n      `${links.atomicSwap}/${id}`\n\n    return (\n      <tr key={this.props.key}>\n        <td styleName=\"with-icon\">\n          <Coins names={[sellCurrency, buyCurrency]} size={25} />\n          {isTurbo &&\n            <TurboIcon />\n          }\n        </td>\n        <td>\n          <span className='sellAmountOrders' styleName=\"value\">{sellAmount.toFixed(5)}</span>\n          {' '}\n          <span styleName=\"currency\">{this.renderCoinName(sellCurrency)}</span>\n        </td>\n        <td>\n          <span className='buyAmountOrders' styleName=\"value\">{buyAmount.toFixed(5)}</span>\n          {' '}\n          <span styleName=\"currency\">{this.renderCoinName(buyCurrency)}</span>\n        </td>\n        <td>\n          <span styleName=\"value\">{rate.toFixed(5)}</span>\n          {' '}\n          <span styleName=\"currency\">{`${this.renderCoinName(buyCurrency)}/${this.renderCoinName(sellCurrency)}`}</span>\n        </td>\n        <td>\n          <div styleName=\"buttons\">\n            <div>\n              <Copy text={this.generateOfferUrl()}>\n                <div styleName=\"circle\">\n                  <img src={ShareImg} styleName=\"img\" alt=\"share\" />\n                </div>\n              </Copy>\n            </div>\n            {Boolean(requests && requests.length) ?\n              <div>\n                <div styleName=\"delete\" onClick={() => declineRequest(id, requests[0].participant.peer)} >\n                  <FormattedMessage id=\"RowFeeds77\" defaultMessage=\"Decline\" />\n                </div>\n                <Link to={swapUri}>\n                  <div styleName=\"accept\" onClick={() => acceptRequest(id, requests[0].participant.peer)} >\n                    <FormattedMessage id=\"RowFeeds81\" defaultMessage=\"Accept\" />\n                  </div>\n                </Link>\n              </div>\n              : <RemoveButton onClick={() => removeOrder(id)} brand={true} />\n            }\n          </div>\n        </td>\n      </tr>\n    )\n  }\n}\n\nexport default injectIntl(RowFeeds)\n","// extracted by mini-css-extract-plugin\nexport default {\"accept\":\"_2oRex7qEEswXmrw041Jb9D\",\"delete\":\"_3A19kM9vTK21SrzBEkr7HF\",\"with-icon\":\"_2d7QtJzoCjgoL1QoJCVFis\",\"buttons\":\"sZyAAvsPYG0oEqGS01Nuy\",\"img\":\"_2BxMDYf-BjQzEZAY-aADc_\",\"circle\":\"_3r__1lPz8oQ9AJ5ku8cIep\",\"value\":\"LENW6S3v85uZEOLa2pQV5\",\"currency\":\"_2RJxnOf-i28tnzqi8Y6_81\"};","import React, { PureComponent, Fragment } from 'react'\nimport cssModules from 'react-css-modules'\nimport styles from './MyOrders.scss'\nimport RowFeeds from './RowFeeds/RowFeeds'\n\nimport { FormattedMessage } from 'react-intl'\n\n@cssModules(styles, { allowMultiple: true })\nexport default class MyOrders extends PureComponent<any, any> {\n\n  render() {\n    const titles = [\n      ' ', // empty title in the table\n      <FormattedMessage id=\"MyOrdersYouSend\" defaultMessage=\"You send\" />,\n      <FormattedMessage id=\"MyOrdersYouGet\" defaultMessage=\"You get\" />,\n      <FormattedMessage id=\"MyOrdersRate\" defaultMessage=\"Exchnage rate\" />,\n      ' ', // empty title in the table\n    ]\n    const { myOrders, declineRequest, acceptRequest, removeOrder } = this.props\n\n    if (myOrders.length === undefined || myOrders.length <= 0) {\n      return null\n    }\n\n    return (\n      <div>\n        <table styleName=\"myOrdersTable\">\n          <thead>\n            <tr>\n              {\n                titles.map((title, index) =>\n                  <th key={index}>{title}</th>\n                )\n              }\n            </tr>\n          </thead>\n          <tbody>\n            {myOrders.map((order, index) => {\n              return (\n                <RowFeeds\n                  key={index}\n                  row={order}\n                  declineRequest={declineRequest}\n                  acceptRequest={acceptRequest}\n                  removeOrder={removeOrder}\n                />\n              )\n            })}\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"myOrdersTable\":\"_27T4SyIdP0s1x2mh5_GBtB\"};","import React, { Component, Fragment } from 'react'\n\nimport { connect } from 'redaction'\nimport actions from 'redux/actions'\nimport { withRouter } from 'react-router-dom'\n\nimport constants from 'helpers/constants'\n\nimport cssModules from 'react-css-modules'\nimport styles from './OrderBook.scss'\n\nimport Panel from 'components/ui/Panel/Panel'\nimport Table from 'components/tables/Table/Table'\nimport tableStyles from 'components/tables/Table/Table.scss'\nimport Toggle from 'components/controls/Toggle/Toggle'\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\nimport PageSeo from 'components/Seo/PageSeo'\nimport { getSeoPage } from 'helpers/seo'\n\nimport Pair from './../Pair'\nimport Row from './Row/Row'\nimport MyOrders from './../MyOrders/MyOrders'\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\n\nimport config from 'app-config'\nimport feedback from 'shared/helpers/feedback'\nimport getCoinInfo from 'common/coins/getCoinInfo'\n\n\ntype OrderBookProps = {\n  sellCurrency: string\n  buyCurrency: string\n\n  isOnline: boolean\n  invalidPair: boolean\n  isAllPeersLoaded: boolean\n\n  decline: any[]\n  history: { [key: string]: any }\n  intl: { [key: string]: any }\n  location: { [key: string]: any }\n  orders: { [key: string]: any }[]\n  myOrders: { [key: string]: any }[]\n  currencies: { [key: string]: any }[]\n\n  pairFees: { [key: string]: any } | boolean\n  balances: { [key: string]: number } | boolean\n  \n  linkedOrderId: string\n  orderId: string\n\n  checkSwapAllow: ({}) => boolean\n  checkSwapExists: ({}) => boolean\n}\n\ntype OrderBookState = {\n  buyOrders: { [key: string]: any }[]\n  sellOrders: { [key: string]: any }[]\n  isShowAllMyOrders: boolean\n}\n\nconst filterMyOrders = (orders, peer) => orders\n  .filter(order => order.owner.peer === peer)\n\nconst filterOrders = (orders, filter) => {\n  return orders\n    .filter(order => order.isProcessing !== true)\n    .filter(order => order.isHidden !== true)\n    .filter(order => Pair.check(order, filter))\n    .sort((a, b) => {\n      return Pair.compareOrders(b, a)\n    })\n}\n\n@connect(({\n  rememberedOrders,\n  core: { orders, filter },\n  pubsubRoom: { isOnline, isAllPeersLoaded, peer },\n  currencies: { items: currencies },\n}) => ({\n  orders: filterOrders(orders, filter),\n  myOrders: filterMyOrders(orders, peer),\n  isOnline,\n  isAllPeersLoaded,\n  currencies,\n  decline: rememberedOrders.savedOrders,\n}))\n@withRouter\n@cssModules(styles, { allowMultiple: true })\nclass OrderBook extends Component<OrderBookProps, OrderBookState> {\n  static getDerivedStateFromProps({ orders, sellCurrency, buyCurrency }) {\n    if (orders.length === 0) {\n      return null\n    }\n\n    const sellOrders = orders.filter(order =>\n      order.buyCurrency.toLowerCase() === buyCurrency.toLowerCase() &&\n      order.sellCurrency.toLowerCase() === sellCurrency.toLowerCase()\n    ).sort((a, b) => Pair.compareOrders(b, a))\n\n    const buyOrders = orders.filter(order =>\n      order.buyCurrency.toLowerCase() === sellCurrency.toLowerCase() &&\n      order.sellCurrency.toLowerCase() === buyCurrency.toLowerCase()\n    ).sort((a, b) => Pair.compareOrders(a, b))\n\n    return {\n      buyOrders,\n      sellOrders,\n    }\n  }\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      buyOrders: [],\n      sellOrders: [],\n      isShowAllMyOrders: true,\n    }\n  }\n\n  componentDidUpdate() {\n    const { orders } = this.props\n    const { buyOrders, sellOrders } = this.state\n\n    if (orders.length === 0) {\n      if (buyOrders.length) {\n        this.setState(() => ({\n          buyOrders: [],\n        }))\n      }\n\n      if (sellOrders.length) {\n        this.setState({\n          sellOrders: [],\n        })\n      }\n    }\n  }\n\n  handleShowAllMyOrders = (value) => {\n    this.setState(() => ({ isShowAllMyOrders: value }))\n  }\n\n  removeOrder = (orderId) => {\n    //@ts-ignore: strictNullChecks\n    actions.modals.open(constants.modals.Confirm, {\n      onAccept: () => {\n        feedback.offers.deleted()\n        actions.core.deletedPartialCurrency(orderId)\n        actions.core.removeOrder(orderId)\n        actions.core.updateCore()\n      },\n      message: (\n        <FormattedMessage id=\"orders94s\" defaultMessage=\"Are you sure you want to delete the order?\" />\n      ),\n    })\n  }\n\n  acceptRequest = (orderId, peer) => {\n    actions.core.acceptRequest(orderId, peer)\n    actions.core.updateCore()\n  }\n\n  declineRequest = (orderId, peer) => {\n    actions.core.declineRequest(orderId, peer)\n    actions.core.updateCore()\n  }\n\n  \n  renderCoinName(coin) {\n    return coin.toUpperCase()\n  }\n\n  render() {\n    const {\n      buyOrders,\n      sellOrders,\n      isShowAllMyOrders,\n    } = this.state\n\n    const { \n      intl,\n      decline,\n      linkedOrderId,\n      pairFees,\n      balances, \n      history, \n      isOnline, \n      isAllPeersLoaded, \n      myOrders, \n      orderId, \n      location, \n      currencies,\n      checkSwapAllow,\n      checkSwapExists,\n      buyCurrency: propsBuyCurrency,\n      sellCurrency: propsSellCurrency,\n      invalidPair,\n    } = this.props\n\n    const buyCurrency = propsBuyCurrency.toUpperCase()\n    const sellCurrency = propsSellCurrency.toUpperCase()\n\n    const titles = [\n      ' ', // empty title in the table\n      <FormattedMessage id=\"orders102\" defaultMessage=\"Amount\" />,\n      <FormattedMessage id=\"orders104\" defaultMessage=\"Total\" />,\n      <FormattedMessage id=\"orders105\" defaultMessage=\"Price\" />,\n      ' ', // empty title in the table \n    ]\n\n    const seoPage = getSeoPage(location.pathname)\n\n    const isWidget = (config && config.isWidget)\n\n    const buyCurrencyFullName = (currencies.find(c => c.name === buyCurrency) || {}).fullTitle\n    const sellCurrencyFullName = (currencies.find(c => c.name === sellCurrency) || {}).fullTitle\n\n    const title = defineMessages({\n      metaTitle: {\n        id: 'Orders121',\n        defaultMessage: 'Atomic Swap {buyCurrencyFullName} ({buyCurrency}) to {sellCurrencyFullName} ({sellCurrency}) Instant Exchange',\n      },\n    })\n    const description = defineMessages({\n      metaDescription: {\n        id: 'Orders127',\n        defaultMessage: `Best exchange rate for {buyCurrencyFullName} ({buyCurrency}) to {sellCurrencyFullName} ({sellCurrency}).\n         Swap.Online wallet provides instant exchange using Atomic Swap Protocol.`,\n      },\n    })\n\n    const myOrdersThisMarket = myOrders.filter(order =>\n      order.buyCurrency === buyCurrency && order.sellCurrency === sellCurrency\n      ||\n      order.buyCurrency === sellCurrency && order.sellCurrency === buyCurrency\n    )\n\n    const offersNoticeLoadingText = (\n      <div styleName='offersLoadingNotice'>\n        <FormattedMessage\n          id=\"OrderBookOffersNoteOverLoader\"\n          defaultMessage=\"Requesting offers from peers online\"\n        />\n        <div styleName='loader'>\n          <InlineLoader />\n        </div>\n        <FormattedMessage\n          id=\"OrderBookOffersNoteUnderLoader\"\n          defaultMessage=\"it may take a minute\"\n        />\n      </div>\n    )\n\n    const offersNoticeOfflineText = (\n      <p styleName=\"offersOfflineNotice\">\n        <FormattedMessage\n          id=\"OrderBookOffersOfflineNote\"\n          defaultMessage=\"If no offers are found, this means that there are no users who posted the offer, not online.\"\n        />\n      </p>\n    )\n\n    return (\n      <div styleName=\"orderbookWrapper\">\n        <PageSeo\n          location={location}\n          defaultTitle={intl.formatMessage(title.metaTitle, {\n            buyCurrency: this.renderCoinName(buyCurrency),\n            sellCurrency: this.renderCoinName(sellCurrency),\n            buyCurrencyFullName,\n            sellCurrencyFullName,\n          })}\n          defaultDescription={intl.formatMessage(description.metaDescription, {\n            buyCurrency: this.renderCoinName(buyCurrency),\n            sellCurrency: this.renderCoinName(sellCurrency),\n            buyCurrencyFullName,\n            sellCurrencyFullName,\n          })}\n        />\n\n        {!!myOrders.length &&\n          <Panel\n            header={\n              <Fragment>\n                <h3>\n                  <FormattedMessage id=\"MyOrders23\" defaultMessage=\"Your offers\" />\n                  {' '}\n                  <span>{ isShowAllMyOrders ? `(${myOrders.length})` : `(${myOrdersThisMarket.length}/${myOrders.length})` }</span>\n                </h3>\n                <div styleName=\"subtitle showAllSwitch\">\n                  <FormattedMessage\n                    id=\"orders1381\"\n                    defaultMessage=\"{buyCurrency} 🔁 {sellCurrency}\"\n                    values={{\n                      buyCurrency: this.renderCoinName(buyCurrency),\n                      sellCurrency: this.renderCoinName(sellCurrency),\n                    }}\n                  />\n                  {/*\n                  //@ts-ignore */}\n                  <Toggle checked={isShowAllMyOrders} onChange={this.handleShowAllMyOrders} />\n                  <FormattedMessage id=\"orders1382\" defaultMessage=\"All\" />\n                </div>\n              </Fragment>\n            }\n          >\n            <MyOrders\n              myOrders={isShowAllMyOrders ? myOrders : myOrdersThisMarket}\n              declineRequest={this.declineRequest}\n              removeOrder={this.removeOrder}\n              acceptRequest={this.acceptRequest}\n            />\n          </Panel>\n        }\n        <Panel header={\n          <Fragment>\n            <h3 styleName=\"ordersHeading\">\n              <FormattedMessage\n                id=\"orders159\"\n                defaultMessage=\"{currency} offers\"\n                values={{ currency: this.renderCoinName(buyCurrency) }} />\n            </h3>\n            <div styleName=\"subtitle\">\n              <FormattedMessage\n                id=\"orders156\"\n                defaultMessage=\"Buy {currency} here\"\n                values={{ currency: this.renderCoinName(buyCurrency) }}\n              />\n            </div>\n          </Fragment>\n        }>\n          {isOnline\n            ? (\n              buyOrders.length > 0\n                ? (\n                  <Table\n                    id=\"table_exchange\"\n                    className={tableStyles.exchange}\n                    styleName=\"orderBookTable\"\n                    titles={titles}\n                    rows={buyOrders}\n                    rowRender={(row) => (\n                      <Row\n                        key={row.id}\n                        orderId={orderId}\n                        row={row}\n                        decline={decline}\n                        history={history}\n                        removeOrder={this.removeOrder}\n                        linkedOrderId={linkedOrderId}\n                        pairFees={pairFees}\n                        balances={balances}\n                        checkSwapAllow={checkSwapAllow}\n                        checkSwapExists={checkSwapExists}\n                        buy={buyCurrency}\n                        sell={sellCurrency}\n                      />\n                    )}\n                  />\n                )\n                : offersNoticeLoadingText\n            )\n            : offersNoticeOfflineText\n          }\n        </Panel>\n\n        <Panel header={\n          <Fragment>\n            <h3 styleName=\"ordersHeading\">\n              <FormattedMessage\n                id=\"orders159\"\n                defaultMessage=\"{currency} offers\"\n                values={{ currency: this.renderCoinName(sellCurrency) }} />\n            </h3>\n            <div styleName=\"subtitle\">\n              <FormattedMessage\n                id=\"orders156\"\n                defaultMessage=\"Buy {currency} here\"\n                values={{ currency: this.renderCoinName(sellCurrency) }}\n              />\n            </div>\n          </Fragment>\n        }\n        >\n          {isOnline\n            ? (\n              sellOrders.length > 0\n                ? (\n                  <Table\n                    id=\"table_exchange\"\n                    className={tableStyles.exchange}\n                    styleName=\"orderBookTable\"\n                    titles={titles}\n                    rows={sellOrders}\n                    rowRender={(row) => (\n                      <Row\n                        key={row.id}\n                        orderId={orderId}\n                        row={row}\n                        decline={decline}\n                        history={history}\n                        removeOrder={this.removeOrder}\n                        linkedOrderId={linkedOrderId}\n                        pairFees={pairFees}\n                        balances={balances}\n                        checkSwapAllow={checkSwapAllow}\n                        checkSwapExists={checkSwapExists}\n                        buy={sellCurrency}\n                        sell={buyCurrency}\n                      />\n                    )}\n                  />\n                )\n                : offersNoticeLoadingText\n            )\n            : offersNoticeOfflineText\n          }\n        </Panel>\n        {seoPage && seoPage.footer && <div>{seoPage.footer}</div>}\n      </div>\n    )\n  }\n}\n\nexport default injectIntl(OrderBook)\n","// extracted by mini-css-extract-plugin\nexport default {\"ordersHeading\":\"_2iO7Phw1xkYqEhyWKHpO1P\",\"offersLoadingNotice\":\"_12uHGnd8WZrQj6nyzWbxDW\",\"loader\":\"_3K031ahQ5foQyXJcOV2Hp2\",\"offersOfflineNotice\":\"_2by27iyl-XAGMf1aRlGdzu\",\"orderBookTable\":\"_1-2Go9_P9imix1vCJztSfr\",\"subtitle\":\"_27cQWv4WbCgDwivx9cmbiK\",\"showAllSwitch\":\"_3lYV6xvkCClbqSEa6njRNB\",\"orderbookWrapper\":\"_4jfj_o8vanqq6wVWPsV1b\"};","import React, { Component, Fragment } from 'react'\n\nimport cssModules from 'react-css-modules'\nimport styles from './Orders.scss'\n\nimport { links, constants } from 'helpers'\n\nimport actions from 'redux/actions'\nimport { connect } from 'redaction'\nimport { isMobile } from 'react-device-detect'\n\nimport Center from 'components/layout/Center/Center'\nimport PageHeadline from 'components/PageHeadline/PageHeadline'\nimport SubTitle from 'components/PageHeadline/SubTitle/SubTitle'\nimport FaqExpandableItem from 'components/FaqExpandableItem/FaqExpandableItem'\nimport CurrencyDirectionChooser from 'components/CurrencyDirectionChooser/CurrencyDirectionChooser'\nimport { FormattedMessage, injectIntl } from 'react-intl'\nimport { localisedUrl } from 'helpers/locale'\n\nimport OrderBook from './OrderBook/OrderBook'\n\nimport config from 'app-config'\n\n\n@connect(({\n  core: { filter },\n  currencies: { items: currencies },\n}) => ({\n  filter,\n  currencies,\n}))\n@cssModules(styles, { allowMultiple: true })\nclass Offers extends Component<any, any> {\n  constructor(props) {\n    super(props)\n    const { initialData, intl: { locale } } = props\n    const { buyCurrency, sellCurrency } = initialData || {}\n\n    const { buy, sell } = this.getCurrentCurrencies(props)\n\n    this.state = {\n      buyCurrency: buy || buyCurrency || 'swap',\n      sellCurrency: sell || sellCurrency || 'btc',\n      invalidPair: false,\n      isShow: false,\n      exchange: localisedUrl(locale, links.exchange),\n    }\n  }\n\n  componentDidMount() {\n    const { buy, sell } = this.getCurrentCurrencies(this.props)\n\n    if (!sell || !buy) {\n      return\n    }\n\n    this.checkPair(sell, buy)\n  }\n\n  componentDidUpdate({ buy: prevBuy, sell: prevSell }) {\n    const { buy, sell } = this.props\n    if (buy !== prevBuy || sell !== prevSell) {\n      this.createNewState({\n        buyCurrency: buy,\n        sellCurrency: sell,\n      })\n    }\n  }\n\n  createNewState = ({ buyCurrency, sellCurrency }) => {\n    this.checkPair(sellCurrency, buyCurrency)\n\n    this.setState(() => ({ buyCurrency, sellCurrency }))\n  }\n\n  getCurrentCurrencies = (props) => {\n    const { match = {}, buy: buyCurrency, sell: sellCurrency } = props\n\n    const buy = match.params ? match.params.buy : buyCurrency\n    const sell = match.params ? match.params.sell : sellCurrency\n\n    return { buy, sell }\n  }\n\n  handleBuyCurrencySelect = ({ value }) => {\n    let { sellCurrency, buyCurrency } = this.state\n\n    if (sellCurrency === value) {\n      sellCurrency = buyCurrency\n    }\n\n    this.checkPair(sellCurrency, value)\n\n    this.setState({\n      buyCurrency: value,\n      sellCurrency,\n    })\n  }\n\n  handleSellCurrencySelect = ({ value }) => {\n    let { sellCurrency, buyCurrency } = this.state\n\n    if (buyCurrency === value) {\n      buyCurrency = sellCurrency\n    }\n\n    this.checkPair(value, buyCurrency)\n    actions.pairs.selectPair(sellCurrency)\n    this.setState({\n      buyCurrency,\n      sellCurrency: value,\n    })\n  }\n\n  flipCurrency = () => {\n    const { buyCurrency, sellCurrency } = this.state\n\n    this.checkPair(buyCurrency, sellCurrency)\n\n    this.setState({\n      buyCurrency: sellCurrency,\n      sellCurrency: buyCurrency,\n    })\n  }\n\n  setFilter = (filter) => {\n    actions.core.setFilter(filter)\n  }\n\n  checkPair = (sell, buy) => {\n    sell = sell.toUpperCase()\n    buy = buy.toUpperCase()\n\n    if (constants.tradeTicker.includes(`${sell}-${buy}`)) {\n      this.setFilter(`${sell}-${buy}`)\n    } else if (constants.tradeTicker.includes(`${buy}-${sell}`)) {\n      this.setFilter(`${buy}-${sell}`)\n    } else {\n      this.setFilter('usdt-btc')\n      this.setState(() => ({\n        sellCurrency: 'btc',\n        buyCurrency: 'usdt',\n        invalidPair: true,\n      }))\n    }\n  }\n\n  handleShowOrders = () => {\n    const { history, filter } = this.props\n\n    this.setState(() => ({\n      isVisible: false,\n      isShow: true,\n    }))\n    history.replace(filter.toLowerCase())\n  }\n\n  render() {\n    const { match = {}, history = {}, currencies, linkedOrderId } = this.props\n    const { buyCurrency, sellCurrency, invalidPair, exchange } = this.state\n    const sectionContainerStyleName = isMobile ? 'sectionContainerMobile' : 'sectionContainer'\n    const isWidgetBuild = config && config.isWidget\n\n    const {\n      pairFees,\n      balances,\n    } = this.props\n\n    return (\n      <section styleName={isWidgetBuild ? `${sectionContainerStyleName} ${sectionContainerStyleName}_widget` : sectionContainerStyleName}>\n        {\n          history.location && history.location.pathname === exchange ? (\n            //@ts-ignore\n            <PageHeadline>\n              <CurrencyDirectionChooser\n                handleSellCurrencySelect={this.handleSellCurrencySelect}\n                handleBuyCurrencySelect={this.handleBuyCurrencySelect}\n                handleSubmit={this.handleShowOrders}\n                buyCurrency={buyCurrency}\n                sellCurrency={sellCurrency}\n                flipCurrency={this.flipCurrency}\n                currencies={currencies}\n              />\n              <div styleName=\"videoContainer\">\n                <Center relative centerVertically={false}>\n                  <SubTitle>\n                    <FormattedMessage id=\"Home153\" defaultMessage=\"What is atomic swap?\" />\n                  </SubTitle>\n                </Center>\n\n                <div styleName=\"videoFaqContainer\">\n                  <iframe\n                    title=\"What is atomic swap?\"\n                    width=\"700\"\n                    height=\"480\"\n                    src=\"https://www.youtube.com/embed/Jhrb7xOT_7s\"\n                    frameBorder=\"0\"\n                    allow=\"autoplay; encrypted-media\"\n                    allowFullScreen\n                  />\n                  <div styleName=\"faqContainer\">\n                    {\n                      links.faq.map((question, idx) =>\n                        <FaqExpandableItem key={idx} {...question} />\n                      )\n                    }\n                  </div>\n                </div>\n              </div>\n            </PageHeadline>\n          ) : (\n            <OrderBook\n              handleSellCurrencySelect={this.handleSellCurrencySelect}\n              handleBuyCurrencySelect={this.handleBuyCurrencySelect}\n              buyCurrency={buyCurrency}\n              sellCurrency={sellCurrency}\n              flipCurrency={this.flipCurrency}\n              orderId={match.params && match.params.orderId}\n              invalidPair={invalidPair}\n              linkedOrderId={linkedOrderId}\n              pairFees={pairFees}\n              balances={balances}\n              checkSwapAllow={this.props.checkSwapAllow}\n              checkSwapExists={this.props.checkSwapExists}\n            />\n          )\n        }\n      </section>\n    )\n  }\n}\n\nexport default injectIntl(Offers)\n","// extracted by mini-css-extract-plugin\nexport default {\"sectionContainer\":\"_21CWzAU4TFg1Lfu97w-vdN\",\"sectionContainer_widget\":\"_3pf0PWcbb3UC6VEY1ZVd91\",\"sectionContainerMobile\":\"_1cLLCKfcQeBE7gd7B4KO90\",\"sectionContainerMobile_widget\":\"_1zMu-GpceN7MubWA0S-1Ju\",\"videoContainer\":\"tgSQRZ1BfLxhYhRkBLA8U\",\"videoFaqContainer\":\"SJQXgpbUepxTJKKW6YPD6\",\"faqContainer\":\"_1rupALwRatmymVFVlMTCvN\",\"loading\":\"_2B63L3VO9LLzQx05HRJt0y\",\"noItems\":\"rGzySwqtkBa_OIDbRQzmn\"};","import React, { PureComponent, Fragment } from 'react'\nimport Link from 'local_modules/sw-valuelink'\n\nimport ThemeTooltip from 'components/ui/Tooltip/ThemeTooltip'\nimport CSSModules from 'react-css-modules'\nimport styles from './Exchange.scss'\nimport Swap from 'swap.swap'\nimport { connect } from 'redaction'\nimport actions from 'redux/actions'\nimport { BigNumber } from 'bignumber.js'\nimport { Redirect } from 'react-router-dom'\nimport { getState } from 'redux/core'\nimport reducers from 'redux/core/reducers'\n\nimport SelectGroup from './SelectGroup/SelectGroup'\nimport { Button } from 'components/controls'\nimport Promo from './Promo/Promo'\nimport Quote from './Quote'\nimport HowItWorks from './HowItWorks/HowItWorks'\nimport VideoAndFeatures from './VideoAndFeatures/VideoAndFeatures'\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\nimport { FormattedMessage, injectIntl } from 'react-intl'\nimport { localisedUrl } from 'helpers/locale'\nimport config from 'helpers/externalConfig'\nimport swapsHelper from 'helpers/swaps'\nimport SwapApp from 'swap.app'\n\nimport helpers, {\n  localStorage,\n  getPairFees,\n  constants,\n  metamask,\n  feedback,\n  links,\n} from 'helpers'\n\nimport Switching from 'components/controls/Switching/Switching'\nimport AddressSelect from './AddressSelect/AddressSelect'\nimport { AddressType, AddressRole } from 'domain/address'\nimport { SwapMode } from 'domain/swap'\nimport NetworkStatus from 'components/NetworkStatus/NetworkStatus'\nimport Orders from './Orders/Orders'\nimport erc20Like from 'common/erc20Like'\nimport turboSwap from 'common/helpers/turboSwap'\nimport Toggle from 'components/controls/Toggle/Toggle'\nimport TurboIcon from 'shared/components/ui/TurboIcon/TurboIcon'\n\nimport { COIN_DATA, COIN_MODEL, COIN_TYPE } from 'swap.app/constants/COINS'\nimport getCoinInfo from 'common/coins/getCoinInfo'\n\n\ntype CurrencyObj = {\n  addAssets?: boolean\n  fullTitle: string\n  icon: string\n  name: string\n  title: string\n  value: string\n}\n\ntype ExchangeProps = {\n  isOnlyForm: boolean\n  activeFiat: string\n  intl: IUniversalObj\n  match: IUniversalObj\n  location: IUniversalObj\n  history: IUniversalObj\n  tokensData: IUniversalObj[]\n  currencies: { [key: string]: string }[]\n  allCurrencies: CurrencyObj[]\n  addSelectedItems: CurrencyObj[]\n  hiddenCoinsList: string[]\n  decline: string[]\n}\n\ntype Address = {\n  currency: string\n  type: AddressType\n  value: string\n}\n\ntype ExchangeState = {\n  haveAmount: number\n  getAmount: number\n  goodRate: number\n  maxAmount: number\n  haveFiat: number\n  exHaveRate?: number\n  exGetRate?: number\n  maxBuyAmount: BigNumber\n  \n  getFiat: string\n  haveCurrency: string\n  haveType: string\n  getCurrency: string\n  getType: string\n  peer: string\n  wayToDeclinedOrder: string\n\n  ordersIsOpen: boolean\n  hasTokenAllowance: boolean\n  extendedControls: boolean\n  isLowAmount: boolean\n  isNonOffers: boolean\n  isWaitForPeerAnswer: boolean\n  isDeclinedOffer: boolean\n  haveBalance: boolean\n  isTurbo: boolean\n  isPending: boolean\n  isTokenSell: boolean\n  isPendingTokenApprove: boolean\n  isNoAnyOrders?: boolean\n  isFullLoadingComplete?: boolean\n\n  orderId?: string\n  redirectToSwap: null | SwapMode\n\n  balances: any\n  pairFees: any\n  directionOrders: IUniversalObj[]\n  filteredOrders: IUniversalObj[]\n  desclineOrders: Swap[] | []\n\n  fromAddress: Address\n  toAddress: Address\n}\n\nconst isWidgetBuild = config && config.isWidget\nconst isChromeExtention = config && config.dir === 'chrome-extension/application'\nconst bannedPeers = {} // rejected swap peers\n\n@connect(\n  ({\n    currencies,\n    rememberedOrders,\n    core: { orders },\n    user: { tokensData, activeFiat },\n  }) => ({\n    currencies: swapsHelper.isExchangeAllowed(currencies.partialItems),\n    allCurrencies: currencies.items,\n    addSelectedItems: swapsHelper.isExchangeAllowed(currencies.addPartialItems),\n    orders: swapsHelper.filterIsPartial(orders),\n    tokensData: [...Object.keys(tokensData).map((k) => tokensData[k])],\n    decline: rememberedOrders.savedOrders,\n    activeFiat,\n  })\n)\n@CSSModules(styles, { allowMultiple: true })\nclass Exchange extends PureComponent<ExchangeProps, ExchangeState> {\n  private _mounted = false\n\n  static defaultProps = {\n    orders: [],\n  }\n\n  timer: boolean\n  promoContainer: Element\n  fiatRates: { [key: string]: number }\n  onRequestAnswer: (newOrder: IUniversalObj, isAccepted: boolean) => void\n\n  static getDerivedStateFromProps(props, state) {\n    const { orders } = props\n    const { haveCurrency, getCurrency, isTurbo } = state\n\n    if (!orders.length) {\n      return null\n    }\n\n    const directionOrders = orders.filter(order =>\n      !order.isMy &&\n      order.sellCurrency.toUpperCase() === getCurrency.toUpperCase() &&\n      order.buyCurrency.toUpperCase() === haveCurrency.toUpperCase()\n    )\n\n    const filteredOrders = directionOrders.filter(order =>\n      Boolean(order.isTurbo) === Boolean(isTurbo)\n    )\n\n    return {\n      directionOrders,\n      filteredOrders,\n    }\n  }\n\n  constructor(props) {\n    super(props)\n\n    const {\n      allCurrencies,\n      intl: { locale },\n      history,\n      match,\n    } = props\n\n    this.fiatRates = {}\n    this.onRequestAnswer = (newOrder, isAccepted) => {}\n\n    const isRootPage = history.location.pathname === '/'\n    const {\n      url,\n      params: { buy, sell },\n    } = match || { params: { buy: 'btc', sell: '{eth}usdt' } }\n\n    if (sell && buy && !isRootPage) {\n      if (\n        !allCurrencies.map((item) => item.value.toUpperCase()).includes(sell.toUpperCase()) ||\n        !allCurrencies.map((item) => item.value.toUpperCase()).includes(buy.toUpperCase())\n      ) {\n        history.push(localisedUrl(locale, `${links.exchange}/eth-to-btc`))\n      }\n    }\n\n    let haveCurrency = sell || config.opts.defaultExchangePair.sell\n    let getCurrency = buy || (!isWidgetBuild ? config.opts.defaultExchangePair.buy : config.erc20token)\n\n    const exchangeDataStr = localStorage.getItem(constants.localStorage.exchangeSettings)\n    const exchangeSettings = exchangeDataStr && JSON.parse(exchangeDataStr)\n    // to get data from last session\n    if (exchangeSettings) {\n      haveCurrency = exchangeSettings.currency?.sell || haveCurrency\n      getCurrency = exchangeSettings.currency?.buy || getCurrency\n    }\n\n    if (!(buy && sell) && !props.location.hash.includes('#widget') && !isRootPage) {\n      if (url !== '/wallet') {\n        history.push(localisedUrl(locale, `${links.exchange}/${haveCurrency}-to-${getCurrency}`))\n      }\n    }\n\n    const haveType = this.getDefaultWalletType(haveCurrency.toUpperCase())\n    const getType = this.getDefaultWalletType(getCurrency.toUpperCase())\n\n    this.state = {\n      isTokenSell: erc20Like.isToken({ name: haveCurrency }),\n      isPendingTokenApprove: false,\n      hasTokenAllowance: false,\n      haveCurrency,\n      haveType,\n      getCurrency,\n      getType,\n      exHaveRate: 0,\n      exGetRate: 0,\n      haveAmount: 0,\n      getAmount: 0,\n      haveFiat: 0,\n      getFiat: '',\n      isLowAmount: false,\n      maxAmount: 0,\n      maxBuyAmount: new BigNumber(0),\n      peer: '',\n      wayToDeclinedOrder: '',\n      goodRate: 0,\n      directionOrders: [],\n      filteredOrders: [],\n      isNonOffers: false,\n      isNoAnyOrders: false,\n      isDeclinedOffer: false,\n      extendedControls: false,\n      isWaitForPeerAnswer: false,\n      desclineOrders: [],\n      pairFees: false,\n      balances: false,\n      haveBalance: false,\n      //@ts-ignore: strictNullChecks\n      fromAddress: this.makeAddressObject(haveType, haveCurrency.toUpperCase()),\n      //@ts-ignore: strictNullChecks\n      toAddress: this.makeAddressObject(getType, getCurrency.toUpperCase()),\n      isTurbo: false,\n      redirectToSwap: null,\n      isPending: true,\n      ordersIsOpen: false,\n    }\n\n    if (config.isWidget) {\n      this.setState(() => ({\n        getCurrency: config.erc20token,\n      }))\n    }\n  }\n\n  reportError = (error: IError, details: string = '-') => {\n    feedback.exchangeForm.failed(`details(${details}) : error message(${error.message})`)\n\n    console.group('%c Exchange', 'color: red;')\n    console.error(`details(${details}) : error(${JSON.stringify(error)})`)\n    console.log('%c Stack trace', 'color: brown')\n    console.trace()\n    console.groupEnd()\n\n    actions.notifications.show(\n      constants.notifications.ErrorNotification,\n      { error: error.message }\n    )\n  }\n\n  makeAddressObject(type, currency) {\n    const wallet =\n      type !== AddressType.Custom\n        ? actions.core.getWallet({\n            currency,\n            addressType: type,\n          })\n        : false\n\n    switch (type) {\n      case AddressType.Internal:\n        return {\n          type: AddressType.Internal,\n          currency,\n          value: wallet ? wallet.address : '',\n        }\n      case AddressType.Metamask:\n        return {\n          type: AddressType.Metamask,\n          currency,\n          value: wallet ? wallet.address : '',\n        }\n      case AddressType.Custom:\n        return {\n          type: AddressType.Custom,\n          currency,\n          value: ``,\n        }\n    }\n    return null\n  }\n\n  getExchangeSettingsFromLocalStorage() {\n    const exchangeSettings = localStorage.getItem(constants.localStorage.exchangeSettings)\n\n    return JSON.parse(exchangeSettings || '{}')\n  }\n\n  setDefaultCurrencyType(currency, type) {\n    const exchangeSettings = this.getExchangeSettingsFromLocalStorage()\n    const userWalletTypes = exchangeSettings.userWalletTypes || {}\n\n    userWalletTypes[currency] = type\n\n    const newExchangeData = {\n      currency: exchangeSettings.currency,\n      userWalletTypes,\n    }\n\n    localStorage.setItem(\n      constants.localStorage.exchangeSettings,\n      JSON.stringify(newExchangeData)\n    )\n  }\n\n  getLocalStorageWalletType = (currency) => {\n    const exchangeSettings = this.getExchangeSettingsFromLocalStorage()\n    const { userWalletTypes } = exchangeSettings\n\n    if (userWalletTypes && userWalletTypes[currency.toUpperCase()]) {\n      return userWalletTypes[currency.toUpperCase()]\n    }\n\n    const ticker = currency.toUpperCase()\n    const isUTXOModel = COIN_DATA[ticker] && COIN_DATA[ticker].model === COIN_MODEL.UTXO\n    const isWalletCreate = localStorage.getItem(constants.localStorage.isWalletCreate)\n\n    if (isUTXOModel && isWalletCreate) {\n      this.setDefaultCurrencyType(currency.toUpperCase(), AddressType.Internal)\n      return AddressType.Internal\n    }\n\n    return false\n  }\n\n  getDefaultWalletType(currency) {\n    const storageType = this.getLocalStorageWalletType(currency)\n\n    if (storageType) {\n      return storageType\n    }\n\n    let resultType = 'Internal'\n\n    if (COIN_DATA[currency]) {\n      if (COIN_DATA[currency].model === COIN_MODEL.UTXO) {\n        resultType = AddressType.Custom\n      } else if (\n        COIN_DATA[currency].type === COIN_TYPE.ETH_TOKEN ||\n        COIN_DATA[currency].type === COIN_TYPE.BNB_TOKEN ||\n        COIN_DATA[currency].model === COIN_MODEL.AB\n      ) {\n        resultType = AddressType.Metamask\n      }\n    } else {\n      console.group('Exchange > %c getDefaultWalletType', 'color: yellow;')\n      console.warn(`Unknown coin ${currency}`)\n      console.groupEnd()\n    }\n\n    return resultType\n  }\n\n  componentDidMount() {\n    this._mounted = true\n\n    const {\n      isTokenSell,\n      haveCurrency,\n      getCurrency,\n      haveAmount,\n    } = this.state\n\n    actions.core.updateCore()\n    this.returnNeedCurrency(haveCurrency, getCurrency)\n    this.checkPair()\n    this.getFiatBalance()\n\n    this.timer = true\n    const timerProcess = () => {\n      if (!this.timer) return\n      this.setOrders()\n      this.checkUrl()\n      this.getCorrectDecline()\n      setTimeout(timerProcess, 2000)\n    }\n    timerProcess()\n\n    SwapApp.onInit(() => {\n      //@ts-ignore: strictNullChecks\n      SwapApp.shared().services.room.on('new orders', () => this.checkPair())\n    })\n\n    setTimeout(() => {\n      if (this._mounted) {\n        this.setState({\n          isFullLoadingComplete: true,\n        })\n      }\n    }, 60 * 1000) // 1 minute\n    \n    this.getInfoAboutCurrency()\n    this.fetchPairFeesAndBalances()\n\n    if (isTokenSell && haveAmount) {\n      this.updateTokenAllowance()\n    }\n\n    metamask.web3connect.on('updated', this.fetchPairFeesAndBalances)\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { haveCurrency: prevHaveCurrency } = prevState\n    const { haveCurrency, haveAmount } = this.state\n\n    if (prevHaveCurrency !== haveCurrency) {\n      const isTokenSell = erc20Like.isToken({ name: haveCurrency })\n\n      this.setState(() => ({\n        isTokenSell,\n      }))\n\n      if (isTokenSell && haveAmount) {\n        this.updateTokenAllowance()\n      }\n    }\n  }\n\n  componentDidCatch(error, info) {\n    console.group('%c Exchange', 'color: red;')\n    console.error(error)\n    console.trace()\n    console.groupEnd()\n  }\n\n  updateTokenAllowance = async () => {\n    const { tokensData } = this.props\n    const { haveCurrency, haveAmount } = this.state\n\n    const tokenObj = tokensData.find(tokenObj => {\n      return tokenObj.tokenKey === haveCurrency.toLowerCase()\n    })\n\n    if (tokenObj) {\n      const allowance = await erc20Like[tokenObj.standard].checkAllowance({\n        tokenOwnerAddress: tokenObj.address,\n        tokenContractAddress: tokenObj.contractAddress,\n        decimals: tokenObj.decimals,\n      })\n\n      this.setState(() => ({\n        hasTokenAllowance: new BigNumber(allowance).isGreaterThanOrEqualTo(haveAmount),\n      }))\n    }\n  }\n\n  getInfoAboutCurrency = async (): Promise<void> => {\n    const { currencies } = this.props\n    const currencyNames = currencies.map(({ name }) => name)\n\n    await actions.user.getInfoAboutCurrency(currencyNames)\n  }\n\n  getBalance(currency) {\n    const { balances } = this.state\n\n    return balances && balances[currency.toUpperCase()] ? balances[currency.toUpperCase()] : 0\n  }\n\n  fetchPairFeesAndBalances = async () => {\n    await this.fetchPairFees()\n    await this.fetchBalances()\n  }\n\n  updateFees = () => {\n    const updateCacheValue = true\n\n    this.fetchPairFees(updateCacheValue)\n  }\n\n  fetchPairFees = async (updateCacheValue = false): Promise<void> => {\n    const {\n      haveCurrency: sell,\n      getCurrency: buy,\n    } = this.state\n\n    this.setState(() => ({ isPending: true }))\n\n    const pairFees = await getPairFees({\n      sellCurrency: sell,\n      buyCurrency: buy,\n      updateCacheValue,\n    })\n\n    const buyExRate = await this.fetchFiatExRate(pairFees.buy.coin)\n    const sellExRate = await this.fetchFiatExRate(pairFees.sell.coin)\n\n    if (!this._mounted) return\n\n    this.setState(() => ({\n      isPending: false,\n      pairFees: {\n        ...pairFees,\n        buyExRate,\n        sellExRate,\n      }\n    }))\n  }\n\n  fetchBalances = async (): Promise<void> => {\n    const {\n      haveCurrency: sellCurrency,\n      getCurrency: buyCurrency,\n      pairFees,\n    } = this.state\n\n    if (!pairFees || !this._mounted) return\n\n    this.setState(() => ({ isPending: true }))\n\n    const buyWallet = actions.core.getWallet({ currency: buyCurrency })\n    const sellWallet = actions.core.getWallet({ currency: sellCurrency })\n    const feeBuyWallet = actions.core.getWallet({ currency: pairFees.buy.coin })\n    const feeSellWallet = actions.core.getWallet({ currency: pairFees.sell.coin })\n\n    const balances = {}\n    balances[`${buyCurrency.toUpperCase()}`] = await actions.core.fetchWalletBalance(buyWallet)\n    balances[`${sellCurrency.toUpperCase()}`] = await actions.core.fetchWalletBalance(sellWallet)\n\n    if (balances[`${feeBuyWallet.currency}`] === undefined) {\n      balances[`${feeBuyWallet.currency}`] = await actions.core.fetchWalletBalance(\n        feeBuyWallet\n      )\n    }\n\n    if (balances[`${feeSellWallet.currency}`] === undefined) {\n      balances[`${feeSellWallet.currency}`] = await actions.core.fetchWalletBalance(\n        feeSellWallet\n      )\n    }\n\n    this.setState(() => ({\n      isPending: false,\n      balances,\n    }))\n\n    this.checkBalanceOnAllCurrency()\n  }\n\n  checkBalanceOnAllCurrency() {\n    const { balances } = this.state\n\n    if (Object.keys(balances).length) {\n      for (let currency in balances) {\n        if (balances[currency] > 0) {\n          this.setState({\n            haveBalance: true,\n          })\n          break\n        }\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.updateExchangeSettings()\n    this._mounted = false\n    this.timer = false\n\n    metamask.web3connect.off('updated', this.fetchPairFeesAndBalances)\n  }\n\n  updateExchangeSettings = () => {\n    const exchangeSettings = this.getExchangeSettingsFromLocalStorage()\n    const { haveCurrency, getCurrency, haveType, getType } = this.state\n\n    const newExchangeSettings = {\n      ...exchangeSettings,\n      userWalletTypes: {\n        [haveCurrency.toUpperCase()]: haveType,\n        [getCurrency.toUpperCase()]: getType,\n      },\n      currency: {\n        sell: haveCurrency,\n        buy: getCurrency,\n      },\n    }\n\n    localStorage.setItem(\n      constants.localStorage.exchangeSettings,\n      JSON.stringify(newExchangeSettings)\n    )\n  }\n\n  checkUrl = () => {\n    const {\n      allCurrencies,\n      intl: { locale },\n      history,\n      match: {\n        params: { buy: buyValue, sell: sellValue },\n      },\n    } = this.props\n\n    if (\n      sellValue && buyValue &&\n      (\n        !allCurrencies.map((item) => item.value.toUpperCase()).includes(sellValue.toUpperCase()) ||\n        !allCurrencies.map((item) => item.value.toUpperCase()).includes(buyValue.toUpperCase())\n      )\n    ) {\n      history.push(localisedUrl(locale, `${links.exchange}/eth-to-btc`))\n    }\n\n    const { getCurrency, haveCurrency } = this.state\n\n    if (haveCurrency && sellValue && sellValue !== haveCurrency) {\n      this.handleSetHaveValue({ value: sellValue })\n    }\n\n    if (getCurrency && sellValue && buyValue && buyValue !== getCurrency) {\n      this.checkValidUrl(sellValue, buyValue)\n    }\n  }\n\n  checkValidUrl = (sellValue, buyValue) => {\n    const avaliablesBuyCurrency = actions.pairs.selectPairPartial(sellValue).map((el) => el.value)\n    if (avaliablesBuyCurrency.includes(buyValue)) {\n      return this.handleSetGetValue({ value: buyValue })\n    }\n    if (avaliablesBuyCurrency.includes(sellValue)) {\n      const filterSameVale = avaliablesBuyCurrency.filter((el) => el !== sellValue)\n      if (filterSameVale.includes('btc')) {\n        this.handleSetGetValue({ value: 'btc' })\n      } else {\n        this.handleSetGetValue({ value: filterSameVale[0] })\n      }\n    }\n  }\n\n  changeUrl = (sell, buy) => {\n    const {\n      intl: { locale },\n      isOnlyForm,\n    } = this.props\n\n    if (!this.props.location.hash.includes('#widget') && !isOnlyForm) {\n      this.props.history.push(localisedUrl(locale, `${links.exchange}/${sell}-to-${buy}`))\n    }\n  }\n\n  fetchFiatExRate = async (coin) => {\n    const { activeFiat } = this.props\n\n    try {\n      if (this.fiatRates[coin]) {\n        return this.fiatRates[coin]\n      } else {\n        const exRate = await actions.user.getExchangeRate(coin, activeFiat)\n        this.fiatRates[coin] = exRate\n        return exRate\n      }\n    } catch (error) {\n      this.reportError(error, `Cryptonator offline: Fail fetch ${coin} exRate for fiat ${activeFiat}`)\n      return 0\n    }\n  }\n\n  getFiatBalance = async (): Promise<void> => {\n    const { haveCurrency, getCurrency } = this.state\n\n    const exHaveRate = await this.fetchFiatExRate(haveCurrency)\n    const exGetRate = await this.fetchFiatExRate(getCurrency)\n    this.setState({\n      exHaveRate,\n      exGetRate,\n    })\n  }\n\n  createOffer = async () => {\n    feedback.createOffer.started()\n\n    const { haveCurrency, getCurrency } = this.state\n\n    //@ts-ignore: strictNullChecks\n    actions.modals.open(constants.modals.Offer, {\n      sellCurrency: haveCurrency,\n      buyCurrency: getCurrency,\n    })\n  }\n\n  checkBalanceForSwapPossibility = (checkParams) => {\n    const { sellCurrency, buyCurrency, amount, fromType, isSilentError } = checkParams\n    const buyWallet = actions.core.getWallet({ currency: buyCurrency })\n    const sellWallet = actions.core.getWallet({ currency: sellCurrency })\n    const {\n      coin: sellCoin,\n      blockchain: sellBlockchain,\n    } = getCoinInfo(sellCurrency)\n    const {\n      coin: buyCoin,\n      blockchain: buyBlockchain,\n    } = getCoinInfo(buyCurrency)\n    const { pairFees, balances } = this.state\n\n    const isUserSellToken = sellWallet.isToken\n    const isUserBuyToken = buyWallet.isToken\n    const sellBalance = new BigNumber(balances[sellCurrency.toUpperCase()] || 0)\n    let enoughBalanceForSellAmount = false\n    let enoughBalanceForFullPayment = false\n    let balanceIsOk = false\n\n    try {\n      const sellFee = pairFees?.sell?.fee\n      const buyFee = pairFees?.buy?.fee\n      const isUTXOSell = pairFees?.sell?.isUTXO\n      const sellBlockchainBalance = new BigNumber((isUserSellToken) ? balances[sellBlockchain] : 0)\n      const buyBlockchainBalance = new BigNumber((isUserBuyToken) ? balances[buyBlockchain] : 0)\n\n      enoughBalanceForSellAmount = sellBalance.isGreaterThanOrEqualTo(amount)\n\n      if (isUserSellToken && enoughBalanceForSellAmount && sellBlockchainBalance.isGreaterThanOrEqualTo(sellFee)) {\n        enoughBalanceForFullPayment = true\n      }\n      else if (isUserBuyToken && (fromType === AddressType.Custom || enoughBalanceForSellAmount) &&  buyBlockchainBalance.isGreaterThanOrEqualTo(buyFee)) {\n        enoughBalanceForFullPayment = true\n      }\n      else if (isUTXOSell && sellBalance.isGreaterThanOrEqualTo(new BigNumber(amount).plus(sellFee)) && buyBlockchainBalance.isGreaterThanOrEqualTo(buyFee)) {\n        enoughBalanceForFullPayment = true\n      }\n      else if (fromType === AddressType.Custom && buyBlockchainBalance.isGreaterThanOrEqualTo(buyFee)) {\n        enoughBalanceForFullPayment = true\n      }\n      else if (sellBalance.isGreaterThanOrEqualTo(new BigNumber(amount).plus(sellFee))) {\n        enoughBalanceForFullPayment = true\n      }\n\n      if (enoughBalanceForFullPayment) {\n        balanceIsOk = true\n      }\n    } catch (error) {\n      this.reportError(error, `from checkBalanceForSwapPossibility()`)\n      return false\n    }\n    if (isSilentError) {\n      return balanceIsOk\n    }\n\n    if (!balanceIsOk) {\n      const { address } = actions.core.getWallet({ currency: sellCurrency })\n      const {\n        sell: {\n          fee: sellFee,\n          coin: sellCoin,\n        },\n        buy: {\n          fee: buyFee,\n          coin: buyCoin,\n        },\n      } = pairFees\n\n      const alertMessage = (\n        <Fragment>\n          <FormattedMessage\n            id=\"AlertOrderNonEnoughtBalance\"\n            defaultMessage=\"Please top up your balance before you start the swap.\"\n          />\n          <br />\n\n          {!enoughBalanceForFullPayment && fromType === AddressType.Custom ? (\n            <FormattedMessage\n              id=\"NotEnoughForBuy\"\n              defaultMessage=\"You must have at least Miner commission {buyFee} {buyCoin}\"\n              values={{\n                buyFee,\n                buyCoin: this.renderCoinName(buyCoin),\n              }}\n            />\n          ) : (\n            <FormattedMessage\n              id=\"Swap_NeedMoreAmount\"\n              defaultMessage=\"You must have at least {amount} {currency} on your balance. {br} Miner commission {sellFee} {sellCoin} and {buyFee} {buyCoin}\"\n              values={{\n                amount,\n                currency: this.renderCoinName(sellCurrency),\n                sellFee,\n                sellCoin: this.renderCoinName(sellCoin),\n                buyFee,\n                buyCoin: this.renderCoinName(buyCoin),\n                br: <br />,\n              }}\n            />\n          )}\n        </Fragment>\n      )\n\n      actions.modals.open(constants.modals.AlertWindow, {\n        title: (\n          <FormattedMessage\n            id=\"AlertOrderNonEnoughtBalanceTitle\"\n            defaultMessage=\"Not enough balance.\"\n          />\n        ),\n        message: alertMessage,\n        canClose: true,\n        currency: this.renderCoinName(buyCurrency),\n        address,\n        actionType: 'deposit',\n      })\n      return false\n    }\n    return true\n  }\n\n  approveTheToken = async () => {\n    const { haveCurrency, haveAmount, haveType, getCurrency, orderId } = this.state\n\n    if (\n      !this.checkBalanceForSwapPossibility({\n        sellCurrency: haveCurrency,\n        buyCurrency: getCurrency,\n        amount: haveAmount,\n        balance: this.getBalance(haveCurrency),\n        fromType: haveType,\n      })\n    ) {\n      return false\n    }\n\n    const isSwapExists = await this.checkSwapExists({ haveCurrency, getCurrency, orderId })\n\n    if (isSwapExists) {\n      actions.notifications.show(\n        constants.notifications.ErrorNotification,\n        { error: 'You have Exists Swap with order participant. Please use orderbook for start swap with this pair.' }\n      )\n      return false\n    }\n\n    this.setState(() => ({\n      isPendingTokenApprove: true,\n    }))\n\n    const { coin: haveCurrencyName } = getCoinInfo(haveCurrency)\n    const coinStandard = COIN_DATA[haveCurrency.toUpperCase()].standard.toLowerCase()\n\n    actions[coinStandard]\n      .approve({\n        to: config.swapContract[coinStandard],\n        name: haveCurrencyName,\n        amount: haveAmount,\n      })\n      .then((txHash) => {\n        this.updateTokenAllowance()\n\n        actions.notifications.show(\n          constants.notifications.Message,\n          {message: (\n            <FormattedMessage\n              id=\"ExchangeTokenWasApproved\"\n              defaultMessage=\"Token was approved.{br}Explorer link: {txLink}\"\n              values={{\n                txLink: (\n                  <a\n                    href={`${actions[coinStandard].explorerLink}/tx/${txHash}`}\n                    target=\"_blank\"\n                  >\n                    Transaction\n                  </a>\n                ),\n                br: <br />,\n              }}\n            />\n          )}\n        )\n      })\n      .catch((error) => {\n        this.reportError(error, `approve a token(${haveCurrency})`)\n      })\n      .finally(() => {\n        this.setState(() => ({\n          isPendingTokenApprove: false,\n        }))\n      })\n  }\n\n  initSwap = async () => {\n    const { decline } = this.props\n\n    const { haveCurrency, haveAmount, getCurrency, haveType, orderId } = this.state\n    const haveTicker = haveCurrency.toUpperCase()\n    const getTicker = getCurrency.toUpperCase()\n\n    feedback.exchangeForm.requestedSwap(`${haveTicker}->${getTicker}`)\n\n    if (\n      !this.checkBalanceForSwapPossibility({\n        sellCurrency: haveCurrency,\n        buyCurrency: getCurrency,\n        amount: haveAmount,\n        balance: this.getBalance(haveCurrency),\n        fromType: haveType,\n      })\n    ) {\n      return false\n    }\n\n    const isSwapExists = await this.checkSwapExists({ haveCurrency, getCurrency, orderId })\n\n    if (isSwapExists) {\n      actions.notifications.show(\n        constants.notifications.ErrorNotification,\n        { error: 'You have Exists Swap with order participant. Please use orderbook for start swap with this pair.' }\n      )\n      return false\n    }\n\n    if (decline.length === 0) {\n      this.sendRequestForPartial()\n    } else {\n      const declinedExistedSwapIndex = helpers.handleGoTrade.getDeclinedExistedSwapIndex({\n        currency: haveCurrency,\n        decline,\n      })\n      if (declinedExistedSwapIndex !== false) {\n        this.openModalDeclineOrders(declinedExistedSwapIndex)\n      } else {\n        this.sendRequestForPartial()\n      }\n    }\n  }\n\n  checkSwapExists = async (params) => {\n    const { haveCurrency, getCurrency, orderId } = params\n\n    const sellWallet = actions.core.getWallet({ currency: haveCurrency })\n    const buyWallet = actions.core.getWallet({ currency: getCurrency })\n    const {\n      coin: sellCoin,\n      blockchain: sellBlockchain,\n    } = getCoinInfo(haveCurrency.toUpperCase())\n    const {\n      coin: buyCoin,\n      blockchain: buyBlockchain,\n    } = getCoinInfo(getCurrency.toUpperCase())\n\n    const isTokenSell = !!sellBlockchain\n    const isTokenBuy = !!buyBlockchain\n\n    const isEvmCoinSell = !isTokenSell && (COIN_DATA[haveCurrency.toUpperCase()].model === COIN_MODEL.AB)\n    const isEvmCoinBuy = !isTokenBuy && (COIN_DATA[getCurrency.toUpperCase()].model === COIN_MODEL.AB)\n\n    const actionType =\n      (isTokenSell && sellWallet.standard) ||\n      (isTokenBuy && buyWallet.standard) ||\n      (isEvmCoinSell && sellCoin) ||\n      (isEvmCoinBuy && buyCoin)\n\n    const orderOwnerEvmCoin =\n      (isTokenSell && sellBlockchain) ||\n      (isTokenBuy && buyBlockchain) ||\n      (isEvmCoinSell && sellCoin) ||\n      (isEvmCoinBuy && buyCoin)\n\n    if (!actionType || SwapApp === null || !orderId) return\n\n    //@ts-ignore: strictNullChecks\n    const order = SwapApp.shared().services.orders.getByKey(orderId)\n\n    const orderOwnerEvmAddress = order.owner[orderOwnerEvmCoin.toLowerCase()].address\n\n    const swapOwnerAddress = (isTokenSell || isEvmCoinSell) ? sellWallet.address : orderOwnerEvmAddress\n    const swapParticipantAddress = (isTokenBuy || isEvmCoinBuy) ? buyWallet.address : orderOwnerEvmAddress\n\n    return await actions[actionType.toLowerCase()].checkSwapExists({ownerAddress: swapOwnerAddress, participantAddress: swapParticipantAddress})\n  }\n\n  openModalDeclineOrders = (indexOfDecline) => {\n    const declineSwap = actions.core.getSwapById(this.props.decline[indexOfDecline])\n\n    if (declineSwap !== undefined) {\n      //@ts-ignore: strictNullChecks\n      actions.modals.open(constants.modals.DeclineOrdersModal, {\n        declineSwap,\n      })\n    }\n  }\n\n  sendRequestForPartial = () => {\n    const {\n      peer,\n      orderId,\n      fromAddress,\n      toAddress,\n      haveAmount,\n      getAmount,\n      maxAmount,\n      maxBuyAmount,\n    } = this.state\n\n    console.group('Exchange > sendRequestForPartial')\n    console.log(`${haveAmount} FROM ${fromAddress.value}`)\n    console.log(`${getAmount} TO ${toAddress.value}`)\n    console.groupEnd()\n\n    if (!String(getAmount) || !peer || !orderId || !String(haveAmount)) {\n      return\n    }\n\n    const newValues = {\n      sellAmount: maxBuyAmount.isEqualTo(haveAmount) ? maxAmount : getAmount,\n    }\n\n    const destination = {\n      address: toAddress.value,\n    }\n\n    this.setState(() => ({ isWaitForPeerAnswer: true }))\n\n    // wait until not skip and ban peer\n    const requestTimeoutSec = config && config.isWidgetBuild ? 60 : 30\n\n    const requestTimeout = setTimeout(() => {\n      this.banPeer(peer)\n      this.getLinkToDeclineSwap()\n      this.setDeclinedOffer()\n    }, requestTimeoutSec * 1000)\n\n    this.onRequestAnswer = (newOrder, isAccepted) => {\n      clearTimeout(requestTimeout)\n      if (isAccepted) {\n        this.setState(() => ({\n          redirectToSwap: newOrder.isTurbo ? SwapMode.Turbo : SwapMode.Atomic,\n          orderId: newOrder.id,\n          isWaitForPeerAnswer: false,\n        }))\n      } else {\n        this.banPeer(peer)\n        this.getLinkToDeclineSwap()\n        this.setDeclinedOffer()\n      }\n    }\n\n    actions.core.sendRequestForPartial(orderId, newValues, destination, this.onRequestAnswer)\n  }\n\n  getLinkToDeclineSwap = () => {\n    //@ts-ignore: strictNullChecks\n    const orders = SwapApp.shared().services.orders.items\n\n    const unfinishedOrder = orders\n      .filter((item) => item.isProcessing === true)\n      .filter((item) => item.participant)\n      .filter((item) => item.participant.peer === this.state.peer)\n      .filter((item) => item.sellCurrency === this.state.getCurrency.toUpperCase())[0]\n\n    if (!unfinishedOrder) return\n\n    this.setState(() => ({\n      wayToDeclinedOrder: `swaps/${unfinishedOrder.sellCurrency}-${unfinishedOrder.sellCurrency}/${unfinishedOrder.id}`,\n    }))\n  }\n\n  returnNeedCurrency = (haveCurrency, getCurrency): void => {\n    const partialItems = Object.assign(getState().currencies.partialItems)\n    const partialCurrency = getState().currencies.partialItems.map((item) => item.name)\n    const allCurrencies = getState().currencies.items.map((item) => item.name)\n    const formCurrencies = [haveCurrency, getCurrency]\n    const partialItemsArray = [...partialItems]\n\n    formCurrencies.forEach((item) => {\n      const { coin } = getCoinInfo(item)\n      if (allCurrencies.includes(coin.toUpperCase())) {\n        if (!partialCurrency.includes(coin.toUpperCase())) {\n          partialItemsArray.push({\n            name: coin.toUpperCase(),\n            title: coin.toUpperCase(),\n            icon: coin.toLowerCase(),\n            value: coin.toLowerCase(),\n            fullTitle: coin.toLowerCase(),\n          })\n          reducers.currencies.updatePartialItems(partialItemsArray)\n        }\n      } else {\n        this.setState(() => ({\n          haveCurrency: config && config.isWidget ? config.erc20token : 'swap',\n        }))\n      }\n    })\n  }\n\n  setDeclinedOffer = () => {\n    this.setState(() => ({\n      haveAmount: 0,\n      isWaitForPeerAnswer: false,\n      isDeclinedOffer: true,\n    }))\n\n    setTimeout(() => {\n      this.setState(() => ({\n        isDeclinedOffer: false,\n      }))\n    }, 7 * 1000)\n  }\n\n  setNoOfferState = () => {\n    this.setState(() => ({ isNonOffers: true }))\n  }\n\n  setAmountOnState = (maxAmount, getAmount, buyAmount) => {\n    const { getCurrency, haveAmount } = this.state\n    const {coin: getCurrencyName } = getCoinInfo(getCurrency)\n    const decimalPlaces = constants.tokenDecimals[getCurrencyName.toLowerCase()]\n\n    this.setState(() => ({\n      maxAmount: Number(maxAmount),\n      getAmount: new BigNumber(getAmount).dp(decimalPlaces).toNumber(),\n      maxBuyAmount: buyAmount,\n    }))\n\n    return (\n      new BigNumber(getAmount).isLessThanOrEqualTo(maxAmount) ||\n      new BigNumber(haveAmount).isEqualTo(buyAmount)\n    )\n  }\n\n  setAmount = (value): any => {\n    this.setState(() => {\n      return {\n        haveAmount: value,\n        maxAmount: 0,\n      }\n    }, () => {\n      const { isTokenSell, haveAmount } = this.state\n\n      if (isTokenSell && haveAmount) {\n        this.updateTokenAllowance()\n      }\n    })\n  }\n\n  setOrders = () => {\n    const { filteredOrders, haveAmount } = this.state\n\n    if (!filteredOrders.length) {\n      this.setState(() => ({\n        isNonOffers: true,\n        isNoAnyOrders: true,\n        maxAmount: 0,\n        getAmount: 0,\n        maxBuyAmount: new BigNumber(0),\n      }))\n      return\n    }\n\n    const sortedOrders = filteredOrders\n      .sort(\n        (a, b) =>\n          Number(b.buyAmount.dividedBy(b.sellAmount)) - Number(a.buyAmount.dividedBy(a.sellAmount))\n      )\n      .map((item, index) => {\n        const exRate = item.buyAmount.dividedBy(item.sellAmount)\n        const getAmount = new BigNumber(haveAmount).dividedBy(exRate).toString()\n\n        return {\n          sellAmount: item.sellAmount,\n          buyAmount: item.buyAmount,\n          exRate,\n          getAmount,\n          orderId: item.id,\n          peer: item.owner.peer,\n        }\n      })\n\n    const didFound = this.setOrderOnState(sortedOrders)\n\n    if (didFound) {\n      this.setState(() => ({\n        isNoAnyOrders: false,\n      }))\n    }\n  }\n\n  setOrderOnState = (orders) => {\n    const { haveAmount } = this.state\n\n    let maxAllowedSellAmount = new BigNumber(0)\n    let maxAllowedGetAmount = new BigNumber(0)\n    let maxAllowedBuyAmount = new BigNumber(0)\n\n    let isFound = false\n    let newState = {}\n\n    const findGoodOrder = (inOrders) => {\n      inOrders.forEach((item) => {\n        maxAllowedSellAmount = maxAllowedSellAmount.isLessThanOrEqualTo(item.sellAmount)\n          ? item.sellAmount\n          : maxAllowedSellAmount\n        maxAllowedBuyAmount = maxAllowedBuyAmount.isLessThanOrEqualTo(item.buyAmount)\n          ? item.buyAmount\n          : maxAllowedBuyAmount\n\n        if (new BigNumber(haveAmount).isLessThanOrEqualTo(item.buyAmount)) {\n          maxAllowedGetAmount = maxAllowedGetAmount.isLessThanOrEqualTo(item.getAmount)\n            ? new BigNumber(item.getAmount)\n            : maxAllowedGetAmount\n\n          isFound = true\n\n          newState = {\n            isNonOffers: false,\n            goodRate: item.exRate,\n            peer: item.peer,\n            orderId: item.orderId,\n          }\n        }\n      })\n    }\n\n    findGoodOrder(orders.filter((order) => !this.isPeerBanned(order.peer)))\n\n    if (!isFound) {\n      // check banned peers\n      findGoodOrder(orders.filter((order) => this.isPeerBanned(order.peer)))\n    }\n\n    if (isFound) {\n      this.setState((state) => ({\n        ...state,\n        ...newState,\n      }))\n    } else {\n      this.setState(() => ({\n        isNonOffers: true,\n        getFiat: Number(0).toFixed(2),\n      }))\n    }\n\n    const checkAmount = this.setAmountOnState(\n      maxAllowedSellAmount,\n      maxAllowedGetAmount,\n      maxAllowedBuyAmount\n    )\n\n    if (!checkAmount) {\n      this.setNoOfferState()\n    }\n\n    return true\n  }\n\n  isPeerBanned(peerID) {\n    if (bannedPeers[peerID] && bannedPeers[peerID] > Math.floor(new Date().getTime() / 1000)) {\n      return true\n    }\n    return false\n  }\n\n  banPeer(peerID) {\n    const bannedPeersTimeout = 180 // 3 mins\n    bannedPeers[peerID] = Math.floor(new Date().getTime() / 1000) + bannedPeersTimeout\n  }\n\n  handleSetGetValue = ({ value }) => {\n    const { haveCurrency } = this.state\n\n    if (value === haveCurrency) {\n      this.flipCurrency()\n    } else {\n      this.setState(\n        {\n          getCurrency: value,\n          getType: this.getDefaultWalletType(value.toUpperCase()),\n          haveCurrency,\n          haveType: this.getDefaultWalletType(haveCurrency.toUpperCase()),\n          pairFees: false,\n        },\n        () => {\n          const { haveCurrency, haveType, getCurrency, getType } = this.state\n          this.setDefaultCurrencyType(haveCurrency.toUpperCase(), haveType)\n          this.setDefaultCurrencyType(getCurrency.toUpperCase(), getType)\n          this.fetchPairFeesAndBalances()\n          this.changeUrl(haveCurrency, value)\n          actions.analytics.dataEvent({\n            action: 'exchange-click-selector',\n            label: `${haveCurrency}-to-${getCurrency}`,\n          })\n        }\n      )\n    }\n  }\n\n  handleSetHaveValue = async ({ value }) => {\n    const { getCurrency } = this.state\n\n    if (value === getCurrency) {\n      this.flipCurrency()\n    } else {\n      this.setState(\n        {\n          haveCurrency: value,\n          haveType: this.getDefaultWalletType(value.toUpperCase()),\n          getCurrency,\n          getType: this.getDefaultWalletType(getCurrency.toUpperCase()),\n          pairFees: false,\n        },\n        () => {\n          const { haveCurrency, haveType, getCurrency, getType } = this.state\n          this.setDefaultCurrencyType(haveCurrency.toUpperCase(), haveType)\n          this.setDefaultCurrencyType(getCurrency.toUpperCase(), getType)\n          this.fetchPairFeesAndBalances()\n          this.changeUrl(value, getCurrency)\n          actions.analytics.dataEvent({\n            action: 'exchange-click-selector',\n            label: `${haveCurrency}-to-${getCurrency}`,\n          })\n\n          this.checkPair()\n        }\n      )\n    }\n  }\n\n  applyAddress = (addressRole, addressData) => {\n    // address value or missing either already validated\n    const { type, value, currency } = addressData\n\n    this.setDefaultCurrencyType(currency.toUpperCase(), type)\n    feedback.exchangeForm.selectedAddress(`${addressRole} ${currency.toUpperCase()} ${type}`)\n\n    if (addressRole === AddressRole.Send) {\n      this.setState({\n        fromAddress: addressData,\n        haveType: type,\n      })\n    }\n    if (addressRole === AddressRole.Receive) {\n      this.setState({\n        toAddress: addressData,\n        getType: type,\n      })\n    }\n  }\n\n  flipCurrency = async () => {\n    const {\n      haveCurrency,\n      haveType,\n      getCurrency,\n      getType,\n      exHaveRate,\n      exGetRate,\n      pairFees,\n      fromAddress,\n      toAddress,\n    } = this.state\n\n    feedback.exchangeForm.flipped(\n      `${haveCurrency}->${getCurrency} => ${getCurrency}->${haveCurrency}`\n    )\n\n    const toAddressTicker = toAddress.currency.toUpperCase()\n    const isToAddressUTXOModel = COIN_DATA[toAddressTicker] && COIN_DATA[toAddressTicker].model === COIN_MODEL.UTXO\n    const isWalletCreate = localStorage.getItem(constants.localStorage.isWalletCreate)\n\n    if (isToAddressUTXOModel && isWalletCreate) {\n      this.setDefaultCurrencyType(toAddress.currency.toUpperCase(), AddressType.Internal)\n      toAddress.type = AddressType.Internal\n    }\n\n    this.resetState()\n    this.changeUrl(getCurrency, haveCurrency)\n    this.setState(\n      {\n        haveCurrency: getCurrency,\n        getCurrency: haveCurrency,\n        haveType: toAddress.type,\n        getType: haveType,\n        exHaveRate: exGetRate,\n        exGetRate: exHaveRate,\n        pairFees: {\n          ...(pairFees\n            ? {\n                // flip pair fees and exRates\n                ...pairFees,\n                buy: pairFees.sell,\n                sell: pairFees.buy,\n                have: pairFees.get,\n                get: pairFees.have,\n                buyExRate: pairFees.sellExRate,\n                sellExRate: pairFees.buyExRate,\n              }\n            : []),\n        },\n        // todo: flip values\n        fromAddress: toAddress,\n        toAddress: fromAddress,\n      },\n      () => {\n        actions.analytics.dataEvent({\n          action: 'exchange-click-selector',\n          label: `${haveCurrency}-to-${getCurrency}`,\n        })\n        this.fetchPairFeesAndBalances()\n        this.checkPair()\n      }\n    )\n  }\n\n  resetState = () => {\n    this.setState(() => ({\n      haveAmount: 0,\n      getAmount: 0,\n      maxAmount: 0,\n      maxBuyAmount: new BigNumber(0),\n      peer: '',\n      isNonOffers: false,\n      isWaitForPeerAnswer: false,\n      isDeclinedOffer: false,\n    }))\n  }\n\n  checkPair = () => {\n    const { getCurrency, haveCurrency } = this.state\n\n    const noPairToken = config && config.isWidget ? config.erc20token : 'swap'\n\n    const checkingValue = this.props.allCurrencies\n      .map((item) => item.value)\n      .includes(haveCurrency)\n        ? haveCurrency\n        : noPairToken\n\n    const dropDownCurrencies = actions.pairs.selectPairPartial(checkingValue)\n    const check = dropDownCurrencies.map((item) => item.value).includes(getCurrency)\n\n    this.getFiatBalance()\n\n    if (dropDownCurrencies.length && (!check || getCurrency === checkingValue)) {\n      this.chooseCurrencyToRender(dropDownCurrencies)\n    }\n  }\n\n  chooseCurrencyToRender = (selected) => {\n    this.setState(\n      () => ({\n        getCurrency: selected[0].value,\n      }),\n      () => {\n        this.getFiatBalance()\n      }\n    )\n  }\n\n  checkoutLowAmount() {\n    const { haveAmount, getAmount } = this.state\n\n    return (\n      this.doesComissionPreventThisOrder() &&\n      new BigNumber(getAmount).isGreaterThan(0) &&\n      haveAmount &&\n      getAmount\n    )\n  }\n\n  extendedControlsSet = (value) => {\n    const { extendedControls } = this.state\n\n    if (typeof value !== 'boolean') {\n      return this.setState({ extendedControls: false })\n    }\n    if (extendedControls === value) {\n      return false\n    }\n    return this.setState({ extendedControls: value })\n  }\n\n  doesComissionPreventThisOrder = () => {\n    const { pairFees, haveAmount, getAmount, isPending } = this.state\n\n    if (!isPending && pairFees) {\n      // @ToDo\n      // Возможно нужно брать за расчет коммисию умноженную на два\n      // Если минимум будет размер коммисии, то по факту\n      // При выводе из скрипта покупатель получит ноль монет\n      // (При списании со скрипта берется коммисия)\n      const feeMultipler = 1\n\n      if (\n        pairFees.sell.isUTXO &&\n        new BigNumber(pairFees.sell.fee).times(feeMultipler).isGreaterThanOrEqualTo(haveAmount)\n      ) {\n        return true\n      }\n\n      if (\n        pairFees.buy.isUTXO &&\n        new BigNumber(pairFees.buy.fee).times(feeMultipler).isGreaterThanOrEqualTo(getAmount)\n      ) {\n        return true\n      }\n    } else {\n      /* No information for fee... wait - disable swap */\n      return true\n    }\n    return false\n  }\n\n  goDeclimeFaq = () => {\n    const faqLink = links.getFaqLink('requestDeclimed')\n    if (faqLink) {\n      window.location.href = faqLink\n    }\n  }\n\n  getCorrectDecline = () => {\n    const { decline } = this.props\n    const localSavedOrders = localStorage.getItem(constants.localStorage.savedOrders)\n\n    if (!localSavedOrders || localSavedOrders.length !== decline.length) {\n      return\n    }\n\n    const desclineOrders = decline\n      .map((swapId) => actions.core.getSwapById(swapId))\n      .filter((swap) => {\n        const { isFinished, isRefunded, isStoppedSwap } = swap.flow.state\n        // if timeout - skip this swap. for refund, if need - use history page\n        const lifeTimeout = swap.checkTimeout(60 * 60 * 3) // 3 hours\n        return isFinished || isRefunded || isStoppedSwap || lifeTimeout\n      })\n\n    this.setState({\n      desclineOrders,\n    })\n  }\n\n  toggleOrdersVisibility = () => {\n    this.setState((state) => ({\n      ordersIsOpen: !state.ordersIsOpen\n    }))\n  }\n\n  showIncompleteSwap = () => {\n    const { desclineOrders } = this.state\n\n    actions.modals.open(constants.modals.IncompletedSwaps, {\n      desclineOrders,\n    })\n  }\n\n  handleAddCorrectNetwork = () => {\n    const {\n      haveCurrency,\n      getCurrency,\n      fromAddress,\n      toAddress\n    } = this.state\n\n    const sellCoin = this.renderCoinName(haveCurrency)\n    const buyCoin = this.renderCoinName(getCurrency)\n\n    const isSellCoinNeedAddCorrectNetwork =\n      fromAddress.type === AddressType.Metamask &&\n      !metamask.isAvailableNetworkByCurrency(sellCoin)\n\n    const isBuyCoinNeedAddCorrectNetwork =\n      toAddress.type === AddressType.Metamask &&\n      !metamask.isAvailableNetworkByCurrency(buyCoin)\n\n    metamask.addCurrencyNetwork(isSellCoinNeedAddCorrectNetwork && sellCoin || isBuyCoinNeedAddCorrectNetwork && buyCoin)\n\n  }\n\n  renderCoinName = (coin) => {\n    return coin.toUpperCase()\n  }\n\n  render() {\n    const {\n      currencies,\n      activeFiat,\n      addSelectedItems,\n      match: {\n        params: { linkedOrderId },\n      },\n    } = this.props\n    const {\n      isTokenSell,\n      isPendingTokenApprove,\n      hasTokenAllowance,\n      haveCurrency,\n      haveType,\n      getCurrency,\n      getType,\n      fromAddress,\n      toAddress,\n      orderId,\n      isNonOffers,\n      maxAmount,\n      exHaveRate,\n      exGetRate,\n      maxBuyAmount,\n      getAmount,\n      goodRate,\n      haveAmount,\n      isNoAnyOrders,\n      isFullLoadingComplete,\n      redirectToSwap,\n      isWaitForPeerAnswer,\n      directionOrders,\n      desclineOrders,\n      isDeclinedOffer,\n      pairFees,\n      balances,\n      haveBalance,\n      isTurbo,\n      isPending,\n      ordersIsOpen,\n    } = this.state\n\n    const sellCoin = haveCurrency.toUpperCase()\n    const buyCoin = getCurrency.toUpperCase()\n    const balance = this.getBalance(sellCoin)\n\n    if (redirectToSwap) {\n      const swapUri = ({\n        [SwapMode.Atomic]: `${links.atomicSwap}/${orderId}`,\n        [SwapMode.Turbo]: `${links.turboSwap}/${orderId}`\n      })[redirectToSwap]\n\n      if (!swapUri) {\n        throw new Error('Wrong swap redirect')\n      }\n      console.log(`Redirect to swap: ${swapUri}`)\n      return <Redirect to={swapUri} push />\n    }\n\n    let balanceTooltip = null\n\n    if (pairFees && pairFees.byCoins) {\n      const sellCoinFee = pairFees.byCoins[sellCoin] || false\n      //@ts-ignore: strictNullChecks\n      balanceTooltip = (\n        <p styleName=\"maxAmount\">\n          {new BigNumber(balance).toNumber() === 0 ||\n          (sellCoinFee &&\n            new BigNumber(balance).minus(sellCoinFee.fee).isLessThanOrEqualTo(0)) ? null : (\n            <>\n              {sellCoinFee ? (\n                <FormattedMessage id=\"Exchange_AvialableBalance\" defaultMessage=\"Available: \" />\n              ) : (\n                <FormattedMessage id=\"partial767\" defaultMessage=\"Balance: \" />\n              )}\n              {sellCoinFee && sellCoinFee.fee\n                ? new BigNumber(balance)\n                    .minus(sellCoinFee.fee)\n                    .dp(5, BigNumber.ROUND_FLOOR)\n                    .toString()\n                : new BigNumber(balance).dp(5, BigNumber.ROUND_FLOOR).toString()}\n              {'  '}\n              {this.renderCoinName(sellCoin)}\n            </>\n          )}\n        </p>\n      )\n    }\n\n    //@ts-ignore: strictNullChecks\n    const haveFiat = new BigNumber(exHaveRate).times(haveAmount).dp(2, BigNumber.ROUND_CEIL)\n\n    //@ts-ignore: strictNullChecks\n    const getFiat = new BigNumber(exGetRate).times(getAmount).dp(2, BigNumber.ROUND_CEIL)\n\n    const fiatFeeCalculation =\n      pairFees && pairFees.buy && pairFees.sell\n        ? new BigNumber(pairFees.buyExRate)\n            .times(pairFees.buy.fee)\n            .plus(new BigNumber(pairFees.sellExRate).times(pairFees.sell.fee))\n            .dp(2, BigNumber.ROUND_CEIL)\n            .toNumber()\n        : 0\n\n    const oneCryptoCost = maxBuyAmount.isLessThanOrEqualTo(0)\n      ? new BigNumber(0)\n      : new BigNumber(goodRate)\n\n    const linked = Link.all(this, 'haveAmount', 'getAmount')\n\n    const availableAmount =\n      pairFees &&\n      pairFees.byCoins &&\n      pairFees.byCoins[sellCoin] &&\n      new BigNumber(pairFees.byCoins[sellCoin].fee).isGreaterThan(0)\n        ? new BigNumber(balance).minus(pairFees.byCoins[sellCoin].fee)\n        : 0\n\n    const isLowAmount = this.checkoutLowAmount()\n\n    // temporary: show atomic/turbo switch if only there are turbo offers\n    const isShowSwapModeSwitch = directionOrders.filter(offer => offer.isTurbo).length > 0\n\n    const isTurboAllowed = (\n      turboSwap.isAssetSupported(buyCoin) &&\n      turboSwap.isAssetSupported(sellCoin) &&\n      // temporarily: no external addresses support at the turboswaps-alpha stage\n      // see https://github.com/swaponline/MultiCurrencyWallet/issues/3875\n      fromAddress.type === AddressType.Internal &&\n      toAddress.type === AddressType.Internal\n    )\n\n    const isPrice = oneCryptoCost.isGreaterThan(0) && oneCryptoCost.isFinite() && !isNonOffers\n\n    const isErrorNoOrders = isNoAnyOrders && linked.haveAmount.value > 0 && isFullLoadingComplete\n\n    const isErrorLowLiquidity =\n      !isNoAnyOrders && maxAmount > 0 && isNonOffers && linked.haveAmount.value > 0\n\n    // temporarly disable some combinations (need test)\n    const isErrorExternalDisabled =\n      (fromAddress &&\n        ![AddressType.Internal, AddressType.Metamask, AddressType.Custom].includes(\n          fromAddress.type\n        )) ||\n      (toAddress &&\n        ![AddressType.Internal, AddressType.Metamask, AddressType.Custom].includes(toAddress.type))\n\n    const isFromAddressReady =\n      (fromAddress.type === AddressType.Internal && fromAddress.value) ||\n      (fromAddress.type === AddressType.Metamask && fromAddress.value && metamask.isConnected()) ||\n      (fromAddress.type === AddressType.Custom)\n\n    const isToAddressReady =\n      (toAddress.type === AddressType.Internal && toAddress.value) ||\n      (toAddress.type === AddressType.Metamask && toAddress.value && metamask.isConnected()) ||\n      (toAddress.type === AddressType.Custom && toAddress.value)\n\n    const isBalanceReady =\n      (isTokenSell && new BigNumber(balance).isGreaterThanOrEqualTo(haveAmount)) ||\n      new BigNumber(availableAmount).isGreaterThanOrEqualTo(haveAmount) ||\n      fromAddress.type === AddressType.Custom\n\n    const isSellCoinAvailableNetwork = metamask.isAvailableNetworkByCurrency(sellCoin)\n    const isBuyCoinAvailableNetwork = metamask.isAvailableNetworkByCurrency(buyCoin)\n\n    const isSellCoinNeedAddCorrectNetwork =\n      fromAddress.type === AddressType.Metamask &&\n      !isSellCoinAvailableNetwork\n\n    const isBuyCoinNeedAddCorrectNetwork =\n      toAddress.type === AddressType.Metamask &&\n      !isBuyCoinAvailableNetwork\n\n    const isCorrectMetamaskNetwork = !metamask.isConnected() ||\n      (!isSellCoinNeedAddCorrectNetwork && !isBuyCoinNeedAddCorrectNetwork)\n\n    const isIncorrectMetamaskNetwork = metamask.isConnected() &&\n      (isSellCoinNeedAddCorrectNetwork || isBuyCoinNeedAddCorrectNetwork)\n\n    const canStartSwap =\n      !isErrorExternalDisabled &&\n      isCorrectMetamaskNetwork &&\n      linked.haveAmount.value > 0 &&\n      fromAddress &&\n      isFromAddressReady &&\n      toAddress &&\n      isToAddressReady &&\n      !isNonOffers &&\n      !this.doesComissionPreventThisOrder() &&\n      isBalanceReady &&\n      new BigNumber(getAmount).isGreaterThan(0) &&\n      !isWaitForPeerAnswer\n\n    const getTextWhyCanNotStartSwap = () => {\n      if (isErrorExternalDisabled) return <FormattedMessage id=\"swapDisabled\" defaultMessage='Swap Disabled' />\n      if (!isCorrectMetamaskNetwork) return <FormattedMessage id=\"incorrectNetwork\" defaultMessage='Please choose correct network' />\n      if (!(linked.haveAmount.value > 0)) return <FormattedMessage id=\"enterYouSend\" defaultMessage='Enter \"You send\" amount' />\n      if (!fromAddress) return <FormattedMessage id=\"selectFromAddress\" defaultMessage='Select \"From address\"' />\n      if (!isFromAddressReady) {\n        if (fromAddress.type === AddressType.Internal && !fromAddress.value)\n          return <FormattedMessage id=\"selectSendType\" defaultMessage='Select type of \"From address\"' />\n        if (fromAddress.type === AddressType.Metamask && !fromAddress.value || !metamask.isConnected())\n          return <FormattedMessage id=\"connectYourWallet\" defaultMessage='Connect your wallet in \"From address\"' />\n      }\n      if (!toAddress) return <FormattedMessage id=\"selectToAddress\" defaultMessage='Select \"To address\"' />\n      if (!isToAddressReady) {\n        if (toAddress.type === AddressType.Internal && !toAddress.value)\n          return <FormattedMessage id=\"setDestination\" defaultMessage='Set Destination' />\n        if (toAddress.type === AddressType.Metamask && !toAddress.value || !metamask.isConnected())\n          return <FormattedMessage id=\"connectDestinationWallet\" defaultMessage='Connect your Destination wallet' />\n        if (toAddress.type === AddressType.Internal && !toAddress.value)\n          return <FormattedMessage id=\"enterToAddress\" defaultMessage='Enter Destination wallet' />\n      }\n      if (isNonOffers) return <FormattedMessage id=\"noOffers\" defaultMessage='No Offers' />\n      if (this.doesComissionPreventThisOrder()) return <FormattedMessage id=\"lowAmount\" defaultMessage='Low amount' />\n      if (!isBalanceReady) {\n        if (\n          (isTokenSell && !new BigNumber(balance).isGreaterThanOrEqualTo(haveAmount)) ||\n          !new BigNumber(availableAmount).isGreaterThanOrEqualTo(haveAmount)\n          )\n          return <FormattedMessage id=\"enterLesserAmount\" defaultMessage='Enter lesser amount to \"You send\"' />\n      }\n      if (!(new BigNumber(getAmount).isGreaterThan(0))) return <FormattedMessage id=\"errorWithGetAmount\" defaultMessage='\"You get\" no more than 0' />\n      if (isWaitForPeerAnswer) return <FormattedMessage id=\"waitPeerAnswer\" defaultMessage='Wait peer answer' />\n\n      return <FormattedMessage id=\"contactSupport\" defaultMessage='Please contact support' />\n    }\n\n    const isIncompletedSwaps = !!desclineOrders.length\n\n    const isDevBuild = (config.env === 'development')\n\n    const { coin: sellCoinName, blockchain: sellCoinBlockchain } = getCoinInfo(sellCoin)\n    const { coin: buyCoinName, blockchain: buyCoinBlockchain } = getCoinInfo(buyCoin)\n\n    const sellNativeCurrency = sellCoinBlockchain || sellCoinName\n    const buyNativeCurrency = buyCoinBlockchain || buyCoinName\n\n    const networkNeedsToBeUsed = isSellCoinNeedAddCorrectNetwork && sellNativeCurrency || isBuyCoinNeedAddCorrectNetwork && buyNativeCurrency\n\n    // when Add EIP-3326: wallet_switchEthereumChain remove this\n    const isEthNativeCoin = [sellNativeCurrency, buyNativeCurrency].includes('ETH')\n    const isMetamaskProvider = metamask.web3connect.getProviderTitle() === 'MetaMask'\n\n    const Form = (\n      <div styleName=\"section\">\n        <div styleName=\"formExchange\">\n          <div styleName=\"userSendAndGet\">\n            <div>\n              <SelectGroup\n                activeFiat={activeFiat}\n                inputValueLink={linked.haveAmount.pipe(this.setAmount)}\n                selectedValue={haveCurrency}\n                onSelect={this.handleSetHaveValue}\n                label={<FormattedMessage id=\"partial243\" defaultMessage=\"You send\" />}\n                id=\"Exchange456\"\n                placeholder=\"0.00000000\"\n                fiat={maxAmount > 0 && isNonOffers ? 0 : haveFiat}\n                currencies={currencies}\n                onFocus={() => this.extendedControlsSet(true)}\n                onBlur={() => setTimeout(() => this.extendedControlsSet(false), 200)}\n                inputToolTip={(haveType !== AddressType.Custom) && balanceTooltip}\n              />\n\n              <AddressSelect\n                label={<FormattedMessage id=\"Exchange_FromAddress\" defaultMessage=\"From address\" />}\n                currency={haveCurrency}\n                balance={this.getBalance(sellCoin)}\n                selectedType={haveType}\n                role={AddressRole.Send}\n                hasError={false}\n                placeholder=\"From address\"\n                onChange={(addrData) => this.applyAddress(AddressRole.Send, addrData)}\n              />\n            </div>\n\n            <div styleName=\"switchButton\">\n              <Switching noneBorder onClick={this.flipCurrency} />\n            </div>\n\n            <div>\n              <SelectGroup\n                activeFiat={activeFiat}\n                dataTut=\"get\"\n                inputValueLink={linked.getAmount}\n                selectedValue={getCurrency}\n                onSelect={this.handleSetGetValue}\n                disabled={true} // value calculated from market price\n                label={<FormattedMessage id=\"partial255\" defaultMessage=\"You get\" />}\n                id=\"Exchange472\"\n                currencies={addSelectedItems}\n                fiat={getFiat}\n                error={isLowAmount}\n              />\n\n              <AddressSelect\n                label={<FormattedMessage id=\"Exchange_ToAddress\" defaultMessage=\"To address\" />}\n                role={AddressRole.Receive}\n                currency={getCurrency}\n                balance={this.getBalance(buyCoin)}\n                selectedType={getType}\n                hasError={false}\n                placeholder=\"To address\"\n                onChange={(addrData) => this.applyAddress(AddressRole.Receive, addrData)}\n              />\n            </div>\n          </div>\n\n          {isShowSwapModeSwitch &&\n            <div styleName={`swapModeSelector ${isTurboAllowed ? '' : 'disabled'}`}>\n              <div styleName=\"toggle\">\n                <div styleName=\"toggleText\">\n                  <FormattedMessage id=\"AtomicSwap_Title\" defaultMessage=\"Atomic swap\" />\n                </div>\n                <Toggle checked={isTurbo} isDisabled={!isTurboAllowed} onChange={() => this.setState((state) => ({ isTurbo: !state.isTurbo }))} />\n                <div styleName=\"toggleText\">\n                  <TurboIcon />\n                  <span>\n                    <FormattedMessage id=\"TurboSwap_Title\" defaultMessage=\"Turbo swap\" />\n                    &nbsp;\n                    <a href=\"https://github.com/swaponline/MultiCurrencyWallet/blob/master/docs/TURBO_SWAPS.md\" target=\"_blank\">(?)</a>\n                  </span>\n                </div>\n              </div>\n            </div>\n          }\n\n          <div styleName=\"errors\">\n            {isErrorNoOrders && (\n              <Fragment>\n                <p styleName=\"error\">\n                  <FormattedMessage\n                    id=\"PartialPriceNoOrdersReduce\"\n                    defaultMessage=\"No orders found, try later or change the currency pair\"\n                  />\n                </p>\n              </Fragment>\n            )}\n\n            {isIncorrectMetamaskNetwork && (isEthNativeCoin || !isMetamaskProvider) && (\n              <Fragment>\n                <p styleName=\"error\">\n                  <FormattedMessage\n                    id=\"chooseCorrectNetwork\"\n                    defaultMessage=\"Please open connected wallet and choose {br}{chainName}\"\n                    values={{\n                      br: <br />,\n                      chainName: config?.evmNetworks?.[networkNeedsToBeUsed]?.chainName || 'Correct Network'\n                    }}\n                  />\n                </p>\n              </Fragment>\n            )}\n\n            {isErrorLowLiquidity && (\n              <Fragment>\n                <p styleName=\"error\">\n                  <FormattedMessage\n                    id=\"PartialPriceNoOrdersReduceAllInfo\"\n                    defaultMessage=\"This trade amount is too high for present market liquidity. Please reduce amount to {maxForSell}.\"\n                    values={{\n                      maxForBuy: `${maxAmount} ${this.renderCoinName(getCurrency)}`,\n                      maxForSell: `${maxBuyAmount.toFixed(8)} ${this.renderCoinName(haveCurrency)}`,\n                    }}\n                  />\n                </p>\n              </Fragment>\n            )}\n\n            {isLowAmount && (\n              <p styleName=\"error\">\n                <FormattedMessage\n                  id=\"ErrorBtcLowAmount\"\n                  defaultMessage=\"This amount is too low, does not cover mining fee\"\n                  values={{\n                    btcAmount:\n                      this.state.haveCurrency === 'btc'\n                        ? this.state.haveAmount\n                        : this.state.getAmount,\n                  }}\n                />\n              </p>\n            )}\n\n            {isDeclinedOffer && (\n              <div styleName=\"smallError\">\n                <p styleName=\"error errorLink\" onClick={this.goDeclimeFaq}>\n                  {' '}\n                  {/* eslint-disable-line */}\n                  <FormattedMessage\n                    id=\"PartialOfferCantProceed1\"\n                    defaultMessage=\"Request rejected, possibly you have not complete another swap {br}{link}\"\n                    values={{\n                      link: (\n                        <a className=\"errorLink\" role=\"button\" onClick={this.goDeclimeFaq}>\n                          {' '}\n                          {/* eslint-disable-line */}\n                          <FormattedMessage\n                            id=\"PartialOfferCantProceed1_1\"\n                            defaultMessage=\"Check here\"\n                          />\n                        </a>\n                      ),\n                      br: <br />,\n                    }}\n                  />\n                </p>\n              </div>\n            )}\n\n            {isErrorExternalDisabled && (\n              <p styleName=\"error\">\n                The exchange is temporarily disabled for some external addresses (under maintenance)\n              </p>\n            )}\n          </div>\n\n          <div styleName=\"conditions\">\n            <div styleName=\"price\">\n              <FormattedMessage id=\"Exchange_BestPrice\" defaultMessage=\"Best price:\" />{' '}\n              {!isPrice && !isErrorNoOrders && <InlineLoader />}\n              {isPrice &&\n                `1 ${getCurrency.toUpperCase()} = ${oneCryptoCost.toFixed(\n                  5\n                )} ${this.renderCoinName(haveCurrency)}`}\n              {isErrorNoOrders && '?'}\n            </div>\n\n            <div styleName=\"fees\">\n              <div styleName=\"serviceFee\">\n                <span>\n                  <FormattedMessage id=\"Exchange_ServiceFee\" defaultMessage=\"Service fee\" />:\n                </span>\n                &nbsp;\n                <span>0</span>\n              </div>\n\n              <div styleName=\"minerFee\">\n                <span>\n                  <FormattedMessage id=\"Exchange_MinerFees\" defaultMessage=\"Miner fee\" />:\n                </span>\n                &nbsp;\n\n                {/* Fees info */}\n                <>\n                  {isPending || !pairFees ? (\n                    <span>\n                      <InlineLoader />\n                    </span>\n                  ) : (\n                    <span>\n                      {pairFees.sell.fee} {pairFees.sell.coin} + {pairFees.buy.fee} {pairFees.buy.coin}\n                      {' ≈ '}\n                      {fiatFeeCalculation > 0 ? <>${fiatFeeCalculation}</> : 0}\n                      {' '}\n                    </span>\n                  )}\n                  <button\n                    className=\"fas fa-sync-alt\"\n                    styleName=\"minerFeeUpdateBtn\"\n                    onClick={this.updateFees}\n                    disabled={isPending}\n                  />\n                  <a\n                    href=\"https://wiki.swaponline.io/faq/why-i-pay-ming-fees-of-btc-and-eth-both-why-not-seller/\"\n                    target=\"_blank\"\n                  >\n                    (?)\n                  </a>\n                </>\n              </div>\n            </div>\n          </div>\n\n          {isWaitForPeerAnswer && (\n            <div styleName=\"swapStartStatus\">\n              <div styleName=\"swapStartStatusLoader\">\n                <InlineLoader />\n              </div>\n              {' '}\n              <FormattedMessage\n                id=\"partial291\"\n                defaultMessage=\"Waiting for another participant (30 sec)\"\n              />\n            </div>\n          )}\n\n          <div styleName=\"buttons\">\n            {isTokenSell && linked.haveAmount.value > 0 && !hasTokenAllowance ? (\n              <Button\n                id='exchangeButton'\n                styleName=\"button\"\n                onClick={this.approveTheToken}\n                disabled={!canStartSwap || isPendingTokenApprove}\n                pending={isPendingTokenApprove}\n                blue\n              >\n                {canStartSwap ?\n                      <FormattedMessage\n                        id=\"FormattedMessageIdApprove\"\n                        defaultMessage=\"Approve {token}\"\n                        values={{ token: haveCurrency.toUpperCase() }}\n                      />\n                  : getTextWhyCanNotStartSwap()\n                }\n              </Button>\n            ) : (isIncorrectMetamaskNetwork && !isEthNativeCoin && isMetamaskProvider) ? (\n              <Button\n                styleName=\"button\"\n                onClick={this.handleAddCorrectNetwork}\n                blue\n              >\n                <FormattedMessage\n                  id=\"switchToCorrectNetwork\"\n                  defaultMessage=\"Switch to {br}{chainName}\"\n                  values={{\n                    br: <br />,\n                    chainName: config?.evmNetworks?.[networkNeedsToBeUsed]?.chainName || 'Correct Network'\n                  }}\n                />\n              </Button>\n            ) : (\n              <Button\n                id='exchangeButton'\n                styleName=\"button\"\n                onClick={this.initSwap}\n                disabled={!canStartSwap}\n                blue\n              >\n                {canStartSwap\n                  ? <FormattedMessage id=\"partial541\" defaultMessage=\"Exchange now\" />\n                  : getTextWhyCanNotStartSwap()}\n              </Button>\n            )}\n\n            <>\n              <Button\n                id=\"createOrderReactTooltipMessageForUser\"\n                styleName={`button link-like ${haveBalance ? '' : 'noMany'}`}\n                //@ts-ignore: strictNullChecks\n                onClick={haveBalance ? this.createOffer : null}\n              >\n                <FormattedMessage id=\"orders128\" defaultMessage=\"Create offer\" />\n              </Button>\n\n              {haveBalance ? (\n                <ThemeTooltip\n                  id=\"createOrderReactTooltipMessageForUser\"\n                  effect=\"solid\"\n                  place=\"bottom\"\n                >\n                  <FormattedMessage\n                    id=\"createOrderMessageForUser\"\n                    defaultMessage=\"You must be online all the time, otherwise your order will not be visible to other users\"\n                  />\n                </ThemeTooltip>\n              ) : (\n                <ThemeTooltip\n                  id=\"createOrderReactTooltipMessageForUser\"\n                  effect=\"solid\"\n                  place=\"bottom\"\n                >\n                  <FormattedMessage\n                    id=\"createOrderNoManyMessageForUser\"\n                    defaultMessage=\"Top up your balance\"\n                  />\n                </ThemeTooltip>\n              )}\n            </>\n            {(!isWidgetBuild || isDevBuild) && (\n              <>\n                <div styleName=\"link button-like liquidity\">\n                  <a href={!isChromeExtention ? `#${links.marketmaker}/` : `#${links.marketmaker}/{MATIC}WBTC`}>\n                    <FormattedMessage id=\"AddLiquidity\" defaultMessage=\"Add Liquidity\" />\n                  </a>\n                </div>\n              </>\n            )}\n\n            {isIncompletedSwaps && (\n              <Button blue styleName=\"buttonContinueSwap\" onClick={this.showIncompleteSwap}>\n                <FormattedMessage id=\"continueDeclined977\" defaultMessage=\"Continue your swaps\" />\n              </Button>\n            )}\n          </div>\n\n          <div styleName=\"networkStatusPlace\">\n            <NetworkStatus />\n          </div>\n        </div>\n      </div>\n    )\n\n    return (\n      <div styleName=\"exchangeWrap\">\n        <div\n          styleName=\"promoContainer\"\n          //@ts-ignore: strictNullChecks\n          ref={(ref) => (this.promoContainer = ref)}\n        >\n          <Fragment>\n            <div styleName=\"container\">\n              <Promo />\n              {Form}\n\n              <Button\n                id=\"orderbookBtn\"\n                onClick={this.toggleOrdersVisibility}\n                styleName=\"button orderbook\"\n                link\n              >\n                <FormattedMessage id=\"Orderbook\" defaultMessage='Orderbook' />\n              </Button>\n\n              {ordersIsOpen ? (\n                <Orders\n                  sell={haveCurrency}\n                  buy={getCurrency}\n                  linkedOrderId={linkedOrderId}\n                  pairFees={pairFees}\n                  balances={balances}\n                  checkSwapAllow={this.checkBalanceForSwapPossibility}\n                  checkSwapExists={this.checkSwapExists}\n                />\n              ) : null}\n            </div>\n          </Fragment>\n        </div>\n        {config && config.showHowItsWork && (\n          <Fragment>\n            <HowItWorks />\n            <VideoAndFeatures />\n            <Quote />\n          </Fragment>\n        )}\n      </div>\n    )\n  }\n}\n\nexport default injectIntl(Exchange)\n","import React, { Component, Fragment } from 'react'\n\nimport { connect } from 'redaction'\nimport actions from 'redux/actions'\nimport { withRouter } from 'react-router-dom'\nimport erc20Like from 'common/erc20Like'\nimport { links, constants } from 'helpers'\n\nimport CSSModules from 'react-css-modules'\nimport styles from './CurrencyWallet.scss'\nimport stylesHere from '../History/History.scss'\n\nimport Row from 'pages/History/Row/Row'\nimport SwapsHistory from 'pages/History/SwapsHistory/SwapsHistory'\n\nimport Table from 'components/tables/Table/Table'\nimport PageSeo from 'components/Seo/PageSeo'\nimport { getSeoPage } from 'helpers/seo'\nimport { injectIntl, defineMessages } from 'react-intl'\nimport { localisedUrl } from 'helpers/locale'\nimport config from 'app-config'\nimport BalanceForm from 'components/BalanceForm/BalanceForm'\nimport { BigNumber } from 'bignumber.js'\nimport ContentLoader from 'components/loaders/ContentLoader/ContentLoader'\nimport FilterForm from 'components/FilterForm/FilterForm'\nimport DashboardLayout from 'components/layout/DashboardLayout/DashboardLayout'\n\nimport getCurrencyKey from 'helpers/getCurrencyKey'\nimport lsDataCache from 'helpers/lsDataCache'\nimport getCoinInfo from 'common/coins/getCoinInfo'\n\n\nconst isWidgetBuild = config && config.isWidget\n\n@connect(\n  ({\n    core,\n    user,\n    history: { transactions, swapHistory },\n    user: {\n      activeFiat,\n      activeCurrency,\n      isBalanceFetching,\n      multisigPendingCount,\n    },\n  }) => ({\n    user,\n    activeFiat,\n    hiddenCoinsList: core.hiddenCoinsList,\n    txHistory: transactions,\n    swapHistory,\n    activeCurrency,\n    isBalanceFetching,\n    multisigPendingCount,\n  })\n)\n@withRouter\n@CSSModules({ ...styles, ...stylesHere }, { allowMultiple: true })\nclass CurrencyWallet extends Component<any, any> {\n  _mounted = false\n\n  constructor(props) {\n    super(props)\n\n    const {\n      match: {\n        params: { ticker = null, address = null },\n      },\n      hiddenCoinsList,\n    } = props\n\n    const items = actions.core.getWallets({})\n    const walletAddress = address\n\n    let itemCurrency = this.filterCurrencies({\n      items,\n      ticker,\n      walletAddress,\n    })\n\n    if (!itemCurrency.length) {\n      itemCurrency = items.filter((item) => {\n        if (item.balance > 0 && item.currency.toLowerCase() === ticker.toLowerCase()) return true\n      })\n    }\n    if (!itemCurrency.length) {\n      itemCurrency = items.filter((item) => {\n        if (item.balance >= 0 && item.currency.toLowerCase() === ticker.toLowerCase()) return true\n      })\n    }\n\n    if (itemCurrency.length) {\n      itemCurrency = itemCurrency[0]\n\n      //@ts-ignore\n      const { currency, address, contractAddress, decimals, balance, infoAboutCurrency } = itemCurrency\n      const hasCachedData = lsDataCache.get(`TxHistory_${getCurrencyKey(currency, true).toLowerCase()}_${address}`)\n\n      this.state = {\n        itemCurrency,\n        address,\n        walletAddress,\n        balance,\n        decimals,\n        currency,\n        txItems: hasCachedData,\n        contractAddress,\n        hiddenCoinsList,\n        isLoading: false,\n        infoAboutCurrency,\n        filterValue: walletAddress || address || '',\n        ticker,\n        token: erc20Like.isToken({ name: ticker }),\n      }\n    }\n  }\n\n  componentDidMount() {\n    this._mounted = true\n    \n    const {\n      currency,\n      itemCurrency,\n      token,\n      balance,\n      infoAboutCurrency,\n      hiddenCoinsList,\n      ticker,\n    } = this.state\n\n    actions.user.getBalances()\n\n    let {\n      match: {\n        params: { address = null },\n      },\n      activeCurrency,\n      activeFiat\n    } = this.props\n\n    if (token && itemCurrency.standard) {\n      actions[itemCurrency.standard].getBalance(currency.toLowerCase())\n    }\n\n    const actionName = itemCurrency.standard || currency.toLowerCase()\n\n    address && actions[getCurrencyKey(actionName, false)]\n      .fetchBalance(address)\n      .then((balance) => this.setState({ balance }))\n\n    // if address is null, take transactions from current user\n    address\n      ? actions.history.setTransactions(address, ticker.toLowerCase(), this.pullTransactions)\n      : actions.user.setTransactions()\n\n    if (!address) {\n      actions.core.getSwapHistory()\n    }\n\n    const targetCurrency = getCurrencyKey(currency.toLowerCase(), true)\n    const firstUrlPart = itemCurrency.tokenKey ? `/token/${itemCurrency.tokenKey}` : `/${targetCurrency}`\n    const withdrawUrl = `${firstUrlPart}/${address}/send`\n    const receiveUrl = `${firstUrlPart}/${address}/receive`\n\n    const currentUrl = this.props.history.location.pathname.toLowerCase()\n\n    if (currentUrl === withdrawUrl.toLowerCase() && balance !== 0) {\n      actions.modals.open(constants.modals.Withdraw, {\n        currency,\n        address,\n        balance,\n        itemCurrency,\n        infoAboutCurrency,\n        hiddenCoinsList,\n      })\n      if (activeCurrency.toUpperCase() !== activeFiat) {\n        actions.user.pullActiveCurrency(currency.toLowerCase())\n      }\n    }\n\n    if (this.props.history.location.pathname.toLowerCase() === receiveUrl.toLowerCase()) {\n      actions.modals.open(constants.modals.ReceiveModal, {\n        currency,\n        address,\n      })\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const { currency } = this.state\n    const { activeFiat } = this.props\n\n    let {\n      match: {\n        params: { address = null, ticker = null, action = null },\n      },\n      activeCurrency\n    } = this.props\n\n    let {\n      match: {\n        params: { address: prevAddress = null },\n      },\n    } = prevProps\n    if (prevAddress !== address) {\n      address\n        ? actions.history.setTransactions(address, currency.toLowerCase(), this.pullTransactions)\n        : actions.user.setTransactions()\n    }\n\n    if (\n      prevProps.location.pathname !== this.props.location.pathname ||\n      prevProps.isBalanceFetching !== this.props.isBalanceFetching\n    ) {\n      const items = actions.core.getWallets({})\n      const walletAddress = address\n      \n      let itemCurrency = this.filterCurrencies({\n        items,\n        ticker,\n        walletAddress,\n      })\n\n      if (itemCurrency.length) {\n        itemCurrency = itemCurrency[0]\n\n        const {\n          currency,\n          address,\n          contractAddress,\n          decimals,\n          balance,\n          infoAboutCurrency,\n          tokenKey,\n        } = itemCurrency\n        const {\n          txItems: oldTxItems,\n        } = this.state\n\n        const hasCachedData = lsDataCache.get(`TxHistory_${getCurrencyKey(currency, true).toLowerCase()}_${address}`)\n\n        this.setState(\n          {\n            itemCurrency,\n            address,\n            decimals,\n            currency,\n            balance,\n            txItems: (hasCachedData || oldTxItems),\n            contractAddress,\n            isLoading: false,\n            infoAboutCurrency,\n            filterValue: address || '',\n            token: erc20Like.isToken({ name: currency }),\n          },\n          () => {\n            if (prevProps.location.pathname !== this.props.location.pathname) {\n              if (activeCurrency.toUpperCase() !== activeFiat) {\n                actions.user.pullActiveCurrency(currency.toLowerCase())\n              }\n            }\n            const targetCurrency = getCurrencyKey(currency.toLowerCase(), true)\n            const firstUrlPart = tokenKey ? `/token/${tokenKey}` : `/${targetCurrency}`\n            const withdrawUrl = `${firstUrlPart}/${address}/send`\n            const receiveUrl = `${firstUrlPart}/${address}/receive`\n            const currentUrl = this.props.location.pathname.toLowerCase()\n\n            if (currentUrl === withdrawUrl.toLowerCase()) {\n              actions.modals.open(constants.modals.Withdraw, {\n                currency,\n                address,\n                balance,\n                infoAboutCurrency,\n                itemCurrency,\n              })\n            }\n\n            if (currentUrl === receiveUrl.toLowerCase()) {\n              actions.modals.open(constants.modals.ReceiveModal, {\n                currency,\n                address,\n              })\n            }\n          }\n        )\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this._mounted = false\n  }\n\n  filterCurrencies = (params) => {\n    const { items, ticker, walletAddress } = params\n\n    const {\n      coin,\n      blockchain,\n    } = getCoinInfo(ticker)\n\n    return items.filter((item) => {\n      let {currency: currencyName} = item\n\n      switch (currencyName.toLowerCase()) {\n        case 'btc (multisig)':\n        case 'btc (sms-protected)':\n        case 'btc (pin-protected)':\n          currencyName = 'btc'\n      }\n\n      const blockchainOk = (blockchain && item.blockchain) ? item.blockchain.toLowerCase() === blockchain.toLowerCase() : true\n\n      if (\n        currencyName.toLowerCase() === coin.toLowerCase() &&\n        item.address.toLowerCase() === walletAddress.toLowerCase() &&\n        blockchainOk\n      ) {\n        return true\n      }\n    })\n  }\n\n  getRows = (txHistory) => {\n    this.setState(() => ({ rows: txHistory }))\n  }\n\n  pullTransactions = (transactions) => {\n    if (!this._mounted) return\n    //@ts-ignore: strictNullChecks\n    let data = [].concat([], ...transactions).sort((a, b) => b.date - a.date)\n    this.setState({\n      txItems: data,\n    })\n\n    const {\n      currency,\n      address,\n    } = this.state\n\n    lsDataCache.push({\n      key: `TxHistory_${getCurrencyKey(currency, true).toLowerCase()}_${address}`,\n      data,\n      time: 3600,\n    })\n  }\n\n  handleReceive = () => {\n    const { currency, address } = this.state\n\n    //@ts-ignore: strictNullChecks\n    actions.modals.open(constants.modals.ReceiveModal, {\n      currency,\n      address,\n    })\n  }\n\n  handleInvoice = () => {\n    const { currency, address } = this.state\n\n    //@ts-ignore: strictNullChecks\n    actions.modals.open(constants.modals.InvoiceModal, {\n      currency: currency.toUpperCase(),\n      toAddress: address,\n    })\n  }\n\n  handleWithdraw = () => {\n    const {\n      history,\n      intl: { locale },\n    } = this.props\n    const { itemCurrency, currency, address } = this.state\n\n    const targetCurrency = getCurrencyKey(currency.toLowerCase(), true).toLowerCase()\n    const firstUrlPart = itemCurrency.tokenKey ? `/token/${itemCurrency.tokenKey}` : `/${targetCurrency}`\n\n    history.push(localisedUrl(\n      locale,\n      `${firstUrlPart}/${address}/send`\n    ))\n  }\n\n  rowRender = (row, rowIndex) => {\n    const {\n      history,\n      activeFiat,\n    } = this.props\n\n    return <Row key={rowIndex} {...row} activeFiat={activeFiat} history={history} />\n  }\n\n  handleFilterChange = ({ target }) => {\n    const { value } = target\n\n    this.setState(() => ({ filterValue: value }))\n  }\n\n  handleFilter = () => {\n    const { filterValue, txItems } = this.state\n    this.loading()\n\n    if (filterValue.toLowerCase() && filterValue.length) {\n      const newRows = txItems.filter(\n        ({ address }) => address && address.toLowerCase().includes(filterValue.toLowerCase())\n      )\n\n      this.setState(() => ({ txItems: newRows }))\n    } else {\n      this.resetFilter()\n    }\n  }\n\n  loading = () => {\n    this.setState(() => ({ isLoading: true }))\n    setTimeout(() => this.setState(() => ({ isLoading: false })), 1000)\n  }\n\n  resetFilter = () => {\n    this.loading()\n    const { address, currency } = this.state\n    this.setState(() => ({ filterValue: address }))\n    actions.history.setTransactions(address, currency.toLowerCase(), this.pullTransactions)\n  }\n\n  render() {\n    let {\n      swapHistory,\n      txHistory,\n      location,\n      match: {\n        params: { address = null },\n      },\n      intl,\n      hiddenCoinsList,\n      isBalanceFetching,\n      activeFiat,\n      activeCurrency,\n      multisigPendingCount,\n    } = this.props\n\n    const {\n      currency,\n      itemCurrency,\n      balance,\n      infoAboutCurrency,\n      txItems,\n      filterValue,\n      isLoading,\n    } = this.state\n\n    let currencyKey = getCurrencyKey(currency, true)\n\n    txHistory = txItems || txHistory\n\n    if (txHistory) {\n      txHistory = txHistory.filter((tx) => {\n        if (tx && tx.type) {\n          return tx.type.toLowerCase() === currencyKey.toLowerCase()\n        }\n        return false\n      })\n    }\n\n    const showSwapHistory = (address.toLowerCase() === itemCurrency.address.toLowerCase())\n\n    if (showSwapHistory)\n      swapHistory = Object.keys(swapHistory)\n      .map((key) => swapHistory[key])\n      .filter((swap) => swap.sellCurrency === currency || swap.buyCurrency === currency)\n      .reverse()\n\n    const seoPage = getSeoPage(location.pathname)\n\n    const titleSwapOnline = defineMessages({\n      metaTitle: {\n        id: 'CurrencyWalletTitle',\n        defaultMessage: 'Swap.Online - {fullName} ({currency}) Web Wallet with Atomic Swap.',\n      },\n    })\n    const titleWidgetBuild = defineMessages({\n      metaTitle: {\n        id: 'CurrencyWalletWidgetBuildTitle',\n        defaultMessage: '{fullName} ({currency}) Web Wallet with Atomic Swap.',\n      },\n    })\n    const title = isWidgetBuild ? titleWidgetBuild : titleSwapOnline\n\n    const description = defineMessages({\n      metaDescription: {\n        id: 'CurrencyWallet154',\n        defaultMessage:\n          'Atomic Swap Wallet allows you to manage and securely exchange ${fullName} (${currency}) with 0% fees. Based on Multi-Sig and Atomic Swap technologies.',\n      },\n    })\n\n    if (hiddenCoinsList.includes(currency)) {\n      actions.core.markCoinAsVisible(currency)\n    }\n\n    let currencyFiatBalance\n\n    if (infoAboutCurrency && infoAboutCurrency.price_fiat) {\n      currencyFiatBalance =\n        new BigNumber(balance).dp(6, BigNumber.ROUND_FLOOR).toString() as any * infoAboutCurrency.price_fiat as any\n    } else {\n      currencyFiatBalance = 0\n    }\n\n    return (\n      <div styleName=\"root\">\n        <PageSeo\n          location={location}\n          defaultTitle={intl.formatMessage(title.metaTitle, {\n            fullName: currency,\n            currency,\n          })}\n          defaultDescription={intl.formatMessage(description.metaDescription, {\n            fullName: currency,\n            currency,\n          })}\n        />\n\n        <DashboardLayout\n          page=\"history\"\n          BalanceForm={\n            txHistory\n              ?\n              <BalanceForm\n                type=\"currencyWallet\"\n                activeFiat={activeFiat}\n                currencyBalance={balance}\n                fiatBalance={currencyFiatBalance}\n                activeCurrency={activeCurrency}\n                isFetching={isBalanceFetching}\n                handleReceive={this.handleReceive}\n                handleWithdraw={this.handleWithdraw}\n                handleInvoice={this.handleInvoice}\n                showButtons={actions.user.isOwner(\n                  address,\n                  itemCurrency.tokenKey || currency\n                )}\n                currency={currency.toLowerCase()}\n                singleWallet={true}\n                multisigPendingCount={multisigPendingCount}\n              />\n              :\n              <Fragment>\n                {/*\n                //@ts-ignore */}\n                <ContentLoader leftSideContent />\n              </Fragment>\n          }\n        >\n          <div styleName=\"currencyWalletActivity\">\n            <FilterForm\n              filterValue={filterValue}\n              onSubmit={this.handleFilter}\n              onChange={this.handleFilterChange}\n              resetFilter={this.resetFilter}\n            />\n            {txHistory &&\n              !isLoading &&\n              (txHistory.length > 0 ? (\n                // TODO: use the infinite list component or smth else\n                // if we have lots of tx with the Table then it \n                // load long time and display all transaction\n                <Table rows={txHistory} styleName=\"currencyHistory\" rowRender={this.rowRender} />\n              ) : (\n                  <div styleName=\"historyContent\">\n                    {/*\n                    //@ts-ignore */}\n                    <ContentLoader rideSideContent empty nonHeader inner />\n                  </div>\n                ))}\n            {(!txHistory || isLoading) && (\n              <div styleName=\"historyContent\">\n                {/*\n                //@ts-ignore */}\n                <ContentLoader rideSideContent nonHeader />\n              </div>\n            )}\n          </div>\n          {showSwapHistory && (\n            <>\n              {!actions.btcmultisig.isBTCSMSAddress(`${address}`) &&\n                !actions.btcmultisig.isBTCMSUserAddress(`${address}`) &&\n                (swapHistory.filter((item) => item.step >= 1).length > 0 ? (\n                    <SwapsHistory orders={swapHistory.filter((item) => item.step >= 4)} />\n                  ) : (\n                    ''\n                  )\n                )\n              }\n            </>\n          )}\n        </DashboardLayout>\n        <Fragment>{seoPage && seoPage.footer && <div>{seoPage.footer}</div>}</Fragment>\n      </div>\n    )\n  }\n}\n\nexport default injectIntl(CurrencyWallet)\n","import React, { Component } from 'react'\nimport { FormattedMessage, defineMessages, injectIntl } from 'react-intl'\nimport helpers from \"helpers\";\nimport { getFullOrigin } from 'helpers/links'\n\nimport cssModules from 'react-css-modules'\nimport styles from './styles.scss'\nimport ShareButton from 'components/controls/ShareButton/ShareButton'\nimport { regularIcons } from 'images'\nimport actions from 'redux/actions'\nimport { BigNumber } from 'bignumber.js'\nimport Skeleton from 'react-loading-skeleton'\nimport CommentRow from 'components/Comment/Comment'\n\nimport animateFetching from 'components/loaders/ContentLoader/ElementLoading.scss'\n\n\nconst labels = defineMessages({\n  Text: {\n    id: 'InfoPay_2',\n    defaultMessage: 'successfully transferred to'\n  },\n})\n\n@cssModules({\n  ...styles,\n  ...animateFetching,\n}, { allowMultiple: true })\nclass TxInfo extends Component<any, any> {\n  constructor(props) {\n    super(props)\n\n    const {\n      currency: sourceCurrency,\n      txRaw,\n      txHash,\n      error,\n    } = props\n\n    let linkBlockChain = '#'\n    let linkShare = '#'\n    let tx = ''\n\n    if (!error) {\n      if (txRaw) {\n        const txInfo = helpers.transactions.getInfo(sourceCurrency.toLowerCase(), txRaw)\n\n        tx = txInfo.tx\n        linkBlockChain = txInfo.link\n      }\n\n      if (txHash) {\n        tx = txHash\n        linkShare = helpers.transactions.getTxRouter(sourceCurrency.toLowerCase(), txHash)\n        linkBlockChain = helpers.transactions.getLink(sourceCurrency.toLowerCase(), txHash)\n      }\n    }\n\n    // delete tokens base currency prefix\n    const currency = sourceCurrency.replace(/^\\{[a-z]+\\}/, '')\n\n    this.state = {\n      currency,\n      linkBlockChain,\n      linkShare,\n      tx,\n    }\n  }\n\n  updateComment = (value) => {\n    this.setState({ state: this.state });\n  }\n\n  render() {\n    const {\n      intl,\n      txId,\n      isFetching,\n      amount,\n      toAddress,\n      oldBalance,\n      confirmed,\n      minerFee,\n      minerFeeCurrency,\n      adminFee,\n      error,\n      finalBalances,\n    } = this.props\n\n    const {\n      currency,\n      linkBlockChain,\n      linkShare,\n      tx,\n    } = this.state\n\n    let finalAmount = amount\n    let finalAdminFee = adminFee\n\n    let fromFinal = 0\n    let toFinal = 0\n\n    let fromIsOur = false\n    let toIsOur = false\n    if (finalBalances) {\n      finalAmount = finalBalances.amount\n      finalAdminFee = finalBalances.adminFee\n      fromFinal = new BigNumber(finalBalances.fromBalance).minus(finalAmount).minus(finalAdminFee).toNumber()\n      toFinal = new BigNumber(finalBalances.toBalance).plus(finalAmount).toNumber()\n      fromIsOur = actions.user.isOwner(finalBalances.from, finalBalances.currency)\n      toIsOur = actions.user.isOwner(finalBalances.to, finalBalances.currency)\n    }\n\n    const comment = actions.comments.getComment(txId)\n\n    return (\n      <div>\n        <div styleName=\"blockCenter\">\n          <div>\n            <img styleName=\"finishImg\" src={regularIcons.OK} alt=\"finish\" />\n          </div>\n\n          <div className=\"p-3\">\n            <div styleName=\"shortInfoHolder\">\n              {\n                isFetching ? (\n                    <Skeleton count={2} />\n                  ) : error ? (\n                    <FormattedMessage id=\"InfoPay_2_Error\" defaultMessage=\"Error loading data\" />\n                  ) : (\n                    <span>\n                      <strong id='txAmout'> {finalAmount}  {currency.toUpperCase()} </strong>\n                      <FormattedMessage id=\"InfoPay_2_Ready\" defaultMessage=\"были успешно переданы\" />\n                      <br />\n                      <strong id='txToAddress'>{toAddress}</strong>\n                    </span>\n                  )\n              }\n            </div>\n          </div>\n\n          <table styleName=\"blockCenter__table\" className=\"table table-borderless\">\n            <tbody>\n            <tr>\n              <td styleName=\"header\">\n                <FormattedMessage id=\"InfoPay_3\" defaultMessage=\"Transaction ID\" />\n              </td>\n              <td>\n                <a href={linkBlockChain} target=\"_blank\" styleName=\"txLink\">\n                  {`${tx.slice(0, 6)}...${tx.slice(-6)}`}\n                </a>\n              </td>\n            </tr>\n            {isFetching ? (\n              <>\n                <tr>\n                  <td colSpan={2}>\n                    <Skeleton />\n                  </td>\n                </tr>\n                <tr>\n                  <td colSpan={2}>\n                    <Skeleton />\n                  </td>\n                </tr>\n                <tr>\n                  <td colSpan={2}>\n                    <Skeleton />\n                  </td>\n                </tr>\n              </>\n            ) : error\n              ? null\n              : (\n                <>\n                  {(confirmed) ? (\n                    <tr>\n                      <td styleName=\"header\">\n                        <FormattedMessage id=\"InfoPay_StatusReadyHeader\" defaultMessage=\"Status\" />\n                      </td>\n                      <td>\n                        <strong>\n                          <FormattedMessage id=\"InfoPay_Confirmed\" defaultMessage=\"Confirmed\" />\n                        </strong>\n                      </td>\n                    </tr>\n                  ) : (\n                    <tr>\n                      <td styleName=\"header\">\n                        <FormattedMessage id=\"InfoPay_4\" defaultMessage=\"Est. time to confirmation\" />\n                      </td>\n                      <td>\n                        <FormattedMessage id=\"InfoPay_NotConfirmed\" defaultMessage=\"~10 mins\" />\n                      </td>\n                    </tr>\n                  )}\n                  {(minerFee > 0) && (\n                    <tr>\n                      <td styleName=\"header\">\n                        <FormattedMessage id=\"InfoPay_MinerFee\" defaultMessage=\"Miner fee\" />\n                      </td>\n                      <td>\n                        <strong>\n                          {minerFee} {minerFeeCurrency}\n                        </strong>\n                      </td>\n                    </tr>\n                  )}\n                  {(finalAdminFee > 0) && (\n                    <tr>\n                      <td styleName=\"header\">\n                        <FormattedMessage id=\"InfoPay_AdminFee\" defaultMessage=\"Service fee\" />\n                      </td>\n                      <td>\n                        <strong>\n                          {finalAdminFee} {currency.toUpperCase()}\n                        </strong>\n                      </td>\n                    </tr>\n                  )}\n                  {(finalBalances) ? (\n                    <>\n                      <tr>\n                        <td styleName=\"header\" colSpan={2}>\n                          <FormattedMessage id=\"InfoPay_FinalBalances\" defaultMessage=\"Final balances\" />\n                        </td>\n                      </tr>\n                      <tr>\n                        <td styleName=\"header\" colSpan={2}>\n                          {finalBalances.from}\n                          {(fromIsOur) && (\n                            <>\n                              {` `}\n                              <FormattedMessage id=\"InfoPay_IsOurAddress\" defaultMessage=\"(Your)\" />\n                            </>\n                          )}\n                        </td>\n                      </tr>\n                      <tr>\n                        <td></td>\n                        <td>\n                          <strong>{fromFinal} {currency.toUpperCase()}</strong>\n                        </td>\n                      </tr>\n                      <tr>\n                        <td styleName=\"header\" colSpan={2}>\n                          {finalBalances.to}\n                          {(toIsOur) && (\n                            <>\n                              {` `}\n                              <FormattedMessage id=\"InfoPay_IsOurAddress\" defaultMessage=\"(Your)\" />\n                            </>\n                          )}\n                        </td>\n                      </tr>\n                      <tr>\n                        <td></td>\n                        <td>\n                          <strong>{toFinal} {currency.toUpperCase()}</strong>\n                        </td>\n                      </tr>\n                    </>\n                  ) : (\n                    <>\n                      {(oldBalance > 0) && (\n                        <tr>\n                          <td styleName=\"header\">\n                            <FormattedMessage id=\"InfoPay_FinalBalance\" defaultMessage=\"Final balance\" />\n                          </td>\n                          <td>\n                            <strong>\n                              {oldBalance} {currency.toUpperCase()}\n                            </strong>\n                          </td>\n                        </tr>\n                      )}\n                    </>\n                  )}\n                </>\n              )}\n            {comment && (\n                <tr>\n                  <td styleName=\"header\">\n                    <FormattedMessage id=\"InfoPay_Comment\" defaultMessage=\"Comment\" />\n                  </td>\n                  <td>\n                    <strong>\n                      {comment}\n                    </strong>\n                  </td>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n        <div styleName=\"blockCenter buttonHolder\">\n          <ShareButton\n            halfWidth={true}\n            minWidth=\"200px\"\n            link={`${getFullOrigin()}${linkShare}`}\n            title={amount.toString() + ' ' + currency.toString() + ' ' + intl.formatMessage(labels.Text) + ' ' + toAddress} />\n\n            <CommentRow\n              label={''}\n              canEdit={true}\n              updateComment={(v) => this.updateComment(v)}\n              commentKey={txId}\n            />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default injectIntl(TxInfo)\n","// extracted by mini-css-extract-plugin\nexport default {\"blockCenter\":\"_2k2sgass0qI-1GfuawhTJB\",\"finishImg\":\"_1rNu6IpEXIhMpwhAKif8PB\",\"txLink\":\"_1Veg8c9iwgvhyhXp7PbnDL\",\"shortInfoHolder\":\"LVVBL50_0JemyY-FfEzaj\",\"buttonHolder\":\"_3PH0OQxiQDzMWiwGrZklTt\",\"blockCenter__table\":\"Zkq3tsQKa1qKkljHemlXU\",\"header\":\"_3kvkePMB0AUVYUcnFF9rmW\",\"data\":\"_1Gb96U4624-qCw5hRwOQJ8\"};","import { withRouter } from 'react-router-dom'\nimport React, { Component } from 'react'\nimport actions from 'redux/actions'\nimport erc20Like from 'common/erc20Like'\nimport helpers, { links } from 'helpers'\n\nimport getCurrencyKey from 'helpers/getCurrencyKey'\nimport { defineMessages, injectIntl } from 'react-intl'\nimport getWalletLink from 'helpers/getWalletLink'\n\nimport TxInfo from './TxInfo'\nimport { ModalBox } from 'components/modal'\nimport cssModules from 'react-css-modules'\nimport styles from './styles.scss'\nimport lsDataCache from 'helpers/lsDataCache'\n\n\nconst labels = defineMessages({\n  Title: {\n    id: 'InfoPay_1',\n    defaultMessage: 'Transaction is completed',\n  },\n})\n\n@cssModules({\n  ...styles,\n}, { allowMultiple: true })\nclass Transaction extends Component<any, any> {\n  unmounted = false\n\n  constructor(props) {\n    super(props)\n\n    const {\n      match: {\n        params: {\n          ticker = null,\n          tx: txHash = null,\n        },\n      } = null,\n    } = props\n\n    const currency = getCurrencyKey(ticker, true)\n    const infoTx = lsDataCache.get(`TxInfo_${currency.toLowerCase()}_${txHash}`)\n\n    let rest = {}\n    if (infoTx) {\n      const {\n        amount,\n        afterBalance: oldBalance,\n        confirmed,\n        senderAddress: sender,\n        receiverAddress: toAddress,\n        confirmations,\n        minerFee,\n        minerFeeCurrency,\n        adminFee,\n      } = infoTx\n\n      rest = {\n        amount,\n        confirmed,\n        sender,\n        toAddress,\n        oldBalance,\n        confirmations,\n        minerFee,\n        minerFeeCurrency,\n        adminFee,\n      }\n    }\n\n    this.state = {\n      currency,\n      ticker,\n      txHash,\n      isFetching: !(infoTx),\n      infoTx,\n      amount: 0,\n      balance: 0,\n      oldBalance: 0,\n      confirmed: false,\n      sender: ``,\n      toAddress: ``,\n      confirmations: 0,\n      minerFee: 0,\n      error: null,\n      finalBalances: false,\n      ...rest,\n    }\n  }\n\n  fetchTxInfo = async (currency, txHash, ticker) => {\n    const {\n      infoTx: cachedTxInfo,\n    } = this.state\n\n    let infoTx\n    let error = null\n\n\n    try {\n      if (erc20Like.erc20.isToken({ name: currency })) {\n        infoTx = await actions.erc20.fetchTokenTxInfo(ticker, txHash)\n      }\n\n      else if (erc20Like.bep20.isToken({ name: currency })) {\n        infoTx = await actions.bep20.fetchTokenTxInfo(ticker, txHash)\n      }\n\n      else if (erc20Like.erc20matic.isToken({ name: currency })) {\n        infoTx = await actions.erc20matic.fetchTokenTxInfo(ticker, txHash)\n      }\n\n      else {\n        infoTx = await actions[currency].fetchTxInfo(txHash, 5 * 60 * 1000)\n      }\n    } catch (err) {\n      console.error(err)\n      error = err\n    }\n\n    if (!infoTx || error) {\n      // Fail parse\n      this.setState({\n        isFetching: false,\n        error: !(cachedTxInfo),\n      })\n      return\n    }\n\n    if (!this.unmounted) {\n      lsDataCache.push({\n        key: `TxInfo_${currency.toLowerCase()}_${txHash}`,\n        time: 3600,\n        data: infoTx,\n      })\n\n      const {\n        amount,\n        afterBalance: oldBalance,\n        confirmed,\n        senderAddress: sender,\n        receiverAddress: toAddress,\n        confirmations,\n        minerFee,\n        minerFeeCurrency,\n        adminFee,\n      } = infoTx\n\n      this.setState({\n        isFetching: false,\n        infoTx,\n        amount,\n        balance:0,\n        oldBalance,\n        confirmed,\n        sender,\n        toAddress,\n        confirmations,\n        minerFee,\n        minerFeeCurrency,\n        adminFee,\n      })\n    }\n  }\n\n  componentDidMount() {\n    const {\n      ticker,\n      txHash,\n    } = this.state\n\n    if (!txHash) {\n      //@ts-ignore\n      history.push(links.notFound)\n      return\n    }\n\n    const currency = getCurrencyKey(ticker, true)\n\n    this.fetchTxInfo(currency, txHash, ticker)\n    this.fetchTxFinalBalances(getCurrencyKey(ticker, true), txHash)\n\n    if (typeof document !== 'undefined') {\n      document.body.classList.add('overflowY-hidden-force')\n    }\n  }\n\n  fetchTxFinalBalances = (currency, txHash) => {\n    setTimeout(async () => {\n      const finalBalances = await helpers.transactions.fetchTxBalances(currency, txHash)\n      if (finalBalances && !this.unmounted) {\n        this.setState({\n          finalBalances,\n        })\n      }\n    })\n  }\n\n  handleClose = () => {\n    const { history } = this.props\n\n    let {\n      infoTx: {\n        senderAddress: walletOne,\n        receiverAddress: walletTwo,\n      },\n      ticker,\n    } = this.state\n\n    const wallets: IUniversalObj[] = []\n\n    if (walletOne instanceof Array) {\n      walletOne.forEach((wallet) => wallets.push(wallet))\n    } else {\n      wallets.push(walletOne)\n    }\n\n    if (walletTwo instanceof Array) {\n      walletTwo.forEach((wallet) => wallets.push(wallet))\n    } else {\n      wallets.push(walletTwo)\n    }\n\n    const walletLink = getWalletLink(ticker, wallets)\n    history.push((walletLink) || '/')\n  }\n\n  componentWillUnmount() {\n    this.unmounted = true\n\n    if (typeof document !== 'undefined') {\n      document.body.classList.remove('overflowY-hidden-force')\n    }\n  }\n\n  render() {\n    const {\n      intl,\n    } = this.props\n\n    return (\n      <ModalBox title={intl.formatMessage(labels.Title)} onClose={this.handleClose} >\n        <div styleName=\"holder\">\n          <TxInfo {...this.state} />\n        </div>\n      </ModalBox>\n    )\n  }\n}\n\nexport default withRouter(injectIntl(Transaction))\n","// extracted by mini-css-extract-plugin\nexport default {\"holder\":\"_3yRf_tXCfxhzc6Bbz3DJ0q\"};","import getCurrencyKey from './getCurrencyKey'\nimport transaction from './transactions'\nimport actions from 'redux/actions'\n\nconst getWalletLink = (currency, checkAddresses) => {\n  const prefix = getCurrencyKey(currency, false)\n  const tokenBaseCurrency = transaction.getTokenBaseCurrency(currency)\n  let ourWallets: string[] = []\n\n  if (tokenBaseCurrency) {\n    ourWallets = actions[tokenBaseCurrency].getAllMyAddresses()\n  } else {\n    if (actions[prefix]?.getAllMyAddresses) {\n      ourWallets = actions[prefix].getAllMyAddresses()\n    } else {\n      console.warn(`Function getAllMyAddresses not defined (currency ${currency})`)\n    }\n  }\n\n  if (!ourWallets.length) return false\n\n  const availableAddresses = checkAddresses.filter((address) => (\n    address && ourWallets.includes( address.toLowerCase() )\n  ))\n\n  if (availableAddresses.length) {\n    const targetWallet = availableAddresses[0]\n\n    return tokenBaseCurrency\n      ? `/token/${currency}/${targetWallet}`\n      : `/${prefix.toUpperCase()}/${targetWallet}`\n  }\n\n  return false\n}\n\n\nexport default getWalletLink\n","import React, { Fragment, PureComponent } from 'react'\nimport PropTypes from 'prop-types'\n\nimport { isMobile } from 'react-device-detect'\nimport { connect } from 'redaction'\nimport { constants } from 'helpers'\nimport { localisedUrl } from 'helpers/locale'\nimport { FormattedMessage, injectIntl } from 'react-intl'\nimport { withRouter } from 'react-router-dom'\nimport actions from 'redux/actions'\nimport { links } from 'helpers'\nimport { getFullOrigin } from 'helpers/links'\nimport Button from 'components/controls/Button/Button'\n\nimport moment from 'moment'\n\nimport CSSModules from 'react-css-modules'\nimport styles from './Btc.scss'\nimport SwapApp from 'swap.app'\nimport config from 'app-config'\n\n@connect(({ user: { btcData } }) => {\n  return {\n    data: btcData,\n  }\n})\n@CSSModules(styles, { allowMultiple: true })\nclass Btc extends PureComponent<any, any> {\n  timerWaitOnlineJoin: any\n\n  static propTypes = {\n    history: PropTypes.object,\n    location: PropTypes.object,\n    intl: PropTypes.object.isRequired,\n  }\n\n  constructor(props) {\n    super(props)\n    console.log('Btc mulsign connected')\n\n    const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\n    const mnemonicSaved = mnemonic === `-`\n\n    this.timerWaitOnlineJoin = false\n    this.state = {\n      action: 'none',\n      wallet: {},\n      walletBalance: 0,\n      publicKey: '',\n      mnemonicSaved,\n      addWalletEnabled: false,\n    }\n  }\n\n  async componentWillMount() {\n    let {\n      match: {\n        params: { action, data, peer },\n      },\n      intl: { locale },\n      history,\n      location: { pathname },\n      data: { privateKey },\n    } = this.props\n\n    if (\n      !action ||\n      ['join', 'connect', 'confirm', 'confirminvoice'].indexOf(action.toLowerCase()) === -1\n    ) {\n      history.push(localisedUrl(locale, links.notFound))\n      return\n    }\n\n    action = action.toLowerCase()\n\n    if (action === 'join' || action === 'connect') {\n      if (data && data.length == 66) {\n        const publicKey = data\n        const walletData = actions.btcmultisig.login_USER(privateKey, publicKey, true)\n\n        if (!walletData) {\n          history.push(localisedUrl(locale, links.notFound))\n          return\n        }\n\n        const balance = await actions.btcmultisig.fetchBalance(walletData.address)\n        const myPublicKey = this.props.data.publicKey.toString('hex')\n\n        this.setState({\n          action,\n          wallet: walletData,\n          walletBalance: balance,\n          peer,\n          privateKey,\n          publicKey,\n          myPublicKey,\n          joinLink: `${getFullOrigin()}${links.multisign}/btc/connect/${myPublicKey}`,\n        })\n        actions.pubsubRoom.onReady(() => {\n          this.setState({\n            addWalletEnabled: true,\n          })\n        })\n      } else {\n        history.push(localisedUrl(locale, links.notFound))\n      }\n    }\n    if (action === 'confirm' || action === 'confirminvoice') {\n      if (data && data.length) {\n        let txRaw = data\n        let invoice = false\n        if (action === 'confirminvoice') {\n          const dataParts = data.split('|')\n          if (dataParts.length === 2) {\n            invoice = dataParts[0]\n            txRaw = dataParts[1]\n          } else {\n            console.log('Bad tx raw and invoiceid data')\n          }\n        }\n        if (txRaw.length === 64) {\n          setTimeout(() => {\n            //@ts-ignore: strictNullChecks\n            actions.modals.open(constants.modals.BtcMultisignConfirmTx, {\n              txId: txRaw,\n              showCloseButton: true,\n              onClose: () => {\n                history.push(localisedUrl(locale, links.home))\n              },\n            })\n          }, 100)\n        } else {\n          try {\n            this.setState(\n              {\n                action,\n                txData: await actions.btcmultisig.parseRawTX(txRaw),\n                invoice,\n                txRaw: txRaw,\n              },\n              () => {\n                setTimeout(() => {\n                  //@ts-ignore: strictNullChecks\n                  actions.modals.open(constants.modals.BtcMultisignConfirmTx, {\n                    txData: txRaw,\n                    showCloseButton: false,\n                    onClose: () => {\n                      history.push(localisedUrl(locale, links.home))\n                    },\n                  })\n                }, 100)\n              }\n            )\n          } catch (e) {\n            console.log('Bad tx raw data')\n          }\n        }\n      }\n    }\n  }\n\n  async componentWillUnmount() {\n    //@ts-ignore: strictNullChecks\n    SwapApp.shared().services.room.unsubscribe(\n      'btc multisig join ready',\n      this.handleOnlineWalletConnect\n    )\n    clearTimeout(this.timerWaitOnlineJoin)\n  }\n\n  connectWallet = (action) => {\n    const { privateKey, publicKey } = this.state\n    actions.btcmultisig.addBtcMultisigKey(publicKey, true)\n\n    actions.core.markCoinAsVisible('BTC (Multisig)', true)\n\n    this.setState({\n      action: action === 'join' ? 'linkready' : 'ready',\n    })\n    if (action === 'join') {\n      //@ts-ignore: strictNullChecks\n      actions.modals.open(constants.modals.MultisignJoinLink, {\n        action: `connect`,\n        callback: () => {\n          this.handleGoToWallet()\n        },\n        showCloseButton: false,\n      })\n    }\n  }\n\n  handleOnlineWalletConnect = async (_data) => {\n    console.log('btc multisig join ready', _data)\n    const { fromPeer, data } = _data\n    const { peer } = this.state\n    if (fromPeer === peer) {\n      //@ts-ignore: strictNullChecks\n      SwapApp.shared().services.room.unsubscribe(\n        'btc multisig join ready',\n        this.handleOnlineWalletConnect\n      )\n      clearTimeout(this.timerWaitOnlineJoin)\n      this.connectWallet('ready')\n    }\n  }\n\n  handleAddWallet = async () => {\n    const { action, myPublicKey, publicKey, peer } = this.state\n\n    //If peer is online - try connect via pubsubRoom\n\n    this.setState({\n      waitCreateWallet: true,\n    })\n\n    actions.pubsubRoom.waitPeer(\n      peer,\n      () => {\n        this.setState({\n          action: 'onlinejoin',\n        })\n        //@ts-ignore: strictNullChecks\n        SwapApp.shared().services.room.subscribe(\n          'btc multisig join ready',\n          this.handleOnlineWalletConnect\n        )\n        //@ts-ignore: strictNullChecks\n        SwapApp.shared().services.room.sendMessagePeer(peer, {\n          event: 'btc multisig join',\n          data: {\n            publicKey: myPublicKey,\n            checkKey: publicKey,\n          },\n        })\n        this.timerWaitOnlineJoin = setTimeout(() => {\n          //@ts-ignore: strictNullChecks\n          SwapApp.shared().services.room.unsubscribe(\n            'btc multisig join ready',\n            this.handleOnlineWalletConnect\n          )\n          this.connectWallet(action)\n        }, 10000)\n      },\n      () => {\n        this.connectWallet(action)\n      },\n      10000\n    )\n  }\n\n  handleSaveMnemonic = async () => {\n    //@ts-ignore: strictNullChecks\n    actions.modals.open(constants.modals.SaveMnemonicModal, {\n      onClose: () => {\n        const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\n        const mnemonicSaved = mnemonic === `-`\n\n        this.setState({\n          mnemonicSaved,\n        })\n      },\n    })\n  }\n\n  handleGoToWallet = async () => {\n    const {\n      history,\n      intl: { locale },\n    } = this.props\n\n    const { address } = actions.user.getAuthData('btcMultisigUser')\n    history.push(localisedUrl(locale, `/btc/${address}`))\n  }\n\n  handleConfirm = async () => {\n    const { txRaw, invoice } = this.state\n    this.setState({ isConfirming: true })\n    //@ts-ignore\n    const signedTX = await actions.btcmultisig.signMultiSign(txRaw)\n    const txID = await actions.btcmultisig.broadcastTx(signedTX)\n    if (invoice) {\n      // @ToDo - payer address\n      //@ts-ignore\n      await actions.invoices.markInvoice(invoice, 'ready', txID)\n    }\n    this.setState({\n      txID,\n      action: 'confirmready',\n    })\n  }\n\n  render() {\n    const {\n      action,\n\n      wallet,\n      walletBalance,\n      joinLink,\n      addWalletEnabled,\n      waitCreateWallet,\n\n      debugShowTXB,\n      debugShowInput,\n      debugShowOutput,\n\n      mnemonicSaved,\n    } = this.state\n\n    return (\n      <section>\n        {action === 'onlinejoin' && (\n          <Fragment>\n            <h1>\n              <FormattedMessage\n                id=\"BTCMS_CreateWalletTitle\"\n                defaultMessage=\"Создание BTC-multisignature кошелька\"\n              />\n            </h1>\n            <h3>\n              <FormattedMessage\n                id=\"BTCMS_WaitOtherSide\"\n                defaultMessage=\"Ожидание второй стороны...\"\n              />\n            </h3>\n          </Fragment>\n        )}\n        {(action === 'join' || action === 'connect') && (\n          <Fragment>\n            <h1>\n              <FormattedMessage\n                id=\"BTCMS_CreateWalletTitle\"\n                defaultMessage=\"Создание BTC-multisignature кошелька\"\n              />\n            </h1>\n\n            <div>\n              <label>\n                <FormattedMessage id=\"BTCMS_WalletAddress\" defaultMessage=\"Адрес кошелька:\" />\n              </label>\n              <strong>{wallet.address}</strong>\n            </div>\n            <div>\n              <label>\n                <FormattedMessage id=\"BTCMS_WalletBalance\" defaultMessage=\"Баланс\" />\n              </label>\n              <strong> {walletBalance} BTC</strong>\n            </div>\n            {mnemonicSaved ? (\n              <>\n                {addWalletEnabled ? (\n                  waitCreateWallet ? (\n                    <Button brand>\n                      <FormattedMessage\n                        id=\"BTCMS_CreateWalletWait\"\n                        defaultMessage=\"Создание кошелька... Подождите немного\"\n                      />\n                    </Button>\n                  ) : (\n                    <Button brand onClick={this.handleAddWallet}>\n                      <FormattedMessage\n                        id=\"BTCMS_CreateWalletAdd\"\n                        defaultMessage=\"Добавить этот кошелек\"\n                      />\n                    </Button>\n                  )\n                ) : (\n                  <Button brand>\n                    <FormattedMessage\n                      id=\"BTCMS_CreateWalletLoading\"\n                      defaultMessage=\"Загрузка... Подождите немного\"\n                    />\n                  </Button>\n                )}\n              </>\n            ) : (\n              <>\n                <div>\n                  <strong>\n                    <FormattedMessage\n                      id=\"BTCMS_YouNeedSaveMnemonic\"\n                      defaultMessage=\"Для активации btc-multisig вы должны сохранить 12 слов\"\n                    />\n                  </strong>\n                </div>\n                <div>\n                  <label>\n                    <FormattedMessage\n                      id=\"BTCMS_SaveYourMnemonic\"\n                      defaultMessage=\"Пожалуйста сохраните свою секретную фразу.\"\n                    />\n                  </label>\n                </div>\n                <Button brand onClick={this.handleSaveMnemonic}>\n                  <FormattedMessage\n                    id=\"BTCMS_SaveMnemonicButton\"\n                    defaultMessage=\"Сохранить секретную фразу\"\n                  />\n                </Button>\n              </>\n            )}\n          </Fragment>\n        )}\n        {!mnemonicSaved && (\n          <div styleName=\"descritonText\">\n            <FormattedMessage\n              id=\"BTCMS_CreateWalletLoading_descroptio\"\n              defaultMessage=\"Funds sent to this wallet cannot be spent without your confirmation (please save your private 12 words passphrase)\"\n            />\n          </div>\n        )}\n        {\n          /*action=='confirm' ||*/ action === 'confirminvoice' && (\n            <Fragment>\n              <h1>\n                <FormattedMessage\n                  id=\"BTCMS_ConfirmTxTitle\"\n                  defaultMessage=\"Подтверждение транзакции\"\n                />\n              </h1>\n              <h3>\n                <button\n                  onClick={() => {\n                    this.setState({ debugShowInput: !debugShowInput })\n                  }}\n                >\n                  <FormattedMessage id=\"BTCMS_ConfirmTxInputs\" defaultMessage=\"Входы транзакции\" />\n                </button>\n              </h3>\n              {debugShowInput && (\n                <pre>\n                  <code>{JSON.stringify(this.state.txData.input, null, 4)}</code>\n                </pre>\n              )}\n              <h3>\n                <button\n                  onClick={() => {\n                    this.setState({ debugShowOutput: !debugShowOutput })\n                  }}\n                >\n                  <FormattedMessage\n                    id=\"BTCMS_ConfirmTxOutputs\"\n                    defaultMessage=\"Выходы транзакции\"\n                  />\n                </button>\n              </h3>\n              {debugShowOutput && (\n                <pre>\n                  <code>{JSON.stringify(this.state.txData.output, null, 4)}</code>\n                  <code>{JSON.stringify(this.state.txData, null, 4)}</code>\n                </pre>\n              )}\n              <div>\n                <Button brand onClick={this.handleConfirm}>\n                  <FormattedMessage\n                    id=\"BTCMS_ConfirmTxSign\"\n                    defaultMessage=\"Подписать транзакцию\"\n                  />\n                </Button>\n              </div>\n            </Fragment>\n          )\n        }\n        {action === 'confirmready' && (\n          <Fragment>\n            <FormattedMessage id=\"BTCMS_ConfirmTxTitle\" defaultMessage=\"Подтверждение транзакции\" />\n            <h2>\n              <FormattedMessage\n                id=\"BTCMS_ConfirmTxReady\"\n                defaultMessage=\"Транзакция подписана и отправлена в блокчейн\"\n              />\n            </h2>\n            <div>\n              <Button brand onClick={this.handleGoToWallet}>\n                <FormattedMessage\n                  id=\"BTCMS_ConfirmTxGoToWallet\"\n                  defaultMessage=\"Перейти в кошелек\"\n                />\n              </Button>\n            </div>\n            <pre>\n              <code>{JSON.stringify(this.state.txID, null, 4)}</code>\n            </pre>\n          </Fragment>\n        )}\n        {(action === 'linkready' || action === 'ready') && (\n          <Fragment>\n            <h1>\n              <FormattedMessage\n                id=\"BTCMS_CreateWalletTitle\"\n                defaultMessage=\"Создание BTC-multisignature кошелька\"\n              />\n            </h1>\n            {action === 'linkready' && (\n              <h2>\n                <FormattedMessage\n                  id=\"BTCMS_CreateWalletLinkReady\"\n                  defaultMessage=\"Кошелек создан. Отправьте эту ссылку второму владельцу для подтверждения\"\n                />\n              </h2>\n            )}\n            {action === 'ready' && (\n              <h2>\n                <FormattedMessage id=\"BTCMS_CreateWalletReady\" defaultMessage=\"Кошелек создан\" />\n              </h2>\n            )}\n            {action === 'linkready' && <span>{joinLink}</span>}\n            <div>\n              <Button brand onClick={this.handleGoToWallet}>\n                <FormattedMessage\n                  id=\"BTCMS_CreateWalletReadyButton\"\n                  defaultMessage=\"Готово. Открыть кошелек\"\n                />\n              </Button>\n            </div>\n          </Fragment>\n        )}\n      </section>\n    )\n  }\n}\n\nexport default injectIntl(Btc)\n","// extracted by mini-css-extract-plugin\nexport default {\"descritonText\":\"F8bOtb3Up_yq9Z_pqOL0U\"};","import React, { Component, Fragment } from 'react'\nimport cssModules from 'react-css-modules'\nimport styles from './Expandable.scss'\n\ninterface IExpandableProps {\n  title: string | JSX.Element,\n  content: string | JSX.Element,\n  onExpand?: () => void\n}\n\ninterface IExpandableState {\n  isOpened: boolean\n}\n\n@cssModules(styles, { allowMultiple: true })\nexport default class Expandable extends Component<IExpandableProps, IExpandableState> {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      isOpened: false,\n    }\n  }\n\n  render() {\n    const {\n      title,\n      content,\n      onExpand\n    } = this.props\n\n    const { isOpened } = this.state\n\n    return (\n      <details onClick={isOpened ?\n        () => {\n          this.setState({ isOpened: false })\n        }\n        :\n        () => {\n          this.setState({ isOpened: true })\n          onExpand && onExpand()\n         }\n      }>\n        <summary>{title}</summary>\n        {content}\n      </details>\n    )\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {};","import React from 'react'\nimport cssModules from 'react-css-modules'\nimport { FormattedMessage } from 'react-intl'\nimport styles from './FAQ.scss'\nimport { feedback, links } from 'helpers'\nimport Expandable from 'components/ui/Expandable/Expandable'\n\nimport config from 'helpers/externalConfig'\n\n@cssModules(styles, { allowMultiple: true })\nclass FAQ extends React.Component {\n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n    return (\n      <div styleName='mm-faq-page'>\n        <section>\n          <h2 styleName=\"section-title\">\n            <FormattedMessage\n              id=\"MainFAQHeader\"\n              defaultMessage=\"FAQ\"\n            />\n          </h2>\n          <Expandable\n            title={\n              <FormattedMessage\n                id=\"MM_FAQ_ItemTitle3\"\n                defaultMessage=\"How much will I earn?\"\n              />\n            }\n            content={\n              <div>\n                <FormattedMessage\n                  id=\"MM_FAQ_HowMuchEarn\"\n                  defaultMessage=\"We declare from 10% per year (APY). If the number of exchanges is not enough we will motivate users to do exchanges using bounties.\"\n                />\n              </div>\n            }\n            onExpand={() => { feedback.marketmaking.faqOpened('How much will I earn?') }}\n          />\n          <Expandable\n            title={\n              <FormattedMessage\n                id=\"MM_FAQ_ItemTitle1\"\n                defaultMessage=\"Why does it work?\"\n              />\n            }\n            content={\n              <FormattedMessage\n                id=\"MM_FAQ_ItemContent1\"\n                defaultMessage=\"A market maker earns on the difference in exchange rates when servicing the purchase and sale (spread)\"\n              />\n            }\n            onExpand={() => { feedback.marketmaking.faqOpened('Why it works?') }}\n          />\n          <Expandable\n            title={\n              <FormattedMessage\n                id=\"MM_FAQ_Safety\"\n                defaultMessage=\"Is it safe? Could the balance decrease?\"\n              />\n            }\n            content={\n              <>\n                <div>\n                  <FormattedMessage\n                    id=\"MM_FAQ_TotalSum\"\n                    defaultMessage=\"- At any given time, the sum of BTC and {token} balances will be greater than before.\"\n                    values={{\n                      token: config.binance ? 'BTCB' : 'WBTC'\n                    }}\n                  />\n                </div>\n                <div>\n                  <FormattedMessage\n                    id=\"MM_FAQ_FundAccess\"\n                    defaultMessage=\"- Keys to your funds are only with you, we do not have access to your funds\"\n                  />\n                </div>\n                <div>\n                  <FormattedMessage\n                    id=\"MM_FAQ_HighRisk\"\n                    defaultMessage=\"- Any cryptocurrency operation is high risk.\"\n                  />\n                </div>\n                <div>\n                  <FormattedMessage\n                    id=\"MM_FAQ_Audit\"\n                    defaultMessage=\"- The app passed audit from {link}.\"\n                    values={{\n                      link: <a href={links.swapAudit} target=\"_blank\">dsec</a>\n                    }}\n                  />\n                </div>\n                <div>\n                  <FormattedMessage\n                    id=\"MM_FAQ_NotStore\"\n                    defaultMessage=\"- Do not store large amounts or borrowed funds.\"\n                  />\n                </div>\n                <div>\n                  {'- '}\n                  <a href=\"https://github.com/swaponline/MultiCurrencyWallet/blob/master/docs/RISKS.md\" target=\"_blank\">\n                    <FormattedMessage\n                      id=\"MM_FAQ_ItemBody2-5\"\n                      defaultMessage=\"Risk Notification\"\n                    />\n                  </a>\n                </div>\n              </>\n            }\n            onExpand={() => { feedback.marketmaking.faqOpened('Is it safe?') }}\n          />\n          <Expandable\n            title={\n              <FormattedMessage\n                id=\"MM_FAQ_ItemTitle7\"\n                defaultMessage=\"Why do I need {token}? I am only interested in earning BTC.\"\n                values={{\n                  token: config.binance ? 'BTCB' : 'WBTC',\n                }}\n              />\n            }\n            content={\n              <>\n                <div>\n                  <FormattedMessage\n                    id=\"MM_FAQ_ItemContent7-1\"\n                    defaultMessage=\"You can replenish only with Bitcoin. But inevitably, at some times, your BTC balance may decrease and {token} may increase, and vice versa.\"\n                    values={{\n                      token: config.binance ? 'BTCB' : 'WBTC',\n                    }}\n                  />\n                </div>\n                <div>\n                  <FormattedMessage\n                    id=\"MM_FAQ_ItemContent7-2\"\n                    defaultMessage=\"At any given time, the sum of these balances will be greater than before.\"\n                  />\n                </div>\n                <div>\n                  <FormattedMessage\n                    id=\"MM_FAQ_ItemContent7-3\"\n                    defaultMessage=\"If you want to withdraw BTC, but some of them are in {token}, then you will have to change {token} yourself, for example, through Binance exchange.\"\n                    values={{\n                      token: config.binance ? 'BTCB' : 'WBTC',\n                    }}\n                  />\n                </div>\n              </>\n            }\n            onExpand={() => { feedback.marketmaking.faqOpened('What is the minimum balance needed to get started?') }}\n          />\n          <Expandable\n            title={\n              <FormattedMessage\n                id=\"MM_FAQ_ItemTitle8\"\n                defaultMessage=\"Why don't users exchange themselves through Binance exchange?\"\n              />\n            }\n            content={\n              <FormattedMessage\n                id=\"MM_FAQ_ItemContent8\"\n                defaultMessage=\"Our clients love and support decentralization. Our exchange works through smart contracts and we will not be able to freeze the client's funds for more than 3 hours.\"\n              />\n            }\n            onExpand={() => { feedback.marketmaking.faqOpened('What is the minimum balance needed to get started?') }}\n          />\n          <Expandable\n            title={\n              <FormattedMessage\n                id=\"MM_FAQ_ItemTitle4\"\n                defaultMessage=\"What is the minimum balance needed to get started?\"\n              />\n            }\n            content={\n              <FormattedMessage\n                id=\"MM_FAQ_ItemContent4\"\n                defaultMessage=\"(in development)\"\n              />\n            }\n            onExpand={() => { feedback.marketmaking.faqOpened('What is the minimum balance needed to get started?') }}\n          />\n          <Expandable\n            title={\n              <FormattedMessage\n                id=\"MM_FAQ_ItemTitle5\"\n                defaultMessage=\"What is the minimum period of market making?\"\n              />\n            }\n            content={\n              <FormattedMessage\n                id=\"MM_FAQ_ItemContent5\"\n                defaultMessage=\"There is no minimum term, you can withdraw funds at any time.\"\n              />\n            }\n            onExpand={() => { feedback.marketmaking.faqOpened('What is the minimum period of marketmaking?') }}\n          />\n          <Expandable\n            title={\n              <FormattedMessage\n                id=\"MM_FAQ_ItemTitle6\"\n                defaultMessage=\"How to increase earnings?\"\n              />\n            }\n            content={\n              <FormattedMessage\n                id=\"MM_FAQ_ItemContent6\"\n                defaultMessage=\"Tell the communities where you are a member about the possibility of swap.\"\n              />\n            }\n            onExpand={() => { feedback.marketmaking.faqOpened('How to increase earnings?') }}\n          />\n          <Expandable\n            title={\n              <FormattedMessage\n                id=\"MM_FAQ_ImpermanentLoss\"\n                defaultMessage=\"What Impermanent Loss expected?\"\n              />\n            }\n            content={\n              <FormattedMessage\n                id=\"MM_FAQ_ImpermanentLossContent\"\n                defaultMessage=\"At any given time, the sum of these balances will be greater than before. If you want to withdraw BTC, but some of them are in {token}, then you will have to change {token} yourself, for example, through Binance exchange.\"\n                values={{\n                  token: config.binance ? 'BTCB' : 'WBTC',\n                }}\n              />\n            }\n            onExpand={() => { feedback.marketmaking.faqOpened('What Impermanent Loss expected?') }}\n          />\n        </section>\n      </div>\n    )\n  }\n\n}\n\nexport default FAQ","// extracted by mini-css-extract-plugin\nexport default {\"mm-faq-page\":\"_3lnl387Bq-WKvmtHTlMcE1\",\"section-title\":\"_1A9HTJFCJCSXOCPFeTCKzF\"};","export default __webpack_public_path__ + \"images/extensionPromoLight_490766.png\";","export default __webpack_public_path__ + \"images/extensionPromoDark_7abbf7.png\";","import React from 'react'\nimport cssModules from 'react-css-modules'\nimport { FormattedMessage } from 'react-intl'\nimport { Link } from 'react-router-dom'\nimport config from 'app-config'\n\nimport styles from './MarketmakerPromo.scss'\nimport { feedback, links, constants } from 'helpers'\nimport actions from 'redux/actions'\nimport Button from 'components/controls/Button/Button'\nimport Expandable from 'components/ui/Expandable/Expandable'\nimport FAQ from './FAQ'\nimport redirectTo from 'helpers/redirectTo'\n\nimport extensionPromoLight from './images/extensionPromoLight.png'\nimport extensionPromoDark from './images/extensionPromoDark.png'\n\nconst isDark = !!localStorage.getItem(constants.localStorage.isDark)\n\ntype ComponentState = {\n  userWallets: IUniversalObj[]\n  userTokens: string[] | []\n}\n\n@cssModules(styles, { allowMultiple: true })\nexport default class MarketmakerPromo extends React.Component<{}, ComponentState> {\n  // step3and4enabled: boolean = false\n\n  constructor(props) {\n    super(props)\n\n    const userWallets = actions.core.getWallets()\n\n    this.state = {\n      userWallets,\n      userTokens: [],\n    }\n  }\n\n  componentDidMount() {\n    const { userWallets } = this.state\n\n    feedback.marketmaking.enteredPromo()\n\n    userWallets.forEach((wallet) => {\n      if (wallet.tokenKey) {\n        this.setState((state) => ({\n          userTokens: [...state.userTokens, wallet.tokenKey],\n        }))\n      }\n    })\n  }\n\n  // onSelectBrowser() {\n  //   feedback.marketmaking.selected('browser')\n  //   if (config.binance) {\n  //     redirectTo(`${links.marketmaker}/BTCB`)\n  //   } else {\n  //     redirectTo(`${links.marketmaker}/WBTC`)\n  //   }\n  // }\n\n  // onSelectServer() {\n  //   feedback.marketmaking.selected('server')\n  //   window.open('https://github.com/swaponline/MultiCurrencyWallet/blob/master/docs/MARKETMAKER.md')\n  // }\n\n  // onSelectPool() {\n  //   feedback.marketmaking.selected('pool')\n  //   window.open('https://app.uniswap.org/#/add/0x14a52cf6b4f68431bd5d9524e4fcd6f41ce4ade9/ETH')\n  // }\n\n  // onSelectFarm() {\n  //   feedback.marketmaking.selected('farm')\n  //   redirectTo(`${links.farm}`)\n  // }\n\n  openChromeStore() {\n    feedback.marketmaking.selected('installExtension')\n    window.open('https://chrome.google.com/webstore/detail/multicurrencywallet/oldojieloelkkfeacfinhcngmbkepnlm')\n  }\n\n  render() {\n    const { userTokens } = this.state\n\n    return (\n      <div styleName=\"mm-promo-page\">\n        <section styleName=\"promoHeader\">\n          <h2 styleName=\"section-title\">\n            <FormattedMessage\n              id=\"MM_Promo_Title\"\n              defaultMessage=\"Earn interest on {utxoTitle}\"\n              values={{\n                utxoTitle: 'Bitcoin'\n              }}\n            />\n          </h2>\n          <p styleName=\"promoDescription\">\n            <FormattedMessage\n              id=\"MM_Promo_TitleBody\"\n              defaultMessage=\"On swap.io users exchange {utxoCoin} for {token} (a token that costs like {utxoCoin}, but works on {Ab_Title}), and vice versa. You get min. 10% APY (annual percentage yield) as a commission from exchanges with low impermanent loss {link}.\"\n              values={{\n                utxoCoin: 'BTC',\n                token: (config.binance) ? `BTCB` : `WBTC`,\n                Ab_Title: (config.binance) ? `Binance Smart Chain` : `Ethereum`,\n                link: <a href={links.impermanentLoss} target=\"_blank\">(?)</a>,\n              }}\n            />\n          </p>\n        </section>\n\n        <section>\n          <h2 styleName=\"section-title\">\n            <FormattedMessage\n              id=\"MM_InstallExtentionTitle\"\n              defaultMessage=\"Install Chrome extension and start earning today\"\n            />\n          </h2>\n\n          <div styleName=\"installExtensionBody\">\n            <img styleName=\"extensionPromoImg\" src={isDark ? extensionPromoDark : extensionPromoLight} alt=\"extention_promo\"/>\n            <Button brand onClick={this.openChromeStore}>\n              <FormattedMessage\n                id=\"MM_InstallExtentionBtn\"\n                defaultMessage=\"Install Chrome Extension\"\n              />\n            </Button>\n            <a\n              styleName=\"devVersionLink\"\n              target=\"_blank\"\n              href=\"https://github.com/swaponline/MultiCurrencyWallet/actions/workflows/chromeExtention.yml\"\n            >\n              <FormattedMessage\n                id=\"MM_InstallDevExtention\"\n                defaultMessage=\"Download development version\"\n              />\n            </a>\n\n            {userTokens.length ? (\n              <div styleName=\"pseudLinksWrapper\">\n                {userTokens.map((token, index) => {\n                  if (\n                    token.includes('wbtc') ||\n                    token.includes('btcb')\n                  ) {\n                    return (\n                      <Link key={index} to={`/marketmaker/${token}`} styleName=\"pseudLink\">\n                        {token.toUpperCase()}\n                      </Link>\n                    )\n                  }\n\n                  return null\n                })}\n              </div>\n            ) : null}\n          </div>\n        </section>\n\n\n        {/* <section styleName=\"select-mode\">\n          <h2 styleName=\"section-title\">\n            <FormattedMessage\n              id=\"MM_Choose_Title\"\n              defaultMessage=\"Выберите способ\"\n            />\n          </h2>\n          <div styleName=\"modes\">\n            <div styleName=\"mode\">\n              <h3 styleName=\"mode-title\">\n                <span styleName=\"number\">①</span>\n                &nbsp;&nbsp;\n                <span>\n                  <FormattedMessage\n                    id=\"MM_Choose_InBrowser_Title\"\n                    defaultMessage=\"Маркетмейкер в браузере\"\n                  />\n                </span>\n              </h3>\n              <p>\n                <FormattedMessage\n                  id=\"MM_Choose_InBrowser_Body1\"\n                  defaultMessage=\"Подходит для того, что бы попробовать.\"\n                />\n              </p>\n              <p>\n                <FormattedMessage\n                  id=\"MM_Choose_InBrowser_Body2\"\n                  defaultMessage=\"Если вы закроете браузер, вы перестанете зарабатывать.\"\n                />\n              </p>\n              <Button styleName=\"mode-button\" blue onClick={this.onSelectBrowser}>\n                <FormattedMessage\n                  id=\"MM_Choose_InBrowser_Button\"\n                  defaultMessage=\"Начать в браузере\"\n                />\n              </Button>\n            </div>\n            <div styleName=\"mode\">\n              <h3 styleName=\"mode-title\">\n                <span styleName=\"number\">②</span>\n                &nbsp;&nbsp;\n                <span>\n                  <FormattedMessage\n                    id=\"MM_Choose_Server_Title\"\n                    defaultMessage=\"Маркетмейкер-сервер\"\n                  />\n                </span>\n              </h3>\n              <p>\n                <FormattedMessage\n                  id=\"MM_Choose_Server_Body1\"\n                  defaultMessage=\"Подходит для продвинутых пользователей.\"\n                />\n              </p>\n              <p>\n                <FormattedMessage\n                  id=\"MM_Choose_Server_Body2\"\n                  defaultMessage=\"Требуется сервер для разворачивания образа Docker.\"\n                />\n              </p>\n              <Button styleName=\"mode-button\" blue onClick={this.onSelectServer}>\n               <FormattedMessage\n                  id=\"MM_Choose_Server_Button\"\n                  defaultMessage=\"Читать инструкцию\"\n                />\n              </Button>\n            </div>\n            {this.step3and4enabled && (\n              <>\n                <div styleName=\"mode\">\n                  <h3 styleName=\"mode-title\">\n                    <span styleName=\"number\">③</span>\n                    &nbsp;&nbsp;\n                    <span>\n                      <FormattedMessage\n                        id=\"MM_Choose_Uniswap_Title\"\n                        defaultMessage=\"Создайте uniswap-пул SWAP/ETH\"\n                      />\n                    </span>\n                  </h3>\n                  <p>\n                    <FormattedMessage\n                      id=\"MM_Choose_Uniswap_Body1\"\n                      defaultMessage=\"Подходит для продвинутых пользователей.\"\n                    />\n                  </p>\n                  <p>\n                    <FormattedMessage\n                      id=\"MM_Choose_Uniswap_Body2\"\n                      defaultMessage=\"Зарабатывайте когда другие продают или покупают SWAP токены.\"\n                    />\n                  </p>\n                  <Button styleName=\"mode-button\" blue onClick={this.onSelectPool}>\n                    <FormattedMessage\n                      id=\"MM_Choose_Uniswap_Button\"\n                      defaultMessage=\"Создать пул\"\n                    />\n                  </Button>\n                </div>\n\n                <div styleName=\"mode\">\n                  <h3 styleName=\"mode-title\">\n                    <span styleName=\"number\">④</span>\n                    &nbsp;&nbsp;\n                    <span>\n                      <FormattedMessage\n                        id=\"MM_Choose_Farming_Title\"\n                        defaultMessage=\"Фарминг\"\n                      />\n                    </span>\n                  </h3>\n                  <p>\n                    <FormattedMessage\n                      id=\"MM_Choose_Farming_Body1\"\n                      defaultMessage=\"Получайте дополнительную награду в SWAP токенах, заморозив LP токены.\"\n                    />\n                  </p>\n                  <Button styleName=\"mode-button\" blue onClick={this.onSelectFarm}>\n                    <FormattedMessage\n                      id=\"MM_Choose_Farming_Button\"\n                      defaultMessage=\"Начать фарминг\"\n                    />\n                  </Button>\n                </div>\n              </>\n            )}\n\n          </div>\n        </section> */}\n\n        <FAQ />\n      </div>\n    )\n  }\n\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"mm-promo-page\":\"_3ekFz0Oo45u_yBQGZ6M1A2\",\"section-title\":\"_2HtimyeFM73xSq9FZOuVnc\",\"promoHeader\":\"_3QL6_c8McMB3KRVz1FO2aN\",\"installExtensionBody\":\"_1Fe5Ims2XIznSUJbuJBmNr\",\"extensionPromoImg\":\"_1klgoXiV44cH8tZ8rElbbq\",\"devVersionLink\":\"fERmVv0yEDTa2xdonTH1U\",\"select-mode\":\"_1qfrjADCmAxf7Mwip6nba_\",\"modes\":\"_1qC4qUU_encAQ___MAMH-j\",\"mode\":\"bu-Sollpod6noRpLx_LvT\",\"mode-title\":\"_24AvgbPDq2X0JvRShw5pl_\",\"number\":\"_1Uncq-n6mRXJdpQbYIVX1\",\"mode-button\":\"Wlc5e-pCc7geZaHyJwvlV\",\"pseudLinksWrapper\":\"r7OgnM9dtkDizQA5Ytv4h\",\"pseudLink\":\"_1iOUNxfHCkj7TnNYYAhz8-\",\"promoDescription\":\"_2HBk2LoxTow2RZmaUomPJG\"};","// extracted by mini-css-extract-plugin\nexport default {\"mm-settings-page\":\"_36LEuol65AAQboDscvOJ5j\",\"promoText\":\"i7Mdyj-jp3NB_a1Sv0G_W\",\"start-here\":\"_1mdoeaBV7nJ_30jiDsfzEt\",\"wallet-required\":\"RC0QG0QcjjjTEK9H0Yd2N\",\"wallet-buttons\":\"I6-Tcomua-J0zVlhj-gPe\",\"controls-loader\":\"_3xRZF3RuaZWaeco0loLdgp\",\"wallet-button\":\"_1lRSCwcS0fLp6eySmkEWD_\",\"section-items\":\"_3l2FufUX9PblF8lUVXNXGy\",\"section-items__item\":\"_39jdkxDO9xudNySob9Ub9E\",\"item-text__secondary-title\":\"_3hTopUvqzd1d7ob3tfW87m\",\"item-text__secondary\":\"_1-z7H2cIEhoQ8RKFyFnJMO\",\"tooltipText\":\"_1z5l6kH6gjm79eeIJ6m9aa\",\"balanceSecondary\":\"_3ca1DL53-WkCzuWWC5ZOZ2\",\"balancePrimary\":\"_116rVUkx0ROQsszOo4drcF\",\"section-title\":\"gWNl8-G0o27Z3XPbFVUfR\",\"mm-toggle\":\"_18v-IqBfQoXU3LR3Wpszec\",\"mm-toggle__text\":\"_3AJVZEIjQ10nO4yrlg5cnq\",\"mm-toggle__switch\":\"_2ZlI7cy4OwH9tPbWjBCHqh\",\"history\":\"-utg3rbIU9v9D_JpY7sYm\",\"historyHeading\":\"_2wFIWp8cBHP6tSe-hM4JeC\",\"historyLoader\":\"_3JzXJlg1rjSw0Kc2Rs3ojj\",\"swapHistory\":\"D4FnzLqX7NcB5DCLlMgg0\",\"iconPosition\":\"_2dl3B4FjZWHHNw-2j-6se2\",\"iconTooltip\":\"_1f7vQYP2Ixxc6jqRFyWl0f\"};","// extracted by mini-css-extract-plugin\nexport default {\"userTooltip\":\"_2hI7O_VALGj2Jr88Lm8_Ve\",\"delete\":\"_1i9uqb4FlkkxzgsyQKbtWz\",\"currency\":\"_1OZEdSdlYYHd6Fk3zh5Ogm\",\"coin\":\"U41lI4S3TI380rGIIZO7x\",\"buy\":\"w07BtJ_MGapEf7erRzc3g\",\"sell\":\"OSP4rsFjeiOXc0P6rubkI\",\"buttons\":\"_2GdRXyZjzNkrCAxQvllG_o\",\"arrow\":\"_3WHlCvqhIdAZCeKXV7slUv\",\"statusFinished\":\"I69gX8JZVHXv9jzxcQr35\",\"statusRefunded\":\"_3Th2EvVnwtdx6Rvo8cQag_\",\"statusStopped\":\"_1rJUQhgw3hfukiN1r-ttyA\",\"refundStatus\":\"_3FJBTXSB0pq5T281i1_nvz\"};","import React, { Fragment, Component } from 'react'\nimport moment from 'moment/moment'\nimport cx from 'classnames'\n\nimport { links, localStorage } from 'helpers'\nimport actions from 'redux/actions'\nimport { Link } from 'react-router-dom'\n\nimport CSSModules from 'react-css-modules'\nimport styles from './SwapRow.scss'\n\nimport Timer from 'pages/Swap/Timer/Timer'\nimport { FormattedMessage, injectIntl } from 'react-intl'\nimport BigNumber from 'bignumber.js'\n\nimport SwapApp from 'swap.app'\n\n\ninterface SwapRowProps {\n  row: any\n  swapState: any\n  extractSwapStatus: Function\n  intl: any\n}\n\n@CSSModules(styles, { allowMultiple: true })\nclass SwapRow extends Component<any, any> {\n  _mounted = true\n  _handleSwapEnterStep = null\n\n  constructor(props: SwapRowProps) {\n    super(props)\n\n    const {\n      row: swapState,\n    } = props\n\n    this._handleSwapEnterStep = this.onSwapEnterStep.bind(this)\n    this.state = {\n      swapState,\n    }\n  }\n\n  tryRefund = (timeLeft) => {\n    /*\n    const {\n      row: { id },\n    } = this.props\n\n    if (timeLeft > 0) {\n      return\n    }\n\n    try {\n      const { flow } = actions.core.getSwapById(id)\n\n      const {\n        state: { isFinished, isRefunded, step, scriptBalance, isEthContractFunded },\n        swap: { sellCurrency },\n      } = flow\n      let isPayed = 5,\n        isEmptyBalance = false\n      if (sellCurrency === 'BTC') {\n        isPayed = sellCurrency === 'BTC' ? 4 : 5\n        isEmptyBalance = sellCurrency === 'BTC' ? scriptBalance === 0 : !isEthContractFunded\n      }\n\n      if (sellCurrency === 'GHOST') {\n        isPayed = sellCurrency === 'GHOST' ? 4 : 5\n        isEmptyBalance = sellCurrency === 'GHOST' ? scriptBalance === 0 : !isEthContractFunded\n      }\n\n      if (sellCurrency === 'NEXT') {\n        isPayed = sellCurrency === 'NEXT' ? 4 : 5\n        isEmptyBalance = sellCurrency === 'NEXT' ? scriptBalance === 0 : !isEthContractFunded\n      }\n\n      if (isFinished || isRefunded || (step === isPayed && isEmptyBalance)) {\n        console.error(`Refund of swap ${id} is not available`)\n        return\n      }\n\n      flow.tryRefund().then((result) => {\n        console.log('refunded', result)\n      })\n    } catch (err) {\n      console.error(`RefundError`, err)\n    }\n    */\n  }\n\n  onSwapEnterStep(data) {\n    if (!this._mounted) return\n\n    const {\n      swap,\n      swap: {\n        id: swapId,\n      }\n    } = data\n    const {\n      swapState: {\n        id: mySwapId,\n      }\n    } = this.state\n    if (mySwapId === swapId) {\n      console.log('>>> ON ENTER MY SWAP STEP')\n      this.setState({\n        swapState: this.props.extractSwapStatus(swap),\n      })\n    }\n  }\n\n  getSwapStatusText = (isFinished: boolean, isRefunded: boolean, isStoppedSwap: boolean) => {\n    if (isFinished) {\n      return <FormattedMessage id=\"RowHistory94\" defaultMessage=\"Finished\" />\n    }\n    if (isRefunded) {\n      return <FormattedMessage id=\"RowHistory77\" defaultMessage=\"Refunded\" />\n    }\n    if (isStoppedSwap) {\n      return <FormattedMessage id=\"RowHistory139\" defaultMessage=\"Stopped\" />\n    }\n\n    return ''\n  }\n\n  componentDidMount() {\n    /*\n    const {\n      utxoScriptValues: values,\n    } = this.props.row\n\n    if (!values) return\n\n    const lockTime = values.lockTime * 1000\n\n    const timeLeft = lockTime - Date.now()\n\n    this.tryRefund(timeLeft)\n    */\n    \n    const {\n      row: {\n        isFinished,\n        isRefunded,\n        isStoppedSwap,\n        isSwapTimeout,\n        id,\n      },\n    } = this.props\n\n    if (!isFinished && !isRefunded && !isStoppedSwap && !isSwapTimeout) {\n      //@ts-ignore: strictNullChecks\n      SwapApp.shared().on('swap enter step', this._handleSwapEnterStep)\n    }\n  }\n\n  componentWillUnmount() {\n    console.log('History unmounted')\n    this._mounted = false\n    //@ts-ignore: strictNullChecks\n    SwapApp.shared().off('swap enter step', this._handleSwapEnterStep)\n  }\n\n  render() {\n    const {\n      row: swapId,\n      intl: { locale },\n    } = this.props\n\n    const {\n      swapState,\n    } = this.state\n\n    let {\n      buyAmount,\n      buyCurrency,\n      sellAmount,\n      utxoScriptValues: values,\n      scriptBalance,\n      isRefunded,\n      isMy,\n      isTurbo,\n      sellCurrency,\n      isFinished,\n      isSwapTimeout,\n      id,\n      scriptValues,\n      isStoppedSwap,\n      step,\n    } = swapState\n\n    if (step <=1 && isSwapTimeout) return null\n\n    const canBeRefunded = values && scriptBalance > 0\n    const isDeletedSwap = isFinished || isRefunded\n\n    const date = Date.now() / 1000\n\n    let lockDateAndTime = null\n    if (values) {\n      //@ts-ignore: strictNullChecks\n      lockDateAndTime = moment.unix(values.lockTime || date).format('HH:mm:ss DD/MM/YYYY')\n    }\n\n    const swapUri = isTurbo ?\n      `${links.turboSwap}/${id}`\n      :\n      `${links.atomicSwap}/${id}`\n\n    buyAmount = new BigNumber(buyAmount)\n    sellAmount = new BigNumber(sellAmount)\n\n    return (\n      <tr key={id}>\n        {step <= 1 && (\n          <Fragment>\n            <td colSpan={6}>\n              prepare swap\n            </td>\n          </Fragment>\n        )}\n        {step > 1 && (\n          <Fragment>\n            <td>\n              {isMy\n                ? `${sellAmount.toFixed(5)} ${sellCurrency.toUpperCase()}`\n                : `${buyAmount.toFixed(5)} ${buyCurrency.toUpperCase()}`}\n            </td>\n            <td>\n              {step}\n            </td>\n            <td>\n              {isMy\n                ? `${buyAmount.toFixed(5)} ${buyCurrency.toUpperCase()}`\n                : `${sellAmount.toFixed(5)} ${sellCurrency.toUpperCase()}`}\n            </td>\n            <td>\n              {(lockDateAndTime !== null) && (\n                <Fragment>\n                  {/* @ts-ignore: strictNullChecks */}\n                  {lockDateAndTime.split(' ').map((item, key) => (\n                    <Fragment key={key}> {item}</Fragment>\n                  ))}\n                </Fragment>\n              )}\n            </td>\n            <td>\n              <div\n                className={cx({\n                  [styles.statusFinished]: isFinished,\n                  [styles.statusRefunded]: isRefunded,\n                  [styles.statusStopped]: !isFinished && !isRefunded && isStoppedSwap,\n                })}\n              >\n                {this.getSwapStatusText(isFinished, isRefunded, isStoppedSwap)}\n\n                {!isDeletedSwap && (\n                  <div styleName=\"refundStatus\">\n                    {canBeRefunded ? (\n                      <Timer lockTime={values.lockTime * 1000} enabledButton={this.tryRefund} />\n                    ) : (\n                      <FormattedMessage id=\"RowHistory76\" defaultMessage=\"Refund not available\" />\n                    )}\n                  </div>\n                )}\n              </div>\n            </td>\n            <td>\n              <Link to={swapUri}>\n                <FormattedMessage id=\"RowHistory91\" defaultMessage=\"Link\" />\n              </Link>\n            </td>\n          </Fragment>\n        )}\n      </tr>\n    )\n  }\n}\n\nexport default injectIntl(SwapRow)\n","export default __webpack_public_path__ + \"images/btcIcon_d910f3.svg\";","export default __webpack_public_path__ + \"images/wbtcIcon_ef8a2e.svg\";","import React, { Component } from 'react'\nimport CSSModules from 'react-css-modules'\n\nimport { BigNumber } from 'bignumber.js'\n\nimport actions from 'redux/actions'\nimport SwapApp from 'swap.app'\nimport Swap from 'swap.swap'\n\nimport { constants, links, feedback } from 'helpers'\nimport config from 'helpers/externalConfig'\n\nimport styles from './MarketmakerSettings.scss'\n\nimport { FormattedMessage, injectIntl } from 'react-intl'\n\nimport SwapRow from './SwapRow'\nimport FAQ from './FAQ'\n\nimport Toggle from 'components/controls/Toggle/Toggle'\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\n\nimport btc from './images/btcIcon.svg'\nimport wbtc from './images/wbtcIcon.svg'\n\nimport metamask from 'helpers/metamask'\nimport { Button } from 'components/controls'\n\nimport { AddressType, AddressFormat } from 'domain/address'\nimport Address from 'components/ui/Address/Address'\n\n@CSSModules(styles, { allowMultiple: true })\nclass MarketmakerSettings extends Component<any, any> {\n  _mounted = true\n  _handleSwapAttachedHandle = null\n  _handleSwapEnterStep = null\n  _metamaskEnabled = false\n\n  constructor(props) {\n    super(props)\n\n    const {\n      match: {\n        params: {\n          token: marketToken = \"{eth}usdt\",\n          utxoCoin = 'btc'\n        }\n      }\n    } = props\n\n    const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\n    const mnemonicSaved = (mnemonic === `-`)\n    const isWalletCreated = localStorage.getItem(constants.localStorage.isWalletCreate)\n\n    this._handleSwapAttachedHandle = this.onSwapAttachedHandle.bind(this)\n    this._handleSwapEnterStep = this.onSwapEnterStep.bind(this)\n\n\n    this.state = {\n      swapsIds: [],\n      swapsByIds: {},\n      marketToken,\n      utxoCoin,\n      utxoWallet: null,\n      utxoBalance: 0,\n      tokenWallet: null,\n      tokenBalance: 0,\n      ethBalance: 0,\n      isBalanceFetching: true,\n      isWalletCreated,\n      isFirstFetchin: true,\n      isMarketEnabled: false,\n      isEthBalanceOk: false,\n      isUtxoBalanceOk: false,\n      isTokenBalanceOk: false,\n      marketSpread: 0, // 0% spread\n      mnemonicSaved,\n    }\n  }\n\n  extractSwapStatus(swap) {\n    const {\n      id,\n      isMy,\n      isTurbo,\n      buyCurrency,\n      sellCurrency,\n      buyAmount,\n      sellAmount,\n      createUnixTimeStamp,\n      buyBlockchain,\n      sellBlockchain,\n      flow: {\n        state,\n      },\n    } = swap\n    return {\n      id,\n      isMy,\n      buyCurrency,\n      sellCurrency,\n      buyAmount,\n      sellAmount,\n      createUnixTimeStamp,\n      buyBlockchain,\n      sellBlockchain,\n      ...state,\n    }\n  }\n\n  fetchWalletsWithBalances() {\n    const {\n      marketToken,\n      utxoCoin,\n      isBalanceFetching,\n      isFirstFetchin,\n    } = this.state\n\n    if (!this._mounted) return\n\n    if (isBalanceFetching && !isFirstFetchin) {\n      // Если в данный момент идет запрос баланса. ничего не делаем\n      // вызываем функуцию повторно через несколько секунд\n      // такое может произойти, если пользователь меняет быстро код токена в адресной строке\n      // может быть запушен процес запроса баланса для предыдущего токена из адресной строки\n      return setTimeout(() => {\n        this.fetchWalletsWithBalances()\n      }, 2000)\n    }\n    this.setState({\n      isBalanceFetching: true,\n      isFirstFetchin: false,\n    }, () => {\n      const utxoWallet = actions.core.getWallet({ currency: utxoCoin })\n\n      const tokenWallet = actions.core.getWallet({\n        currency: marketToken,\n        connected: true,\n        addressType: AddressType.Metamask\n      })\n      if (!tokenWallet) {\n        this.setState({\n          isBalanceFetching: false,\n        }, () => {\n          return setTimeout(() => {\n            this.fetchWalletsWithBalances()\n          }, 2000)\n        })\n        return\n      }\n\n      const evmCoinWallet = actions.core.getWallet({\n        currency: tokenWallet.blockchain,\n        connected: true,\n        addressType: AddressType.Metamask\n      })\n\n      this.setState({\n        utxoWallet,\n        evmCoinWallet,\n        tokenWallet,\n      }, async () => {\n        const utxoBalance = await actions.core.fetchWalletBalance(utxoWallet)\n        const ethBalance = await actions.core.fetchWalletBalance(evmCoinWallet)\n        const tokenBalance = await actions.core.fetchWalletBalance(tokenWallet)\n\n        // Запрос баланса асинхронный. За это время пользователь мог уже перейти на другую страницу\n        // Обновляем стейт только если мы находимся в этом компоненте\n        if (this._mounted) {\n          this.setState({\n            utxoBalance,\n            ethBalance,\n            tokenBalance,\n            isBalanceFetching: false\n          })\n        }\n      })\n    })\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      match: {\n        params: {\n          token: prevMarketToken = '{eth}usdt',\n          utxoCoin: prevUtxoCoin = 'btc'\n        },\n      },\n    } = prevProps\n\n    const {\n      match: {\n        params: {\n          token: marketToken = '{eth}usdt',\n          utxoCoin = 'btc'\n        }\n      }\n    } = this.props\n    const { mnemonicSaved } = this.state\n\n    if (\n      mnemonicSaved &&\n      prevMarketToken.toLowerCase() !== marketToken.toLowerCase()\n    ) {\n      this.setState({\n        marketToken,\n        tokenBalance: 0,\n        tokenWallet: null,\n      }, () => {\n        this.fetchWalletsWithBalances()\n      })\n    }\n    if (\n      mnemonicSaved &&\n      prevUtxoCoin.toLowerCase() !== utxoCoin.toLowerCase()\n    ) {\n      this.setState({\n        utxoCoin,\n        utxoBalance: 0,\n        utxoWallet: null,\n      }, () => {\n        this.fetchWalletsWithBalances()\n      })\n    }\n  }\n\n  async componentDidMount() {\n    const { mnemonicSaved } = this.state\n\n    SwapApp.onInit(() => {\n      //@ts-ignore: strictNullChecks\n      let isMarketEnabled = (SwapApp.shared().services.orders.getMyOrders().length > 0)\n\n      if (isMarketEnabled && metamask.isConnected()) {\n        isMarketEnabled = false\n        this.cleanupMarketMakerOrder()\n        actions.notifications.show(constants.notifications.Message, {\n          message: (\n            <FormattedMessage\n              id=\"MM_TurnOffMarketmaking\"\n              defaultMessage=\"Marketmaking disabled because of your external wallet is connected\"\n            />\n          ),\n        })\n        feedback.marketmaking.disabled('User connected to external wallet')\n      }\n\n      const swapsIds = []\n      const swapsByIds = {}\n\n      this.fetchWalletsWithBalances()\n      //@ts-ignore: strictNullChecks\n      const lsSwapId = JSON.parse(localStorage.getItem('swapId'))\n\n      if (!(lsSwapId === null || lsSwapId.length === 0)) {\n        const swapsCore = lsSwapId.map((id) => {\n          try {\n            return new Swap(id, SwapApp.shared())\n          } catch (e) {}\n        })\n      }\n\n      //@ts-ignore: strictNullChecks\n      SwapApp.shared().attachedSwaps.items.forEach((swap) => {\n        if (swap && swap.flow) {\n          const swapState = this.extractSwapStatus(swap)\n          //@ts-ignore: strictNullChecks\n          swapsIds.push(swapState.id)\n          swapsByIds[swapState.id] = swapState\n        }\n      })\n\n      //@ts-ignore: strictNullChecks\n      SwapApp.shared().on('swap attached', this._handleSwapAttachedHandle)\n      //@ts-ignore: strictNullChecks\n      SwapApp.shared().on('swap enter step', this._handleSwapEnterStep)\n\n      this.setState({\n        swapsIds,\n        swapsByIds,\n        isMarketEnabled,\n      })\n    })\n    feedback.marketmaking.enteredSettings()\n  }\n\n  onSwapEnterStep(data) {\n    if (!this._mounted) return\n\n    const { swap } = data\n    const swapState = this.extractSwapStatus(swap)\n    const {\n      swapsByIds,\n    } = this.state\n    swapsByIds[swapState.id] = swapState\n    this.setState({\n      swapsByIds,\n    })\n  }\n\n  onSwapAttachedHandle(data) {\n    if (!this._mounted) return\n    const {\n      swap,\n    } = data\n\n    const {\n      swapsIds,\n      swapsByIds,\n    } = this.state\n\n    if (!swapsByIds[swap.id]) {\n      const swapState = this.extractSwapStatus(swap)\n      swapsIds.push(swapState.id)\n      swapsByIds[swapState.id] = swapState\n      this.setState({\n        swapsIds,\n        swapsByIds,\n      })\n    }\n  }\n\n  async componentWillUnmount() {\n    const { mnemonicSaved } = this.state\n\n    this._mounted = false\n\n    if (mnemonicSaved) {\n      //@ts-ignore: strictNullChecks\n      SwapApp.shared().off('swap attached', this._handleSwapAttachedHandle)\n      //@ts-ignore: strictNullChecks\n      SwapApp.shared().off('swap enter step', this._handleSwapEnterStep)\n    }\n  }\n\n  handleCreateWallet = () => {\n    const {\n      history,\n      match: {\n        params: {\n          utxoCoin = 'btc'\n        }\n      }\n    } = this.props\n\n    history.push(`${links.createWallet}/${utxoCoin.toUpperCase()}`)\n  }\n\n  handleSaveMnemonic = () => {\n    actions.modals.open(constants.modals.SaveMnemonicModal, {\n      onClose: () => {\n        const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\n        const mnemonicSaved = (mnemonic === `-`)\n\n        this.setState(() => ({\n          mnemonicSaved,\n        }))\n      }\n    })\n  }\n\n  handleRestoreMnemonic() {\n    actions.modals.open(constants.modals.RestoryMnemonicWallet, {\n      noRedirect: true,\n      onClose: () => { window.location.reload() }\n    })\n  }\n\n  handleToggleMarketmaker() {\n    const { isMarketEnabled } = this.state\n\n    const {\n      ethBalance,\n      utxoBalance,\n      tokenBalance,\n      evmCoinWallet,\n      tokenWallet,\n      utxoCoin,\n    } = this.state\n\n    const isEthBalanceOk = new BigNumber(ethBalance).isGreaterThanOrEqualTo(0.02)\n    const isTokenBalanceOk = new BigNumber(tokenBalance).isGreaterThan(0)\n    const isUtxoBalanceOk = new BigNumber(utxoBalance).isGreaterThan(0)\n\n    let hasError = false\n\n    if (metamask.isConnected()) {\n      hasError = true\n      actions.modals.open(constants.modals.AlertModal, {\n        message: (\n          <FormattedMessage\n            id=\"MM_DisconnectExternalWallet\"\n            defaultMessage=\"Marketmakig works only with internal wallet. Please disconnnect external wallet\"\n          />\n        ),\n        labelOk: (\n          <FormattedMessage\n              id=\"MetamaskDisconnect\"\n              defaultMessage=\"Disconnect wallet\"\n            />\n        ),\n        canClose: true,\n        onClose: () => {\n          metamask.disconnect()\n          actions.modals.close(constants.modals.AlertModal)\n        }\n      })\n      feedback.marketmaking.prevented(`Tried to enable mm with connected external wallet `)\n    }\n    if (!isEthBalanceOk) {\n      hasError = true\n      const AB_Coin = evmCoinWallet.currency.toUpperCase()\n      //@ts-ignore: strictNullChecks\n      actions.modals.open(constants.modals.AlertModal, {\n        message: (\n          <FormattedMessage\n            id=\"MM_NotEnoughtEth\"\n            defaultMessage=\"Not enough {AB_Coin} to pay the miners commission. You need to have at least 0.02 {AB_Coin}\"\n            values={{\n              AB_Coin,\n            }}\n          />\n        ),\n      })\n      feedback.marketmaking.prevented(`Not enough ${AB_Coin}`)\n    }\n    if (!isTokenBalanceOk && !isUtxoBalanceOk) {\n      hasError = true\n      const token = tokenWallet.tokenKey.toUpperCase()\n      actions.modals.open(constants.modals.AlertModal, {\n        message: (\n          <FormattedMessage\n            id=\"MM_NotEnoughCoins\"\n            defaultMessage=\"Insufficient funds. You need to top up your {utxoCoin} or {token}\"\n            values={{\n              token,\n              utxoCoin: utxoCoin.toUpperCase()\n            }}\n          />\n        ),\n      })\n      feedback.marketmaking.prevented(`Not enough ${utxoCoin} or ${token}`)\n    }\n    if (!hasError) {\n      this.setState({\n        isMarketEnabled: !isMarketEnabled,\n        isUtxoBalanceOk,\n        isEthBalanceOk,\n        isTokenBalanceOk\n      }, () => {\n        if (!isMarketEnabled) {\n          // New state - On\n          this.createMakerMakerOrder()\n          feedback.marketmaking.enabled()\n        } else {\n          // New state - Off\n          this.cleanupMarketMakerOrder()\n          feedback.marketmaking.disabled()\n        }\n      })\n    } else {\n      this.setState({\n        isMarketEnabled: false\n      })\n    }\n  }\n\n  cleanupMarketMakerOrder() {\n    //@ts-ignore: strictNullChecks\n    SwapApp.shared().services.orders.getMyOrders().forEach((order) => {\n      //@ts-ignore: strictNullChecks\n      SwapApp.shared().services.orders.remove(order.id)\n    })\n  }\n\n  createMakerMakerOrder() {\n    // clear old orders\n    this.cleanupMarketMakerOrder()\n    const {\n      tokenBalance,\n      tokenWallet,\n      ethBalance,\n      isTokenBalanceOk,\n      utxoCoin,\n      utxoBalance,\n      isUtxoBalanceOk,\n      marketSpread,\n    } = this.state\n\n    /*\n           / 100 - spread[%] \\\n  price * |  –––––––––––––––  |\n           \\       100       /\n    */\n    if (isTokenBalanceOk) {\n      const sellTokenExchangeRate =\n        new BigNumber(100).minus(\n          new BigNumber(100).times(marketSpread)\n        ).dividedBy(100).toNumber()\n\n      const sellAmount = new BigNumber(tokenBalance).times(sellTokenExchangeRate).toNumber()\n\n      const sellTokenOrderData = {\n        balance: tokenBalance,\n        buyAmount: tokenBalance,\n        ethBalance,\n        exchangeRate: sellTokenExchangeRate,\n        isPartial: true,\n        isSending: true,\n        isTokenBuy: false,\n        isTokenSell: true,\n        isTurbo: false,\n        manualRate: true,\n        minimalestAmountForBuy: 0.00038906,\n        minimalestAmountForSell: 0.00038906,\n        sellAmount,\n        buyCurrency: utxoCoin.toUpperCase(),\n        buyBlockchain: ``,\n        sellCurrency: tokenWallet.tokenKey.toUpperCase(),\n        sellBlockchain: tokenWallet.blockchain.toUpperCase(),\n      }\n      console.log(sellTokenOrderData)\n      //@ts-ignore: strictNullChecks\n      const sellOrder = SwapApp.shared().services.orders.create(sellTokenOrderData)\n      console.log('sellOrder', sellOrder)\n      actions.core.setupPartialOrder(sellOrder)\n    }\n    if (isUtxoBalanceOk) {\n      const buyTokenExchangeRate =\n        new BigNumber(100).plus(\n          new BigNumber(100).times(marketSpread)\n        ).dividedBy(100).toNumber()\n\n      const buyAmount = new BigNumber(utxoBalance).times(buyTokenExchangeRate).toNumber()\n\n      const buyTokenOrderData = {\n        balance: utxoBalance,\n        sellAmount: utxoBalance,\n        ethBalance,\n        exchangeRate: buyTokenExchangeRate,\n        isPartial: true,\n        isSending: true,\n        isTokenBuy: true,\n        isTokenSell: false,\n        isTurbo: false,\n        manualRate: true,\n        minimalestAmountForBuy: 0.00038906,\n        minimalestAmountForSell: 0.00038906,\n        buyAmount,\n        sellCurrency: utxoCoin,\n        sellBlockchain: ``,\n        buyCurrency: tokenWallet.tokenKey.toUpperCase(),\n        buyBlockchain: tokenWallet.blockchain.toUpperCase(),\n      }\n      console.log(buyTokenOrderData)\n      //@ts-ignore: strictNullChecks\n      const buyOrder = SwapApp.shared().services.orders.create(buyTokenOrderData)\n      console.log('buyOrder', buyOrder)\n      actions.core.setupPartialOrder(buyOrder)\n    }\n  }\n\n  processDisconnectWallet() {\n    metamask.handleDisconnectWallet(() => {\n      this.fetchWalletsWithBalances()\n    })\n  }\n\n  processConnectWallet() {\n    metamask.handleConnectMetamask({\n      dontRedirect: true,\n      // @ts-ignore\n      cbFunction: (isConnected) => {\n        if (isConnected) {\n          this.fetchWalletsWithBalances()\n        }\n      },\n    })\n  }\n\n  render() {\n    const {\n      swapsIds,\n      swapsByIds,\n      utxoWallet,\n      utxoCoin,\n      utxoBalance,\n      evmCoinWallet,\n      tokenWallet,\n      tokenBalance,\n      ethBalance,\n      isBalanceFetching,\n      isMarketEnabled,\n      isWalletCreated,\n      mnemonicSaved,\n    } = this.state\n\n    const totalBalance = new BigNumber(utxoBalance).plus(tokenBalance).toNumber()\n\n    const sortedSwaps = swapsIds.sort((aId, bId) => {\n      return swapsByIds[bId].createUnixTimeStamp - swapsByIds[aId].createUnixTimeStamp\n    })\n    return (\n      <div styleName=\"mm-settings-page\">\n        <div styleName=\"promoText\">\n          <h2>\n            <FormattedMessage\n              id=\"MM_Promo_Title\"\n              defaultMessage=\"Earn interest on {utxoTitle}\"\n              values={{\n                utxoTitle: utxoWallet?.fullName || 'Bitcoin'\n              }}\n            />\n          </h2>\n          <p>\n            {tokenWallet && evmCoinWallet && (\n              <FormattedMessage\n                id=\"MM_Promo_TitleBody\"\n                defaultMessage=\"On swap.io users exchange {utxoCoin} for {token} (a token that costs like {utxoCoin}, but works on {Ab_Title}), and vice versa. You get min. 10% APY (annual percentage yield) as a commission from exchanges with low impermanent loss {link}.\"\n                values={{\n                  utxoCoin: utxoCoin.toUpperCase(),\n                  token: tokenWallet.tokenKey.toUpperCase(),\n                  Ab_Title: evmCoinWallet.fullName,\n                  link: <a href={links.impermanentLoss} target=\"_blank\">(?)</a>,\n                }}\n              />\n            )}\n          </p>\n        </div>\n\n        <section>\n        {!mnemonicSaved && (\n          <>\n            <h3 styleName=\"start-here\">\n              <FormattedMessage\n                id=\"MM_StartHere\"\n                defaultMessage=\"Start marketmaking here\"\n              />\n            </h3>\n            <p styleName=\"wallet-required\">\n              <FormattedMessage\n                id=\"MM_Wallet_Required\"\n                defaultMessage=\"A hot wallet is required to launch marketmaking ({utxoCoin}, {AB_Coin}, {token}).\"\n                values={{\n                  utxoCoin: utxoCoin.toUpperCase(),\n                  token: tokenWallet?.currency?.toUpperCase(),\n                  AB_Coin: evmCoinWallet?.currency?.toUpperCase(),\n                }}\n              />\n            </p>\n            <div styleName='wallet-buttons'>\n              {isWalletCreated ? (\n                <div styleName='wallet-button'>\n                  <Button blue onClick={this.handleSaveMnemonic}>\n                    <FormattedMessage\n                      id=\"BTCMS_SaveMnemonicButton\"\n                      defaultMessage=\"Save secret phrase\"\n                    />\n                  </Button>\n                </div>\n              ) : (\n                <div styleName='wallet-button'>\n                  <Button blue onClick={this.handleCreateWallet}>\n                    <FormattedMessage\n                      id=\"menu.CreateWallet\"\n                      defaultMessage=\"Create wallet\"\n                    />\n                  </Button>\n                </div>\n              )}\n              <div styleName='wallet-button'>\n                <Button blue onClick={this.handleRestoreMnemonic.bind(this)}>\n                  <FormattedMessage\n                    id=\"MM_Wallet_Restore\"\n                    defaultMessage=\"Restore from 12-word seed\"\n                  />\n                </Button>\n              </div>\n            </div>\n          </>\n        )}\n        {!isBalanceFetching && tokenWallet && mnemonicSaved ? (\n          <div styleName={`section-items`}>\n            <div styleName='section-items__item' style={{ zIndex: 2 }}> {/* zIndex need for Tooltip */}\n              <div styleName={`mm-toggle`}>\n                <p styleName='mm-toggle__text'>\n                  <FormattedMessage\n                    id=\"MM_ToggleText\"\n                    defaultMessage=\"Marketmaking {utxoCoin}/{token}\"\n                    values={{\n                      utxoCoin: utxoCoin.toUpperCase(),\n                      token: tokenWallet.tokenKey.toUpperCase(),\n                    }}\n                  />\n                </p>\n                <span styleName='mm-toggle__switch'>\n                  <Toggle checked={isMarketEnabled} onChange={this.handleToggleMarketmaker.bind(this)} />\n                </span>\n              </div>\n              <p styleName='item-text__secondary'>\n                {isMarketEnabled ? (\n                  <FormattedMessage\n                    id=\"MM_ToggleTextEnabled\"\n                    defaultMessage=\"You must be online all the time, otherwise your will not earn\"\n                  />\n                ) : (\n                  <FormattedMessage\n                    id=\"MM_ToggleTextDisabled\"\n                    defaultMessage=\"Turn on this toggle to start earn\"\n                  />\n                )}\n              </p>\n              <div styleName='item-text__secondary'>\n                <FormattedMessage\n                  id=\"MMPercentEarn\"\n                  defaultMessage=\"You will earn 0.5% from each swap\"\n                />\n                {' '}\n                <Tooltip id=\"FullEarnDiscription\">\n                  <span styleName=\"tooltipText\">\n                    <FormattedMessage\n                      id=\"MM_Promo_TitleBody\"\n                      defaultMessage=\"On swap.io users exchange {utxoCoin} for {token} (a token that costs like {utxoCoin}, but works on {Ab_Title}), and vice versa. You get min. 10% APY (annual percentage yield) as a commission from exchanges with low impermanent loss {link}.\"\n                      values={{\n                        utxoCoin: utxoCoin.toUpperCase(),\n                        token: tokenWallet.tokenKey.toUpperCase(),\n                        Ab_Title: evmCoinWallet.fullName,\n                        link: <a href={links.impermanentLoss} target=\"_blank\">(?)</a>,\n                      }}\n                    />\n                  </span>\n                </Tooltip>\n              </div>\n            </div>\n            <div styleName='section-items__item'>\n              <h2 styleName='item-text__secondary-title'>\n                <FormattedMessage\n                  id=\"MM_TotalEarned\"\n                  defaultMessage=\"Total earned:\"\n                />\n              </h2>\n              <p>\n                <span styleName='balancePrimary'>\n                  0\n                </span>\n                {' '}\n                <span styleName='item-text__secondary'>\n                  <FormattedMessage\n                    id=\"MM_MarketmakingSimbols\"\n                    defaultMessage=\"{token} + {utxoCoin}\"\n                    values={{\n                      utxoCoin: utxoCoin.toUpperCase(),\n                      token: tokenWallet.tokenKey.toUpperCase(),\n                    }}\n                  />\n                </span>\n              </p>\n              <hr />\n              <h2 styleName='item-text__secondary-title'>\n                <FormattedMessage\n                  id=\"MM_MarketmakingBalanceTitle\"\n                  defaultMessage=\"Marketmaking Balance:\"\n                />\n              </h2>\n              <p>\n                <span styleName='balancePrimary'>\n                {isMarketEnabled ? (\n                  totalBalance\n                ) : (\n                  '0'\n                )}\n                </span>\n                {' '}\n                <span styleName='item-text__secondary'>\n                  <FormattedMessage\n                    id=\"MM_MarketmakingSimbols\"\n                    defaultMessage=\"{token} + {utxoCoin}\"\n                    values={{\n                      utxoCoin: utxoCoin.toUpperCase(),\n                      token: tokenWallet.tokenKey.toUpperCase(),\n                    }}\n                  />\n                </span>\n              </p>\n            </div>\n            {(true) && (\n              <>\n                <div styleName='section-items__item'>\n                  {utxoWallet ? (\n                      <>\n                        <h2 styleName='item-text__secondary-title'>\n                          <FormattedMessage\n                            id=\"MM_BTCBalance\"\n                            defaultMessage=\"Balance {utxoCoin}:\"\n                            values={{\n                              utxoCoin: utxoCoin.toUpperCase(),\n                            }}\n                          />\n                        </h2>\n                        <p>\n                          {utxoCoin === 'btc' && (\n                            <>\n                              <img src={btc} alt=\"btc\" />\n                              {' '}\n                            </>\n                          )}\n                          <span id='btcBalance' styleName='balanceSecondary'>{utxoBalance}</span>\n                        </p>\n                        <hr />\n                        <p styleName='item-text__secondary'>\n                          <FormattedMessage\n                            id=\"MM_DepositeWallet\"\n                            defaultMessage=\"to top up, transfer to\"\n                          />\n                          <br />\n                          <Address address={utxoWallet.address} format={AddressFormat.Full} />\n                        </p>\n                      </>\n                    ) : (\n                      <>\n                        <h2 styleName='item-text__secondary-title'>\n                          <FormattedMessage\n                            id=\"MM_BTCBalance\"\n                            defaultMessage=\"Balance {utxoCoin}:\"\n                            values={{\n                              utxoCoin: utxoCoin.toUpperCase()\n                            }}\n                          />\n                        </h2>\n                        <p>\n                          {utxoCoin === 'btc' && (\n                            <>\n                              <img src={btc} alt=\"btc\" />\n                              {' '}\n                            </>\n                          )}\n                          <span id='btcBalance' styleName='balanceSecondary'>{utxoBalance}</span>\n                        </p>\n                      </>\n                    )\n                  }\n                </div>\n                <div styleName='section-items__item'>\n                  <h2 styleName='item-text__secondary-title'>\n                    <FormattedMessage\n                      id=\"MM_TokenBalance\"\n                      defaultMessage=\"Balance {token}:\"\n                      values={{\n                        token: tokenWallet.tokenKey.toUpperCase(),\n                      }}\n                    />\n                  </h2>\n                  <div>\n                    {utxoCoin === 'btc' && (\n                      <>\n                        {config.binance ? (\n                          <img src={btc} alt=\"btcb\" />\n                        ): (\n                          <img styleName='iconPosition' src={wbtc} alt=\"wbtc\" />\n                        )}\n                        {' '}\n                      </>\n                    )}\n                    <span id='tokenBalance' styleName='balanceSecondary'>{tokenBalance}</span>\n                    {' '}\n                    {tokenWallet && (\n                      <Tooltip id=\"WhatIsToken\">\n                        <span styleName=\"tooltipText\">\n                          <FormattedMessage\n                            id=\"MM_whatIsWBTCTooltip1\"\n                            defaultMessage=\"{tokenFullName} ({token}) is an {tokenStandart} token that represents {utxoTitle} ({utxoCoin}) on the {blockchainName} blockchain.\"\n                            values={{\n                              utxoTitle: utxoWallet?.fullName || 'Bitcoin',\n                              utxoCoin: utxoCoin.toUpperCase(),\n                              tokenFullName: tokenWallet.fullName,\n                              tokenStandart: tokenWallet.standard.toUpperCase(),\n                              token: tokenWallet.currency.toUpperCase(),\n                              blockchainName: evmCoinWallet.fullName,\n                            }}\n                          />\n                          <br />\n                          <FormattedMessage\n                            id=\"MM_whatIsWBTCTooltip2\"\n                            defaultMessage=\"{token} was created to allow {utxoTitle} holders to participate in decentralized finance (“DeFi”) apps that are popular on {blockchainName}.\"\n                            values={{\n                              utxoTitle: utxoWallet?.fullName || 'Bitcoin',\n                              token: tokenWallet.currency.toUpperCase(),\n                              blockchainName: evmCoinWallet.fullName,\n                            }}\n                          />\n                        </span>\n                      </Tooltip>\n                    )}\n                  </div>\n                  {this._metamaskEnabled && (\n                    <div style={{ marginBottom: '15px' }}>\n                    {metamask.isConnected() ? (\n                        <Button blue onClick={this.processDisconnectWallet.bind(this)}>\n                          <FormattedMessage\n                            id=\"MM_DisconnectMetamask\"\n                            defaultMessage=\"Disconnect Metamask\"\n                          />\n                        </Button>\n                      ) : (\n                        <Button blue onClick={this.processConnectWallet.bind(this)}>\n                          <FormattedMessage\n                            id=\"MM_ConnectMetamask\"\n                            defaultMessage=\"Connect Metamask\"\n                          />\n                        </Button>\n                      )\n                    }\n                    </div>\n                  )}\n                  {evmCoinWallet && (\n                    <>\n                      <p styleName='item-text__secondary'>\n                        <FormattedMessage\n                          id=\"MM_ETHBalance\"\n                          defaultMessage=\"Balance {AB_Coin}: {balance} (for miners fee)\"\n                          values={{\n                            AB_Coin: evmCoinWallet.currency.toUpperCase(),\n                            balance: new BigNumber(ethBalance).dp(5).toNumber()\n                          }}\n                        />\n                      </p>\n                      <hr />\n                      <p styleName='item-text__secondary'>\n                        <FormattedMessage\n                          id=\"MM_DepositeWallet\"\n                          defaultMessage=\"to top up, transfer to\"\n                        />\n                        <br />\n                        <Address address={evmCoinWallet.address} format={AddressFormat.Full} />\n                      </p>\n                    </>\n                  )}\n                </div>\n              </>\n            )}\n          </div>\n        ) : (\n          <>\n            {mnemonicSaved && (\n              <div styleName='controls-loader'>\n                <InlineLoader />\n              </div>\n            )}\n          </>\n        )}\n        </section>\n\n        {/* Swaps history + Active swaps */}\n        { mnemonicSaved && (\n          <section>\n            <h2 styleName=\"section-title\">\n              <FormattedMessage\n                id=\"MM_SwapHistory_Title\"\n                defaultMessage=\"Swap history\"\n              />\n            </h2>\n            <table styleName=\"swapHistory\">\n              <thead>\n                <tr>\n                  <td>\n                    <p>\n                      <FormattedMessage\n                        id=\"MM_SwapHistory_YouBuy\"\n                        defaultMessage=\"You buy\"\n                      />\n                    </p>\n                  </td>\n                  <td>\n                    <p>\n                      <FormattedMessage\n                        id=\"MM_SwapHistory_Step\"\n                        defaultMessage=\"Step\"\n                      />\n                    </p>\n                  </td>\n                  <td>\n                    <p>\n                      <FormattedMessage\n                        id=\"MM_SwapHistory_YouSell\"\n                        defaultMessage=\"You sell\"\n                      />\n                    </p>\n                  </td>\n                  <td>\n                    <p>\n                      <FormattedMessage\n                        id=\"MM_SwapHistory_LockTime\"\n                        defaultMessage=\"Lock time\"\n                      />\n                    </p>\n                  </td>\n                  <td>\n                    <p>\n                      <FormattedMessage\n                        id=\"MM_SwapHistory_Status\"\n                        defaultMessage=\"Status\"\n                      />\n                    </p>\n                  </td>\n                  <td></td>\n                </tr>\n              </thead>\n              <tbody>\n                {!!sortedSwaps.length && sortedSwaps.map((swapId, rowIndex) => {\n                  return (\n                    <SwapRow\n                      key={swapId}\n                      row={swapsByIds[swapId]}\n                      extractSwapStatus={this.extractSwapStatus}\n                    />\n                  )\n                })}\n                {!sortedSwaps.length && (\n                  <tr>\n                    <td colSpan={6}>\n                      <FormattedMessage\n                        id=\"MM_SwapHistory_Empty\"\n                        defaultMessage=\"You have not any swaps, turn on MM and wait when someone accept your orders\"\n                      />\n                    </td>\n                  </tr>\n                )}\n              </tbody>\n            </table>\n          </section>\n        )}\n\n\n        <FAQ />\n      </div>\n    )\n  }\n}\n\nexport default injectIntl(MarketmakerSettings)\n","import { PureComponent } from 'react'\nimport { connect } from 'redaction'\nimport { constants } from 'helpers'\nimport { localisedUrl } from 'helpers/locale'\nimport { injectIntl } from 'react-intl'\nimport actions from 'redux/actions'\nimport { links }    from 'helpers'\n\ntype CreateInvoiceProps = {\n  history: IUniversalObj\n  match: IUniversalObj\n  data: IUniversalObj\n}\n\n@connect(({\n  user: {\n    btcData,\n    ethData,\n    bnbData,\n    maticData,\n    arbethData,\n    ghostData,\n    nextData,\n  },\n}) => {\n  return {\n    data: {\n      btc: btcData,\n      eth: ethData,\n      bnb: bnbData,\n      matic: maticData,\n      arbeth: arbethData,\n      ghost: ghostData,\n      next: nextData,\n    }\n  }\n})\nclass CreateInvoice extends PureComponent<CreateInvoiceProps> {\n  constructor(props) {\n    super(props)\n  }\n\n  async componentDidMount() {\n    let {\n      match: {\n        params: {\n          type,\n          wallet,\n        },\n      },\n      data,\n    } = this.props\n\n    if (!data[type]) {\n      data[type] = actions.core.getWallet({\n        currency: type,\n      })\n    }\n\n    if (type && wallet && data[type]) {\n      const address = data[type].address\n\n      //@ts-ignore: strictNullChecks\n      actions.modals.open(constants.modals.InvoiceModal, {\n        currency: type.toUpperCase(),\n        toAddress: wallet,\n        address,\n        disableClose: true,\n      })\n\n      console.log(type)\n      await actions.user.getInfoAboutCurrency([type.toUpperCase()]);\n\n    } else {\n      this.props.history.push(localisedUrl(links.notFound))\n    }\n  }\n\n  render() {\n    return null\n  }\n}\n\nexport default injectIntl(CreateInvoice)\n","import { PureComponent } from 'react'\nimport { connect } from 'redaction'\nimport actions from 'redux/actions'\nimport { withRouter } from 'react-router-dom'\nimport { links, constants } from 'helpers'\nimport { injectIntl } from 'react-intl'\nimport { localisedUrl } from 'helpers/locale'\n\ntype InvoceProps = {\n  data: IUniversalObj\n  history: IUniversalObj\n  intl: IUniversalObj\n  match: IUniversalObj\n}\n\ntype InvoceState = {\n  doshare: boolean\n  isFetching: boolean\n  uniqhash: string\n  invoice: IUniversalObj | null\n  infoModal?: React.ClassicComponent\n}\n\n@withRouter\nclass Invoice extends PureComponent<InvoceProps, InvoceState> {\n  constructor(props) {\n    super(props)\n\n    const {\n      match: {\n        params: {\n          uniqhash = null,\n          doshare = false,\n        },\n      },\n    } = props\n\n    this.state = {\n      uniqhash,\n      invoice: null,\n      isFetching: true,\n      doshare,\n    }\n  }\n\n  fetchInvoice = () => {\n    const { uniqhash, infoModal } = this.state\n    const { history, intl: { locale } } = this.props\n\n    if(uniqhash) {\n      //@ts-ignore: strictNullChecks\n      infoModal.setState({\n        isFetching: true,\n        uniqhash,\n      }, () => {\n        actions.invoices.getInvoice(\n          uniqhash\n        ).then((invoice) => {\n          if (invoice) {\n            //@ts-ignore: strictNullChecks\n            infoModal.setState({\n              isFetching: false,\n              invoice,\n            })\n          } else {\n            history.push(localisedUrl(locale, links.notFound))\n          }\n        })\n      })\n    }\n  }\n\n  async componentDidMount() {\n    const {\n      uniqhash,\n      doshare,\n    } = this.state\n\n    const { history, intl: { locale } } = this.props\n\n    actions.modals.open(constants.modals.InfoInvoice, {\n      onClose: (isLocationChange) => {\n        if (!isLocationChange) {\n          history.push(localisedUrl(locale, links.invoices))\n        }\n      },\n      isFetching: true,\n      uniqhash,\n      doshare,\n      onFetching: (infoModal) => {\n        this.setState({\n          infoModal,\n        }, () => {\n          this.fetchInvoice()\n        })\n      }\n    })\n  }\n\n  componentDidUpdate(prevProps) {\n    let {\n      match: {\n        params: {\n          uniqhash = null,\n          doshare = false,\n        },\n      },\n    } = this.props\n\n    let {\n      match: {\n        params: {\n          uniqhash: prevUniqhash = null,\n          doshare: prevDoshare = false,\n        },\n      },\n    } = prevProps\n\n    if ((prevUniqhash !== uniqhash)\n      || (prevDoshare !== doshare)\n    ) {\n      const { infoModal } = this.state\n\n      this.setState({\n        uniqhash,\n        doshare,\n      }, () => {\n        //@ts-ignore: strictNullChecks\n        infoModal.setState((prevUniqhash !== uniqhash) ? {\n          invoice: false,\n          uniqhash,\n          isFetching: true,\n          doshare,\n          isShareReady: !(doshare),\n        } : {\n          doshare,\n          isShareReady: !(doshare),\n        } , () => {\n          this.fetchInvoice()\n        })\n      })\n    }\n  }\n\n  render() {\n    return null\n  }\n}\n\nexport default injectIntl(Invoice)\n","import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\n\n\nclass ScrollToTop extends Component<any, any> {\n  componentDidUpdate(prevProps) {\n    if (this.props.location.pathname !== prevProps.location.pathname) {\n      window.scrollTo(0, 0)\n    }\n  }\n\n  render() {\n    return this.props.children\n  }\n}\n\nexport default withRouter(ScrollToTop)\n","import React from 'react'\nimport CSSModules from 'react-css-modules'  \nimport styles from './Field.scss'\n\nconst Field = ({ privateKey, label }) => (\n  <div styleName=\"row\">\n    <strong styleName=\"label\">{label}:</strong>{privateKey}\n  </div>\n)\n\nexport default CSSModules(Field, styles)\n","// extracted by mini-css-extract-plugin\nexport default {\"row\":\"_17wsS0LN7UNzuAjUPJ45eN\",\"label\":\"_1dmsfSHHvmRdLyci5al2lc\"};","import React, { Component } from 'react'\nimport { connect } from 'redaction'\nimport CSSModules from 'react-css-modules'\nimport styles from './SaveKeys.scss'\n\nimport Field from './Field/Field'\nimport Button from 'components/controls/Button/Button'\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\nimport { FormattedMessage } from 'react-intl'\n\ntype SaveKeysProps = {\n  onChange: () => void\n  onDownload: () => void\n  data: IUniversalObj\n}\n\n@connect(({\n  user: {\n    ethData,\n    bnbData,\n    maticData,\n    arbethData,\n    btcData,\n    ghostData,\n    nextData,\n  }\n}) => ({\n  data: [\n    btcData,\n    bnbData,\n    maticData,\n    arbethData,\n    ethData,\n    ghostData,\n    nextData,\n  ]\n}))\n@CSSModules(styles)\nexport default class SaveKeys extends Component<SaveKeysProps, null> {\n  render() {\n    const {\n      data,\n      onChange,\n      onDownload,\n      ...otherProps\n    } = this.props\n\n    return (\n      <div {...otherProps}>\n        <div styleName=\"title\" >\n          <FormattedMessage\n            id=\"SaveKeys235\"\n            defaultMessage={`These are your private keys. Download the keys by clicking on the button or take a screenshot of this page, then confirm it and click here.`}\n          />\n        </div>\n\n        <div styleName=\"linked\" onClick={onChange}>\n          <FormattedMessage id=\"SaveKeys26\" defaultMessage=\"I saved the keys in a safe place\" />\n        </div>\n\n        <div styleName=\"row\" >\n          <div styleName=\"cell\" >\n            {data.map((currencyData, index) => {\n              return (\n                <Field\n                  key={index}\n                  label={currencyData.currency}\n                  privateKey={currencyData.privateKey}\n                />\n              )\n            })}\n          </div>\n          \n          <Button brand onClick={onDownload} id=\"SaveKeysDownload\">\n            <FormattedMessage id=\"SaveKe33\" defaultMessage=\"Download\" />\n          </Button>\n          {/* @ts-ignore: strictNullChecks */}\n          <Tooltip id=\"SaveKeysDownload\" mark={false} place=\"bottom\">\n            <FormattedMessage id=\"SaveKe37\" defaultMessage=\"Download text document with keys and accounts\" />\n          </Tooltip>\n        </div>\n      </div>\n    )\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"_1_zh2RqJcys9x5GWSznekE\",\"row\":\"_9wlvJoZNtN9T35r16kWAy\",\"cell\":\"_1ziEwrlHyh5Rr1RHgZxBwk\",\"linked\":\"_1O4lcT2wPBxj0oa3hrMNpq\"};","import React from 'react'\nimport cssModules from 'react-css-modules'\nimport styles from './Confirm.scss'\n\nimport SubTitle from 'components/PageHeadline/SubTitle/SubTitle'\nimport Button from 'components/controls/Button/Button'\nimport Center from 'components/layout/Center/Center'\nimport { FormattedMessage } from 'react-intl'\n\ntype ComponentProps = {\n  rootClassName: string\n  isConfirm: () => void\n  isReject: () => void\n  title: () => JSX.Element\n  animation: boolean\n}\n\nconst Confirm = (props: ComponentProps) => {\n  const { rootClassName, isConfirm, isReject, title, animation } = props\n\n  return (\n    <Center>\n      <div styleName={animation ? 'confirm animation' : 'confirm'} className={rootClassName}>\n        <SubTitle>{title}</SubTitle>\n        <div styleName=\"row\">\n          <Button brand onClick={isConfirm}>\n            <h3>\n              <FormattedMessage id=\"Confirm20\" defaultMessage=\"Yes\" />\n            </h3>\n          </Button>\n          <Button brand onClick={isReject}>\n            <h3>\n              <FormattedMessage id=\"ConConfirm25firm20\" defaultMessage=\"No\" />\n            </h3>\n          </Button>\n        </div>\n      </div>\n    </Center>\n  )\n}\n\nexport default cssModules(Confirm, styles, { allowMultiple: true })\n","// extracted by mini-css-extract-plugin\nexport default {\"confirm\":\"_3GN8dbM4FOuslHOowEA1Gq\",\"animation\":\"_1CJ0JYSEgPgnkNPjK2AnuH\",\"open\":\"ad5RNTRqE9lSOyEUdIxjS\",\"row\":\"YcZVOHC751cAfz4K5mJoM\"};","// extracted by mini-css-extract-plugin\nexport default {\"areYouSure\":\"_2zb9IfzTRE6uCupSqxEYNd\",\"testnetSkip\":\"NuXr2VM-szLt8XwPAOUzP\"};","import React from 'react'\nimport cssModules from 'react-css-modules'\n\nimport actions from 'redux/actions'\nimport { fixBodyOverflow, createPortal } from 'helpers/domUtils'\n\nimport SaveKeys from 'components/SaveKeys/SaveKeys'\nimport PrivateKeysModal from 'components/modals/PrivateKeysModal/PrivateKeysModal'\nimport Modal from 'components/modal/Modal/Modal'\nimport links from 'helpers/links'\n\nimport Confirm from 'components/Confirm/Confirm'\nimport { constants } from 'helpers'\nimport styles from './SaveKeysModal.scss'\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\n\n\nconst views = {\n  saveKeys: 'saveKeys',\n  confirm: 'confirm',\n  approve: 'approve',\n}\n\nconst title = defineMessages({\n  Areyousure: {\n    id: 'Areyousure',\n    defaultMessage: 'Are you sure ?',\n  },\n})\n\nconst langLabels = defineMessages({\n  title: {\n    id: `SaveKeysModal_Title`,\n    defaultMessage: `Private keys export`,\n  }\n})\n\ntype SaveKeysModalProps = {\n  intl: IUniversalObj\n  view: string\n}\n\ntype SaveKeysModalState = {\n  view: string\n}\n\n@cssModules(styles, { allowMultiple: true })\nclass SaveKeysModal extends React.Component<SaveKeysModalProps, SaveKeysModalState> {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      view: props.view,\n    }\n  }\n\n  static defaultProps = {\n    view: views.saveKeys,\n  }\n\n  componentWillMount = () => {\n    fixBodyOverflow(true)\n  }\n\n  componentWillUnmount = () => {\n    fixBodyOverflow(false)\n  }\n\n  changeView = (view) => {\n    this.setState(() => ({\n      view,\n    }))\n  }\n\n  handleConfirm = () => {\n    this.changeView(views.approve)\n  }\n\n  handleDownload = () => {\n    actions.user.downloadPrivateKeys()\n  }\n\n  handleClose = () => {\n    window.location.assign(links.hashHome)\n  }\n\n  render() {\n    const { view } = this.state\n    const { intl } = this.props\n\n    return (\n      //@ts-ignore: strictNullChecks\n      <Modal name=\"SaveKeysModal\" title={`${intl.formatMessage(langLabels.title)}`} onClose={this.handleClose} showCloseButton>\n        {\n          process.env.TESTNET && (\n            <div styleName=\"testnetSkip\">\n              <a\n                href=\"#\"\n                onClick={() => {\n                  localStorage.setItem(constants.localStorage.testnetSkipPKCheck, 'true')\n                  this.forceUpdate()\n                }}>\n                <FormattedMessage id=\"SaveKeysModal\" defaultMessage=\"Testnet: Don`t ask again\" />\n              </a>\n            </div>\n          )\n        }\n        {\n          view === views.saveKeys &&\n          //@ts-ignore: strictNullChecks\n          <SaveKeys\n            onDownload={this.handleDownload}\n            onChange={() => {\n              this.changeView(views.confirm)\n              this.handleClose()\n            }}\n          />\n        }\n        {\n          view === views.confirm &&\n          createPortal(\n            <Confirm\n              rootClassName={styles.areYouSure}\n              title={intl.formatMessage(title.Areyousure)}\n              isConfirm={() => this.handleConfirm()}\n              isReject={() => this.changeView(views.saveKeys)}\n              animation={view === views.confirm}\n            />\n          )\n        }\n        {\n          view === views.approve &&\n          createPortal(<PrivateKeysModal />)\n        }\n\n      </Modal >\n    )\n  }\n}\n\nexport default injectIntl(SaveKeysModal)\n","import React from 'react'\nimport { isMobile } from 'react-device-detect'\n\nimport { Switch, Route } from 'react-router-dom'\n\nimport { links } from 'helpers'\nimport LocalStorage from 'pages/LocalStorage/LocalStorage'\nimport SwapComponent from 'pages/Swap/Swap'\nimport TurboSwap from 'pages/TurboSwap/TurboSwap'\nimport History from 'pages/History/History'\nimport CreateWallet from 'pages/CreateWallet/CreateWallet'\nimport NotFound from 'pages/NotFound/NotFound'\nimport Wallet from 'pages/Wallet/Wallet'\nimport Exchange from 'pages/Exchange/Exchange'\nimport CurrencyWallet from 'pages/CurrencyWallet/CurrencyWallet'\nimport Transaction from 'pages/Transaction/Transaction'\nimport BtcMultisignProcessor from 'pages/Multisign/Btc/Btc'\n\nimport MarketmakerPromo from 'pages/Marketmaker/MarketmakerPromo'\nimport MarketmakerSettings from 'pages/Marketmaker/MarketmakerSettings'\n\nimport CreateInvoice from 'pages/Invoices/CreateInvoice'\nimport InvoicesList from 'pages/Invoices/InvoicesList'\nimport Invoice from 'pages/Invoices/Invoice'\n\nimport ScrollToTop from '../components/layout/ScrollToTop/ScrollToTop'\nimport SaveMnemonicModal from \"components/modals/SaveMnemonicModal/SaveMnemonicModal\"\nimport SaveKeysModal from \"components/modals/SaveKeysModal/SaveKeysModal\"\n\nimport RestoryMnemonicWallet from \"components/modals/RestoryMnemonicWallet/RestoryMnemonicWallet\"\n\nconst routes = (\n  <ScrollToTop>\n    <Switch>\n      <Route exact path={`/:page(exit)`} component={Wallet} />\n\n      <Route path={`${links.atomicSwap}/:orderId`} component={SwapComponent} />\n      <Route path={`${links.turboSwap}/:orderId`} component={TurboSwap} />\n\n      <Route path={`/:ticker(btc|eth|bnb|matic|arbeth|ghost|next)/tx/:tx?`} component={Transaction} />\n      <Route path={`/:token(token)/:ticker/tx/:tx?`} component={Transaction} />\n\n      <Route\n        path={`/:ticker(btc|eth|bnb|matic|arbeth|ghost|next)/:address/:action(receive|send)?`}\n        component={CurrencyWallet}\n      />\n      <Route path={`/:token(token)/:ticker/:address`} component={CurrencyWallet} />\n      <Route path={`/:token(token)/:ticker/:address/withdraw`} component={CurrencyWallet} />\n      <Route path={`/:fullName-wallet/:address?`} component={CurrencyWallet} />\n\n      <Route path={`${links.exchange}/:sell-to-:buy/:linkedOrderId`} component={Exchange} />\n      <Route path={`${links.exchange}/:sell-to-:buy`} component={Exchange} />\n      <Route path={`${links.exchange}`} component={Exchange} />\n\n      <Route path={`${links.localStorage}`} component={LocalStorage} />\n\n      <Route path={`${links.send}/:currency/:address/:amount`} component={Wallet} />\n      <Route path={`${links.wallet}`} component={Wallet} />\n\n      <Route exact path={`${links.createWallet}`} component={CreateWallet} />\n      <Route path={`${links.createWallet}/:currency`} component={CreateWallet} />\n      <Route path={`${links.restoreWallet}`} component={RestoryMnemonicWallet} />\n\n      <Route path={`${links.multisign}/btc/:action/:data/:peer`} component={BtcMultisignProcessor} />\n      <Route path={`${links.multisign}/btc/:action/:data`} component={BtcMultisignProcessor} />\n\n      <Route path={`${links.createInvoice}/:type/:wallet`} component={CreateInvoice} />\n      {isMobile && <Route path={`${links.invoices}/:type?/:address?`} component={InvoicesList} />}\n      <Route path={`${links.invoice}/:uniqhash?/:doshare?`} component={Invoice} />\n\n      <Route path={`${links.savePrivateSeed}`} component={SaveMnemonicModal} />\n      <Route path={`${links.savePrivateKeys}`} component={SaveKeysModal} />\n\n      <Route exact path={`${links.notFound}`} component={NotFound} />\n      <Route exact path={`/`} component={Wallet} />\n      <Route exact path={`${links.connectWallet}`} component={Wallet} />\n\n      <Route exact path={`${links.marketmaker}`} component={MarketmakerPromo} />\n      <Route exact path={`${links.marketmaker_short}`} component={MarketmakerPromo} />\n      <Route path={`${links.marketmaker}/:token/:utxoCoin?`} component={MarketmakerSettings} />\n      <Route path={`${links.marketmaker_short}/:token/:utxoCoin?`} component={MarketmakerSettings} />\n\n      {/* In desktop mode - the history is shown in the wallet design */}\n      {!isMobile && (\n        <>\n          <Route exact path={`/:page(invoices)/:type?/:address?`} component={Wallet} />\n          <Route exact path={`/:page(history)`} component={Wallet} />\n        </>\n      )}\n      {isMobile && (\n        <>\n          <Route exact path={`${links.history}/(btc)?/:address?`} component={History} />\n          <Route exact path={`/:page(invoices)/:type?/:address?`} component={History} />\n        </>\n      )}\n      <Route path={`${links.currencyWallet}`} component={Wallet} />\n\n      <Route component={NotFound} />\n    </Switch>\n  </ScrollToTop>\n)\n\nexport default routes","import React, { Component } from 'react'\n\nimport SwapApp from 'swap.app'\nimport actions from 'redux/actions'\nimport { connect } from 'redaction'\nimport metamask from 'helpers/metamask'\nimport { onInit as onSwapCoreInited } from 'instances/newSwap'\n\n\n@connect(({ pubsubRoom }) => ({ pubsubRoom }))\nexport default class Core extends Component<any, any> {\n  _mounted = true\n  state = {\n    orders: [],\n  }\n\n  componentDidMount() {\n    onSwapCoreInited(() => {\n      if (!this._mounted) return\n      actions.core.getSwapHistory()\n      //@ts-ignore: strictNullChecks\n      SwapApp.shared().services.orders\n        .on('new orders', this.updateOrders)\n        .on('new order', this.updateOrders)\n        .on('order update', this.updateOrders)\n        .on('remove order', this.updateOrders)\n        .on('new order request', this.updateOrders)\n      this.setPubsub()\n    })\n  }\n\n  componentWillUnmount() {\n    this._mounted = false\n    try {\n      //@ts-ignore: strictNullChecks\n      SwapApp.shared().services.orders\n        .off('new orders', this.updateOrders)\n        .off('new order', this.updateOrders)\n        .off('order update', this.updateOrders)\n        .off('remove order', this.updateOrders)\n        .off('new order request', this.updateOrders)\n\n      //@ts-ignore: strictNullChecks\n      if (SwapApp.shared().services.room.connection) {\n        console.log('leave room')\n        //@ts-ignore: strictNullChecks\n        SwapApp.shared().services.room.connection\n          .removeListener('peer joined', actions.pubsubRoom.userJoined)\n          .removeListener('peer left', actions.pubsubRoom.userLeft)\n        //@ts-ignore: strictNullChecks\n        SwapApp.shared().services.room.connection.leave()\n      }\n    } catch (e) {\n      console.warn('Core unmount - not inited. skip')\n    }\n  }\n\n  setPubsub = () => {\n    const setupPubSubRoom = () => {\n      try {\n        const { pubsubRoom } = this.props\n\n        if (pubsubRoom.isOnline) return\n\n        //@ts-ignore: strictNullChecks\n        if (!SwapApp.shared().services.room.connection) {\n          throw new Error(`SwapRoom not ready`)\n        }\n\n        //@ts-ignore: strictNullChecks\n        const isOnline = SwapApp.shared().services.room.connection.isOnline()\n        //@ts-ignore: strictNullChecks\n        const { peer } = SwapApp.shared().services.room\n\n        this.updateOrders()\n\n        actions.core.initPartialOrders()\n\n        if (actions.core.hasHiddenOrders()) {\n          actions.core.showMyOrders()\n        }\n\n        //@ts-ignore: strictNullChecks\n        SwapApp.shared().services.room.connection\n          .on('peer joined', actions.pubsubRoom.userJoined)\n          .on('peer left', actions.pubsubRoom.userLeft)\n\n        // BTC Multisign\n        //@ts-ignore: strictNullChecks\n        SwapApp.shared().services.room.on('btc multisig join', actions.btcmultisig.onUserMultisigJoin)\n\n        clearInterval(pubsubLoadingInterval)\n\n        actions.pubsubRoom.set({\n          isOnline,\n          peer,\n        })\n      } catch (error) {\n        console.warn('pubsubRoom setup:', error)\n      }\n    }\n\n    //@ts-ignore: strictNullChecks\n    SwapApp.shared().services.room.on('ready', setupPubSubRoom)\n\n    const pubsubLoadingInterval = setInterval(setupPubSubRoom, 5000)\n  }\n\n  updateOrders = () => {\n    //@ts-ignore: strictNullChecks\n    const orders = SwapApp.shared().services.orders.items\n    this.setState(() => ({\n      orders,\n    }))\n    actions.core.updateCore()\n  }\n\n  render() {\n    return null\n  }\n}\n","import React from 'react'\nimport { FormattedMessage } from 'react-intl'\nimport styles from './index.scss'\nimport cx from 'classnames'\nimport { feedback } from 'helpers'\n\ntype ComponentProps = {\n  children: JSX.Element | JSX.Element[]\n}\n\ntype ComponentState = {\n  error: false | IError\n  errorInfo: undefined | IUniversalObj\n}\n\nexport default class ErrorBoundary extends React.Component<ComponentProps, ComponentState> {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      error: false,\n      errorInfo: undefined,\n    }\n  }\n\n  static getDerivedStateFromError(error) {\n    return { error }\n  }\n\n  componentDidCatch(error, errorInfo) {\n    feedback.app.failed(`App Error: ${error.message}`)\n    console.group('%c ERROR INTERCEPTED', 'color: red; font-size: 14px')\n    console.error(error)\n    console.groupEnd()\n\n    this.setState(() => ({\n      error,\n      errorInfo,\n    }))\n  }\n\n  render() {\n    const { children } = this.props\n    const { error } = this.state\n\n    if (error) {\n      return (\n        <div\n          className={cx({\n            [styles.errorWrapper]: true,\n          })}\n        >\n          <h2\n            className={cx({\n              [styles.errorTitle]: true,\n            })}\n          >\n            <FormattedMessage\n              id=\"AppErrorMessage\"\n              defaultMessage=\"Something wrong. Try to come back on the home page or reload this page.\"\n            />\n          </h2>\n\n          {error.message ? (\n            <pre\n              className={cx({\n                [styles.errorCode]: true,\n              })}\n            >\n              Error: {error.message}\n              <br />\n              <br />\n              {error.stack && error.stack}\n            </pre>\n          ) : null}\n        </div>\n      )\n    }\n\n    return children\n  }\n}","// extracted by mini-css-extract-plugin\nexport default {\"errorWrapper\":\"_3m0SFECN6goma00aiWhXp5\",\"errorTitle\":\"W_qL4CyS2L_ikf-wzFXhq\",\"errorCode\":\"PUyc-86G1eh8Sh7qP5b66\"};","// extracted by mini-css-extract-plugin\nexport default {\"themeSwitcher\":\"_1AJd3LqjbTDKFF70TiGdx\",\"rightArea\":\"ei8_itmd7ZieRb3SOPAfC\",\"header\":\"_3yS69-NF963QTcnOB86CYf\",\"header-mobile\":\"_28agaNxIT78YqzUs_ETDJJ\",\"flexebleHeader\":\"_3sfkYxHA5-1cZDfQBtqwvZ\",\"widgetHeader\":\"_2w26uJBP7bKSfAbAPsUnR5\",\"logoutWrapper\":\"_2JFUUzDEC2dzMsvKBo4I-q\",\"header-promo\":\"_3EU7Fn6tAWWfRCSwqtq4Ep\",\"loaderCreateWallet\":\"TdPB_Fgn7Buex5zzvmADb\",\"walletTour\":\"_2cY7JITHlTNJfjnTC6bump\"};","// extracted by mini-css-extract-plugin\nexport default {\"nav\":\"_18RzJPj_Uq5lbYb-N6Szpu\",\"mainMenu\":\"_1e29VQTXi0o4IMbdeQzbBQ\",\"link\":\"_25sp336zOlJMI5bMZkhFU-\",\"active\":\"_3cbwMWvrl5P3zt8CdqtLfg\"};","import React, { Component, Fragment } from 'react'\nimport { NavLink, withRouter } from 'react-router-dom'\nimport CSSModules from 'react-css-modules'\nimport { injectIntl } from 'react-intl'\nimport styles from './Nav.scss'\nimport { localisedUrl } from 'helpers/locale'\n\ntype NavProps = {\n  menu: IUniversalObj[]\n  intl: any\n}\n\n//@ts-ignore: strictNullChecks\n@withRouter\n@CSSModules(styles, { allowMultiple: true })\nclass Nav extends Component<NavProps, null> {\n  render() {\n    const {\n      menu,\n      intl: { locale },\n    } = this.props\n\n    return (\n      <div styleName='nav'>\n        <Fragment>\n          {menu\n            .filter(i => i.isDesktop !== false)\n            .map((item, index) => {\n              const { title, link, exact, isExternal } = item\n\n              return (\n                <div styleName='mainMenu' key={index} className=\"data-tut-widget-tourFinish\">\n                  {isExternal ? (\n                    <a\n                      href={link}\n                      target=\"_blank\"\n                      styleName=\"link\"\n                    >\n                      {title}\n                    </a>\n                  ) : (\n                    <NavLink\n                      key={index}\n                      exact={exact}\n                      className={`\n                        ${styles.link}\n                        ${link && link.includes('exchange') ? 'reactour-exchange data-tut-widget-exchange' : ''}\n                      `}\n                      to={localisedUrl(locale, link)}\n                      activeClassName={styles.active}\n                    >\n                      {title}\n                    </NavLink>\n                  )}\n                </div>\n              );\n            })}\n        </Fragment>\n      </div>\n    );\n  }\n}\n\n//@ts-ignore: strictNullChecks\nexport default injectIntl(Nav)\n","// extracted by mini-css-extract-plugin\nexport default {\"navbar\":\"_1uMXeGTJoGke-aJe8cLx7U\",\"navbar-hidden\":\"_2GA-P0twWQnKTGzZeiT2bW\",\"active\":\"xinVdpIQkKpzvaiM6agnw\",\"bold\":\"_1kWPMq6yYI_Y2yDDznHrj7\"};","import React, { Component } from 'react'\nimport { NavLink, withRouter } from 'react-router-dom'\nimport { injectIntl } from 'react-intl'\n\nimport CSSModules from 'react-css-modules'\nimport styles from './NavMobile.scss'\nimport { localisedUrl } from 'helpers/locale'\n\ntype NavProps = {\n  menu: IUniversalObj[]\n  isHidden?: boolean\n  intl: any\n}\n//@ts-ignore: strictNullChecks\n@withRouter\n@CSSModules(styles, { allowMultiple: true })\nclass NavMobile extends Component<NavProps, null> {\n  render() {\n    const {\n      menu,\n      intl: { locale },\n      isHidden,\n    } = this.props\n\n    return (\n      <nav styleName={`navbar ${isHidden ? 'navbar-hidden' : ''}`}>\n        {menu\n          .filter(i => i.isMobile !== false)\n          .map((item, index) => {\n            const {\n              title,\n              link,\n              exact,\n              icon,\n              isBold,\n              isExternal,\n              currentPageFlag,\n              displayNone,\n            } = item\n\n            if (isExternal) {\n              return (\n                <a href={link} target=\"_blank\" key={index}>\n                  {icon}\n                  <span className={isBold && styles.bold}>{title}</span>\n                </a>\n              )\n            }\n\n            return !displayNone && currentPageFlag ? (\n                <a\n                  key={index}\n                  href={link}\n                  tabIndex={-1}\n                >\n                  {icon}\n                  <span className={isBold && styles.bold}>{title}</span>\n                </a>\n              ) : (\n                <NavLink\n                  key={index}\n                  exact={exact}\n                  to={localisedUrl(locale, link)}\n                  className={`\n                    ${link && link.includes(\"history\") ? 'data-tut-recent' : ''}\n                    ${link && link.includes(\"exchange\") ? 'reactour-exchange data-tut-widget-exchange' : ''}\n                  `}\n                  activeClassName={styles.active}\n                >\n                  {icon}\n                  <span className={isBold && styles.bold}>{title}</span>\n                </NavLink>\n              )\n          })\n        }\n      </nav>\n    )\n  }\n}\n\n//@ts-ignore: strictNullChecks\nexport default injectIntl(NavMobile)\n","export default __webpack_public_path__ + \"images/logo-colored_24a13c.svg\";","import React, { Component, Fragment } from 'react'\nimport { FormattedMessage, injectIntl } from 'react-intl'\n\nimport { Link, withRouter } from 'react-router-dom'\nimport { links, constants } from 'helpers'\n\nimport CSSModules from 'react-css-modules'\nimport styles from './Logo.scss'\n\nimport ThemeTooltip from '../../ui/Tooltip/ThemeTooltip'\n\nimport logoBlack from 'shared/images/logo/logo-black.svg'\nimport logoColored from 'shared/images/logo/logo-colored.svg'\n\n\n/* uncomment to debug */\n//window.logoUrl = 'https://wallet.wpmix.net/wp-content/uploads/2020/07/yourlogohere.png'\n//window.logoUrl = 'https://upload.wikimedia.org/wikipedia/commons/thumb/2/24/Samsung_Logo.svg/640px-Samsung_Logo.svg.png'\n//window.logoUrl = 'https://www.laocommerce.com/wp-content/uploads/2020/05/logo.png'\n//window.logoUrl = 'https://www.swappeers.com/wp-content/uploads/2020/10/sp-1.png'\n//window.logoUrl = 'https://www.business.bet/images/bb.svg'\n//window.darkLogoUrl = ...\n//window.logoUrl = \"#\"\n//window.LOGO_REDIRECT_LINK = 'https://www.google.com/'\n\n\nconst isDark = localStorage.getItem(constants.localStorage.isDark)\nconst isMainnet = process.env.MAINNET\n\n@withRouter\n@CSSModules(styles, { allowMultiple: true })\nclass Logo extends Component<any, {}> {\n\n  render() {\n    const {\n      intl: { locale },\n    } = this.props;\n\n    const isCustomLogo = window.logoUrl !== '#'\n    const customLogoUrl = isDark ?\n      window.darkLogoUrl || window.logoUrl\n      :\n      window.logoUrl\n\n    const isCustomLogoLink = window.LOGO_REDIRECT_LINK as boolean\n    const customLogoLink = window.LOGO_REDIRECT_LINK\n\n    const imgSrc = isCustomLogo ?\n      customLogoUrl\n      :\n      isMainnet ? logoColored : logoBlack\n\n    const imgAlt = window.location.hostname\n\n    const goToUrl = isCustomLogoLink ? customLogoLink : links.home\n\n    return (\n      <div styleName=\"logoWrapper\">\n        {isCustomLogoLink ?\n          <a href={goToUrl}>\n            <img src={imgSrc} alt={imgAlt} />\n          </a>\n          :\n          <Fragment>\n            <Link to={goToUrl} data-tip data-for=\"logo\">\n              <img src={imgSrc} alt={imgAlt} />\n            </Link>\n            <ThemeTooltip id=\"logo\" effect=\"solid\" place=\"bottom\">\n              <FormattedMessage id=\"logo29\" defaultMessage=\"Go Home\" />\n            </ThemeTooltip>\n          </Fragment>\n        }\n      </div>\n    );\n  }\n}\n\nexport default injectIntl(Logo)\n","// extracted by mini-css-extract-plugin\nexport default {\"logoWrapper\":\"_2eK0uuw8-FgFmXkbmvcTeA\"};","import React from 'react'\n\nimport { FormattedMessage } from 'react-intl'\n\nimport CSSModules from 'react-css-modules'\n\nimport styles from './styles.scss'\n\n\nconst Tooltip = (props) => {\n  const { continuous, index, isLastStep, step, backProps, primaryProps, skipProps, tooltipProps, closeTour } = props\n\n  const click = e => {\n    skipProps.onClick(e)\n    closeTour()\n  }\n\n  const clickPrimary = (e) => {\n    primaryProps.onClick(e)\n    if (isLastStep) {\n      closeTour()\n    }\n  }\n\n  return (\n    <div styleName=\"toolTipBody\" {...tooltipProps}>\n      {step.title && <h2 styleName=\"TooltipTitle\">{step.title}</h2>}\n      {step.content && <div styleName=\"TooltipContent\">{step.content}</div>}\n      <div styleName=\"TooltipFooter\">\n        {!isLastStep && (\n          <button {...skipProps} onClick={click}>\n            <FormattedMessage id=\"skip\" defaultMessage=\"Skip\" />\n          </button>\n        )}\n        {index > 0 && (\n          <button {...backProps}>\n            <FormattedMessage id=\"back\" defaultMessage=\"Back\" />\n          </button>\n        )}\n        <button {...primaryProps} onClick={clickPrimary}>\n          {continuous && !isLastStep ?\n            <FormattedMessage id=\"nextTourWindow\" defaultMessage=\"Next\" />\n            :\n            <FormattedMessage id=\"closeTourWindow\" defaultMessage=\"Close\" />}\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default CSSModules(Tooltip, styles, { allowMultiple: true })\n","// extracted by mini-css-extract-plugin\nexport default {\"toolTipBody\":\"_1w1J0FmtCuTXOF9SR6rA77\",\"TooltipTitle\":\"_1doxLsaDIyQ74MCUF_r65E\",\"TooltipContent\":\"_1wlaYaKsaUO91bT2SQ52xE\",\"TooltipFooter\":\"rW20z82CM4n7AIC9p2gv7\"};","import React, { Component } from 'react'\n\nimport Joyride, { STATUS } from 'react-joyride'\n\nimport { FormattedMessage } from 'react-intl'\nimport Tooltip from 'components/TourWindow'\n\n\nexport default class TourPartial extends Component<any, any> {\n\n  constructor(props) {\n    super(props)\n\n    /* eslint-disable */\n    this.state = {\n      run: true,\n      steps: [\n        {\n          content: <FormattedMessage id=\"partial-tour-2\" defaultMessage=\"В данное поле, введите сумму, которую вы хотите продать, выберите валюту для продажи. Вы также можете продать валюту с внешнего кошелька.\" />,\n          target: '.data-tut-have',\n        },\n        {\n          content: <FormattedMessage id=\"partial-tour-3\" defaultMessage=\"В данное поле, введите сумму, которую вы хотели бы купить, выберите валюту для покупки.\" />,\n          floaterProps: {\n            disableAnimation: true,\n          },\n          spotlightPadding: 20,\n          target: '.data-tut-get',\n        },\n        {\n          content: <FormattedMessage id=\"partial-tour-4\" defaultMessage=\"Здесь вы можете увидеть статус поиска предложений по обмену. При загрузке будет отображаться «Поиск заказов ...». Когда заказ найден, проверьте курс обмена здесь\" />,\n          floaterProps: {\n            disableAnimation: true,\n          },\n          spotlightPadding: 20,\n          target: '.data-tut-status',\n        },\n        {\n          content: <FormattedMessage id=\"partial-tour-5\" defaultMessage=\"Переключите эту кнопку, чтобы получать средства после обмена на внутренний кошелек на Swap.online или на другой кошелек\" />,\n          floaterProps: {\n            disableAnimation: true,\n          },\n          spotlightPadding: 20,\n          target: '.data-tut-togle',\n        },\n        {\n          content: <FormattedMessage\n            id=\"partial-tour-6\"\n            defaultMessage=\"Переключите эту кнопку, чтобы увидеть прямой URL операции обмена. Это возможно, когда кнопка розовая.\" />,\n          floaterProps: {\n            disableAnimation: true,\n          },\n          spotlightPadding: 20,\n          target: '.data-tut-Exchange',\n        },\n        {\n          content: <FormattedMessage\n            id=\"partial-tour-7\"\n            defaultMessage=\"Нажмите на эту кнопку, чтобы увидеть страницу с предложениями для обмена. Предложения будут представлены для конкретных валют. Также вы можете создать собственное предложение на странице предложений.\" />,\n          floaterProps: {\n            disableAnimation: true,\n          },\n          spotlightPadding: 20,\n          target: '.data-tut-Orderbook',\n        },\n      ],\n    }\n    /* eslint-enable */\n\n  }\n\n  handleJoyrideCallback = (data) => {\n    const { status } = data\n    const finishedStatuses = [STATUS.FINISHED, STATUS.SKIPPED]\n\n    if (finishedStatuses.includes(status)) {\n      this.setState({ run: false })\n    }\n  };\n\n  render() {\n    const { run, steps } = this.state\n    const { closeTour, isTourOpen } = this.props\n\n    return (\n      <div className=\"demo-wrapper\">\n        {isTourOpen && <Joyride\n          callback={this.handleJoyrideCallback}\n          continuous\n          run={run}\n          scrollToFirstStep\n          tooltipComponent={(props) => <Tooltip closeTour={closeTour} {...props} />}\n          showProgress\n          showSkipButton\n          steps={steps}\n          styles={{\n            options: {\n              zIndex: 10000,\n              arrowColor: '#302272',\n            },\n          }}\n        />}\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\n\nimport Joyride, { STATUS } from 'react-joyride'\n\nimport { FormattedMessage } from 'react-intl'\nimport Tooltip from 'components/TourWindow'\n\n\nexport default class WalletTour extends Component<any, any> {\n\n  constructor(props) {\n    super(props)\n\n    /* eslint-disable */\n    this.state = {\n      run: true,\n      steps: [\n        {\n          content: <FormattedMessage\n            id=\"tour-step-1.1\"\n            defaultMessage=\"Ваш совокупный баланс\" />,\n          target: '.data-tut-all-balance',\n        },\n        {\n          content: <FormattedMessage\n            id=\"tour-step-1.2\"\n            defaultMessage=\"Нажав на кнопку, вы сможете пополнить баланс\" />,\n          target: '.data-tut-all-deposit',\n        },\n        {\n          content: <FormattedMessage\n            id=\"tour-step-1\"\n            defaultMessage=\"Баланс по выбранной валюте показывается в конце строки, напротив валюты. Вы можете закрыть браузер, перезагрузить компьютер. Ваш баланс не изменится, только не забудте сохранить ключи\" />,\n          target: '.data-tut-address',\n        },\n        {\n          content: <FormattedMessage id=\"tour-step-3\" defaultMessage=\"Наша уникальная функция peer-to-peer обмена доступна в нашем кольке, основанном на технологии Atomic Swap. Вы можете разместить вашу криптовалюту в нашем кошельке.\" />,\n          floaterProps: {\n            disableAnimation: true,\n          },\n          spotlightPadding: 20,\n          target: '.reactour-exchange',\n        },\n        {\n          content: <FormattedMessage id=\"tour-step-2\" defaultMessage=\"Вы можете хранить валюты разных блокчейнов, таких как: Bitcoin, Ethereum, Bitcoin Cash, Litecoin и различные токены\" />,\n          placement: 'center',\n          target: '.data-tut-store',\n        },\n        {\n          content: <FormattedMessage\n            id=\"tour-step-4\"\n            defaultMessage=\"Вы будете получать уведомления об обновлениях с вашей учетной записью (заказы, транзакции) и ежемесячные обновления о нашем проекте\" />,\n          floaterProps: {\n            disableAnimation: true,\n          },\n          spotlightPadding: 20,\n          target: '.data-tut-sign-up',\n        },\n      ],\n    }\n    /* eslint-enable */\n  }\n\n  handleJoyrideCallback = (data) => {\n    const { status } = data\n    const finishedStatuses = [STATUS.FINISHED, STATUS.SKIPPED]\n\n    if (finishedStatuses.includes(status)) {\n      this.setState({ run: false })\n    }\n  };\n\n  render() {\n    const { run, steps } = this.state\n    const { closeTour, isTourOpen } = this.props\n    return (\n      <div className=\"demo-wrapper\">\n        {isTourOpen && <Joyride\n          callback={this.handleJoyrideCallback}\n          continuous\n          run={run}\n          scrollToFirstStep\n          tooltipComponent={(props) => <Tooltip closeTour={closeTour} {...props} />}\n          showProgress\n          showSkipButton\n          steps={steps}\n          styles={{\n            options: {\n              zIndex: 10000,\n              arrowColor: '#302272',\n            },\n          }}\n        />}\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\n\nimport Joyride, { STATUS } from 'react-joyride'\n\nimport { FormattedMessage } from 'react-intl'\nimport Tooltip from 'components/TourWindow'\n\n\nexport class WidgetWalletTour extends Component<any, any> {\n\n  constructor(props) {\n    super(props)\n\n    /* eslint-disable */\n    this.state = {\n      run: true,\n      steps: [\n        {\n          content: <FormattedMessage\n            id=\"widget-tour-step-1\"\n            defaultMessage=\"Welcome to {widgetName}. Take the tour?\"\n            values={{ widgetName: window.widgetName }}\n          />,\n          placement: 'center',\n          target: '.data-tut-start-widget-tour',\n        },\n        {\n          content: <FormattedMessage\n            id=\"widget-tour-step-2\"\n            defaultMessage=\"This is your wallet balance.\" />,\n          spotlightPadding: 0,\n          target: '.data-tut-widget-balance',\n        },\n        {\n          content: <FormattedMessage\n            id=\"widget-tour-step-3\"\n            defaultMessage=\"Use these buttons to transfer Cryptocurrencies in and out of your wallet.\" />,\n          spotlightPadding: 0,\n          target: '.data-tut-withdraw-buttons',\n        },\n        {\n          content: <FormattedMessage\n            id=\"widget-tour-step-4\"\n            defaultMessage=\"Scroll through this menu to find products, services and useful information.\"\n          />,\n          target: '.data-tut-banners',\n        },\n        {\n          content: <FormattedMessage\n            id=\"widget-tour-step-5\"\n            defaultMessage=\"Click these three dots to find your wallet address, private keys and more.\"\n          />,\n          spotlightPadding: 0,\n          placement: 'left',\n          target: '.data-tut-row-menu',\n        },\n        {\n          content: <FormattedMessage\n            id=\"widget-tour-step-6\"\n            defaultMessage=\"Click this button to review a list of your recent transactions.\"\n          />,\n          spotlightPadding: 0,\n          target: '.data-tut-recent',\n        },\n        {\n          content: <FormattedMessage\n            id=\"widget-tour-step-7\"\n            defaultMessage=\"Click this button to exchange your cryptocurrencies.\"\n          />,\n          spotlightPadding: 0,\n          target: '.data-tut-widget-exchange',\n        },\n        {\n          content: <FormattedMessage\n            id=\"widget-tour-finishStep\"\n            defaultMessage=\"That's it! Lets get started.\"\n          />,\n          placement: 'center',\n          target: '.data-tut-widget-tourFinish',\n        },\n      ],\n    }\n    /* eslint-enable */\n  }\n\n  handleJoyrideCallback = (data) => {\n    const { status } = data\n    const finishedStatuses = [STATUS.FINISHED, STATUS.SKIPPED]\n\n    if (finishedStatuses.includes(status)) {\n      this.setState({ run: false })\n    }\n  };\n\n  render() {\n    const { run, steps } = this.state\n    const { closeTour, isTourOpen } = this.props\n    return (\n      <div className=\"demo-wrapper\">\n        {isTourOpen && <Joyride\n          callback={this.handleJoyrideCallback}\n          continuous\n          run={run}\n          scrollToFirstStep\n          tooltipComponent={(props) => <Tooltip closeTour={closeTour} {...props} />}\n          showProgress\n          showSkipButton\n          steps={steps}\n          styles={{\n            options: {\n              zIndex: 10000,\n              arrowColor: '#302272',\n              width: 300\n            },\n          }}\n        />}\n      </div>\n    );\n  }\n}\n","import React from \"react\"\nimport CSSModules from \"react-css-modules\"\nimport styles from \"./Loader.scss\"\nimport { FormattedMessage } from \"react-intl\"\nimport config from \"app-config\"\n\nconst isWidget = config && config.isWidget\n\ntype LoaderProps = {\n  overlayClassName?: string\n  showMyOwnTip?: JSX.Element\n  data?: {\n    txId: string\n  }\n}\n\nconst Loader = (props: LoaderProps) => {\n  const {\n    overlayClassName = '',\n    showMyOwnTip,\n    data = null,\n  } = props\n\n  return (\n    <div styleName=\"overlay\" className={overlayClassName}>\n      <div>\n        {window.loaderLogoUrl && (\n          <img styleName=\"loaderImg\" src={window.loaderLogoUrl} alt=\"Loader logo\"/>\n        )}\n        {data && data.txId && (\n          <p styleName=\"text\">\n            <FormattedMessage\n              id=\"Loader21\"\n              defaultMessage=\"Please wait, it takes from 3 to 5 minutes to complete the transaction.\"\n            />\n          </p>\n        )}\n        {data && data.txId && (\n          <a href={data.txId} styleName=\"link\" target=\"_blank\" rel=\"noopener noreferrer\">\n            {data.txId}\n          </a>\n        )}\n        {!isWidget && Boolean(showMyOwnTip) && <div styleName=\"tips\">{showMyOwnTip}</div>}\n      </div>\n    </div>\n  )\n}\n\nexport default CSSModules(Loader, styles, { allowMultiple: true });","// extracted by mini-css-extract-plugin\nexport default {\"overlay\":\"TyHuIB6FXNAJdwkgrReez\",\"loaderImg\":\"IBmJr7YpPdIy31ccf98Kp\",\"text\":\"_3RIyLhJ_C5gXAdc8fTccK5\",\"link\":\"_3TsL_TCr4WsIitA_Zs63P-\",\"over\":\"_3aT7dmYrBpU-5SWbHEF6uj\",\"tips\":\"_3KXFjSnS0WWOeDUJV0hWfd\"};","import React from 'react'\nimport { defineMessages } from 'react-intl'\nimport links from 'helpers/links'\nimport externalConfig from 'helpers/externalConfig'\n\n\nconst isWidgetBuild = externalConfig && externalConfig.isWidget\nconst isChromeExtension = externalConfig && externalConfig.dir === 'chrome-extension/application'\n\n\nexport const messages = defineMessages({\n  wallet: {\n    id: 'menu.wallet',\n    description: 'Menu item \"Wallet\"',\n    defaultMessage: 'Wallet',\n  },\n  createWallet: {\n    id: 'menu.CreateWallet',\n    description: 'Menu item \"Wallet\"',\n    defaultMessage: 'Create wallet',\n  },\n  exchange: {\n    id: 'menu.exchange',\n    description: 'Menu item \"Exchange\"',\n    defaultMessage: 'Exchange',\n  },\n  history: {\n    id: 'menu.history',\n    description: 'Menu item \"History\"',\n    defaultMessage: 'Transactions',\n  },\n  marketmaker: {\n    id: 'menu.marketmaker',\n    description: 'Menu item \"Marketmaker\"',\n    defaultMessage: 'Earn',\n  },\n  farm: {\n    id: 'menu.farm',\n    description: 'Menu item \"Staking & Farming\"',\n    defaultMessage: 'Farming',\n  },\n})\n\nexport const getMenuItems = (props) => {\n  const { intl } = props\n  const { exchange, wallet, createWallet } = messages\n  const { \n    exchange: linksExchange,\n    createWallet: create,\n    // farm,\n    history,\n    home,\n  } = links\n\n  const itemsWithWallet = [\n    {\n      title: intl.formatMessage(wallet),\n      link: home,\n      exact: true,\n      currentPageFlag: true,\n    },\n    {\n      title: intl.formatMessage(messages.history),\n      link: history,\n      exact: true,\n      currentPageFlag: true,\n    },\n    !externalConfig.opts.exchangeDisabled && {\n      title: intl.formatMessage(exchange),\n      link: linksExchange,\n      exact: false,\n      currentPageFlag: true,\n    },\n  ]\n\n  const itemsWithoutWallet = [\n    {\n      title: intl.formatMessage(createWallet),\n      link: create,\n      exact: true,\n      currentPageFlag: true,\n    },\n    !externalConfig.opts.exchangeDisabled && {\n      title: intl.formatMessage(exchange),\n      link: linksExchange,\n      exact: false,\n      currentPageFlag: true,\n    },\n  ]\n\n  // Marketmaker pages ********\n  if (!isWidgetBuild) {\n    const marketmakerItem = {\n      title: intl.formatMessage(messages.marketmaker),\n      link: !isChromeExtension ? `${links.marketmaker}/` : `${links.marketmaker}/{MATIC}WBTC`,\n      exact: true,\n      currentPageFlag: true,\n    }\n\n    itemsWithWallet.push(marketmakerItem)\n    itemsWithoutWallet.push(marketmakerItem)\n  }\n\n  // temporarily hidden\n  // Farm ************************\n  // if (!isWidgetBuild) {\n  //   const farmItem = {\n  //     title: intl.formatMessage(messages.farm),\n  //     link: farm,\n  //     isExternal: true,\n  //     exact: true,\n  //     currentPageFlag: true,\n  //   }\n\n  //   itemsWithWallet.push(farmItem)\n  //   itemsWithoutWallet.push(farmItem)\n  // }\n\n  return localStorage.getItem('isWalletCreate') === 'true'\n    || externalConfig && externalConfig.isWidget\n      ? itemsWithWallet\n      : itemsWithoutWallet\n}\n\n\nexport const getMenuItemsMobile = (props, isWalletCreate, dinamicPath) => {\n  const { intl } = props\n  const { exchange, wallet, createWallet } = messages\n  const { \n    exchange: linksExchange,\n    // farm,\n    history,\n  } = links\n\n  const mobileItemsWithWallet = [\n    {\n      title: intl.formatMessage(isWalletCreate ? wallet : createWallet),\n      link: dinamicPath,\n      exact: true,\n      icon: <i className=\"fa fa-home\" aria-hidden=\"true\" />,\n    },\n    {\n      title: props.intl.formatMessage(messages.history),\n      link: history,\n      displayNone: !isWalletCreate,\n      icon: <i className=\"fas fa-exchange-alt\" aria-hidden=\"true\" />,\n    },\n    !externalConfig.opts.exchangeDisabled && {\n      title: intl.formatMessage(exchange),\n      link: linksExchange,\n      exact: false,\n      icon: <i className=\"fas fa-sync-alt\" aria-hidden=\"true\" />,\n    },\n  ]\n\n  const mobileItemsWithoutWallet = [\n    {\n      title: intl.formatMessage(createWallet),\n      link: dinamicPath,\n      exact: true,\n      icon: <i className=\"fa fa-home\" aria-hidden=\"true\" />,\n    },\n    !externalConfig.opts.exchangeDisabled && {\n      title: intl.formatMessage(exchange),\n      link: linksExchange,\n      exact: false,\n      icon: <i className=\"fas fa-sync-alt\" aria-hidden=\"true\" />,\n    },\n  ]\n\n  // temporarily hidden\n  // Farm ************************\n  // if (externalConfig.entry === 'testnet' && !isWidgetBuild) {\n  //   const farmItem = {\n  //     title: props.intl.formatMessage(messages.farm),\n  //     link: farm,\n  //     isExternal: true,\n  //     exact: true,\n  //     icon: <i className=\"fas fa-coins\" aria-hidden=\"true\" />,\n  //   }\n\n  //   mobileItemsWithWallet.push(farmItem)\n  //   mobileItemsWithoutWallet.push(farmItem)\n  // }\n\n  return localStorage.getItem('isWalletCreate') === 'true'\n      ? mobileItemsWithWallet\n      : mobileItemsWithoutWallet\n}\n\n","import React from \"react\"\nimport CSSModules from \"react-css-modules\"\nimport { FormattedMessage } from 'react-intl'\nimport styles from \"./Header.scss\"\nimport ThemeTooltip from '../ui/Tooltip/ThemeTooltip'\n\nconst sun = (fill) => (\n  <svg id=\"Capa_1\" viewBox=\"0 0 512 512\" width=\"20\" height=\"20\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g>\n      <g>\n        <path fill={fill} d=\"m256 360.099c-57.4 0-104.099-46.698-104.099-104.099s46.699-104.099 104.099-104.099 104.099 46.699 104.099 104.099-46.699 104.099-104.099 104.099zm0-178.198c-40.858 0-74.099 33.241-74.099 74.099s33.24 74.099 74.099 74.099 74.099-33.241 74.099-74.099-33.241-74.099-74.099-74.099z\" />\n      </g>\n      <g>\n        <path fill={fill} d=\"m256 116.071c-8.284 0-15-6.716-15-15v-86.071c0-8.284 6.716-15 15-15s15 6.716 15 15v86.071c0 8.284-6.716 15-15 15z\" />\n      </g>\n      <g>\n        <path fill={fill} d=\"m146.449 161.449c-3.839 0-7.678-1.464-10.606-4.393l-60.863-60.862c-5.858-5.858-5.858-15.355 0-21.213 5.857-5.858 15.355-5.858 21.213 0l60.862 60.861c5.858 5.858 5.858 15.355 0 21.213-2.928 2.929-6.767 4.394-10.606 4.394z\" />\n      </g>\n      <g>\n        <path fill={fill} d=\"m101.071 271h-86.071c-8.284 0-15-6.716-15-15s6.716-15 15-15h86.071c8.284 0 15 6.716 15 15s-6.716 15-15 15z\" />\n      </g>\n      <g>\n        <path fill={fill} d=\"m85.587 441.413c-3.839 0-7.678-1.464-10.606-4.394-5.858-5.858-5.858-15.355 0-21.213l60.862-60.861c5.858-5.857 15.356-5.857 21.213 0 5.858 5.858 5.858 15.355 0 21.213l-60.863 60.862c-2.928 2.928-6.767 4.393-10.606 4.393z\" />\n      </g>\n      <g>\n        <path fill={fill} d=\"m256 512c-8.284 0-15-6.716-15-15v-86.071c0-8.284 6.716-15 15-15s15 6.716 15 15v86.071c0 8.284-6.716 15-15 15z\" />\n      </g>\n      <g>\n        <path fill={fill} d=\"m426.413 441.413c-3.839 0-7.678-1.464-10.606-4.393l-60.862-60.861c-5.858-5.858-5.858-15.355 0-21.213 5.857-5.858 15.355-5.858 21.213 0l60.862 60.861c5.858 5.858 5.858 15.355 0 21.213-2.929 2.928-6.768 4.393-10.607 4.393z\" />\n      </g>\n      <g>\n        <path fill={fill} d=\"m497 271h-86.071c-8.284 0-15-6.716-15-15s6.716-15 15-15h86.071c8.284 0 15 6.716 15 15s-6.716 15-15 15z\" />\n      </g>\n      <g>\n        <path fill={fill} d=\"m365.551 161.449c-3.839 0-7.678-1.464-10.606-4.394-5.858-5.858-5.858-15.355 0-21.213l60.862-60.861c5.857-5.856 15.355-5.858 21.213 0s5.858 15.355 0 21.213l-60.862 60.861c-2.929 2.929-6.769 4.394-10.607 4.394z\" />\n      </g>\n    </g>\n  </svg>\n)\n\nconst moon = (fill) => (\n  <svg version=\"1.1\" id=\"Capa_1\" width=\"20\" height=\"20\" x=\"0px\" y=\"0px\" viewBox=\"0 0 512.001 512.001\">\n    <path fill={fill}  d=\"M367.924,8.521c70.94,127.548,25.05,288.445-102.49,359.385c-79.869,44.425-177.026,44.425-256.895,0\n      C79.572,495.352,240.478,541.08,367.924,470.047s173.174-231.939,102.141-359.385C446.174,67.788,410.798,32.42,367.924,8.521z\"\n    />\n    <path fill={fill} d=\"M239.353,511.984c-98.886-0.077-190.011-53.592-238.252-139.92\n      c-2.309-4.098-0.869-9.296,3.229-11.605c2.599-1.466,5.777-1.466,8.384,0c123.442,68.622,279.141,24.181,347.763-99.27\n      c42.951-77.262,42.951-171.232,0-248.494c-2.292-4.107-0.826-9.296,3.28-11.596c2.59-1.448,5.734-1.44,8.324,0.009\n      c131.536,73.368,178.696,239.471,105.328,371.007C429.27,458.434,338.188,511.941,239.353,511.984z M31.842,388.661\n      c82.587,114.495,242.342,140.363,356.837,57.776S529.042,204.095,446.455,89.6c-16.035-22.229-35.547-41.741-57.776-57.776\n      c58.066,139.008-7.557,298.772-146.566,356.837C174.846,416.761,99.118,416.761,31.842,388.661z\"\n    />\n  </svg>\n)\n\nconst ThemeSwitcher = ({ onClick }) => {\n  const isDark = document.body.dataset.scheme === 'dark'\n\n  return (\n    <div\n      styleName={`themeSwitcher`}\n      onClick={onClick}\n      data-for=\"themeAlt\"\n      data-tip\n    >\n      {isDark ? sun(\"white\") : moon(\"#747474\")}\n\n      <ThemeTooltip id=\"themeAlt\" effect=\"solid\" place=\"bottom\">\n        <FormattedMessage\n          id=\"themeAlt\"\n          defaultMessage=\"{theme} theme\"\n          values={{ theme: isDark ? 'Light' : 'Dark' }}\n        />\n      </ThemeTooltip>\n    </div>\n  )\n}\n\nexport default CSSModules(ThemeSwitcher, styles, { allowMultiple: true })","export default __webpack_public_path__ + \"images/arrow-right_cb4b0b.svg\";","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nimport { links } from 'helpers'\nimport { Link } from 'react-router-dom'\n\nimport styles from './UserTooltip.scss'\nimport CSSModules from 'react-css-modules'\nimport ArrowRightSvg from './images/arrow-right.svg'\n\nimport { TimerButton } from 'components/controls'\nimport { FormattedMessage } from 'react-intl'\n\n@CSSModules(styles)\nexport default class UserTooltip extends Component<any, any> {\n\n  static propTypes = {\n    feeds: PropTypes.array.isRequired,\n    peer: PropTypes.string.isRequired,\n    declineRequest: PropTypes.func.isRequired,\n    acceptRequest: PropTypes.func.isRequired,\n  }\n\n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n    const { feeds, peer: mePeer } = this.props\n\n    const autoAcceptTimeout = 3\n\n    return !!feeds.length && (\n      <div styleName=\"column\">\n        {feeds.length < 3 ? (\n          feeds.map(row => {\n            const { request, content: { buyAmount, buyCurrency, sellAmount, sellCurrency }, id, isTurbo, peer: ownerPeer } = row\n\n            const swapUri = isTurbo ?\n              `${links.turboSwap}/${id}`\n              :\n              `${links.atomicSwap}/${id}`\n\n            return (\n              mePeer === ownerPeer &&\n              request.map(({ participant: { peer }, reputation }, index) => (\n                <div styleName=\"userTooltip\" key={index}>\n                  <div>\n                    <div styleName=\"title\">\n                      <FormattedMessage\n                        id=\"userTooltip43\"\n                        defaultMessage=\"User ({reputation}) wants to swap\"\n                        values={{ reputation: <b>{Number.isInteger(reputation) ? reputation : '?'}</b> }}\n                      />\n                    </div>\n                    <div styleName=\"currency\">\n                      <span>{buyAmount.toFixed(5)} <span styleName=\"coin\">{buyCurrency}</span></span>\n                      <span styleName=\"arrow\"><img src={ArrowRightSvg} alt=\"\" /></span>\n                      <span>{sellAmount.toFixed(5)} <span styleName=\"coin\">{sellCurrency}</span></span>\n                    </div>\n                  </div>\n                  <span styleName=\"decline\" onClick={() => this.props.declineRequest(id, peer)} />\n                  <div styleName=\"checked\" onClick={() => this.props.acceptRequest(id, peer, swapUri)} />\n                  <TimerButton\n                    timeLeft={autoAcceptTimeout}\n                    isButton={false}\n                    onClick={() => this.props.acceptRequest(id, peer, swapUri)}\n                  />\n                </div>\n              ))\n            )\n          })\n        ) : (\n            <div styleName=\"feed\" >\n              <Link to={links.feed} >\n                <FormattedMessage id=\"userTooltip71\" defaultMessage=\"Go to the feed page\" />\n              </Link>\n            </div>\n          )\n        }\n      </div>\n    )\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"column\":\"_3_Ri_wLnM3mQ2cewg1Qo2e\",\"feed\":\"_2rXfB_q0yt5wB8-uvvzhGn\",\"userTooltip\":\"_309dcAmFEcAeIbSPVUhA6C\",\"title\":\"_1ulHwPoGt9nkTkmQN__Nnd\",\"currency\":\"_1tZZkVp0BWEtX5Coog2roI\",\"coin\":\"qpgOB630B0EnprGnWoDbx\",\"arrow\":\"_2ZLWGU8JRwzDFTcFxf-RU\",\"checked\":\"_34wXuVK6f27b9QFObu-hJt\",\"decline\":\"xXIegJ9C_Tid1FQHdX8sR\",\"icon\":\"_36K4X3w6ojnfu9IroVYrHh\"};","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport cx from 'classnames'\n\nimport { withRouter } from 'react-router-dom'\nimport { isMobile } from 'react-device-detect'\nimport { connect } from 'redaction'\n\nimport links from 'helpers/links'\nimport actions from 'redux/actions'\nimport { constants } from 'helpers'\nimport config from 'helpers/externalConfig'\nimport { injectIntl, FormattedMessage } from 'react-intl'\n\nimport CSSModules from 'react-css-modules'\nimport styles from './Header.scss'\n\nimport Nav from './Nav/Nav'\nimport NavMobile from './NavMobile/NavMobile'\n\nimport Logo from './Logo/Logo'\nimport TourPartial from './TourPartial/TourPartial'\nimport WalletTour from './WalletTour/WalletTour'\nimport { WidgetWalletTour } from './WidgetTours'\n\nimport Loader from 'components/loaders/Loader/Loader'\nimport { localisedUrl } from '../../helpers/locale'\nimport { messages, getMenuItems, getMenuItemsMobile } from './config'\nimport { user } from 'helpers'\nimport ThemeSwitcher from './ThemeSwitcher'\nimport Button from 'components/controls/Button/Button'\n// Incoming swap requests and tooltips (revert)\nimport UserTooltip from 'components/Header/UserTooltip/UserTooltip'\nimport feedback from 'shared/helpers/feedback'\nimport wpLogoutModal from 'helpers/wpLogoutModal'\n\n\nimport Swap from 'swap.swap'\nimport SwapApp from 'swap.app'\n\n/* uncomment to debug */\n//window.isUserRegisteredAndLoggedIn = true\n\nconst isWidgetBuild = config && config.isWidget\n\n@withRouter\n@connect({\n  feeds: 'feeds.items',\n  peer: 'pubsubRoom.peer',\n  isInputActive: 'inputActive.isInputActive',\n  reputation: 'pubsubRoom.reputation',\n  modals: 'modals',\n  hiddenCoinsList: 'core.hiddenCoinsList',\n})\n@CSSModules(styles, { allowMultiple: true })\nclass Header extends Component<any, any> {\n  static propTypes = {\n    history: PropTypes.object.isRequired,\n  }\n\n  static getDerivedStateFromProps({\n    history: {\n      location: { pathname },\n    },\n  }) {\n    if (pathname === '/' || pathname === links.wallet) {\n      return { path: true }\n    }\n    return { path: false }\n  }\n\n  lastScrollTop: any\n\n  constructor(props) {\n    super(props)\n\n    const {\n      location: { pathname },\n      intl,\n    } = props\n    const { exchange, home, wallet } = links\n    const { isWalletCreate } = constants.localStorage\n\n    const dynamicPath = pathname.includes(exchange) ? `${pathname}` : `${home}`\n    //@ts-ignore: strictNullChecks\n    let lsWalletCreated: string | boolean = localStorage.getItem(isWalletCreate)\n    if (config && config.isWidget) {\n      lsWalletCreated = true\n    }\n\n    const isWalletPage = pathname === wallet || pathname === `/ru${wallet}`\n\n    this.state = {\n      isPartialTourOpen: false,\n      path: false,\n      isTourOpen: false,\n      isWallet: false,\n      menuItems: getMenuItems(props),\n      menuItemsMobile: getMenuItemsMobile(props, lsWalletCreated, dynamicPath),\n      createdWalletLoader: isWalletPage && !lsWalletCreated,\n      themeSwapAnimation: false,\n    }\n    this.lastScrollTop = 0\n  }\n\n  clearLocalStorage = () => {\n    window.localStorage.clear()\n    window.location.reload()\n  }\n\n  saveMnemonicAndClearStorage = () => {\n    actions.modals.open(constants.modals.SaveMnemonicModal, {\n      onClose: () => {\n        this.clearLocalStorage()\n      }\n    })\n  }\n\n  componentDidMount() {\n    this.handlerAsync()\n\n    // Temporarily\n    // show a request for users to clear their local storage\n    const isWalletCreate = localStorage.getItem(constants.localStorage.isWalletCreate)\n    const sawWarning = localStorage.getItem('sawLocalStorageWarning')\n    const oldUserDidNotSee = isWalletCreate === 'true' && sawWarning !== 'true'\n    const newUser = isWalletCreate !== 'true' && sawWarning !== 'true'\n\n    if (oldUserDidNotSee && false) { // Времено отключено\n      feedback.app.warning('Modal about local storage was opened')\n\n      const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\n      // user must save a mnemonic phrase if he hasn't done it\n      const modalButton = mnemonic !== '-' ? (\n        <Button empty onClick={this.saveMnemonicAndClearStorage}>\n          <FormattedMessage id=\"registerSMSMPlaceHolder\" defaultMessage=\"Secret phrase (12 words)\" />\n        </Button>\n      ) : (\n        <Button empty onClick={this.clearLocalStorage}>\n          <FormattedMessage id=\"ClearAndReload\" defaultMessage=\"Clear and reload\" />\n        </Button>\n      )\n\n      actions.notifications.show(constants.notifications.Message, {\n        message: (\n          <FormattedMessage\n            id=\"CleanLocalStorage\"\n            defaultMessage=\"Oops, looks like the app needs to clean your local storage. Please save your 12 words seed phrase (if you have not saved it before), then clear local storage by clicking on the button and import 12 words seed again. Sorry for the inconvenience. {indent} {button}\"\n            values={{\n              indent: <><br /><br /></>,\n              button: modalButton,\n            }}\n          />\n        ),\n        timeout: false,\n      })\n    } else if (newUser) {\n      // no problem with new user's storage\n      localStorage.setItem('sawLocalStorageWarning', 'true')\n    }\n  }\n\n  handlerAsync = async () => {\n    const { history } = this.props\n\n    await this.tapCreateWalletButton()\n\n    this.startTourAndSignInModal()\n\n    history.listen(async (location) => {\n      await this.tapCreateWalletButton({ location })\n\n      this.startTourAndSignInModal({ location })\n    })\n  }\n\n  tapCreateWalletButton = (customProps = {}) =>\n    new Promise((resolve) => {\n      const finishProps = { ...this.props, ...customProps }\n      //@ts-ignore\n      const { location, intl } = finishProps\n      const { pathname } = location\n      const { wallet, home } = links\n\n      let isWalletCreate = localStorage.getItem(constants.localStorage.isWalletCreate)\n\n      if (config && config.isWidget) {\n        //@ts-ignore\n        isWalletCreate = true\n      }\n\n      const isWalletPage = pathname === wallet || pathname === `/ru${wallet}`\n\n      if (isWalletPage && !isWalletCreate) {\n        //@ts-ignore\n        isWalletCreate = true\n\n        this.setState(\n          () => ({\n            menuItems: getMenuItems(this.props),\n            //@ts-ignore\n            menuItemsMobile: getMenuItemsMobile(this.props, isWalletCreate),\n            createdWalletLoader: true,\n          }),\n          () => {\n            setTimeout(() => {\n              this.setState(() => ({\n                createdWalletLoader: false,\n              }))\n              resolve(true)\n            }, 4000)\n          }\n        )\n      } else {\n        resolve(true)\n      }\n    })\n\n  startTourAndSignInModal = (customProps = {}) => {\n    const finishProps = { ...this.props, ...customProps }\n    const { wasOnExchange, wasOnWallet, isWalletCreate, wasOnWidgetWallet } = constants.localStorage\n    const {\n      //@ts-ignore\n      hiddenCoinsList,\n      //@ts-ignore\n      location: { hash, pathname },\n    } = finishProps\n    const { wallet, exchange, marketmaker, marketmaker_short } = links\n    const isGuestLink = !(!hash || hash.slice(1) !== 'guest')\n\n    if (isGuestLink) {\n      localStorage.setItem(wasOnWallet, 'true')\n      localStorage.setItem(wasOnExchange, 'true')\n      localStorage.setItem(wasOnWidgetWallet, 'true')\n      return\n    }\n\n    this.setState(() => ({\n      menuItems: getMenuItems(this.props),\n      //@ts-ignore\n      menuItemsMobile: getMenuItemsMobile(this.props, true),\n    }))\n\n    const path = pathname.toLowerCase()\n    const isWalletPage = path.includes(wallet) || path === `/`\n    const isPartialPage = path.includes(exchange)\n\n    const isMarketPage = path.includes(marketmaker) || path.includes(marketmaker_short)\n    const didOpenWalletCreate = localStorage.getItem(isWalletCreate)\n\n    const wasOnWalletLs = localStorage.getItem(wasOnWallet)\n    const wasOnExchangeLs = localStorage.getItem(wasOnExchange)\n    const wasOnWidgetWalletLs = localStorage.getItem(wasOnWidgetWallet)\n\n    let tourEvent = () => {}\n\n    const allData = actions.core.getWallets({})\n    const widgetCurrencies = user.getWidgetCurrencies()\n\n    let userCurrencies = allData.filter(({ currency, address, balance }) => {\n      return (\n        (!hiddenCoinsList.includes(currency) &&\n          !hiddenCoinsList.includes(`${currency}:${address}`)) ||\n        balance > 0\n      )\n    })\n\n    if (isWidgetBuild) {\n      userCurrencies = allData.filter(\n        ({ currency, address }) =>\n          !hiddenCoinsList.includes(currency) && !hiddenCoinsList.includes(`${currency}:${address}`)\n      )\n      userCurrencies = userCurrencies.filter(({ currency }) => widgetCurrencies.includes(currency))\n    }\n\n    userCurrencies = userCurrencies.filter(({ currency }) =>\n      user.getActivatedCurrencies().includes(currency)\n    )\n\n    switch (true) {\n      case isWalletPage && !wasOnWalletLs:\n        tourEvent = this.openWalletTour\n        break\n      case isPartialPage && !wasOnExchangeLs:\n        tourEvent = this.openExchangeTour\n        break\n      case isWidgetBuild && !wasOnWidgetWalletLs:\n        tourEvent = this.openWidgetWalletTour\n        break\n      case !userCurrencies.length && isWalletPage && !config.opts.plugins.backupPlugin:\n        this.openCreateWallet({ onClose: tourEvent })\n        break\n      default:\n        return\n    }\n\n    if (!didOpenWalletCreate && isWalletPage && !config.opts.plugins.backupPlugin) {\n      this.openCreateWallet({ onClose: tourEvent })\n      return\n    }\n\n    tourEvent()\n  }\n\n  closeTour = () => {\n    this.setState(() => ({ isTourOpen: false }))\n  }\n\n  closeWidgetTour = () => {\n    this.setState(() => ({ isWidgetTourOpen: false }))\n  }\n\n  closePartialTour = () => {\n    this.setState(() => ({ isPartialTourOpen: false }))\n  }\n\n  openCreateWallet = (options) => {\n    const {\n      history,\n      intl: { locale },\n    } = this.props\n    history.push(localisedUrl(locale, links.createWallet))\n  }\n\n  openWalletTour = () => {\n    const { wasOnWallet } = constants.localStorage\n\n    setTimeout(() => {\n      this.setState(() => ({ isTourOpen: true }))\n    }, 1000)\n\n    localStorage.setItem(wasOnWallet, 'true')\n  }\n\n  openWidgetWalletTour = () => {\n    const { wasOnWidgetWallet } = constants.localStorage\n\n    setTimeout(() => {\n      this.setState(() => ({ isWidgetTourOpen: true }))\n    }, 1000)\n\n    localStorage.setItem(wasOnWidgetWallet, 'true')\n  }\n\n  openExchangeTour = () => {\n    const { wasOnExchange } = constants.localStorage\n    setTimeout(() => {\n      this.setState(() => ({ isPartialTourOpen: true }))\n    }, 1000)\n\n    localStorage.setItem(wasOnExchange, 'true')\n  }\n\n  handleToggleTheme = () => {\n    this.setState(() => ({ themeSwapAnimation: true }))\n\n    const wasDark = localStorage.getItem(constants.localStorage.isDark)\n    const dataset = document.body.dataset\n\n    feedback.theme.switched(wasDark ? 'light' : 'dark')\n\n    if (wasDark) {\n      localStorage.removeItem(constants.localStorage.isDark)\n      localStorage.setItem(constants.localStorage.isLight, 'true')\n      dataset.scheme = \"default\"\n    } else {\n      localStorage.removeItem(constants.localStorage.isLight)\n      localStorage.setItem(constants.localStorage.isDark, 'true')\n      dataset.scheme = \"dark\"\n    }\n\n    this.setState(() => ({ themeSwapAnimation: false }))\n  }\n\n  declineRequest = (orderId, participantPeer) => {\n    actions.core.declineRequest(orderId, participantPeer)\n    actions.core.updateCore()\n  }\n\n  acceptRequest = async (orderId, participantPeer, link) => {\n    const {\n      toggle,\n      history,\n      intl: { locale },\n      location: {\n        pathname,\n      },\n    } = this.props\n\n    actions.core.acceptRequest(orderId, participantPeer)\n    actions.core.updateCore()\n\n    if (typeof toggle === 'function') {\n      toggle()\n    }\n\n\n    if ((pathname.substr(0, links.marketmaker.length) === links.marketmaker)\n      || (pathname.substr(0, links.marketmaker_short) === links.marketmaker_short)\n    ) {\n      const swap = new Swap(orderId, SwapApp.shared())\n      actions.core.rememberSwap(swap)\n      window.active_swap = swap\n    } else {\n      await history.replace(localisedUrl(locale, link))\n      await history.push(localisedUrl(locale, link))\n    }\n  }\n\n  handleLogout = () => {\n    const { intl } = this.props\n    wpLogoutModal(this.handleLogout, intl)\n  }\n\n  render() {\n    const {\n      isTourOpen,\n      isPartialTourOpen,\n      menuItems,\n      menuItemsMobile,\n      createdWalletLoader,\n      isWidgetTourOpen,\n    } = this.state\n    const {\n      intl: { formatMessage },\n      history: {\n        location: { pathname },\n      },\n      feeds,\n      peer,\n      isInputActive,\n    } = this.props\n\n    const { exchange, wallet } = links\n\n    const isWalletPage =\n      pathname.includes(wallet) || pathname === `/ru${wallet}` || pathname === `/`\n\n    const isExchange = pathname.includes(exchange)\n\n    const isLogoutPossible = window.isUserRegisteredAndLoggedIn\n\n    const logoRenderer = (\n      <div styleName=\"flexebleHeader\">\n        <div>\n          <Logo />\n        </div>\n        <div styleName=\"rightArea\">\n          {window.WPSO_selected_theme !== 'only_light' && window.WPSO_selected_theme !== 'only_dark' && (\n            <ThemeSwitcher onClick={this.handleToggleTheme} />\n          )}\n\n          {isLogoutPossible && ( // some wordpress plugin cases\n            <div styleName=\"logoutWrapper\" onClick={this.handleLogout}>\n              <i className=\"fas fa-sign-out-alt\" />\n              <FormattedMessage id=\"ExitWidget\" defaultMessage=\"Exit\" />\n            </div>\n          )}\n        </div>\n      </div>\n    )\n\n    if (pathname.includes('/createWallet') && isMobile) {\n      return <span />\n    }\n\n    const incomingSwapRequest = (\n      <UserTooltip\n        feeds={feeds}\n        peer={peer}\n        acceptRequest={this.acceptRequest}\n        declineRequest={this.declineRequest}\n      />\n    )\n\n    if (isMobile) {\n      return (\n        <header id=\"header-mobile\" styleName=\"header-mobile\" className=\"data-tut-widget-tourFinish\">\n          {logoRenderer}\n          {createdWalletLoader && (\n            <div styleName=\"loaderCreateWallet\">\n              <Loader\n                showMyOwnTip={formatMessage({\n                  id: 'createWalletLoaderTip',\n                  defaultMessage: 'Creating wallet... Please wait.',\n                })}\n              />\n            </div>\n          )}\n          {incomingSwapRequest}\n          <NavMobile menu={menuItemsMobile} isHidden={isInputActive} />\n          {isWidgetTourOpen && isWalletPage && (\n            <div styleName=\"walletTour\">\n              <WidgetWalletTour isTourOpen={isWidgetTourOpen} closeTour={this.closeWidgetTour} />\n            </div>\n          )}\n        </header>\n      )\n    }\n\n    return (\n      <header\n        className={cx({\n          [styles['header']]: true,\n          [styles['widgetHeader']]: isWidgetBuild,\n          [styles['header-promo']]: isWalletPage,\n        })}\n      >\n        {createdWalletLoader && (\n          <div styleName=\"loaderCreateWallet\">\n            <Loader\n              showMyOwnTip={formatMessage({\n                id: 'createWalletLoaderTip',\n                defaultMessage: 'Creating wallet... Please wait.',\n              })}\n            />\n          </div>\n        )}\n        {logoRenderer}\n        <Nav menu={menuItems} />\n        {isPartialTourOpen && isExchange && (\n          <div styleName=\"walletTour\">\n            <TourPartial isTourOpen={isPartialTourOpen} closeTour={this.closePartialTour} />\n          </div>\n        )}\n        {incomingSwapRequest}\n        {isTourOpen && isWalletPage && (\n          <div styleName=\"walletTour\">\n            <WalletTour isTourOpen={isTourOpen} closeTour={this.closeTour} />\n          </div>\n        )}\n        {isWidgetTourOpen && isWalletPage && (\n          <div styleName=\"walletTour\">\n            <WidgetWalletTour isTourOpen={isWidgetTourOpen} closeTour={this.closeWidgetTour} />\n          </div>\n        )}\n      </header>\n    )\n  }\n}\n\nexport default injectIntl(Header)\n","// extracted by mini-css-extract-plugin\nexport default {\"footer\":\"_3Ei5ZQCwutR0OZJaetM1jG\",\"mobile\":\"_3iImGhP0jUYvpG6HJTz4lo\",\"container\":\"_1_WMULELjybFkTzHoy9jCB\",\"swapDescription\":\"_3kxrtbnWtES3zGqum3YIkZ\",\"version\":\"_3Lq5-6AiCb6Rhm-7SXOjio\"};","import React from 'react'\nimport CSSModules from 'react-css-modules'\nimport styles from './SocialMenu.scss'\nimport links from 'helpers/links'\n\n\nconst nav = [\n  { links: links.medium,      icon: 'fa-medium-m' },\n  { links: links.twitter,     icon: 'fa-twitter' },\n  { links: links.facebook,    icon: 'fa-facebook' },\n  { links: links.github,    icon: 'fa-github' },\n  { links: links.telegram,    icon: 'fa-telegram-plane' },\n  { links: links.bitcointalk, icon: 'fa-btc' },\n  { links: links.discord,     icon: 'fab fa-discord' },\n  { links: links.youtube,     icon: 'fab fa-youtube' },\n  { links: links.reddit,      icon: 'fab fa-reddit' },\n]\n\nconst SocialMenu = () => (\n  <ul styleName=\"social-menu\">\n    {\n      nav.filter(item => item.links !== '#').map((item, index) => (\n        <li key={index}>\n          <a href={item.links} target=\"_blank\" rel=\"noopener noreferrer\">\n            <i styleName=\"icon\" className={`fab ${item.icon}`} />\n          </a>\n        </li>\n      ))\n    }\n  </ul>\n)\n\nexport default CSSModules(SocialMenu, styles)\n","// extracted by mini-css-extract-plugin\nexport default {\"social-menu\":\"_1BjYDFEhTXYx6g9J1Q73sS\",\"icon\":\"_1U4Wo96yXDshm57wzZ1vrR\"};","import React from 'react'\nimport styles from './SwitchLang.scss'\nimport CSSModules from 'react-css-modules'\n\nimport { setCookie } from 'helpers/utils'\nimport { FormattedMessage, injectIntl } from 'react-intl'\nimport feedback from 'helpers/feedback'\n\nconst SwitchLang = (props) => {\n  const { intl: { locale: intlLocale } } = props\n\n  const switchLang = (event, locale) => {\n    event.preventDefault()\n\n    feedback.i18n.switched(locale)\n\n    setCookie('mylang', locale.toUpperCase(), new Date(new Date().getFullYear() + 1, 1))\n\n    window.setTimeout(() => {\n      window.location.reload()\n    }, 10)\n  }\n\n  const localeIsNotMatched = (locale) => {\n    return intlLocale.toUpperCase() !== locale\n      ? true\n      : undefined // if url is undefined then we don't define styles\n  }\n\n  return (\n    <div styleName=\"langSwitcher\">\n      <a\n        href={localeIsNotMatched('EN') && '#/'}\n        styleName=\"language\"\n        onClick={(e) => {\n          switchLang(e, 'EN')\n          return false\n        }}\n      >\n        <FormattedMessage id=\"SwitchLang20\" defaultMessage=\"EN\" />\n      </a>\n      |\n      <a\n        href={localeIsNotMatched('RU') && '#/'}\n        styleName=\"language\"\n        onClick={(e) => {\n          switchLang(e, 'RU')\n          return false\n        }}\n      >\n        <FormattedMessage id=\"SwitchLang24\" defaultMessage=\"RU\" />\n      </a>\n      |\n      <a\n        href={localeIsNotMatched('NL') && '#/'}\n        styleName=\"language\"\n        onClick={(e) => {\n          switchLang(e, 'NL')\n          return false\n        }}\n      >\n        <FormattedMessage id=\"SwitchLangNL\" defaultMessage=\"NL\" />\n      </a>\n      |\n      <a\n        href={localeIsNotMatched('ES') && '#/'}\n        styleName=\"language\"\n        onClick={(e) => {\n          switchLang(e, 'ES')\n          return false\n        }}\n      >\n        <FormattedMessage id=\"SwitchLangES\" defaultMessage=\"ES\" />\n      </a>\n      |\n      <a\n        href={localeIsNotMatched('PL') && '#/'}\n        styleName=\"language\"\n        onClick={(e) => {\n          switchLang(e, 'PL')\n          return false\n        }}\n      >\n        <FormattedMessage id=\"SwitchLangPL\" defaultMessage=\"PL\" />\n      </a>\n    </div>\n  )\n}\n\nexport default injectIntl(\n  CSSModules(SwitchLang, styles, { allowMultiple: true })\n)\n","// extracted by mini-css-extract-plugin\nexport default {\"langSwitcher\":\"_338w3yUhLQyceVsCsTVsxJ\",\"language\":\"_3H1sE1p5K2t0EpTNUbUZ0p\"};","const version = process.env.VERSION\n\nexport default {\n  name: version ? version.substring(0, 6) : null,\n  link: version ? `https://github.com/search?q=${version}&type=Commits` : null,\n}\n","import React from 'react'\nimport cx from 'classnames'\nimport { isMobile } from 'react-device-detect'\nimport { FormattedMessage } from 'react-intl'\nimport { links } from 'helpers'\n\nimport config from 'helpers/externalConfig'\n\nimport styles from './Footer.scss'\nimport CSSModules from 'react-css-modules'\n\nimport SocialMenu from './SocialMenu/SocialMenu'\nimport WidthContainer from 'components/layout/WidthContainer/WidthContainer'\nimport SwitchLang from './SwitchLang/SwitchLang'\n\nimport version from 'helpers/version'\n\n\nconst Footer = () => {\n  const isFooterDisabled = config.opts.ui.footerDisabled\n\n  return (\n    <footer\n      className={cx({\n        [styles.footer]: true,\n        [styles.mobile]: isMobile,\n      })}\n      data-version-name={version.name}\n      data-version-url={version.link}\n    >\n      {!isFooterDisabled && (\n        //@ts-ignore\n        <WidthContainer styleName=\"container\">\n          <SwitchLang />\n\n          {!config.isWidget && (\n            <p styleName=\"swapDescription\">\n              <FormattedMessage\n                id=\"FooterSwapDescription\"\n                defaultMessage=\"Online since 2018. Check our {twitter} and {github} history\"\n                values={{\n                  github: <a href={links.github} target=\"_blank\">github</a>,\n                  twitter: <a href={links.twitter} target=\"_blank\">twitter</a>,\n                }}\n              />\n            </p>\n          )}\n          {!config.isWidget && <SocialMenu />}\n\n          <div styleName=\"version\">\n            {version.link && version.name ?\n              <a href={version.link} target=\"_blank\">\n                {version.name}\n              </a>\n              :\n              <span>-</span>\n            }\n          </div>\n        </WidthContainer>\n      )}\n    </footer>\n  )\n}\n\nexport default CSSModules(Footer, styles, { allowMultiple: true })\n","import React, { Component } from 'react'\n\nimport WidthContainer from 'components/layout/WidthContainer/WidthContainer'\nimport { FormattedMessage } from 'react-intl'\nimport Button from 'components/controls/Button/Button'\nimport config from 'app-config'\nimport { constants, localStorage } from 'helpers'\nimport feedback from 'shared/helpers/feedback'\n\n\nconst isWidgetBuild = config && config.isWidget\n\nexport default class PreventMultiTabs extends Component<any, any> {\n  constructor(props) {\n    super(props)\n\n    const preventSwitch = localStorage.getItem(\n      constants.localStorage.preventSwitch\n    )\n\n    if (!preventSwitch) {\n      // auto switch\n      setTimeout(this.handleSwitchClick, 100)\n    }\n  }\n\n  handleSwitchClick = () => {\n    feedback.app.otherTabsClosed()\n    const { onSwitchTab } = this.props\n\n    localStorage.setItem(constants.localStorage.preventSwitch, 'whe-are-now-make-switch-tab')\n    setTimeout(() => {\n      localStorage.removeItem(constants.localStorage.preventSwitch)\n    }, 5000)\n\n    if (onSwitchTab instanceof Function) {\n      onSwitchTab()\n    }\n  }\n\n  render() {\n    return (\n      /*\n      //@ts-ignore */\n      <WidthContainer>\n        <h1>\n          <FormattedMessage\n            id=\"PreventMultiTabs\"\n            defaultMessage=\"Such error, many tabs\"\n          />\n        </h1>\n        {isWidgetBuild && (\n          <FormattedMessage\n            id=\"PreventMultiTabsWidgetBuild\"\n            defaultMessage=\"{widgetName} supports only one active tab. Please close the other open window and refresh to continue.\"\n            values={{ widgetName: window.widgetName || 'Atomic Swap Widget' }}\n          />\n        )}\n        {!isWidgetBuild && (\n          <FormattedMessage\n            id=\"PreventMultiTabs12\"\n            defaultMessage=\"Our service Supports only one active tab. Please close the other open window and refresh to continue.\"\n          />\n        )}\n        <br />\n        <br />\n        <Button brand fullWidth onClick={this.handleSwitchClick}>\n          <FormattedMessage\n            id=\"PreventMultiTabsSwitchApp\"\n            defaultMessage=\"Закрыть другие вкладки и продолжить тут\"\n          />\n        </Button>\n      </WidthContainer>\n    )\n  }\n}\n","import React from 'react'\nimport { connect } from 'redaction'\nimport Loader from '../Loader/Loader'\n\ntype ComponentProps = {\n  isVisible?: boolean\n  data: {\n    txId: string\n  }\n}\n\nconst RequestLoader = (props: ComponentProps) => {\n  const { isVisible = false, data } = props\n\n  if (!isVisible) {\n    return null\n  }\n\n  return <Loader data={data} />\n}\n\nexport default connect({\n  isVisible: 'loader.isVisible',\n  data: 'loader.data',\n})(RequestLoader)\n","import React, { useState, useEffect } from 'react'\nimport cx from 'classnames'\nimport actions from 'redux/actions'\nimport cssModules from 'react-css-modules'\nimport styles from './Notification.scss'\nimport Sound from 'helpers/Sound/alert.mp4'\nimport { RemoveButton } from 'components/controls'\n\nconst Notification = (props) => {\n  const {\n    soundPlay = true,\n    className,\n    children,\n    name,\n    type,\n    timeout,\n  } = props\n  const [isMounted, setIsMounted] = useState(false)\n  const [isRemoved, setIsRemoved] = useState(false)\n\n  const closeOnEscapeKey = (event) => {\n    if (event.key === 'Escape') {\n      closeNotification()\n    }\n  }\n\n  useEffect(() => {\n    setIsMounted(true)\n\n    if (soundPlay) {\n      soundClick()\n    }\n\n    document.addEventListener('keydown', closeOnEscapeKey)\n\n    let timeoutId: ReturnType<typeof setTimeout> | undefined = undefined\n\n    if (timeout !== false) {\n      timeoutId = setTimeout(\n        closeNotification,\n        timeout === undefined ? 8000 : timeout\n      )\n    }\n\n    return () => {\n      document.removeEventListener('keydown', closeOnEscapeKey)\n\n      if (timeoutId) {\n        clearTimeout(timeoutId)\n      }\n    }\n  }, [isMounted, timeout])\n\n  const closeNotification = () => {\n    setIsRemoved(true)\n    setTimeout(() => actions.notifications.hide(name), 300)\n  }\n\n  const soundClick = () => {\n    const audio = new Audio()\n    audio.src = Sound\n    audio.autoplay = true\n  }\n\n  const containerStyleName = cx('container', {\n    'mounted': isMounted,\n    'removed': isRemoved,\n  })\n\n  const notificationStyleName = cx('notification', {\n    'mounted': isMounted,\n    'removed': isRemoved,\n    'errorNotification': type === 'ErrorNotification',\n    'warning': type === 'warning'\n  })\n\n  return (\n    <div id=\"notificationModal\" styleName={containerStyleName}>\n      <div styleName={notificationStyleName}>\n        <div styleName=\"content\" className={className}>\n          {children}\n        </div>\n\n        <RemoveButton onClick={closeNotification} />\n      </div>\n    </div>\n  )\n}\n\nexport default cssModules(Notification, styles, { allowMultiple: true })\n","export default \".//alert.mp4\";","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"_3BC_wpMIwI6eZYABEWMBuo\",\"mounted\":\"_2W1N-jbG57QcNP03cP8dED\",\"removed\":\"_27QM-9DDDs3avnvANLTRAN\",\"notification\":\"_3CSdikTzk2Zm2vBMTAZe5G\",\"errorNotification\":\"Io1rtWN8JI8As4W8qeVwe\",\"warning\":\"yFYin0YsxAGE6hAxXl8-M\",\"content\":\"_2w5r1jx-OgXDcz-cYajrj0\"};","import React, { Component } from 'react'\n\nimport cssModules from 'react-css-modules'\nimport styles from './SuccessWithdraw.scss'\n\nimport Notification from 'components/notification/Notification/Notification'\n\n\n@cssModules(styles)\nexport default class SuccessWithdraw extends Component<any, any> {\n\n  render() {\n    const { name, data: { amount, currency, address } } = this.props\n\n    return (\n      <Notification name={name}>\n        <span styleName=\"value\">{amount} {currency}</span> were successfully transferred to {address}!\n      </Notification>\n    )\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"value\":\"_2agxXke3W4GW0mqp-fnwR\"};","import React, { Component } from 'react'\n\nimport cssModules from 'react-css-modules'\nimport styles from './Message.scss'\n\nimport Notification from 'components/notification/Notification/Notification'\n\n\n@cssModules(styles)\nexport default class Message extends Component<any, any> {\n  render() {\n    const { name, data: { message, timeout, type } } = this.props\n\n    return (\n      <Notification name={name} timeout={timeout} type={type}>\n        <span styleName=\"value\">{message}</span>\n      </Notification>\n    )\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"value\":\"-Y3FU8vOrRNFgMLiyuw0r\"};","import React from 'react'\n\nimport cssModules from 'react-css-modules'\n\nimport Notification from 'components/notification/Notification/Notification'\nimport { FormattedMessage } from 'react-intl'\n\n\nconst ErrorNotification = ({ data, name }) => (\n  <Notification soundPlay={false} name={name} type={name}>\n    <h3>\n      <FormattedMessage id=\"ErrorNotification12\" defaultMessage=\"Oops, looks like something went wrong!\" />\n    </h3>\n    <p>\n      <FormattedMessage id=\"ErrorNotification151\" defaultMessage=\"Error: {error}\" values={{ error: `${data.error}` }} />\n    </p>\n  </Notification>\n)\n\nexport default cssModules(ErrorNotification, { allowMultiple: true })\n","import React, { Component } from 'react'\n\nimport cssModules from 'react-css-modules'\nimport styles from './BTCMultisignRequest.scss'\nimport { FormattedMessage, injectIntl } from 'react-intl'\nimport Notification from 'components/notification/Notification/Notification'\nimport { links }    from 'helpers'\nimport actions from 'redux/actions'\nimport { localisedUrl } from 'helpers/locale'\n\n\n@cssModules(styles)\nclass BTCMultisignRequest extends Component<any, any> {\n\n  handleClick = () => {\n    const { history, data: { txRaw, invoice } } = this.props\n    actions.modals.closeAll()\n    if (invoice && invoice.id) {\n      location.hash = `#${links.multisign}/btc/confirminvoice/${invoice.id}|${txRaw}`\n    } else {\n      location.hash = `#${links.multisign}/btc/confirm/${txRaw}`\n    }\n  }\n\n  render() {\n    const { name, data: { amount, currency, address } } = this.props\n\n    return (\n      <Notification name={name} onClick={this.handleClick}>\n        <div>\n          <FormattedMessage id=\"BTCMS_WithdrawRequest\" defaultMessage=\"Запрос на отправку с кошелька BTC-multisign\" />\n        </div>\n        <FormattedMessage \n          id=\"BTCMS_WithdrawRequestInfo\" \n          defaultMessage=\"Отправка {amount} {currency} на кошелек {address}\" \n          values={{\n            amount,\n            currency,\n            address,\n          }} />\n      </Notification>\n    )\n  }\n}\n\nexport default injectIntl(BTCMultisignRequest)\n","// extracted by mini-css-extract-plugin\nexport default {\"value\":\"_1JRd0kPbKrfGT3rLefrRzZ\"};","import SuccessWithdraw from './SuccessWithdraw/SuccessWithdraw'\nimport Message from './Message/Message'\nimport ErrorNotification from './ErrorNotification/ErrorNotification'\nimport BTCMultisignRequest from './BTCMultisignRequest/BTCMultisignRequest'\n\n\nexport default {\n  SuccessWithdraw,\n  Message,\n  ErrorNotification,\n  BTCMultisignRequest,\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'redaction'\n\nimport Notifications from 'components/notifications'\n\nimport cssModules from 'react-css-modules'\nimport styles from './NotificationConductor.scss'\n\n\n@connect({\n  notifications: 'notifications',\n})\n@cssModules(styles)\nexport default class NotificationConductor extends Component<any, any> {\n\n  static propTypes = {\n    notifications: PropTypes.object,\n  }\n\n  render() {\n    const { notifications, history } = this.props\n\n    const notificationNames = Object.keys(notifications)\n    const areNotificationsExist = Boolean(notificationNames.length)\n\n    return areNotificationsExist && (\n      <div styleName=\"notificationConductor\">\n        {\n          notificationNames.map((key) => {\n            const { name, data = {} } = notifications[key]\n\n            return React.createElement(Notifications[name], {\n              key: name,\n              name,\n              data,\n              history,\n            })\n          })\n        }\n      </div>\n    )\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"notificationConductor\":\"_1g6zqqlf7LP6fUjzq9PqG6\"};","import React from \"react\";\n\nimport { RouteComponentProps, withRouter, HashRouter } from \"react-router-dom\";\nimport actions from \"redux/actions\";\nimport { connect } from \"redaction\";\nimport moment from \"moment-with-locales-es6\";\nimport {\n  constants,\n  localStorage,\n} from \"helpers\";\n\nimport CSSModules from \"react-css-modules\";\nimport styles from \"./App.scss\";\nimport \"scss/app.scss\";\n\nimport { createSwapApp } from \"instances/newSwap\";\nimport Core from \"containers/Core/Core\";\n\nimport ErrorBoundary from 'components/ErrorBoundary'\nimport Header from \"components/Header/Header\";\nimport Footer from \"components/Footer/Footer\";\nimport Loader from \"components/loaders/Loader/Loader\";\nimport PreventMultiTabs from \"components/PreventMultiTabs/PreventMultiTabs\";\nimport RequestLoader from \"components/loaders/RequestLoader/RequestLoader\";\nimport ModalConductor from \"components/modal/ModalConductor/ModalConductor\";\nimport WidthContainer from \"components/layout/WidthContainer/WidthContainer\";\nimport NotificationConductor from \"components/notification/NotificationConductor/NotificationConductor\";\nimport Seo from \"components/Seo/Seo\";\n\nimport config from \"helpers/externalConfig\"\nimport { redirectTo, links, utils } from 'helpers'\nimport backupUserData from 'plugins/backupUserData'\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\n\nimport metamask from 'helpers/metamask'\n\n\nconst userLanguage = (navigator.userLanguage || navigator.language || \"en-gb\").split(\"-\")[0];\nmoment.locale(userLanguage)\n\n\nconst metamaskNetworks = defineMessages({\n  mainnet: {\n    id: `MetamaskNetworkAlert_NetworkMainnet`,\n    defaultMessage: `Ethereum (Mainnet) or Binance Smart Chain (Mainnet)`,\n  },\n  testnet: {\n    id: `MetamaskNetworkAlert_NetworkTestnet`,\n    defaultMessage: `Ethereum (Rinkeby) or Binance Smart Chain (Testnet)`,\n  },\n})\n\n@withRouter\n@connect(({ currencies: { items: currencies }, modals, ui: { dashboardModalsAllowed } }) => ({\n  currencies,\n  isVisible: \"loader.isVisible\",\n  ethAddress: \"user.ethData.address\",\n  btcAddress: \"user.btcData.address\",\n  ghostAddress: \"user.ghostData.address\",\n  nextAddress: \"user.nextData.address\",\n  tokenAddress: \"user.tokensData.swap.address\",\n  modals,\n  dashboardModalsAllowed,\n}))\n@CSSModules(styles, { allowMultiple: true })\nclass App extends React.Component<RouteComponentProps<any>, any> {\n\n  prvMultiTab: any\n  localStorageListener: any\n\n  constructor(props) {\n    super(props);\n\n    this.localStorageListener = null;\n\n    this.prvMultiTab = {\n      reject: null,\n      enter: null,\n      switch: null\n    };\n\n    this.state = {\n      initialFetching: true,\n      completeCreation: false,\n      multiTabs: false,\n      error: \"\",\n    }\n  }\n\n\n  generadeId(callback) {\n    const newId = Date.now().toString();\n\n    this.setState(\n      {\n        appID: newId\n      },\n      () => {\n        callback(newId);\n      }\n    );\n  }\n\n  preventMultiTabs(isSwitch) {\n    this.generadeId(newId => {\n      if (isSwitch) {\n        localStorage.setItem(constants.localStorage.switch, newId);\n      }\n\n      const onRejectHandle = () => {\n        const { appID } = this.state;\n        const id = localStorage.getItem(constants.localStorage.reject);\n\n        if (id && id !== appID) {\n          this.setState({ multiTabs: true });\n\n          localStorage.unsubscribe(this.prvMultiTab.reject);\n          localStorage.unsubscribe(this.prvMultiTab.enter);\n          localStorage.unsubscribe(this.prvMultiTab.switch);\n          localStorage.removeItem(constants.localStorage.reject);\n        }\n      };\n\n      const onEnterHandle = () => {\n        const { appID } = this.state;\n        const id = localStorage.getItem(constants.localStorage.enter);\n        const switchId = localStorage.getItem(constants.localStorage.switch);\n\n        if (switchId && switchId === id) return;\n\n        localStorage.setItem(constants.localStorage.reject, appID);\n      };\n\n      const onSwitchHangle = () => {\n        const switchId = localStorage.getItem(constants.localStorage.switch);\n        const { appID } = this.state;\n\n        if (appID !== switchId) {\n          //@ts-ignore\n          if (chrome && chrome.extension) {\n            //@ts-ignore\n            const extViews = chrome.extension.getViews()\n            //@ts-ignore\n            const extBgWindow = chrome.extension.getBackgroundPage()\n            if (extBgWindow !== window && extViews.length > 2) {\n              window.close()\n              return\n            }\n          }\n          this.setState({\n            multiTabs: true\n          });\n\n          localStorage.unsubscribe(this.prvMultiTab.reject);\n          localStorage.unsubscribe(this.prvMultiTab.enter);\n          localStorage.unsubscribe(this.prvMultiTab.switch);\n        }\n      };\n\n      this.prvMultiTab.reject = localStorage.subscribe(constants.localStorage.reject, onRejectHandle);\n      this.prvMultiTab.enter = localStorage.subscribe(constants.localStorage.enter, onEnterHandle);\n      this.prvMultiTab.switch = localStorage.subscribe(constants.localStorage.switch, onSwitchHangle);\n\n      localStorage.setItem(constants.localStorage.enter, newId);\n    });\n  }\n\n  popupIncorrectNetwork() {\n    //@ts-ignore\n    const { intl } = this.props\n\n    //@ts-ignore: strictNullChecks\n    actions.modals.open(constants.modals.AlertModal, {\n      title: (\n        <FormattedMessage \n          id=\"MetamaskNetworkAlert_Title\"\n          defaultMessage=\"Внимание\"\n        />\n      ),\n      message: (\n        <FormattedMessage\n          id=\"MetamaskNetworkAlert_Message\"\n          defaultMessage=\"Для продолжения выберите в кошельке {walletTitle} &quot;{network}&quot; или отключите кошелек\"\n          values={{\n            network: intl.formatMessage(metamaskNetworks[config.entry]),\n            walletTitle: metamask.web3connect.getProviderTitle(),\n          }}\n        />\n      ),\n      labelOk: (\n        <FormattedMessage\n          id=\"MetamaskNetworkAlert_OkDisconnectWallet\"\n          defaultMessage=\"Отключить внешний кошелек\"\n        />\n      ),\n      dontClose: true,\n      okButtonAutoWidth: true,\n      callbackOk: () => {\n        metamask.disconnect()\n        actions.modals.close(constants.modals.AlertModal)\n      },\n    })\n  }\n\n  async processMetamask () {\n    await metamask.web3connect.onInit(() => {\n      const _checkChain = () => {\n        if (metamask.isCorrectNetwork()) {\n          actions.modals.close(constants.modals.AlertModal)\n        } else {\n          this.popupIncorrectNetwork()\n        }\n      }\n\n      metamask.web3connect.on('chainChanged', _checkChain)\n      metamask.web3connect.on('connected', _checkChain)\n\n      if (metamask.isConnected()\n        && !metamask.isCorrectNetwork()\n      ) {\n        this.popupIncorrectNetwork()\n      }\n    })\n  }\n\n  processUserBackup () {\n    new Promise(async (resolve) => {\n      const wpLoader = document.getElementById('wrapper_element')\n\n      const hasServerBackup = await backupUserData.hasServerBackup()\n      console.log('has server backup', hasServerBackup)\n      if (backupUserData.isUserLoggedIn()\n        && backupUserData.isUserChanged()\n        && hasServerBackup\n      ) {\n        console.log('do restore user')\n        backupUserData.restoreUser().then((isRestored) => {\n          console.log('is restored', isRestored, constants.localStorage.isWalletCreate)\n          if (isRestored) {\n            if (localStorage.getItem(constants.localStorage.isWalletCreate)) {\n              redirectTo(links.home)\n              window.location.reload()\n            } else {\n              redirectTo(window.location.host === 'bsc.swap.io' ? links.exchange : links.createWallet)\n              if (wpLoader) wpLoader.style.display = 'none'\n            }\n          }\n        })\n      } else {\n        if (backupUserData.isUserLoggedIn()\n          && backupUserData.isFirstBackup()\n          || !hasServerBackup\n        ) {\n          console.log('Do backup user')\n          backupUserData.backupUser().then(() => {\n            if (wpLoader) wpLoader.style.display = 'none'\n          })\n\n          if (window.location.host === 'bsc.swap.io') {\n            redirectTo('#/exchange/btc-to-btcb')\n          }\n        } else {\n          if (wpLoader) wpLoader.style.display = 'none'\n        }\n      }\n      resolve(`ready`)\n    })\n  }\n\n  async componentDidMount() {\n\n    const shouldUpdatePageAfterMigration = localStorage.getItem('shouldUpdatePageAfterMigration')\n\n    if (shouldUpdatePageAfterMigration) {\n      localStorage.setItem('shouldUpdatePageAfterMigration', false)\n      window.location.reload()\n    }\n\n    //@ts-ignore\n    const { currencies } = this.props\n\n    this.preventMultiTabs(false)\n\n    const isWalletCreate = localStorage.getItem(constants.localStorage.isWalletCreate)\n\n    if (!isWalletCreate) {\n      currencies.forEach(({ name, standard, value }) => {\n        if (name !== \"BTC\") {\n          actions.core.markCoinAsHidden(standard ? value.toUpperCase() : name)\n        }\n      })\n    }\n\n    this.processUserBackup()\n    await this.processMetamask()\n\n    this.checkIfDashboardModalsAllowed()\n    window.actions = actions;\n\n    window.onerror = (error) => {\n      console.error('App error: ', error)\n    };\n\n    try {\n      const db = indexedDB.open(\"test\");\n      db.onerror = (e) => {\n        console.error('db error', e)\n      };\n    } catch (e) {\n      console.error('db error', e)\n    }\n\n    window.prerenderReady = true;\n\n    const appInstalled = (e) => {\n      alert(\n        userLanguage === 'ru'\n          ? 'Подождите пока приложение устанавливается'\n          : 'Wait while application is installing'\n      )\n      window.removeEventListener('appinstalled', appInstalled)\n    }\n    window.addEventListener('appinstalled', appInstalled)\n\n    this.checkCompletionOfAppCreation()\n  }\n\n  componentDidUpdate() {\n    const { initialFetching, completeCreation } = this.state\n\n    this.checkIfDashboardModalsAllowed()\n\n    if (initialFetching && completeCreation) {\n      // without setTimeout splash screen freezes when creating wallets\n      setTimeout(() => {\n        this.completeAppCreation().then(() => {\n          this.setState(() => ({\n            initialFetching: false,\n          }))\n        })\n      })\n    }\n  }\n\n  completeAppCreation = async () => {\n    console.group('App >%c loading...', 'color: green;')\n\n    if(!window.SwapApp){\n      await actions.user.sign()\n      await createSwapApp()\n    }\n\n    this.setState(() => ({\n      initialFetching: false,\n      completeCreation: false,\n    }))\n\n    console.groupEnd()\n  }\n\n  checkCompletionOfAppCreation = () => {\n    const startPage = document.getElementById('starter-modal')\n    const isWalletCreated = localStorage.getItem('isWalletCreate')\n\n    if (\n      !startPage ||\n      config.isWidget ||\n      utils.getCookie('startedSplashScreenIsDisabled') ||\n      isWalletCreated ||\n      window.location.hash !== '#/'\n    ) {\n      this.setState(() => ({\n        initialFetching: true,\n        completeCreation: true,\n      }))\n    } else {\n      this.addStartPageListeners()\n    }\n  }\n\n  setCompleteCreation = () => {\n    this.removeStartPageListeners()\n    this.setState(() => ({\n      completeCreation: true,\n    }))\n  }\n\n  addStartPageListeners = () => {\n    // id from index.html start page\n    const createBtn = document.getElementById('preloaderCreateBtn')\n    const connectBtn = document.getElementById('preloaderConnectBtn')\n    const restoreBtn = document.getElementById('preloaderRestoreBtn')\n    const skipBtn = document.getElementById('preloaderSkipBtn')\n  \n    if (createBtn) createBtn.addEventListener('click', this.setCompleteCreation)\n    if (connectBtn) connectBtn.addEventListener('click', this.setCompleteCreation)\n    if (restoreBtn) restoreBtn.addEventListener('click', this.setCompleteCreation)\n    if (skipBtn) skipBtn.addEventListener('click', this.setCompleteCreation)\n  }\n\n  removeStartPageListeners = () => {\n    //@ts-ignore: strictNullChecks\n    document.getElementById('preloaderCreateBtn').removeEventListener('click', this.setCompleteCreation)\n    //@ts-ignore: strictNullChecks\n    document.getElementById('preloaderConnectBtn').removeEventListener('click', this.setCompleteCreation)\n    //@ts-ignore: strictNullChecks\n    document.getElementById('preloaderRestoreBtn').removeEventListener('click', this.setCompleteCreation)\n    //@ts-ignore: strictNullChecks\n    document.getElementById('preloaderSkipBtn').removeEventListener('click', this.setCompleteCreation)\n  }\n\n  checkIfDashboardModalsAllowed = () => {\n    const dashboardModalProvider = document.querySelector('.__modalConductorProvided__')\n    //@ts-ignore\n    if (dashboardModalProvider && !this.props.dashboardModalsAllowed) {\n      return actions.ui.allowDashboardModals()\n    //@ts-ignore\n    } else if (dashboardModalProvider && this.props.dashboardModalsAllowed) {\n      return null\n    }\n    return actions.ui.disallowDashboardModals()\n  }\n\n  handleSwitchTab = () => {\n    this.setState({\n      multiTabs: false\n    });\n    this.preventMultiTabs(true);\n  };\n\n  overflowHandler = () => {\n    //@ts-ignore\n    const { modals, dashboardModalsAllowed } = this.props;\n    const isAnyModalCalled = Object.keys(modals).length > 0\n\n    if (typeof document !== 'undefined' && isAnyModalCalled && !dashboardModalsAllowed) {\n      document.body.classList.remove('overflowY-default')\n      document.body.classList.add('overflowY-hidden')\n    } else {\n      document.body.classList.remove('overflowY-hidden')\n      document.body.classList.add('overflowY-default')\n    }\n    if (typeof document !== 'undefined' && isAnyModalCalled && dashboardModalsAllowed) {\n      document.body.classList.remove('overflowY-default')\n      document.body.classList.add('overflowY-dashboardView-hidden')\n    } else {\n      document.body.classList.remove('overflowY-dashboardView-hidden')\n      document.body.classList.add('overflowY-default')\n    }\n  }\n\n  render() {\n    const { initialFetching, multiTabs } = this.state;\n    //@ts-ignore\n    const { children, ethAddress, btcAddress, ghostAddress, nextAddress, tokenAddress, history, dashboardModalsAllowed } = this.props;\n\n    this.overflowHandler()\n\n    const isFetching = !ethAddress || !btcAddress || !ghostAddress || !nextAddress || (!tokenAddress && config && !config.isWidget) || initialFetching;\n\n    const isWidget = history.location.pathname.includes(\"/exchange\") && history.location.hash === \"#widget\";\n    const isCalledFromIframe = window.location !== window.parent.location;\n    const isWidgetBuild = config && config.isWidget;\n\n    if (isWidgetBuild && localStorage.getItem(constants.localStorage.didWidgetsDataSend) !== \"true\") {\n      localStorage.setItem(constants.localStorage.didWidgetsDataSend, true);\n    }\n\n    if (multiTabs) {\n      return <PreventMultiTabs onSwitchTab={this.handleSwitchTab} />\n    }\n\n    if (isFetching && localStorage.getItem('isWalletCreate') === null) {\n      return (\n        <Loader \n          showMyOwnTip={\n            <FormattedMessage id=\"Table96\" defaultMessage=\"Loading...\" />\n          }\n        />\n      )\n    }\n\n    const isSeoDisabled = isWidget || isWidgetBuild || isCalledFromIframe\n\n    return <HashRouter>\n      <div styleName=\"compressor\">\n        {!isSeoDisabled &&\n          <Seo location={history.location} />\n        }\n        {/* @ts-ignore */}\n        <ErrorBoundary>\n          {/* @ts-ignore */}\n          <WidthContainer id=\"swapComponentWrapper\" styleName=\"headerAndMain\">\n            <Header />\n            <main>{children}</main>\n          </WidthContainer>\n          <Core />\n          <Footer />\n          <RequestLoader />\n          {!dashboardModalsAllowed &&\n            <ModalConductor history={history}\n          />}\n          <NotificationConductor history={history} />\n        </ErrorBoundary>\n      </div>\n    </HashRouter>;\n  }\n}\n\nexport default withRouter(injectIntl(App))\n","// extracted by mini-css-extract-plugin\nexport default {\"compressor\":\"vWteG63QgzxX4DT7oEESB\",\"headerAndMain\":\"_3LEHE-1yVvm-laE6I7CYnT\"};","import React from 'react'\nimport { IntlProvider } from 'react-intl'\nimport { Switch, Route, HashRouter } from 'react-router-dom'\n\nimport { getCookie } from 'helpers/utils'\n\nimport myNl from 'localisation/nl.json'\nimport myEn from 'localisation/en.json'\nimport myRu from 'localisation/ru.json'\nimport myEs from 'localisation/es.json'\nimport myPl from 'localisation/pl.json'\n\n\nimport { reduceMessages, defaultLocale } from 'helpers/locale'\n\n\nconst translations = {\n  nl: reduceMessages(myNl),\n  en: reduceMessages(myEn),\n  ru: reduceMessages(myRu),\n  es: reduceMessages(myEs),\n  pl: reduceMessages(myPl),\n}\n\nexport default class IntlProviderContainer extends React.Component<any, any> {\n  render() {\n    const { children } = this.props\n    let lang = 'en'\n\n    return (\n      <HashRouter>\n        <Switch>\n          <Route\n            render={props => {\n              let currentLocale = defaultLocale()\n\n              if (props.match.params.locale !== undefined) {\n                currentLocale = props.match.params.locale\n              } else {\n                lang = getCookie('mylang') || 'en'\n                currentLocale = lang.toLowerCase()\n              }\n\n              const messages = translations[currentLocale]\n\n              return (\n                <IntlProvider\n                  {...props}\n                  key={currentLocale}\n                  locale={currentLocale}\n                  defaultLocale={defaultLocale()}\n                  messages={messages}\n                >\n                  {children}\n                </IntlProvider>\n              )\n            }}\n          />\n        </Switch>\n      </HashRouter>\n    )\n  }\n}\n","import * as React from 'react'\nimport { Provider } from 'react-redux'\nimport store, { history } from 'redux/store'\nimport routes from 'shared/routes'\nimport { ConnectedRouter } from 'connected-react-router'\n\nimport App from 'containers/App/App'\nimport IntlProviderContainer from './IntlProviderContainer'\n\ntype RootProps = {\n  history: typeof history\n  store: typeof store\n  routes: typeof routes\n}\n\nexport default class Root extends React.Component<RootProps, null> {\n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n    const { history, store, routes } = this.props\n\n    return (\n      <Provider store={store}>\n        <ConnectedRouter history={history}>\n          <>\n            <IntlProviderContainer>\n              <App history={history}>{routes}</App>\n            </IntlProviderContainer>\n          </>\n        </ConnectedRouter>\n      </Provider>\n    )\n  }\n}\n","import React, { Component } from 'react'\n\nimport cssModules from 'react-css-modules'\nimport styles from './ErrorPageNoSSL.scss'\n\nimport { FormattedMessage, injectIntl } from 'react-intl'\n\n\n@cssModules(styles)\nexport default class ErrorPageNoSSL extends Component<any, any> {\n  render() {\n    return (\n      <div styleName=\"page\">\n        <h3 styleName=\"header\">\n          Error: This page should be opened in a secure connection (with &#34;https&#34; in the beginning)\n        </h3>\n        <h3>\n            <strong>\n              <a href={`https://${document.location.host}${document.location.pathname}${document.location.hash}`}>\n                CLICK HERE\n              </a>\n            </strong>\n        </h3>\n      </div>\n    )\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"page\":\"_30NtwQdzd7zSgmPH5fj8gg\",\"header\":\"_2agrr6hUmJkH85nMJjHBBb\"};","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport routes from 'shared/routes'\nimport store, { history } from 'redux/store'\nimport * as Sentry from '@sentry/react';\nimport { Integrations } from \"@sentry/tracing\";\n\nimport Root from 'shared/containers/Root/Root'\nimport { migrate } from 'helpers'\nimport ErrorPageNoSSL from 'shared/components/ErrorPageNoSSL/ErrorPageNoSSL'\nimport config from 'app-config'\nimport isLocalIP from 'is-local-ip'\nimport feedback from 'shared/helpers/feedback'\n\n\n// eslint-disable-next-line camelcase\nconst __webpack_public_path__ = `${config.publicPath}images/` // It makes webpack-require-from plugin works. So dont delete it.\n// All references is in swap.reace/webpack/rules/images.js\n\n\nconst rootEl = document.getElementById('root')\n\nif (\n  !window?.STATISTIC_DISABLED &&\n  process.env.NODE_ENV !== 'development'\n) {\n  Sentry.init({\n    dsn: 'https://d35a56c4518c4a6987b0c36b9b0bf123@sentry.wpmix.net/2',\n    integrations: [new Integrations.BrowserTracing()],\n    tracesSampleRate: 1.0,\n  });\n}\n\nif (\n  window.location.protocol === 'http:' &&\n  window.location.hostname !== 'localhost' &&\n  !isLocalIP(window.location.hostname)\n) {\n  ReactDOM.render(\n    <Sentry.ErrorBoundary>\n      <ErrorPageNoSSL />\n    </Sentry.ErrorBoundary>\n    ,\n    rootEl\n  )\n} else {\n  migrate().finally(() => setTimeout(() => {\n    ReactDOM.render(\n      <Sentry.ErrorBoundary>\n        {/* @ts-ignore: strictNullChecks */}\n        <Root history={history} store={store} routes={routes} />\n      </Sentry.ErrorBoundary>,\n      rootEl\n    )\n    console.log('(index.tsx) render root, finished')\n  }, 1000))\n}\n\nfeedback.app.started()\n","var map = {\n\t\"./index.js\": 5491\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 13249;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 46313;\nmodule.exports = webpackEmptyContext;","var map = {\n\t\"./\": 11742,\n\t\"./SwapAuth\": 18309,\n\t\"./SwapAuth.ts\": 18309,\n\t\"./arbeth\": 37778,\n\t\"./arbeth.ts\": 37778,\n\t\"./bnb\": 96077,\n\t\"./bnb.ts\": 96077,\n\t\"./btc\": 54148,\n\t\"./btc.ts\": 54148,\n\t\"./eth\": 20471,\n\t\"./eth.ts\": 20471,\n\t\"./ghost\": 39519,\n\t\"./ghost.ts\": 39519,\n\t\"./index\": 11742,\n\t\"./index.ts\": 11742,\n\t\"./matic\": 8122,\n\t\"./matic.ts\": 8122,\n\t\"./next\": 4106,\n\t\"./next.ts\": 4106\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 92273;","module.exports = React;","module.exports = ReactDOM;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".\" + __webpack_require__.h().slice(0, 6) + \".js\";\n};","// This function allow to reference all chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + \"vendor\" + \".\" + __webpack_require__.h().slice(0, 6) + \".css\";\n};","__webpack_require__.h = () => (\"00143972f156b6985b1a\")","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = (module) => {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: () => {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"./\";","\n// WebpackRequireFrom\nObject.defineProperty(__webpack_require__, \"p\", {\n  get: function () {\ntry {\n  if (typeof publicUrl !== \"string\") {\n    throw new Error(\"WebpackRequireFrom: 'publicUrl' is not a string or not available at runtime. See https://github.com/agoldis/webpack-require-from#troubleshooting\");\n  }\n  return publicUrl;\n} catch (e) {\n  if (!true) {\n    console.error(e);\n  }\n  return \"./\";\n}\n },\n  set: function () {}\n});","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) var result = runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkswap_online\"] = self[\"webpackChunkswap_online\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [736], () => (__webpack_require__(2367)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"sourceRoot":""}